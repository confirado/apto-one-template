(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[179],{9580:(He,De,se)=>{"use strict";var n=se(4650);let ze=null;function Ae(){return ze}const I=new n.OlP("DocumentToken");let x=(()=>{class t{historyGo(e){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=n.Yz7({token:t,factory:function(){return function S(){return(0,n.LFG)(m)}()},providedIn:"platform"}),t})();const M=new n.OlP("Location Initialized");let m=(()=>{class t extends x{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ae().getBaseHref(this._doc)}onPopState(e){const i=Ae().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=Ae().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,i,o){g()?this._history.pushState(e,i,o):this.location.hash=o}replaceState(e,i,o){g()?this._history.replaceState(e,i,o):this.location.hash=o}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(n.LFG(I))},t.\u0275prov=n.Yz7({token:t,factory:function(){return function _(){return new m((0,n.LFG)(I))}()},providedIn:"platform"}),t})();function g(){return!!window.history.pushState}function b(t,r){if(0==t.length)return r;if(0==r.length)return t;let e=0;return t.endsWith("/")&&e++,r.startsWith("/")&&e++,2==e?t+r.substring(1):1==e?t+r:t+"/"+r}function O(t){const r=t.match(/#|\?|$/),e=r&&r.index||t.length;return t.slice(0,e-("/"===t[e-1]?1:0))+t.slice(e)}function C(t){return t&&"?"!==t[0]?"?"+t:t}let P=(()=>{class t{historyGo(e){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=n.Yz7({token:t,factory:function(){return(0,n.f3M)($)},providedIn:"root"}),t})();const F=new n.OlP("appBaseHref");let $=(()=>{class t extends P{constructor(e,i){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??(0,n.f3M)(I).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return b(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+C(this._platformLocation.search),o=this._platformLocation.hash;return o&&e?`${i}${o}`:i}pushState(e,i,o,a){const l=this.prepareExternalUrl(o+C(a));this._platformLocation.pushState(e,i,l)}replaceState(e,i,o,a){const l=this.prepareExternalUrl(o+C(a));this._platformLocation.replaceState(e,i,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return t.\u0275fac=function(e){return new(e||t)(n.LFG(x),n.LFG(F,8))},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Q=(()=>{class t extends P{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=b(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,o,a){let l=this.prepareExternalUrl(o+C(a));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.pushState(e,i,l)}replaceState(e,i,o,a){let l=this.prepareExternalUrl(o+C(a));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return t.\u0275fac=function(e){return new(e||t)(n.LFG(x),n.LFG(F,8))},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac}),t})(),ne=(()=>{class t{constructor(e){this._subject=new n.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const i=this._locationStrategy.getBaseHref();this._baseHref=O(_e(i)),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+C(i))}normalize(e){return t.stripTrailingSlash(function ge(t,r){return t&&r.startsWith(t)?r.substring(t.length):r}(this._baseHref,_e(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",o=null){this._locationStrategy.pushState(o,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+C(i)),o)}replaceState(e,i="",o=null){this._locationStrategy.replaceState(o,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+C(i)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(o=>o(e,i))}subscribe(e,i,o){return this._subject.subscribe({next:e,error:i,complete:o})}}return t.normalizeQueryParams=C,t.joinWithSlash=b,t.stripTrailingSlash=O,t.\u0275fac=function(e){return new(e||t)(n.LFG(P))},t.\u0275prov=n.Yz7({token:t,factory:function(){return function ue(){return new ne((0,n.LFG)(P))}()},providedIn:"root"}),t})();function _e(t){return t.replace(/\/index.html$/,"")}var We=(()=>((We=We||{})[We.Decimal=0]="Decimal",We[We.Percent=1]="Percent",We[We.Currency=2]="Currency",We[We.Scientific=3]="Scientific",We))(),lt=(()=>((lt=lt||{})[lt.Decimal=0]="Decimal",lt[lt.Group=1]="Group",lt[lt.List=2]="List",lt[lt.PercentSign=3]="PercentSign",lt[lt.PlusSign=4]="PlusSign",lt[lt.MinusSign=5]="MinusSign",lt[lt.Exponential=6]="Exponential",lt[lt.SuperscriptingExponent=7]="SuperscriptingExponent",lt[lt.PerMille=8]="PerMille",lt[lt.Infinity=9]="Infinity",lt[lt.NaN=10]="NaN",lt[lt.TimeSeparator=11]="TimeSeparator",lt[lt.CurrencyDecimal=12]="CurrencyDecimal",lt[lt.CurrencyGroup=13]="CurrencyGroup",lt))();function $e(t,r){const e=(0,n.cg1)(t),i=e[n.wAp.NumberSymbols][r];if(typeof i>"u"){if(r===lt.CurrencyDecimal)return e[n.wAp.NumberSymbols][lt.Decimal];if(r===lt.CurrencyGroup)return e[n.wAp.NumberSymbols][lt.Group]}return i}const Gi=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function ai(t){const r=parseInt(t);if(isNaN(r))throw new Error("Invalid integer literal when parsing "+t);return r}function mr(t,r){r=encodeURIComponent(r);for(const e of t.split(";")){const i=e.indexOf("="),[o,a]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(o.trim()===r)return decodeURIComponent(a)}return null}let An=(()=>{class t{constructor(e,i,o,a){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=o,this._renderer=a,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&((0,n.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,n.AaK)(i.item)}`);this._toggleClass(i.item,!0)}),e.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!0)):Object.keys(e).forEach(i=>this._toggleClass(i,!!e[i])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!1)):Object.keys(e).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(e,i){(e=e.trim())&&e.split(/\s+/g).forEach(o=>{i?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(n.ZZ4),n.Y36(n.aQg),n.Y36(n.SBq),n.Y36(n.Qsj))},t.\u0275dir=n.lG2({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),t})();class Bl{constructor(r,e,i,o){this.$implicit=r,this.ngForOf=e,this.index=i,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ar=(()=>{class t{constructor(e,i,o){this._viewContainer=e,this._template=i,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((o,a,l)=>{if(null==o.previousIndex)i.createEmbeddedView(this._template,new Bl(o.item,this._ngForOf,-1,-1),null===l?void 0:l);else if(null==l)i.remove(null===a?void 0:a);else if(null!==a){const u=i.get(a);i.move(u,l),Oc(u,o)}});for(let o=0,a=i.length;o<a;o++){const u=i.get(o).context;u.index=o,u.count=a,u.ngForOf=this._ngForOf}e.forEachIdentityChange(o=>{Oc(i.get(o.currentIndex),o)})}static ngTemplateContextGuard(e,i){return!0}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(n.s_b),n.Y36(n.Rgc),n.Y36(n.ZZ4))},t.\u0275dir=n.lG2({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),t})();function Oc(t,r){t.context.$implicit=r.item}let rn=(()=>{class t{constructor(e,i){this._viewContainer=e,this._context=new Zg,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Ri("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Ri("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(n.s_b),n.Y36(n.Rgc))},t.\u0275dir=n.lG2({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),t})();class Zg{constructor(){this.$implicit=null,this.ngIf=null}}function Ri(t,r){if(r&&!r.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${(0,n.AaK)(r)}'.`)}class Qi{constructor(r,e){this._viewContainerRef=r,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(r){r&&!this._created?this.create():!r&&this._created&&this.destroy()}}let qa=(()=>{class t{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const i=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let i=0;i<this._defaultViews.length;i++)this._defaultViews[i].enforceState(e)}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=n.lG2({type:t,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),t})(),Qs=(()=>{class t{constructor(e,i,o){this.ngSwitch=o,o._addCase(),this._view=new Qi(e,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(n.s_b),n.Y36(n.Rgc),n.Y36(qa,9))},t.\u0275dir=n.lG2({type:t,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),t})(),Ec=(()=>{class t{constructor(e,i,o){o._addDefault(new Qi(e,i))}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(n.s_b),n.Y36(n.Rgc),n.Y36(qa,9))},t.\u0275dir=n.lG2({type:t,selectors:[["","ngSwitchDefault",""]],standalone:!0}),t})(),rt=(()=>{class t{constructor(e,i,o){this._ngEl=e,this._differs=i,this._renderer=o,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,i){const[o,a]=e.split("."),l=-1===o.indexOf("-")?void 0:n.JOm.DashCase;null!=i?this._renderer.setStyle(this._ngEl.nativeElement,o,a?`${i}${a}`:i,l):this._renderer.removeStyle(this._ngEl.nativeElement,o,l)}_applyChanges(e){e.forEachRemovedItem(i=>this._setStyle(i.key,null)),e.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),e.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(n.SBq),n.Y36(n.aQg),n.Y36(n.Qsj))},t.\u0275dir=n.lG2({type:t,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),t})();function $t(t,r){return new n.vHH(2100,!1)}class Sr{createSubscription(r,e){return r.subscribe({next:e,error:i=>{throw i}})}dispose(r){r.unsubscribe()}}class wi{createSubscription(r,e){return r.then(e,i=>{throw i})}dispose(r){}}const si=new wi,$o=new Sr;let hn=(()=>{class t{constructor(e){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=e}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,i=>this._updateLatestValue(e,i))}_selectStrategy(e){if((0,n.QGY)(e))return si;if((0,n.F4k)(e))return $o;throw $t()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,i){e===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(n.sBO,16))},t.\u0275pipe=n.Yjl({name:"async",type:t,pure:!1,standalone:!0}),t})(),nS=(()=>{class t{constructor(e){this.differs=e,this.keyValues=[],this.compareFn=Vl}transform(e,i=Vl){if(!e||!(e instanceof Map)&&"object"!=typeof e)return null;this.differ||(this.differ=this.differs.find(e).create());const o=this.differ.diff(e),a=i!==this.compareFn;return o&&(this.keyValues=[],o.forEachItem(l=>{this.keyValues.push(function AI(t,r){return{key:t,value:r}}(l.key,l.currentValue))})),(o||a)&&(this.keyValues.sort(i),this.compareFn=i),this.keyValues}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(n.aQg,16))},t.\u0275pipe=n.Yjl({name:"keyvalue",type:t,pure:!1,standalone:!0}),t})();function Vl(t,r){const e=t.key,i=r.key;if(e===i)return 0;if(void 0===e)return 1;if(void 0===i)return-1;if(null===e)return 1;if(null===i)return-1;if("string"==typeof e&&"string"==typeof i)return e<i?-1:1;if("number"==typeof e&&"number"==typeof i)return e-i;if("boolean"==typeof e&&"boolean"==typeof i)return e<i?-1:1;const o=String(e),a=String(i);return o==a?0:o<a?-1:1}let x0=(()=>{class t{constructor(e){this._locale=e}transform(e,i,o){if(!function Qg(t){return!(null==t||""===t||t!=t)}(e))return null;o=o||this._locale;try{return function Rn(t,r,e){return function Rr(t,r,e,i,o,a,l=!1){let u="",p=!1;if(isFinite(t)){let f=function Ll(t){let i,o,a,l,u,r=Math.abs(t)+"",e=0;for((o=r.indexOf("."))>-1&&(r=r.replace(".","")),(a=r.search(/e/i))>0?(o<0&&(o=a),o+=+r.slice(a+1),r=r.substring(0,a)):o<0&&(o=r.length),a=0;"0"===r.charAt(a);a++);if(a===(u=r.length))i=[0],o=1;else{for(u--;"0"===r.charAt(u);)u--;for(o-=a,i=[],l=0;a<=u;a++,l++)i[l]=Number(r.charAt(a))}return o>22&&(i=i.splice(0,21),e=o-1,o=1),{digits:i,exponent:e,integerLen:o}}(t);l&&(f=function ga(t){if(0===t.digits[0])return t;const r=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(0===r?t.digits.push(0,0):1===r&&t.digits.push(0),t.integerLen+=2),t}(f));let h=r.minInt,y=r.minFrac,D=r.maxFrac;if(a){const Y=a.match(Gi);if(null===Y)throw new Error(`${a} is not a valid digit info`);const N=Y[1],q=Y[3],j=Y[5];null!=N&&(h=ai(N)),null!=q&&(y=ai(q)),null!=j?D=ai(j):null!=q&&y>D&&(D=y)}!function za(t,r,e){if(r>e)throw new Error(`The minimum number of digits after fraction (${r}) is higher than the maximum (${e}).`);let i=t.digits,o=i.length-t.integerLen;const a=Math.min(Math.max(r,o),e);let l=a+t.integerLen,u=i[l];if(l>0){i.splice(Math.max(t.integerLen,l));for(let y=l;y<i.length;y++)i[y]=0}else{o=Math.max(0,o),t.integerLen=1,i.length=Math.max(1,l=a+1),i[0]=0;for(let y=1;y<l;y++)i[y]=0}if(u>=5)if(l-1<0){for(let y=0;y>l;y--)i.unshift(0),t.integerLen++;i.unshift(1),t.integerLen++}else i[l-1]++;for(;o<Math.max(0,a);o++)i.push(0);let p=0!==a;const f=r+t.integerLen,h=i.reduceRight(function(y,D,E,k){return k[E]=(D+=y)<10?D:D-10,p&&(0===k[E]&&E>=f?k.pop():p=!1),D>=10?1:0},0);h&&(i.unshift(h),t.integerLen++)}(f,y,D);let E=f.digits,k=f.integerLen;const T=f.exponent;let L=[];for(p=E.every(Y=>!Y);k<h;k++)E.unshift(0);for(;k<0;k++)E.unshift(0);k>0?L=E.splice(k,E.length):(L=E,E=[0]);const U=[];for(E.length>=r.lgSize&&U.unshift(E.splice(-r.lgSize,E.length).join(""));E.length>r.gSize;)U.unshift(E.splice(-r.gSize,E.length).join(""));E.length&&U.unshift(E.join("")),u=U.join($e(e,i)),L.length&&(u+=$e(e,o)+L.join("")),T&&(u+=$e(e,lt.Exponential)+"+"+T)}else u=$e(e,lt.Infinity);return u=t<0&&!p?r.negPre+u+r.negSuf:r.posPre+u+r.posSuf,u}(t,function ms(t,r="-"){const e={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},i=t.split(";"),o=i[0],a=i[1],l=-1!==o.indexOf(".")?o.split("."):[o.substring(0,o.lastIndexOf("0")+1),o.substring(o.lastIndexOf("0")+1)],u=l[0],p=l[1]||"";e.posPre=u.substring(0,u.indexOf("#"));for(let h=0;h<p.length;h++){const y=p.charAt(h);"0"===y?e.minFrac=e.maxFrac=h+1:"#"===y?e.maxFrac=h+1:e.posSuf+=y}const f=u.split(",");if(e.gSize=f[1]?f[1].length:0,e.lgSize=f[2]||f[1]?(f[2]||f[1]).length:0,a){const h=o.length-e.posPre.length-e.posSuf.length,y=a.indexOf("#");e.negPre=a.substring(0,y).replace(/'/g,""),e.negSuf=a.slice(y+h).replace(/'/g,"")}else e.negPre=r+e.posPre,e.negSuf=e.posSuf;return e}(function pt(t,r){return(0,n.cg1)(t)[n.wAp.NumberFormats][r]}(r,We.Decimal),$e(r,lt.MinusSign)),r,lt.Group,lt.Decimal,e)}(function Jg(t){if("string"==typeof t&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if("number"!=typeof t)throw new Error(`${t} is not a number`);return t}(e),o,i)}catch(a){throw $t()}}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(n.soG,16))},t.\u0275pipe=n.Yjl({name:"number",type:t,pure:!0,standalone:!0}),t})();let Zr=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({}),t})();const xh="browser";let D0=(()=>{class t{}return t.\u0275prov=(0,n.Yz7)({token:t,providedIn:"root",factory:()=>new TI((0,n.LFG)(I),window)}),t})();class TI{constructor(r,e){this.document=r,this.window=e,this.offset=()=>[0,0]}setOffset(r){this.offset=Array.isArray(r)?()=>r:r}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(r){this.supportsScrolling()&&this.window.scrollTo(r[0],r[1])}scrollToAnchor(r){if(!this.supportsScrolling())return;const e=function Wo(t,r){const e=t.getElementById(r)||t.getElementsByName(r)[0];if(e)return e;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const i=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let o=i.currentNode;for(;o;){const a=o.shadowRoot;if(a){const l=a.getElementById(r)||a.querySelector(`[name="${r}"]`);if(l)return l}o=i.nextNode()}}return null}(this.document,r);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(r){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=r)}}scrollToElement(r){const e=r.getBoundingClientRect(),i=e.left+this.window.pageXOffset,o=e.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(i-a[0],o-a[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const r=sp(this.window.history)||sp(Object.getPrototypeOf(this.window.history));return!(!r||!r.writable&&!r.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function sp(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class wh{}class L0 extends class bS extends class Ge{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function Pe(t){ze||(ze=t)}(new L0)}onAndCancel(r,e,i){return r.addEventListener(e,i,!1),()=>{r.removeEventListener(e,i,!1)}}dispatchEvent(r,e){r.dispatchEvent(e)}remove(r){r.parentNode&&r.parentNode.removeChild(r)}createElement(r,e){return(e=e||this.getDefaultDocument()).createElement(r)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(r){return r.nodeType===Node.ELEMENT_NODE}isShadowRoot(r){return r instanceof DocumentFragment}getGlobalEventTarget(r,e){return"window"===e?window:"document"===e?r:"body"===e?r.body:null}getBaseHref(r){const e=function kh(){return Ih=Ih||document.querySelector("base"),Ih?Ih.getAttribute("href"):null}();return null==e?null:function B0(t){pp=pp||document.createElement("a"),pp.setAttribute("href",t);const r=pp.pathname;return"/"===r.charAt(0)?r:`/${r}`}(e)}resetBaseElement(){Ih=null}getUserAgent(){return window.navigator.userAgent}getCookie(r){return mr(document.cookie,r)}}let pp,Ih=null;const fp=new n.OlP("TRANSITION_ID"),V0=[{provide:n.ip1,useFactory:function U0(t,r,e){return()=>{e.get(n.CZH).donePromise.then(()=>{const i=Ae(),o=r.querySelectorAll(`style[ng-transition="${t}"]`);for(let a=0;a<o.length;a++)i.remove(o[a])})}},deps:[fp,I,n.zs3],multi:!0}];let CS=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac}),t})();const Xs=new n.OlP("EventManagerPlugins");let bu=(()=>{class t{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(o=>o.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,o){return this._findPluginFor(i).addEventListener(e,i,o)}addGlobalEventListener(e,i,o){return this._findPluginFor(i).addGlobalEventListener(e,i,o)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const o=this._plugins;for(let a=0;a<o.length;a++){const l=o[a];if(l.supports(e))return this._eventNameToPlugin.set(e,l),l}throw new Error(`No event manager plugin found for event ${e}`)}}return t.\u0275fac=function(e){return new(e||t)(n.LFG(Xs),n.LFG(n.R0b))},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac}),t})();class hp{constructor(r){this._doc=r}addGlobalEventListener(r,e,i){const o=Ae().getGlobalEventTarget(this._doc,r);if(!o)throw new Error(`Unsupported event target ${o} for event ${e}`);return this.addEventListener(o,e,i)}}let xS=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(o=>{this._stylesSet.has(o)||(this._stylesSet.add(o),i.add(o))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac}),t})(),Cu=(()=>{class t extends xS{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,o){e.forEach(a=>{const l=this._doc.createElement("style");l.textContent=a,o.push(i.appendChild(l))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach(o_),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,o)=>{this._addStylesToHost(e,o,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(o_))}}return t.\u0275fac=function(e){return new(e||t)(n.LFG(I))},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac}),t})();function o_(t){Ae().remove(t)}const a_={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ca=/%COMP%/g;function Rh(t,r,e){for(let i=0;i<r.length;i++){let o=r[i];Array.isArray(o)?Rh(t,o,e):(o=o.replace(Ca,t),e.push(o))}return e}function c_(t){return r=>{if("__ngUnwrap__"===r)return t;!1===t(r)&&(r.preventDefault(),r.returnValue=!1)}}let mp=(()=>{class t{constructor(e,i,o){this.eventManager=e,this.sharedStylesHost=i,this.appId=o,this.rendererByCompId=new Map,this.defaultRenderer=new Lh(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case n.ifc.Emulated:{let o=this.rendererByCompId.get(i.id);return o||(o=new SS(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,o)),o.applyToHost(e),o}case 1:case n.ifc.ShadowDom:return new H0(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const o=Rh(i.id,i.styles,[]);this.sharedStylesHost.addStyles(o),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(n.LFG(bu),n.LFG(Cu),n.LFG(n.AFp))},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac}),t})();class Lh{constructor(r){this.eventManager=r,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(r,e){return e?document.createElementNS(a_[e]||e,r):document.createElement(r)}createComment(r){return document.createComment(r)}createText(r){return document.createTextNode(r)}appendChild(r,e){(wu(r)?r.content:r).appendChild(e)}insertBefore(r,e,i){r&&(wu(r)?r.content:r).insertBefore(e,i)}removeChild(r,e){r&&r.removeChild(e)}selectRootElement(r,e){let i="string"==typeof r?document.querySelector(r):r;if(!i)throw new Error(`The selector "${r}" did not match any elements`);return e||(i.textContent=""),i}parentNode(r){return r.parentNode}nextSibling(r){return r.nextSibling}setAttribute(r,e,i,o){if(o){e=o+":"+e;const a=a_[o];a?r.setAttributeNS(a,e,i):r.setAttribute(e,i)}else r.setAttribute(e,i)}removeAttribute(r,e,i){if(i){const o=a_[i];o?r.removeAttributeNS(o,e):r.removeAttribute(`${i}:${e}`)}else r.removeAttribute(e)}addClass(r,e){r.classList.add(e)}removeClass(r,e){r.classList.remove(e)}setStyle(r,e,i,o){o&(n.JOm.DashCase|n.JOm.Important)?r.style.setProperty(e,i,o&n.JOm.Important?"important":""):r.style[e]=i}removeStyle(r,e,i){i&n.JOm.DashCase?r.style.removeProperty(e):r.style[e]=""}setProperty(r,e,i){r[e]=i}setValue(r,e){r.nodeValue=e}listen(r,e,i){return"string"==typeof r?this.eventManager.addGlobalEventListener(r,e,c_(i)):this.eventManager.addEventListener(r,e,c_(i))}}function wu(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class SS extends Lh{constructor(r,e,i,o){super(r),this.component=i;const a=Rh(o+"-"+i.id,i.styles,[]);e.addStyles(a),this.contentAttr=function Fh(t){return"_ngcontent-%COMP%".replace(Ca,t)}(o+"-"+i.id),this.hostAttr=function Nh(t){return"_nghost-%COMP%".replace(Ca,t)}(o+"-"+i.id)}applyToHost(r){super.setAttribute(r,this.hostAttr,"")}createElement(r,e){const i=super.createElement(r,e);return super.setAttribute(i,this.contentAttr,""),i}}class H0 extends Lh{constructor(r,e,i,o){super(r),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const a=Rh(o.id,o.styles,[]);for(let l=0;l<a.length;l++){const u=document.createElement("style");u.textContent=a[l],this.shadowRoot.appendChild(u)}}nodeOrShadowRoot(r){return r===this.hostEl?this.shadowRoot:r}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(r,e){return super.appendChild(this.nodeOrShadowRoot(r),e)}insertBefore(r,e,i){return super.insertBefore(this.nodeOrShadowRoot(r),e,i)}removeChild(r,e){return super.removeChild(this.nodeOrShadowRoot(r),e)}parentNode(r){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(r)))}}let j0=(()=>{class t extends hp{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,o){return e.addEventListener(i,o,!1),()=>this.removeEventListener(e,i,o)}removeEventListener(e,i,o){return e.removeEventListener(i,o)}}return t.\u0275fac=function(e){return new(e||t)(n.LFG(I))},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac}),t})();const Ic=["alt","control","meta","shift"],DS={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},q0={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let u_=(()=>{class t extends hp{constructor(e){super(e)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,i,o){const a=t.parseEventName(i),l=t.eventCallback(a.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ae().onAndCancel(e,a.domEventName,l))}static parseEventName(e){const i=e.toLowerCase().split("."),o=i.shift();if(0===i.length||"keydown"!==o&&"keyup"!==o)return null;const a=t._normalizeKey(i.pop());let l="",u=i.indexOf("code");if(u>-1&&(i.splice(u,1),l="code."),Ic.forEach(f=>{const h=i.indexOf(f);h>-1&&(i.splice(h,1),l+=f+".")}),l+=a,0!=i.length||0===a.length)return null;const p={};return p.domEventName=o,p.fullKey=l,p}static matchEventFullKeyCode(e,i){let o=DS[e.key]||e.key,a="";return i.indexOf("code.")>-1&&(o=e.code,a="code."),!(null==o||!o)&&(o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),Ic.forEach(l=>{l!==o&&(0,q0[l])(e)&&(a+=l+".")}),a+=o,a===i)}static eventCallback(e,i,o){return a=>{t.matchEventFullKeyCode(a,e)&&o.runGuarded(()=>i(a))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return t.\u0275fac=function(e){return new(e||t)(n.LFG(I))},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac}),t})();const QI=(0,n.eFA)(n._c5,"browser",[{provide:n.Lbi,useValue:xh},{provide:n.g9A,useValue:function Mu(){L0.makeCurrent()},multi:!0},{provide:I,useFactory:function p_(){return(0,n.RDi)(document),document},deps:[]}]),G0=new n.OlP(""),Lr=[{provide:n.rWj,useClass:class yu{addToWindow(r){n.dqk.getAngularTestability=(i,o=!0)=>{const a=r.findTestabilityInTree(i,o);if(null==a)throw new Error("Could not find testability for element.");return a},n.dqk.getAllAngularTestabilities=()=>r.getAllTestabilities(),n.dqk.getAllAngularRootElements=()=>r.getAllRootElements(),n.dqk.frameworkStabilizers||(n.dqk.frameworkStabilizers=[]),n.dqk.frameworkStabilizers.push(i=>{const o=n.dqk.getAllAngularTestabilities();let a=o.length,l=!1;const u=function(p){l=l||p,a--,0==a&&i(l)};o.forEach(function(p){p.whenStable(u)})})}findTestabilityInTree(r,e,i){return null==e?null:r.getTestability(e)??(i?Ae().isShadowRoot(e)?this.findTestabilityInTree(r,e.host,!0):this.findTestabilityInTree(r,e.parentElement,!0):null)}},deps:[]},{provide:n.lri,useClass:n.dDg,deps:[n.R0b,n.eoX,n.rWj]},{provide:n.dDg,useClass:n.dDg,deps:[n.R0b,n.eoX,n.rWj]}],ES=[{provide:n.zSh,useValue:"root"},{provide:n.qLn,useFactory:function Y0(){return new n.qLn},deps:[]},{provide:Xs,useClass:j0,multi:!0,deps:[I,n.R0b,n.Lbi]},{provide:Xs,useClass:u_,multi:!0,deps:[I]},{provide:mp,useClass:mp,deps:[bu,Cu,n.AFp]},{provide:n.FYo,useExisting:mp},{provide:xS,useExisting:Cu},{provide:Cu,useClass:Cu,deps:[I]},{provide:bu,useClass:bu,deps:[Xs,n.R0b]},{provide:wh,useClass:CS,deps:[]},[]];let AS=(()=>{class t{constructor(e){}static withServerTransition(e){return{ngModule:t,providers:[{provide:n.AFp,useValue:e.appId},{provide:fp,useExisting:n.AFp},V0]}}}return t.\u0275fac=function(e){return new(e||t)(n.LFG(G0,12))},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({providers:[...ES,...Lr],imports:[Zr,n.hGG]}),t})(),PS=(()=>{class t{constructor(e){this._doc=e,this._dom=Ae()}addTag(e,i=!1){return e?this._getOrCreateElement(e,i):null}addTags(e,i=!1){return e?e.reduce((o,a)=>(a&&o.push(this._getOrCreateElement(a,i)),o),[]):[]}getTag(e){return e&&this._doc.querySelector(`meta[${e}]`)||null}getTags(e){if(!e)return[];const i=this._doc.querySelectorAll(`meta[${e}]`);return i?[].slice.call(i):[]}updateTag(e,i){if(!e)return null;i=i||this._parseSelector(e);const o=this.getTag(i);return o?this._setMetaElementAttributes(e,o):this._getOrCreateElement(e,!0)}removeTag(e){this.removeTagElement(this.getTag(e))}removeTagElement(e){e&&this._dom.remove(e)}_getOrCreateElement(e,i=!1){if(!i){const l=this._parseSelector(e),u=this.getTags(l).filter(p=>this._containsAttributes(e,p))[0];if(void 0!==u)return u}const o=this._dom.createElement("meta");return this._setMetaElementAttributes(e,o),this._doc.getElementsByTagName("head")[0].appendChild(o),o}_setMetaElementAttributes(e,i){return Object.keys(e).forEach(o=>i.setAttribute(this._getMetaKeyMap(o),e[o])),i}_parseSelector(e){const i=e.name?"name":"property";return`${i}="${e[i]}"`}_containsAttributes(e,i){return Object.keys(e).every(o=>i.getAttribute(this._getMetaKeyMap(o))===e[o])}_getMetaKeyMap(e){return XI[e]||e}}return t.\u0275fac=function(e){return new(e||t)(n.LFG(I))},t.\u0275prov=n.Yz7({token:t,factory:function(e){let i=null;return i=e?new e:function JI(){return new PS((0,n.LFG)(I))}(),i},providedIn:"root"}),t})();const XI={httpEquiv:"http-equiv"};let $0=(()=>{class t{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return t.\u0275fac=function(e){return new(e||t)(n.LFG(I))},t.\u0275prov=n.Yz7({token:t,factory:function(e){let i=null;return i=e?new e:function KI(){return new $0((0,n.LFG)(I))}(),i},providedIn:"root"}),t})();typeof window<"u"&&window;let Vh=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=n.Yz7({token:t,factory:function(e){let i=null;return i=e?new(e||t):n.LFG(J0),i},providedIn:"root"}),t})(),J0=(()=>{class t extends Vh{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case n.q3G.NONE:return i;case n.q3G.HTML:return(0,n.qzn)(i,"HTML")?(0,n.z3N)(i):(0,n.EiD)(this._doc,String(i)).toString();case n.q3G.STYLE:return(0,n.qzn)(i,"Style")?(0,n.z3N)(i):i;case n.q3G.SCRIPT:if((0,n.qzn)(i,"Script"))return(0,n.z3N)(i);throw new Error("unsafe value used in a script context");case n.q3G.URL:return(0,n.qzn)(i,"URL")?(0,n.z3N)(i):(0,n.mCW)(String(i));case n.q3G.RESOURCE_URL:if((0,n.qzn)(i,"ResourceURL"))return(0,n.z3N)(i);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return(0,n.JVY)(e)}bypassSecurityTrustStyle(e){return(0,n.L6k)(e)}bypassSecurityTrustScript(e){return(0,n.eBb)(e)}bypassSecurityTrustUrl(e){return(0,n.LAX)(e)}bypassSecurityTrustResourceUrl(e){return(0,n.pB0)(e)}}return t.\u0275fac=function(e){return new(e||t)(n.LFG(I))},t.\u0275prov=n.Yz7({token:t,factory:function(e){let i=null;return i=e?new e:function NS(t){return new J0(t.get(I))}(n.LFG(n.zs3)),i},providedIn:"root"}),t})();var vi=se(457),pn=se(9646),Za=se(1135);const Su=(0,se(3888).d)(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});var Ui=se(9751);const{isArray:RS}=Array,{getPrototypeOf:LS,prototype:BS,keys:X0}=Object;function Du(t){if(1===t.length){const r=t[0];if(RS(r))return{args:r,keys:null};if(function Ou(t){return t&&"object"==typeof t&&LS(t)===BS}(r)){const e=X0(r);return{args:e.map(i=>r[i]),keys:e}}}return{args:t,keys:null}}var Cp=se(4671),xt=se(4004);const{isArray:K0}=Array;function xp(t){return(0,xt.U)(r=>function eb(t,r){return K0(r)?t(...r):t(r)}(t,r))}var Ks=se(3269);function tb(t,r){return t.reduce((e,i,o)=>(e[i]=r[o],e),{})}var Vi=se(5403),US=se(9672);function uo(...t){const r=(0,Ks.yG)(t),e=(0,Ks.jO)(t),{args:i,keys:o}=Du(t);if(0===i.length)return(0,vi.D)([],r);const a=new Ui.y(function wp(t,r,e=Cp.y){return i=>{zh(r,()=>{const{length:o}=t,a=new Array(o);let l=o,u=o;for(let p=0;p<o;p++)zh(r,()=>{const f=(0,vi.D)(t[p],r);let h=!1;f.subscribe((0,Vi.x)(i,y=>{a[p]=y,h||(h=!0,u--),u||i.next(e(a.slice()))},()=>{--l||i.complete()}))},i)},i)}}(i,r,o?l=>tb(o,l):Cp.y));return e?a.pipe(xp(e)):a}function zh(t,r,e){t?(0,US.f)(e,t,r):r()}var el=se(8189);function Eu(...t){return function VS(){return(0,el.J)(1)}()((0,vi.D)(t,(0,Ks.yG)(t)))}var Ya=se(8421);function tl(t){return new Ui.y(r=>{(0,Ya.Xf)(t()).subscribe(r)})}var nb=se(9635),vs=se(576);function Nc(t,r){const e=(0,vs.m)(t)?t:()=>t,i=o=>o.error(e());return new Ui.y(r?o=>r.schedule(i,0,o):i)}var Ji=se(515),Yr=se(727),wo=se(4482);function rb(){return(0,wo.e)((t,r)=>{let e=null;t._refCount++;const i=(0,Vi.x)(r,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(e=null);const o=t._connection,a=e;e=null,o&&(!a||o===a)&&o.unsubscribe(),r.unsubscribe()});t.subscribe(i),i.closed||(e=t.connect())})}class h_ extends Ui.y{constructor(r,e){super(),this.source=r,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,wo.A)(r)&&(this.lift=r.lift)}_subscribe(r){return this.getSubject().subscribe(r)}getSubject(){const r=this._subject;return(!r||r.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:r}=this;this._subject=this._connection=null,r?.unsubscribe()}connect(){let r=this._connection;if(!r){r=this._connection=new Yr.w0;const e=this.getSubject();r.add(this.source.subscribe((0,Vi.x)(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),r.closed&&(this._connection=null,r=Yr.w0.EMPTY)}return r}refCount(){return rb()(this)}}var dn=se(7579),Qn=se(3900),ar=se(5698);function Fo(...t){const r=(0,Ks.yG)(t);return(0,wo.e)((e,i)=>{(r?Eu(t,e,r):Eu(t,e)).subscribe(i)})}var pr=se(9300),ci=se(5577);function Mp(t){return(0,wo.e)((r,e)=>{let i=!1;r.subscribe((0,Vi.x)(e,o=>{i=!0,e.next(o)},()=>{i||e.next(t),e.complete()}))})}function ib(t=ob){return(0,wo.e)((r,e)=>{let i=!1;r.subscribe((0,Vi.x)(e,o=>{i=!0,e.next(o)},()=>i?e.complete():e.error(t())))})}function ob(){return new Su}function Rc(t,r){const e=arguments.length>=2;return i=>i.pipe(t?(0,pr.h)((o,a)=>t(o,a,i)):Cp.y,(0,ar.q)(1),e?Mp(r):ib(()=>new Su))}var nl=se(4351);function Mi(t,r,e){const i=(0,vs.m)(t)||r||e?{next:t,error:r,complete:e}:t;return i?(0,wo.e)((o,a)=>{var l;null===(l=i.subscribe)||void 0===l||l.call(i);let u=!0;o.subscribe((0,Vi.x)(a,p=>{var f;null===(f=i.next)||void 0===f||f.call(i,p),a.next(p)},()=>{var p;u=!1,null===(p=i.complete)||void 0===p||p.call(i),a.complete()},p=>{var f;u=!1,null===(f=i.error)||void 0===f||f.call(i,p),a.error(p)},()=>{var p,f;u&&(null===(p=i.unsubscribe)||void 0===p||p.call(i)),null===(f=i.finalize)||void 0===f||f.call(i)}))}):Cp.y}var ys=se(262),ab=se(5026);function Sp(t){return t<=0?()=>Ji.E:(0,wo.e)((r,e)=>{let i=[];r.subscribe((0,Vi.x)(e,o=>{i.push(o),t<i.length&&i.shift()},()=>{for(const o of i)e.next(o);e.complete()},void 0,()=>{i=null}))})}function zS(t,r){const e=arguments.length>=2;return i=>i.pipe(t?(0,pr.h)((o,a)=>t(o,a,i)):Cp.y,Sp(1),e?Mp(r):ib(()=>new Su))}function HS(t,r=!1){return(0,wo.e)((e,i)=>{let o=0;e.subscribe((0,Vi.x)(i,a=>{const l=t(a,o++);(l||r)&&i.next(a),!l&&i.complete()}))})}function Au(t){return(0,xt.U)(()=>t)}function m_(t){return(0,wo.e)((r,e)=>{try{r.subscribe(e)}finally{e.add(t)}})}const sr="primary",Hh=Symbol("RouteTitle");class l2{constructor(r){this.params=r||{}}has(r){return Object.prototype.hasOwnProperty.call(this.params,r)}get(r){if(this.has(r)){const e=this.params[r];return Array.isArray(e)?e[0]:e}return null}getAll(r){if(this.has(r)){const e=this.params[r];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Dp(t){return new l2(t)}function jS(t,r,e){const i=e.path.split("/");if(i.length>t.length||"full"===e.pathMatch&&(r.hasChildren()||i.length<t.length))return null;const o={};for(let a=0;a<i.length;a++){const l=i[a],u=t[a];if(l.startsWith(":"))o[l.substring(1)]=u;else if(l!==u.path)return null}return{consumed:t.slice(0,i.length),posParams:o}}function wa(t,r){const e=t?Object.keys(t):void 0,i=r?Object.keys(r):void 0;if(!e||!i||e.length!=i.length)return!1;let o;for(let a=0;a<e.length;a++)if(o=e[a],!g_(t[o],r[o]))return!1;return!0}function g_(t,r){if(Array.isArray(t)&&Array.isArray(r)){if(t.length!==r.length)return!1;const e=[...t].sort(),i=[...r].sort();return e.every((o,a)=>i[a]===o)}return t===r}function __(t){return Array.prototype.concat.apply([],t)}function v_(t){return t.length>0?t[t.length-1]:null}function Xi(t,r){for(const e in t)t.hasOwnProperty(e)&&r(t[e],e)}function jl(t){return(0,n.CqO)(t)?t:(0,n.QGY)(t)?(0,vi.D)(Promise.resolve(t)):(0,pn.of)(t)}const b_={exact:function C_(t,r,e){if(!Zl(t.segments,r.segments)||!Pu(t.segments,r.segments,e)||t.numberOfChildren!==r.numberOfChildren)return!1;for(const i in r.children)if(!t.children[i]||!C_(t.children[i],r.children[i],e))return!1;return!0},subset:db},cb={exact:function qS(t,r){return wa(t,r)},subset:function ZS(t,r){return Object.keys(r).length<=Object.keys(t).length&&Object.keys(r).every(e=>g_(t[e],r[e]))},ignored:()=>!0};function ub(t,r,e){return b_[e.paths](t.root,r.root,e.matrixParams)&&cb[e.queryParams](t.queryParams,r.queryParams)&&!("exact"===e.fragment&&t.fragment!==r.fragment)}function db(t,r,e){return Ki(t,r,r.segments,e)}function Ki(t,r,e,i){if(t.segments.length>e.length){const o=t.segments.slice(0,e.length);return!(!Zl(o,e)||r.hasChildren()||!Pu(o,e,i))}if(t.segments.length===e.length){if(!Zl(t.segments,e)||!Pu(t.segments,e,i))return!1;for(const o in r.children)if(!t.children[o]||!db(t.children[o],r.children[o],i))return!1;return!0}{const o=e.slice(0,t.segments.length),a=e.slice(t.segments.length);return!!(Zl(t.segments,o)&&Pu(t.segments,o,i)&&t.children[sr])&&Ki(t.children[sr],r,a,i)}}function Pu(t,r,e){return r.every((i,o)=>cb[e](t[o].parameters,i.parameters))}class ql{constructor(r,e,i){this.root=r,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Dp(this.queryParams)),this._queryParamMap}toString(){return GS.serialize(this)}}class Jn{constructor(r,e){this.segments=r,this.children=e,this.parent=null,Xi(e,(i,o)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ep(this)}}class Si{constructor(r,e){this.path=r,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Dp(this.parameters)),this._parameterMap}toString(){return w_(this)}}function Zl(t,r){return t.length===r.length&&t.every((e,i)=>e.path===r[i].path)}let pb=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=n.Yz7({token:t,factory:function(){return new jh},providedIn:"root"}),t})();class jh{parse(r){const e=new Iu(r);return new ql(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(r){const e=`/${Ap(r.root,!0)}`,i=function Tp(t){const r=Object.keys(t).map(e=>{const i=t[e];return Array.isArray(i)?i.map(o=>`${qh(e)}=${qh(o)}`).join("&"):`${qh(e)}=${qh(i)}`}).filter(e=>!!e);return r.length?`?${r.join("&")}`:""}(r.queryParams);return`${e}${i}${"string"==typeof r.fragment?`#${function $S(t){return encodeURI(t)}(r.fragment)}`:""}`}}const GS=new jh;function Ep(t){return t.segments.map(r=>w_(r)).join("/")}function Ap(t,r){if(!t.hasChildren())return Ep(t);if(r){const e=t.children[sr]?Ap(t.children[sr],!1):"",i=[];return Xi(t.children,(o,a)=>{a!==sr&&i.push(`${a}:${Ap(o,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function YS(t,r){let e=[];return Xi(t.children,(i,o)=>{o===sr&&(e=e.concat(r(i,o)))}),Xi(t.children,(i,o)=>{o!==sr&&(e=e.concat(r(i,o)))}),e}(t,(i,o)=>o===sr?[Ap(t.children[sr],!1)]:[`${o}:${Ap(i,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[sr]?`${Ep(t)}/${e[0]}`:`${Ep(t)}/(${e.join("//")})`}}function x_(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function qh(t){return x_(t).replace(/%3B/gi,";")}function Pp(t){return x_(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Tu(t){return decodeURIComponent(t)}function fb(t){return Tu(t.replace(/\+/g,"%20"))}function w_(t){return`${Pp(t.path)}${function WS(t){return Object.keys(t).map(r=>`;${Pp(r)}=${Pp(t[r])}`).join("")}(t.parameters)}`}const QS=/^[^\/()?;=#]+/;function Zh(t){const r=t.match(QS);return r?r[0]:""}const M_=/^[^=?&#]+/,hb=/^[^&#]+/;class Iu{constructor(r){this.url=r,this.remaining=r}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Jn([],{}):new Jn([],this.parseChildren())}parseQueryParams(){const r={};if(this.consumeOptional("?"))do{this.parseQueryParam(r)}while(this.consumeOptional("&"));return r}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const r=[];for(this.peekStartsWith("(")||r.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),r.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(r.length>0||Object.keys(e).length>0)&&(i[sr]=new Jn(r,e)),i}parseSegment(){const r=Zh(this.remaining);if(""===r&&this.peekStartsWith(";"))throw new n.vHH(4009,!1);return this.capture(r),new Si(Tu(r),this.parseMatrixParams())}parseMatrixParams(){const r={};for(;this.consumeOptional(";");)this.parseParam(r);return r}parseParam(r){const e=Zh(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const o=Zh(this.remaining);o&&(i=o,this.capture(i))}r[Tu(e)]=Tu(i)}parseQueryParam(r){const e=function S_(t){const r=t.match(M_);return r?r[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const l=function c2(t){const r=t.match(hb);return r?r[0]:""}(this.remaining);l&&(i=l,this.capture(i))}const o=fb(e),a=fb(i);if(r.hasOwnProperty(o)){let l=r[o];Array.isArray(l)||(l=[l],r[o]=l),l.push(a)}else r[o]=a}parseParens(r){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=Zh(this.remaining),o=this.remaining[i.length];if("/"!==o&&")"!==o&&";"!==o)throw new n.vHH(4010,!1);let a;i.indexOf(":")>-1?(a=i.slice(0,i.indexOf(":")),this.capture(a),this.capture(":")):r&&(a=sr);const l=this.parseChildren();e[a]=1===Object.keys(l).length?l[sr]:new Jn([],l),this.consumeOptional("//")}return e}peekStartsWith(r){return this.remaining.startsWith(r)}consumeOptional(r){return!!this.peekStartsWith(r)&&(this.remaining=this.remaining.substring(r.length),!0)}capture(r){if(!this.consumeOptional(r))throw new n.vHH(4011,!1)}}function Ip(t){return t.segments.length>0?new Jn([],{[sr]:t}):t}function kp(t){const r={};for(const i of Object.keys(t.children)){const a=kp(t.children[i]);(a.segments.length>0||a.hasChildren())&&(r[i]=a)}return function JS(t){if(1===t.numberOfChildren&&t.children[sr]){const r=t.children[sr];return new Jn(t.segments.concat(r.segments),r.children)}return t}(new Jn(t.segments,r))}function il(t){return t instanceof ql}function eD(t,r,e,i,o){if(0===e.length)return Yl(r.root,r.root,r.root,i,o);const a=function mb(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new Yh(!0,0,t);let r=0,e=!1;const i=t.reduce((o,a,l)=>{if("object"==typeof a&&null!=a){if(a.outlets){const u={};return Xi(a.outlets,(p,f)=>{u[f]="string"==typeof p?p.split("/"):p}),[...o,{outlets:u}]}if(a.segmentPath)return[...o,a.segmentPath]}return"string"!=typeof a?[...o,a]:0===l?(a.split("/").forEach((u,p)=>{0==p&&"."===u||(0==p&&""===u?e=!0:".."===u?r++:""!=u&&o.push(u))}),o):[...o,a]},[]);return new Yh(e,r,i)}(e);return a.toRoot()?Yl(r.root,r.root,new Jn([],{}),i,o):function l(p){const f=function _b(t,r,e,i){if(t.isAbsolute)return new Fu(r.root,!0,0);if(-1===i)return new Fu(e,e===r.root,0);return function Gl(t,r,e){let i=t,o=r,a=e;for(;a>o;){if(a-=o,i=i.parent,!i)throw new n.vHH(4005,!1);o=i.segments.length}return new Fu(i,!1,o-a)}(e,i+(Fp(t.commands[0])?0:1),t.numberOfDoubleDots)}(a,r,t.snapshot?._urlSegment,p),h=f.processChildren?Np(f.segmentGroup,f.index,a.commands):Gh(f.segmentGroup,f.index,a.commands);return Yl(r.root,f.segmentGroup,h,i,o)}(t.snapshot?._lastPathIndex)}function Fp(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function ku(t){return"object"==typeof t&&null!=t&&t.outlets}function Yl(t,r,e,i,o){let l,a={};i&&Xi(i,(p,f)=>{a[f]=Array.isArray(p)?p.map(h=>`${h}`):`${p}`}),l=t===r?e:O_(t,r,e);const u=Ip(kp(l));return new ql(u,a,o)}function O_(t,r,e){const i={};return Xi(t.children,(o,a)=>{i[a]=o===r?e:O_(o,r,e)}),new Jn(t.segments,i)}class Yh{constructor(r,e,i){if(this.isAbsolute=r,this.numberOfDoubleDots=e,this.commands=i,r&&i.length>0&&Fp(i[0]))throw new n.vHH(4003,!1);const o=i.find(ku);if(o&&o!==v_(i))throw new n.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Fu{constructor(r,e,i){this.segmentGroup=r,this.processChildren=e,this.index=i}}function Gh(t,r,e){if(t||(t=new Jn([],{})),0===t.segments.length&&t.hasChildren())return Np(t,r,e);const i=function d2(t,r,e){let i=0,o=r;const a={match:!1,pathIndex:0,commandIndex:0};for(;o<t.segments.length;){if(i>=e.length)return a;const l=t.segments[o],u=e[i];if(ku(u))break;const p=`${u}`,f=i<e.length-1?e[i+1]:null;if(o>0&&void 0===p)break;if(p&&f&&"object"==typeof f&&void 0===f.outlets){if(!A_(p,f,l))return a;i+=2}else{if(!A_(p,{},l))return a;i++}o++}return{match:!0,pathIndex:o,commandIndex:i}}(t,r,e),o=e.slice(i.commandIndex);if(i.match&&i.pathIndex<t.segments.length){const a=new Jn(t.segments.slice(0,i.pathIndex),{});return a.children[sr]=new Jn(t.segments.slice(i.pathIndex),t.children),Np(a,0,o)}return i.match&&0===o.length?new Jn(t.segments,{}):i.match&&!t.hasChildren()?Nu(t,r,e):i.match?Np(t,0,o):Nu(t,r,e)}function Np(t,r,e){if(0===e.length)return new Jn(t.segments,{});{const i=function vb(t){return ku(t[0])?t[0].outlets:{[sr]:t}}(e),o={};return Xi(i,(a,l)=>{"string"==typeof a&&(a=[a]),null!==a&&(o[l]=Gh(t.children[l],r,a))}),Xi(t.children,(a,l)=>{void 0===i[l]&&(o[l]=a)}),new Jn(t.segments,o)}}function Nu(t,r,e){const i=t.segments.slice(0,r);let o=0;for(;o<e.length;){const a=e[o];if(ku(a)){const p=tD(a.outlets);return new Jn(i,p)}if(0===o&&Fp(e[0])){i.push(new Si(t.segments[r].path,E_(e[0]))),o++;continue}const l=ku(a)?a.outlets[sr]:`${a}`,u=o<e.length-1?e[o+1]:null;l&&u&&Fp(u)?(i.push(new Si(l,E_(u))),o+=2):(i.push(new Si(l,{})),o++)}return new Jn(i,{})}function tD(t){const r={};return Xi(t,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(r[i]=Nu(new Jn([],{}),0,e))}),r}function E_(t){const r={};return Xi(t,(e,i)=>r[i]=`${e}`),r}function A_(t,r,e){return t==e.path&&wa(r,e.parameters)}class bs{constructor(r,e){this.id=r,this.url=e}}class Rp extends bs{constructor(r,e,i="imperative",o=null){super(r,e),this.type=0,this.navigationTrigger=i,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class $l extends bs{constructor(r,e,i){super(r,e),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Lc extends bs{constructor(r,e,i,o){super(r,e),this.reason=i,this.code=o,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Lp extends bs{constructor(r,e,i,o){super(r,e),this.error=i,this.target=o,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class yb extends bs{constructor(r,e,i,o){super(r,e),this.urlAfterRedirects=i,this.state=o,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class P_ extends bs{constructor(r,e,i,o){super(r,e),this.urlAfterRedirects=i,this.state=o,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class T_ extends bs{constructor(r,e,i,o,a){super(r,e),this.urlAfterRedirects=i,this.state=o,this.shouldActivate=a,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class I_ extends bs{constructor(r,e,i,o){super(r,e),this.urlAfterRedirects=i,this.state=o,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Bp extends bs{constructor(r,e,i,o){super(r,e),this.urlAfterRedirects=i,this.state=o,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class nD{constructor(r){this.route=r,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class bb{constructor(r){this.route=r,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class rD{constructor(r){this.snapshot=r,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class iD{constructor(r){this.snapshot=r,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Cb{constructor(r){this.snapshot=r,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class k_{constructor(r){this.snapshot=r,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Up{constructor(r,e,i){this.routerEvent=r,this.position=e,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Wl{constructor(r){this._root=r}get root(){return this._root.value}parent(r){const e=this.pathFromRoot(r);return e.length>1?e[e.length-2]:null}children(r){const e=N_(r,this._root);return e?e.children.map(i=>i.value):[]}firstChild(r){const e=N_(r,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(r){const e=R_(r,this._root);return e.length<2?[]:e[e.length-2].children.map(o=>o.value).filter(o=>o!==r)}pathFromRoot(r){return R_(r,this._root).map(e=>e.value)}}function N_(t,r){if(t===r.value)return r;for(const e of r.children){const i=N_(t,e);if(i)return i}return null}function R_(t,r){if(t===r.value)return[r];for(const e of r.children){const i=R_(t,e);if(i.length)return i.unshift(r),i}return[]}class Ql{constructor(r,e){this.value=r,this.children=e}toString(){return`TreeNode(${this.value})`}}function Ru(t){const r={};return t&&t.children.forEach(e=>r[e.value.outlet]=e),r}class $h extends Wl{constructor(r,e){super(r),this.snapshot=e,ol(this,r)}toString(){return this.snapshot.toString()}}function xb(t,r){const e=function wb(t,r){const l=new Vp([],{},{},"",{},sr,r,null,t.root,-1,{});return new L_("",new Ql(l,[]))}(t,r),i=new Za.X([new Si("",{})]),o=new Za.X({}),a=new Za.X({}),l=new Za.X({}),u=new Za.X(""),p=new zi(i,o,l,u,a,sr,r,e.root);return p.snapshot=e.root,new $h(new Ql(p,[]),e)}class zi{constructor(r,e,i,o,a,l,u,p){this.url=r,this.params=e,this.queryParams=i,this.fragment=o,this.data=a,this.outlet=l,this.component=u,this.title=this.data?.pipe((0,xt.U)(f=>f[Hh]))??(0,pn.of)(void 0),this._futureSnapshot=p}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,xt.U)(r=>Dp(r)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,xt.U)(r=>Dp(r)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Wh(t,r="emptyOnly"){const e=t.pathFromRoot;let i=0;if("always"!==r)for(i=e.length-1;i>=1;){const o=e[i],a=e[i-1];if(o.routeConfig&&""===o.routeConfig.path)i--;else{if(a.component)break;i--}}return function Mb(t){return t.reduce((r,e)=>({params:{...r.params,...e.params},data:{...r.data,...e.data},resolve:{...e.data,...r.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(i))}class Vp{constructor(r,e,i,o,a,l,u,p,f,h,y,D){this.url=r,this.params=e,this.queryParams=i,this.fragment=o,this.data=a,this.outlet=l,this.component=u,this.title=this.data?.[Hh],this.routeConfig=p,this._urlSegment=f,this._lastPathIndex=h,this._correctedLastPathIndex=D??h,this._resolve=y}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Dp(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Dp(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class L_ extends Wl{constructor(r,e){super(e),this.url=r,ol(this,e)}toString(){return Sb(this._root)}}function ol(t,r){r.value._routerState=t,r.children.forEach(e=>ol(t,e))}function Sb(t){const r=t.children.length>0?` { ${t.children.map(Sb).join(", ")} } `:"";return`${t.value}${r}`}function B_(t){if(t.snapshot){const r=t.snapshot,e=t._futureSnapshot;t.snapshot=e,wa(r.queryParams,e.queryParams)||t.queryParams.next(e.queryParams),r.fragment!==e.fragment&&t.fragment.next(e.fragment),wa(r.params,e.params)||t.params.next(e.params),function sb(t,r){if(t.length!==r.length)return!1;for(let e=0;e<t.length;++e)if(!wa(t[e],r[e]))return!1;return!0}(r.url,e.url)||t.url.next(e.url),wa(r.data,e.data)||t.data.next(e.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function U_(t,r){const e=wa(t.params,r.params)&&function Op(t,r){return Zl(t,r)&&t.every((e,i)=>wa(e.parameters,r[i].parameters))}(t.url,r.url);return e&&!(!t.parent!=!r.parent)&&(!t.parent||U_(t.parent,r.parent))}function zp(t,r,e){if(e&&t.shouldReuseRoute(r.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=r.value;const o=function al(t,r,e){return r.children.map(i=>{for(const o of e.children)if(t.shouldReuseRoute(i.value,o.value.snapshot))return zp(t,i,o);return zp(t,i)})}(t,r,e);return new Ql(i,o)}{if(t.shouldAttach(r.value)){const a=t.retrieve(r.value);if(null!==a){const l=a.route;return l.value._futureSnapshot=r.value,l.children=r.children.map(u=>zp(t,u)),l}}const i=function Lu(t){return new zi(new Za.X(t.url),new Za.X(t.params),new Za.X(t.queryParams),new Za.X(t.fragment),new Za.X(t.data),t.outlet,t.component,t)}(r.value),o=r.children.map(a=>zp(t,a));return new Ql(i,o)}}const V_="ngNavigationCancelingError";function Db(t,r){const{redirectTo:e,navigationBehaviorOptions:i}=il(r)?{redirectTo:r,navigationBehaviorOptions:void 0}:r,o=Ob(!1,0,r);return o.url=e,o.navigationBehaviorOptions=i,o}function Ob(t,r,e){const i=new Error("NavigationCancelingError: "+(t||""));return i[V_]=!0,i.cancellationCode=r,e&&(i.url=e),i}function Eb(t){return Ab(t)&&il(t.url)}function Ab(t){return t&&t[V_]}class aD{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Bu,this.attachRef=null}}let Bu=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(e,i){const o=this.getOrCreateContext(e);o.outlet=i,this.contexts.set(e,o)}onChildOutletDestroyed(e){const i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new aD,this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Qh=!1;let z_=(()=>{class t{constructor(e,i,o,a,l){this.parentContexts=e,this.location=i,this.changeDetector=a,this.environmentInjector=l,this.activated=null,this._activatedRoute=null,this.activateEvents=new n.vpe,this.deactivateEvents=new n.vpe,this.attachEvents=new n.vpe,this.detachEvents=new n.vpe,this.name=o||sr,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new n.vHH(4012,Qh);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new n.vHH(4012,Qh);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new n.vHH(4012,Qh);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new n.vHH(4013,Qh);this._activatedRoute=e;const o=this.location,l=e._futureSnapshot.component,u=this.parentContexts.getOrCreateContext(this.name).children,p=new sD(e,u,o.injector);if(i&&function lD(t){return!!t.resolveComponentFactory}(i)){const f=i.resolveComponentFactory(l);this.activated=o.createComponent(f,o.length,p)}else this.activated=o.createComponent(l,{index:o.length,injector:p,environmentInjector:i??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(Bu),n.Y36(n.s_b),n.$8M("name"),n.Y36(n.sBO),n.Y36(n.lqb))},t.\u0275dir=n.lG2({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),t})();class sD{constructor(r,e,i){this.route=r,this.childContexts=e,this.parent=i}get(r,e){return r===zi?this.route:r===Bu?this.childContexts:this.parent.get(r,e)}}let Uu=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Xpm({type:t,selectors:[["ng-component"]],standalone:!0,features:[n.jDz],decls:1,vars:0,template:function(e,i){1&e&&n._UZ(0,"router-outlet")},dependencies:[z_],encapsulation:2}),t})();function Cs(t,r){return t.providers&&!t._injector&&(t._injector=(0,n.MMx)(t.providers,r,`Route: ${t.path}`)),t._injector??r}function Hp(t){const r=t.children&&t.children.map(Hp),e=r?{...t,children:r}:{...t};return!e.component&&!e.loadComponent&&(r||e.loadChildren)&&e.outlet&&e.outlet!==sr&&(e.component=Uu),e}function Ga(t){return t.outlet||sr}function pD(t,r){const e=t.filter(i=>Ga(i)===r);return e.push(...t.filter(i=>Ga(i)!==r)),e}function Vu(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let r=t.parent;r;r=r.parent){const e=r.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class hD{constructor(r,e,i,o){this.routeReuseStrategy=r,this.futureState=e,this.currState=i,this.forwardEvent=o}activate(r){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,r),B_(this.futureState.root),this.activateChildRoutes(e,i,r)}deactivateChildRoutes(r,e,i){const o=Ru(e);r.children.forEach(a=>{const l=a.value.outlet;this.deactivateRoutes(a,o[l],i),delete o[l]}),Xi(o,(a,l)=>{this.deactivateRouteAndItsChildren(a,i)})}deactivateRoutes(r,e,i){const o=r.value,a=e?e.value:null;if(o===a)if(o.component){const l=i.getContext(o.outlet);l&&this.deactivateChildRoutes(r,e,l.children)}else this.deactivateChildRoutes(r,e,i);else a&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(r,e){r.value.component&&this.routeReuseStrategy.shouldDetach(r.value.snapshot)?this.detachAndStoreRouteSubtree(r,e):this.deactivateRouteAndOutlet(r,e)}detachAndStoreRouteSubtree(r,e){const i=e.getContext(r.value.outlet),o=i&&r.value.component?i.children:e,a=Ru(r);for(const l of Object.keys(a))this.deactivateRouteAndItsChildren(a[l],o);if(i&&i.outlet){const l=i.outlet.detach(),u=i.children.onOutletDeactivated();this.routeReuseStrategy.store(r.value.snapshot,{componentRef:l,route:r,contexts:u})}}deactivateRouteAndOutlet(r,e){const i=e.getContext(r.value.outlet),o=i&&r.value.component?i.children:e,a=Ru(r);for(const l of Object.keys(a))this.deactivateRouteAndItsChildren(a[l],o);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(r,e,i){const o=Ru(e);r.children.forEach(a=>{this.activateRoutes(a,o[a.value.outlet],i),this.forwardEvent(new k_(a.value.snapshot))}),r.children.length&&this.forwardEvent(new iD(r.value.snapshot))}activateRoutes(r,e,i){const o=r.value,a=e?e.value:null;if(B_(o),o===a)if(o.component){const l=i.getOrCreateContext(o.outlet);this.activateChildRoutes(r,e,l.children)}else this.activateChildRoutes(r,e,i);else if(o.component){const l=i.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const u=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),l.children.onOutletReAttached(u.contexts),l.attachRef=u.componentRef,l.route=u.route.value,l.outlet&&l.outlet.attach(u.componentRef,u.route.value),B_(u.route.value),this.activateChildRoutes(r,null,l.children)}else{const u=Vu(o.snapshot),p=u?.get(n._Vd)??null;l.attachRef=null,l.route=o,l.resolver=p,l.injector=u,l.outlet&&l.outlet.activateWith(o,l.injector),this.activateChildRoutes(r,null,l.children)}}else this.activateChildRoutes(r,null,i)}}class Tb{constructor(r){this.path=r,this.route=this.path[this.path.length-1]}}class Xh{constructor(r,e){this.component=r,this.route=e}}function Ib(t,r,e){const i=t._root;return Uc(i,r?r._root:null,e,[i.value])}function Bc(t,r){const e=Symbol(),i=r.get(t,e);return i===e?"function"!=typeof t||(0,n.Z0I)(t)?r.get(t):t:i}function Uc(t,r,e,i,o={canDeactivateChecks:[],canActivateChecks:[]}){const a=Ru(r);return t.children.forEach(l=>{(function mD(t,r,e,i,o={canDeactivateChecks:[],canActivateChecks:[]}){const a=t.value,l=r?r.value:null,u=e?e.getContext(t.value.outlet):null;if(l&&a.routeConfig===l.routeConfig){const p=function yi(t,r,e){if("function"==typeof e)return e(t,r);switch(e){case"pathParamsChange":return!Zl(t.url,r.url);case"pathParamsOrQueryParamsChange":return!Zl(t.url,r.url)||!wa(t.queryParams,r.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!U_(t,r)||!wa(t.queryParams,r.queryParams);default:return!U_(t,r)}}(l,a,a.routeConfig.runGuardsAndResolvers);p?o.canActivateChecks.push(new Tb(i)):(a.data=l.data,a._resolvedData=l._resolvedData),Uc(t,r,a.component?u?u.children:null:e,i,o),p&&u&&u.outlet&&u.outlet.isActivated&&o.canDeactivateChecks.push(new Xh(u.outlet.component,l))}else l&&zu(r,u,o),o.canActivateChecks.push(new Tb(i)),Uc(t,null,a.component?u?u.children:null:e,i,o)})(l,a[l.value.outlet],e,i.concat([l.value]),o),delete a[l.value.outlet]}),Xi(a,(l,u)=>zu(l,e.getContext(u),o)),o}function zu(t,r,e){const i=Ru(t),o=t.value;Xi(i,(a,l)=>{zu(a,o.component?r?r.children.getContext(l):null:r,e)}),e.canDeactivateChecks.push(new Xh(o.component&&r&&r.outlet&&r.outlet.isActivated?r.outlet.component:null,o))}function jp(t){return"function"==typeof t}function Fb(t){return t instanceof Su||"EmptyError"===t?.name}const Jl=Symbol("INITIAL_VALUE");function Xl(){return(0,Qn.w)(t=>uo(t.map(r=>r.pipe((0,ar.q)(1),Fo(Jl)))).pipe((0,xt.U)(r=>{for(const e of r)if(!0!==e){if(e===Jl)return Jl;if(!1===e||e instanceof ql)return e}return!0}),(0,pr.h)(r=>r!==Jl),(0,ar.q)(1)))}function em(t){return(0,nb.z)(Mi(r=>{if(il(r))throw Db(0,r)}),(0,xt.U)(r=>!0===r))}const tm={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Kl(t,r,e,i,o){const a=Z_(t,r,e);return a.matched?function Vb(t,r,e,i){const o=r.canMatch;if(!o||0===o.length)return(0,pn.of)(!0);const a=o.map(l=>{const u=Bc(l,t);return jl(function yD(t){return t&&jp(t.canMatch)}(u)?u.canMatch(r,e):t.runInContext(()=>u(r,e)))});return(0,pn.of)(a).pipe(Xl(),em())}(i=Cs(r,i),r,e).pipe((0,xt.U)(l=>!0===l?a:{...tm})):(0,pn.of)(a)}function Z_(t,r,e){if(""===r.path)return"full"===r.pathMatch&&(t.hasChildren()||e.length>0)?{...tm}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const o=(r.matcher||jS)(e,t,r);if(!o)return{...tm};const a={};Xi(o.posParams,(u,p)=>{a[p]=u.path});const l=o.consumed.length>0?{...a,...o.consumed[o.consumed.length-1].parameters}:a;return{matched:!0,consumedSegments:o.consumed,remainingSegments:e.slice(o.consumed.length),parameters:l,positionalParamSegments:o.posParams??{}}}function Hu(t,r,e,i,o="corrected"){if(e.length>0&&function Y_(t,r,e){return e.some(i=>xs(t,r,i)&&Ga(i)!==sr)}(t,e,i)){const l=new Jn(r,function xD(t,r,e,i){const o={};o[sr]=i,i._sourceSegment=t,i._segmentIndexShift=r.length;for(const a of e)if(""===a.path&&Ga(a)!==sr){const l=new Jn([],{});l._sourceSegment=t,l._segmentIndexShift=r.length,o[Ga(a)]=l}return o}(t,r,i,new Jn(e,t.children)));return l._sourceSegment=t,l._segmentIndexShift=r.length,{segmentGroup:l,slicedSegments:[]}}if(0===e.length&&function rm(t,r,e){return e.some(i=>xs(t,r,i))}(t,e,i)){const l=new Jn(t.segments,function nm(t,r,e,i,o,a){const l={};for(const u of i)if(xs(t,e,u)&&!o[Ga(u)]){const p=new Jn([],{});p._sourceSegment=t,p._segmentIndexShift="legacy"===a?t.segments.length:r.length,l[Ga(u)]=p}return{...o,...l}}(t,r,e,i,t.children,o));return l._sourceSegment=t,l._segmentIndexShift=r.length,{segmentGroup:l,slicedSegments:e}}const a=new Jn(t.segments,t.children);return a._sourceSegment=t,a._segmentIndexShift=r.length,{segmentGroup:a,slicedSegments:e}}function xs(t,r,e){return(!(t.hasChildren()||r.length>0)||"full"!==e.pathMatch)&&""===e.path}function G_(t,r,e,i){return!!(Ga(t)===i||i!==sr&&xs(r,e,t))&&("**"===t.path||Z_(r,t,e).matched)}function im(t,r,e){return 0===r.length&&!t.children[e]}const om=!1;class am{constructor(r){this.segmentGroup=r||null}}class $_{constructor(r){this.urlTree=r}}function ws(t){return Nc(new am(t))}function zb(t){return Nc(new $_(t))}class W_{constructor(r,e,i,o,a){this.injector=r,this.configLoader=e,this.urlSerializer=i,this.urlTree=o,this.config=a,this.allowRedirects=!0}apply(){const r=Hu(this.urlTree.root,[],[],this.config).segmentGroup,e=new Jn(r.segments,r.children);return this.expandSegmentGroup(this.injector,this.config,e,sr).pipe((0,xt.U)(a=>this.createUrlTree(kp(a),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,ys.K)(a=>{if(a instanceof $_)return this.allowRedirects=!1,this.match(a.urlTree);throw a instanceof am?this.noMatchError(a):a}))}match(r){return this.expandSegmentGroup(this.injector,this.config,r.root,sr).pipe((0,xt.U)(o=>this.createUrlTree(kp(o),r.queryParams,r.fragment))).pipe((0,ys.K)(o=>{throw o instanceof am?this.noMatchError(o):o}))}noMatchError(r){return new n.vHH(4002,om)}createUrlTree(r,e,i){const o=Ip(r);return new ql(o,e,i)}expandSegmentGroup(r,e,i,o){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(r,e,i).pipe((0,xt.U)(a=>new Jn([],a))):this.expandSegment(r,i,e,i.segments,o,!0)}expandChildren(r,e,i){const o=[];for(const a of Object.keys(i.children))"primary"===a?o.unshift(a):o.push(a);return(0,vi.D)(o).pipe((0,nl.b)(a=>{const l=i.children[a],u=pD(e,a);return this.expandSegmentGroup(r,u,l,a).pipe((0,xt.U)(p=>({segment:p,outlet:a})))}),(0,ab.R)((a,l)=>(a[l.outlet]=l.segment,a),{}),zS())}expandSegment(r,e,i,o,a,l){return(0,vi.D)(i).pipe((0,nl.b)(u=>this.expandSegmentAgainstRoute(r,e,i,u,o,a,l).pipe((0,ys.K)(f=>{if(f instanceof am)return(0,pn.of)(null);throw f}))),Rc(u=>!!u),(0,ys.K)((u,p)=>{if(Fb(u))return im(e,o,a)?(0,pn.of)(new Jn([],{})):ws(e);throw u}))}expandSegmentAgainstRoute(r,e,i,o,a,l,u){return G_(o,e,a,l)?void 0===o.redirectTo?this.matchSegmentAgainstRoute(r,e,o,a,l):u&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(r,e,i,o,a,l):ws(e):ws(e)}expandSegmentAgainstRouteUsingRedirect(r,e,i,o,a,l){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(r,i,o,l):this.expandRegularSegmentAgainstRouteUsingRedirect(r,e,i,o,a,l)}expandWildCardWithParamsAgainstRouteUsingRedirect(r,e,i,o){const a=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?zb(a):this.lineralizeSegments(i,a).pipe((0,ci.z)(l=>{const u=new Jn(l,{});return this.expandSegment(r,u,e,l,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(r,e,i,o,a,l){const{matched:u,consumedSegments:p,remainingSegments:f,positionalParamSegments:h}=Z_(e,o,a);if(!u)return ws(e);const y=this.applyRedirectCommands(p,o.redirectTo,h);return o.redirectTo.startsWith("/")?zb(y):this.lineralizeSegments(o,y).pipe((0,ci.z)(D=>this.expandSegment(r,e,i,D.concat(f),l,!1)))}matchSegmentAgainstRoute(r,e,i,o,a){return"**"===i.path?(r=Cs(i,r),i.loadChildren?(i._loadedRoutes?(0,pn.of)({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(r,i)).pipe((0,xt.U)(u=>(i._loadedRoutes=u.routes,i._loadedInjector=u.injector,new Jn(o,{})))):(0,pn.of)(new Jn(o,{}))):Kl(e,i,o,r).pipe((0,Qn.w)(({matched:l,consumedSegments:u,remainingSegments:p})=>l?this.getChildConfig(r=i._injector??r,i,o).pipe((0,ci.z)(h=>{const y=h.injector??r,D=h.routes,{segmentGroup:E,slicedSegments:k}=Hu(e,u,p,D),T=new Jn(E.segments,E.children);if(0===k.length&&T.hasChildren())return this.expandChildren(y,D,T).pipe((0,xt.U)(N=>new Jn(u,N)));if(0===D.length&&0===k.length)return(0,pn.of)(new Jn(u,{}));const L=Ga(i)===a;return this.expandSegment(y,T,D,k,L?sr:a,!0).pipe((0,xt.U)(Y=>new Jn(u.concat(Y.segments),Y.children)))})):ws(e)))}getChildConfig(r,e,i){return e.children?(0,pn.of)({routes:e.children,injector:r}):e.loadChildren?void 0!==e._loadedRoutes?(0,pn.of)({routes:e._loadedRoutes,injector:e._loadedInjector}):function CD(t,r,e,i){const o=r.canLoad;if(void 0===o||0===o.length)return(0,pn.of)(!0);const a=o.map(l=>{const u=Bc(l,t);return jl(function kb(t){return t&&jp(t.canLoad)}(u)?u.canLoad(r,e):t.runInContext(()=>u(r,e)))});return(0,pn.of)(a).pipe(Xl(),em())}(r,e,i).pipe((0,ci.z)(o=>o?this.configLoader.loadChildren(r,e).pipe(Mi(a=>{e._loadedRoutes=a.routes,e._loadedInjector=a.injector})):function MD(t){return Nc(Ob(om,3))}())):(0,pn.of)({routes:[],injector:r})}lineralizeSegments(r,e){let i=[],o=e.root;for(;;){if(i=i.concat(o.segments),0===o.numberOfChildren)return(0,pn.of)(i);if(o.numberOfChildren>1||!o.children[sr])return Nc(new n.vHH(4e3,om));o=o.children[sr]}}applyRedirectCommands(r,e,i){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),r,i)}applyRedirectCreateUrlTree(r,e,i,o){const a=this.createSegmentGroup(r,e.root,i,o);return new ql(a,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(r,e){const i={};return Xi(r,(o,a)=>{if("string"==typeof o&&o.startsWith(":")){const u=o.substring(1);i[a]=e[u]}else i[a]=o}),i}createSegmentGroup(r,e,i,o){const a=this.createSegments(r,e.segments,i,o);let l={};return Xi(e.children,(u,p)=>{l[p]=this.createSegmentGroup(r,u,i,o)}),new Jn(a,l)}createSegments(r,e,i,o){return e.map(a=>a.path.startsWith(":")?this.findPosParam(r,a,o):this.findOrReturn(a,i))}findPosParam(r,e,i){const o=i[e.path.substring(1)];if(!o)throw new n.vHH(4001,om);return o}findOrReturn(r,e){let i=0;for(const o of e){if(o.path===r.path)return e.splice(i),o;i++}return r}}class OD{}class ED{constructor(r,e,i,o,a,l,u,p){this.injector=r,this.rootComponentType=e,this.config=i,this.urlTree=o,this.url=a,this.paramsInheritanceStrategy=l,this.relativeLinkResolution=u,this.urlSerializer=p}recognize(){const r=Hu(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,r,sr).pipe((0,xt.U)(e=>{if(null===e)return null;const i=new Vp([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},sr,this.rootComponentType,null,this.urlTree.root,-1,{}),o=new Ql(i,e),a=new L_(this.url,o);return this.inheritParamsAndData(a._root),a}))}inheritParamsAndData(r){const e=r.value,i=Wh(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),r.children.forEach(o=>this.inheritParamsAndData(o))}processSegmentGroup(r,e,i,o){return 0===i.segments.length&&i.hasChildren()?this.processChildren(r,e,i):this.processSegment(r,e,i,i.segments,o)}processChildren(r,e,i){return(0,vi.D)(Object.keys(i.children)).pipe((0,nl.b)(o=>{const a=i.children[o],l=pD(e,o);return this.processSegmentGroup(r,l,a,o)}),(0,ab.R)((o,a)=>o&&a?(o.push(...a),o):null),HS(o=>null!==o),Mp(null),zS(),(0,xt.U)(o=>{if(null===o)return null;const a=qu(o);return function Zp(t){t.sort((r,e)=>r.value.outlet===sr?-1:e.value.outlet===sr?1:r.value.outlet.localeCompare(e.value.outlet))}(a),a}))}processSegment(r,e,i,o,a){return(0,vi.D)(e).pipe((0,nl.b)(l=>this.processSegmentAgainstRoute(l._injector??r,l,i,o,a)),Rc(l=>!!l),(0,ys.K)(l=>{if(Fb(l))return im(i,o,a)?(0,pn.of)([]):(0,pn.of)(null);throw l}))}processSegmentAgainstRoute(r,e,i,o,a){if(e.redirectTo||!G_(e,i,o,a))return(0,pn.of)(null);let l;if("**"===e.path){const u=o.length>0?v_(o).parameters:{},p=Q_(i)+o.length,f=new Vp(o,u,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,qb(e),Ga(e),e.component??e._loadedComponent??null,e,TD(i),p,Zb(e),p);l=(0,pn.of)({snapshot:f,consumedSegments:[],remainingSegments:[]})}else l=Kl(i,e,o,r).pipe((0,xt.U)(({matched:u,consumedSegments:p,remainingSegments:f,parameters:h})=>{if(!u)return null;const y=Q_(i)+p.length;return{snapshot:new Vp(p,h,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,qb(e),Ga(e),e.component??e._loadedComponent??null,e,TD(i),y,Zb(e),y),consumedSegments:p,remainingSegments:f}}));return l.pipe((0,Qn.w)(u=>{if(null===u)return(0,pn.of)(null);const{snapshot:p,consumedSegments:f,remainingSegments:h}=u;r=e._injector??r;const y=e._loadedInjector??r,D=function AD(t){return t.children?t.children:t.loadChildren?t._loadedRoutes:[]}(e),{segmentGroup:E,slicedSegments:k}=Hu(i,f,h,D.filter(L=>void 0===L.redirectTo),this.relativeLinkResolution);if(0===k.length&&E.hasChildren())return this.processChildren(y,D,E).pipe((0,xt.U)(L=>null===L?null:[new Ql(p,L)]));if(0===D.length&&0===k.length)return(0,pn.of)([new Ql(p,[])]);const T=Ga(e)===a;return this.processSegment(y,D,E,k,T?sr:a).pipe((0,xt.U)(L=>null===L?null:[new Ql(p,L)]))}))}}function ju(t){const r=t.value.routeConfig;return r&&""===r.path&&void 0===r.redirectTo}function qu(t){const r=[],e=new Set;for(const i of t){if(!ju(i)){r.push(i);continue}const o=r.find(a=>i.value.routeConfig===a.value.routeConfig);void 0!==o?(o.children.push(...i.children),e.add(o)):r.push(i)}for(const i of e){const o=qu(i.children);r.push(new Ql(i.value,o))}return r.filter(i=>!e.has(i))}function TD(t){let r=t;for(;r._sourceSegment;)r=r._sourceSegment;return r}function Q_(t){let r=t,e=r._segmentIndexShift??0;for(;r._sourceSegment;)r=r._sourceSegment,e+=r._segmentIndexShift??0;return e-1}function qb(t){return t.data||{}}function Zb(t){return t.resolve||{}}function Zu(t){return"string"==typeof t.title||null===t.title}function ev(t){return(0,Qn.w)(r=>{const e=t(r);return e?(0,vi.D)(e).pipe((0,xt.U)(()=>r)):(0,pn.of)(r)})}let Gb=(()=>{class t{buildTitle(e){let i,o=e.root;for(;void 0!==o;)i=this.getResolvedTitleForRoute(o)??i,o=o.children.find(a=>a.outlet===sr);return i}getResolvedTitleForRoute(e){return e.data[Hh]}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=n.Yz7({token:t,factory:function(){return(0,n.f3M)($b)},providedIn:"root"}),t})(),$b=(()=>{class t extends Gb{constructor(e){super(),this.title=e}updateTitle(e){const i=this.buildTitle(e);void 0!==i&&this.title.setTitle(i)}}return t.\u0275fac=function(e){return new(e||t)(n.LFG($0))},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class Wb{}class ND extends class FD{shouldDetach(r){return!1}store(r,e){}shouldAttach(r){return!1}retrieve(r){return null}shouldReuseRoute(r,e){return r.routeConfig===e.routeConfig}}{}const Ma=new n.OlP("",{providedIn:"root",factory:()=>({})}),tv=new n.OlP("ROUTES");let Jb=(()=>{class t{constructor(e,i){this.injector=e,this.compiler=i,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return(0,pn.of)(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const i=jl(e.loadComponent()).pipe(Mi(a=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=a}),m_(()=>{this.componentLoaders.delete(e)})),o=new h_(i,()=>new dn.x).pipe(rb());return this.componentLoaders.set(e,o),o}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return(0,pn.of)({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const a=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe((0,xt.U)(u=>{this.onLoadEndListener&&this.onLoadEndListener(i);let p,f,h=!1;Array.isArray(u)?f=u:(p=u.create(e).injector,f=__(p.get(tv,[],n.XFs.Self|n.XFs.Optional)));return{routes:f.map(Hp),injector:p}}),m_(()=>{this.childrenLoaders.delete(i)})),l=new h_(a,()=>new dn.x).pipe(rb());return this.childrenLoaders.set(i,l),l}loadModuleFactoryOrRoutes(e){return jl(e()).pipe((0,ci.z)(i=>i instanceof n.YKP||Array.isArray(i)?(0,pn.of)(i):(0,vi.D)(this.compiler.compileModuleAsync(i))))}}return t.\u0275fac=function(e){return new(e||t)(n.LFG(n.zs3),n.LFG(n.Sil))},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class y2{}class Xb{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,e){return r}}function Kb(t){throw t}function b2(t,r,e){return r.parse("/")}const eC={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},RD={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function nC(){const t=(0,n.f3M)(pb),r=(0,n.f3M)(Bu),e=(0,n.f3M)(ne),i=(0,n.f3M)(n.zs3),o=(0,n.f3M)(n.Sil),a=(0,n.f3M)(tv,{optional:!0})??[],l=(0,n.f3M)(Ma,{optional:!0})??{},u=(0,n.f3M)($b),p=(0,n.f3M)(Gb,{optional:!0}),f=(0,n.f3M)(y2,{optional:!0}),h=(0,n.f3M)(Wb,{optional:!0}),y=new ti(null,t,r,e,i,o,__(a));return f&&(y.urlHandlingStrategy=f),h&&(y.routeReuseStrategy=h),y.titleStrategy=p??u,function tC(t,r){t.errorHandler&&(r.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(r.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(r.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(r.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(r.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(r.urlUpdateStrategy=t.urlUpdateStrategy),t.canceledNavigationResolution&&(r.canceledNavigationResolution=t.canceledNavigationResolution)}(l,y),y}let ti=(()=>{class t{constructor(e,i,o,a,l,u,p){this.rootComponentType=e,this.urlSerializer=i,this.rootContexts=o,this.location=a,this.config=p,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new dn.x,this.errorHandler=Kb,this.malformedUriErrorHandler=b2,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>(0,pn.of)(void 0),this.urlHandlingStrategy=new Xb,this.routeReuseStrategy=new ND,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=l.get(Jb),this.configLoader.onLoadEndListener=D=>this.triggerEvent(new bb(D)),this.configLoader.onLoadStartListener=D=>this.triggerEvent(new nD(D)),this.ngModule=l.get(n.h0i),this.console=l.get(n.c2e);const y=l.get(n.R0b);this.isNgZoneEnabled=y instanceof n.R0b&&n.R0b.isInAngularZone(),this.resetConfig(p),this.currentUrlTree=function lb(){return new ql(new Jn([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=xb(this.currentUrlTree,this.rootComponentType),this.transitions=new Za.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(e){const i=this.events;return e.pipe((0,pr.h)(o=>0!==o.id),(0,xt.U)(o=>({...o,extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),(0,Qn.w)(o=>{let a=!1,l=!1;return(0,pn.of)(o).pipe(Mi(u=>{this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Qn.w)(u=>{const p=this.browserUrlTree.toString(),f=!this.navigated||u.extractedUrl.toString()!==p||p!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||f)&&this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return rC(u.source)&&(this.browserUrlTree=u.extractedUrl),(0,pn.of)(u).pipe((0,Qn.w)(y=>{const D=this.transitions.getValue();return i.next(new Rp(y.id,this.serializeUrl(y.extractedUrl),y.source,y.restoredState)),D!==this.transitions.getValue()?Ji.E:Promise.resolve(y)}),function DD(t,r,e,i){return(0,Qn.w)(o=>function SD(t,r,e,i,o){return new W_(t,r,e,i,o).apply()}(t,r,e,o.extractedUrl,i).pipe((0,xt.U)(a=>({...o,urlAfterRedirects:a}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),Mi(y=>{this.currentNavigation={...this.currentNavigation,finalUrl:y.urlAfterRedirects},o.urlAfterRedirects=y.urlAfterRedirects}),function Yb(t,r,e,i,o,a){return(0,ci.z)(l=>function _2(t,r,e,i,o,a,l="emptyOnly",u="legacy"){return new ED(t,r,e,i,o,l,u,a).recognize().pipe((0,Qn.w)(p=>null===p?function Hb(t){return new Ui.y(r=>r.error(t))}(new OD):(0,pn.of)(p)))}(t,r,e,l.urlAfterRedirects,i.serialize(l.urlAfterRedirects),i,o,a).pipe((0,xt.U)(u=>({...l,targetSnapshot:u}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),Mi(y=>{if(o.targetSnapshot=y.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!y.extras.skipLocationChange){const E=this.urlHandlingStrategy.merge(y.urlAfterRedirects,y.rawUrl);this.setBrowserUrl(E,y)}this.browserUrlTree=y.urlAfterRedirects}const D=new yb(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot);i.next(D)}));if(f&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:D,extractedUrl:E,source:k,restoredState:T,extras:L}=u,U=new Rp(D,this.serializeUrl(E),k,T);i.next(U);const Y=xb(E,this.rootComponentType).snapshot;return o={...u,targetSnapshot:Y,urlAfterRedirects:E,extras:{...L,skipLocationChange:!1,replaceUrl:!1}},(0,pn.of)(o)}return this.rawUrlTree=u.rawUrl,u.resolve(null),Ji.E}),Mi(u=>{const p=new P_(u.id,this.serializeUrl(u.extractedUrl),this.serializeUrl(u.urlAfterRedirects),u.targetSnapshot);this.triggerEvent(p)}),(0,xt.U)(u=>o={...u,guards:Ib(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),function Nb(t,r){return(0,ci.z)(e=>{const{targetSnapshot:i,currentSnapshot:o,guards:{canActivateChecks:a,canDeactivateChecks:l}}=e;return 0===l.length&&0===a.length?(0,pn.of)({...e,guardsResult:!0}):function Rb(t,r,e,i){return(0,vi.D)(t).pipe((0,ci.z)(o=>function g2(t,r,e,i,o){const a=r&&r.routeConfig?r.routeConfig.canDeactivate:null;if(!a||0===a.length)return(0,pn.of)(!0);const l=a.map(u=>{const p=Vu(r)??o,f=Bc(u,p);return jl(function vD(t){return t&&jp(t.canDeactivate)}(f)?f.canDeactivate(t,r,e,i):p.runInContext(()=>f(t,r,e,i))).pipe(Rc())});return(0,pn.of)(l).pipe(Xl())}(o.component,o.route,e,r,i)),Rc(o=>!0!==o,!0))}(l,i,o,t).pipe((0,ci.z)(u=>u&&function j_(t){return"boolean"==typeof t}(u)?function Lb(t,r,e,i){return(0,vi.D)(r).pipe((0,nl.b)(o=>Eu(function Bb(t,r){return null!==t&&r&&r(new rD(t)),(0,pn.of)(!0)}(o.route.parent,i),function bD(t,r){return null!==t&&r&&r(new Cb(t)),(0,pn.of)(!0)}(o.route,i),function q_(t,r,e){const i=r[r.length-1],a=r.slice(0,r.length-1).reverse().map(l=>function Kh(t){const r=t.routeConfig?t.routeConfig.canActivateChild:null;return r&&0!==r.length?{node:t,guards:r}:null}(l)).filter(l=>null!==l).map(l=>tl(()=>{const u=l.guards.map(p=>{const f=Vu(l.node)??e,h=Bc(p,f);return jl(function _D(t){return t&&jp(t.canActivateChild)}(h)?h.canActivateChild(i,t):f.runInContext(()=>h(i,t))).pipe(Rc())});return(0,pn.of)(u).pipe(Xl())}));return(0,pn.of)(a).pipe(Xl())}(t,o.path,e),function Ub(t,r,e){const i=r.routeConfig?r.routeConfig.canActivate:null;if(!i||0===i.length)return(0,pn.of)(!0);const o=i.map(a=>tl(()=>{const l=Vu(r)??e,u=Bc(a,l);return jl(function gD(t){return t&&jp(t.canActivate)}(u)?u.canActivate(r,t):l.runInContext(()=>u(r,t))).pipe(Rc())}));return(0,pn.of)(o).pipe(Xl())}(t,o.route,e))),Rc(o=>!0!==o,!0))}(i,a,t,r):(0,pn.of)(u)),(0,xt.U)(u=>({...e,guardsResult:u})))})}(this.ngModule.injector,u=>this.triggerEvent(u)),Mi(u=>{if(o.guardsResult=u.guardsResult,il(u.guardsResult))throw Db(0,u.guardsResult);const p=new T_(u.id,this.serializeUrl(u.extractedUrl),this.serializeUrl(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.triggerEvent(p)}),(0,pr.h)(u=>!!u.guardsResult||(this.restoreHistory(u),this.cancelNavigationTransition(u,"",3),!1)),ev(u=>{if(u.guards.canActivateChecks.length)return(0,pn.of)(u).pipe(Mi(p=>{const f=new I_(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot);this.triggerEvent(f)}),(0,Qn.w)(p=>{let f=!1;return(0,pn.of)(p).pipe(function ID(t,r){return(0,ci.z)(e=>{const{targetSnapshot:i,guards:{canActivateChecks:o}}=e;if(!o.length)return(0,pn.of)(e);let a=0;return(0,vi.D)(o).pipe((0,nl.b)(l=>function J_(t,r,e,i){const o=t.routeConfig,a=t._resolve;return void 0!==o?.title&&!Zu(o)&&(a[Hh]=o.title),function X_(t,r,e,i){const o=function kD(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===o.length)return(0,pn.of)({});const a={};return(0,vi.D)(o).pipe((0,ci.z)(l=>function K_(t,r,e,i){const o=Vu(r)??i,a=Bc(t,o);return jl(a.resolve?a.resolve(r,e):o.runInContext(()=>a(r,e)))}(t[l],r,e,i).pipe(Rc(),Mi(u=>{a[l]=u}))),Sp(1),Au(a),(0,ys.K)(l=>Fb(l)?Ji.E:Nc(l)))}(a,t,r,i).pipe((0,xt.U)(l=>(t._resolvedData=l,t.data=Wh(t,e).resolve,o&&Zu(o)&&(t.data[Hh]=o.title),null)))}(l.route,i,t,r)),Mi(()=>a++),Sp(1),(0,ci.z)(l=>a===o.length?(0,pn.of)(e):Ji.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),Mi({next:()=>f=!0,complete:()=>{f||(this.restoreHistory(p),this.cancelNavigationTransition(p,"",2))}}))}),Mi(p=>{const f=new Bp(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot);this.triggerEvent(f)}))}),ev(u=>{const p=f=>{const h=[];f.routeConfig?.loadComponent&&!f.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(f.routeConfig).pipe(Mi(y=>{f.component=y}),(0,xt.U)(()=>{})));for(const y of f.children)h.push(...p(y));return h};return uo(p(u.targetSnapshot.root)).pipe(Mp(),(0,ar.q)(1))}),ev(()=>this.afterPreactivation()),(0,xt.U)(u=>{const p=function oD(t,r,e){const i=zp(t,r._root,e?e._root:void 0);return new $h(i,r)}(this.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return o={...u,targetRouterState:p}}),Mi(u=>{this.currentUrlTree=u.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(u.urlAfterRedirects,u.rawUrl),this.routerState=u.targetRouterState,"deferred"===this.urlUpdateStrategy&&(u.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,u),this.browserUrlTree=u.urlAfterRedirects)}),((t,r,e)=>(0,xt.U)(i=>(new hD(r,i.targetRouterState,i.currentRouterState,e).activate(t),i)))(this.rootContexts,this.routeReuseStrategy,u=>this.triggerEvent(u)),Mi({next(){a=!0},complete(){a=!0}}),m_(()=>{a||l||this.cancelNavigationTransition(o,"",1),this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),(0,ys.K)(u=>{if(l=!0,Ab(u)){Eb(u)||(this.navigated=!0,this.restoreHistory(o,!0));const p=new Lc(o.id,this.serializeUrl(o.extractedUrl),u.message,u.cancellationCode);if(i.next(p),Eb(u)){const f=this.urlHandlingStrategy.merge(u.url,this.rawUrlTree),h={skipLocationChange:o.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||rC(o.source)};this.scheduleNavigation(f,"imperative",null,h,{resolve:o.resolve,reject:o.reject,promise:o.promise})}else o.resolve(!1)}else{this.restoreHistory(o,!0);const p=new Lp(o.id,this.serializeUrl(o.extractedUrl),u,o.targetSnapshot??void 0);i.next(p);try{o.resolve(this.errorHandler(u))}catch(f){o.reject(f)}}return Ji.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next({...this.transitions.value,...e})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{const o={replaceUrl:!0},a=e.state?.navigationId?e.state:null;if(a){const u={...a};delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(o.state=u)}const l=this.parseUrl(e.url);this.scheduleNavigation(l,i,a,o)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){this.config=e.map(Hp),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:o,queryParams:a,fragment:l,queryParamsHandling:u,preserveFragment:p}=i,f=o||this.routerState.root,h=p?this.currentUrlTree.fragment:l;let y=null;switch(u){case"merge":y={...this.currentUrlTree.queryParams,...a};break;case"preserve":y=this.currentUrlTree.queryParams;break;default:y=a||null}return null!==y&&(y=this.removeEmptyProps(y)),eD(f,this.currentUrlTree,e,y,h??null)}navigateByUrl(e,i={skipLocationChange:!1}){const o=il(e)?e:this.parseUrl(e),a=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(a,"imperative",null,i)}navigate(e,i={skipLocationChange:!1}){return function $a(t){for(let r=0;r<t.length;r++){if(null==t[r])throw new n.vHH(4008,false)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(o){i=this.malformedUriErrorHandler(o,this.urlSerializer,e)}return i}isActive(e,i){let o;if(o=!0===i?{...eC}:!1===i?{...RD}:i,il(e))return ub(this.currentUrlTree,e,o);const a=this.parseUrl(e);return ub(this.currentUrlTree,a,o)}removeEmptyProps(e){return Object.keys(e).reduce((i,o)=>{const a=e[o];return null!=a&&(i[o]=a),i},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new $l(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,i,o,a,l){if(this.disposed)return Promise.resolve(!1);let u,p,f;l?(u=l.resolve,p=l.reject,f=l.promise):f=new Promise((D,E)=>{u=D,p=E});const h=++this.navigationId;let y;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(o=this.location.getState()),y=o&&o.\u0275routerPageId?o.\u0275routerPageId:a.replaceUrl||a.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):y=0,this.setTransition({id:h,targetPageId:y,source:i,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:a,resolve:u,reject:p,promise:f,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),f.catch(D=>Promise.reject(D))}setBrowserUrl(e,i){const o=this.urlSerializer.serialize(e),a={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.isCurrentPathEqualTo(o)||i.extras.replaceUrl?this.location.replaceState(o,"",a):this.location.go(o,"",a)}restoreHistory(e,i=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===o?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===o&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(o)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,i,o){const a=new Lc(e.id,this.serializeUrl(e.extractedUrl),i,o);this.triggerEvent(a),e.resolve(!1)}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return t.\u0275fac=function(e){n.$Z()},t.\u0275prov=n.Yz7({token:t,factory:function(){return nC()},providedIn:"root"}),t})();function rC(t){return"imperative"!==t}let sl=(()=>{class t{constructor(e,i,o,a,l){this.router=e,this.route=i,this.tabIndexAttribute=o,this.renderer=a,this.el=l,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.onChanges=new dn.x,this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(e){this._preserveFragment=(0,n.D6c)(e)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(e){this._skipLocationChange=(0,n.D6c)(e)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(e){this._replaceUrl=(0,n.D6c)(e)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(e){if(null!=this.tabIndexAttribute)return;const i=this.renderer,o=this.el.nativeElement;null!==e?i.setAttribute(o,"tabindex",e):i.removeAttribute(o,"tabindex")}ngOnChanges(e){this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){return null===this.urlTree||this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(ti),n.Y36(zi),n.$8M("tabindex"),n.Y36(n.Qsj),n.Y36(n.SBq))},t.\u0275dir=n.lG2({type:t,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,i){1&e&&n.NdJ("click",function(){return i.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[n.TTD]}),t})();class iC{}let VD=(()=>{class t{constructor(e,i,o,a,l){this.router=e,this.injector=o,this.preloadingStrategy=a,this.loader=l}setUpPreloading(){this.subscription=this.router.events.pipe((0,pr.h)(e=>e instanceof $l),(0,nl.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const o=[];for(const a of i){a.providers&&!a._injector&&(a._injector=(0,n.MMx)(a.providers,e,`Route: ${a.path}`));const l=a._injector??e,u=a._loadedInjector??l;a.loadChildren&&!a._loadedRoutes&&void 0===a.canLoad||a.loadComponent&&!a._loadedComponent?o.push(this.preloadConfig(l,a)):(a.children||a._loadedRoutes)&&o.push(this.processRoutes(u,a.children??a._loadedRoutes))}return(0,vi.D)(o).pipe((0,el.J)())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let o;o=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(e,i):(0,pn.of)(null);const a=o.pipe((0,ci.z)(l=>null===l?(0,pn.of)(void 0):(i._loadedRoutes=l.routes,i._loadedInjector=l.injector,this.processRoutes(l.injector??e,l.routes))));if(i.loadComponent&&!i._loadedComponent){const l=this.loader.loadComponent(i);return(0,vi.D)([a,l]).pipe((0,el.J)())}return a})}}return t.\u0275fac=function(e){return new(e||t)(n.LFG(ti),n.LFG(n.Sil),n.LFG(n.lqb),n.LFG(iC),n.LFG(Jb))},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const iv=new n.OlP("");let Un=(()=>{class t{constructor(e,i,o={}){this.router=e,this.viewportScroller=i,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Rp?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof $l&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Up&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.router.triggerEvent(new Up(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){n.$Z()},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac}),t})();function Gu(t,r){return{\u0275kind:t,\u0275providers:r}}function av(t){return[{provide:tv,multi:!0,useValue:t}]}function oC(){const t=(0,n.f3M)(n.zs3);return r=>{const e=t.get(n.z2F);if(r!==e.components[0])return;const i=t.get(ti),o=t.get(sv);1===t.get(lv)&&i.initialNavigation(),t.get(cv,null,n.XFs.Optional)?.setUpPreloading(),t.get(iv,null,n.XFs.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),o.closed||(o.next(),o.unsubscribe())}}const sv=new n.OlP("",{factory:()=>new dn.x}),lv=new n.OlP("",{providedIn:"root",factory:()=>1});const cv=new n.OlP("");function Vc(t){return Gu(0,[{provide:cv,useExisting:VD},{provide:iC,useExisting:t}])}const lC=new n.OlP("ROUTER_FORROOT_GUARD"),M2=[ne,{provide:pb,useClass:jh},{provide:ti,useFactory:nC},Bu,{provide:zi,useFactory:function ov(t){return t.routerState.root},deps:[ti]},Jb];function S2(){return new n.PXZ("Router",ti)}let Jo=(()=>{class t{constructor(e){}static forRoot(e,i){return{ngModule:t,providers:[M2,[],av(e),{provide:lC,useFactory:ZD,deps:[[ti,new n.FiY,new n.tp0]]},{provide:Ma,useValue:i||{}},i?.useHash?{provide:P,useClass:Q}:{provide:P,useClass:$},{provide:iv,useFactory:()=>{const t=(0,n.f3M)(ti),r=(0,n.f3M)(D0),e=(0,n.f3M)(Ma);return e.scrollOffset&&r.setOffset(e.scrollOffset),new Un(t,r,e)}},i?.preloadingStrategy?Vc(i.preloadingStrategy).\u0275providers:[],{provide:n.PXZ,multi:!0,useFactory:S2},i?.initialNavigation?Wu(i):[],[{provide:uC,useFactory:oC},{provide:n.tb,multi:!0,useExisting:uC}]]}}static forChild(e){return{ngModule:t,providers:[av(e)]}}}return t.\u0275fac=function(e){return new(e||t)(n.LFG(lC,8))},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[Uu]}),t})();function ZD(t){return"guarded"}function Wu(t){return["disabled"===t.initialNavigation?Gu(3,[{provide:n.ip1,multi:!0,useFactory:()=>{const r=(0,n.f3M)(ti);return()=>{r.setUpLocationChangeListener()}}},{provide:lv,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?Gu(2,[{provide:lv,useValue:0},{provide:n.ip1,multi:!0,deps:[n.zs3],useFactory:r=>{const e=r.get(M,Promise.resolve());let i=!1;return()=>e.then(()=>new Promise(a=>{const l=r.get(ti),u=r.get(sv);(function o(a){r.get(ti).events.pipe((0,pr.h)(u=>u instanceof $l||u instanceof Lc||u instanceof Lp),(0,xt.U)(u=>u instanceof $l||u instanceof Lc&&(0===u.code||1===u.code)&&null),(0,pr.h)(u=>null!==u),(0,ar.q)(1)).subscribe(()=>{a()})})(()=>{a(!0),i=!0}),l.afterPreactivation=()=>(a(!0),i||u.closed?(0,pn.of)(void 0):u),l.initialNavigation()}))}}]).\u0275providers:[]]}const uC=new n.OlP("");var Oe=se(9653),Mo=se(6451),YD=se(5032);function pC(){return(0,wo.e)((t,r)=>{t.subscribe((0,Vi.x)(r,YD.Z))})}class ll{constructor(r,e,i){this.kind=r,this.value=e,this.error=i,this.hasValue="N"===r}observe(r){return fC(this,r)}do(r,e,i){const{kind:o,value:a,error:l}=this;return"N"===o?r?.(a):"E"===o?e?.(l):i?.()}accept(r,e,i){var o;return(0,vs.m)(null===(o=r)||void 0===o?void 0:o.next)?this.observe(r):this.do(r,e,i)}toObservable(){const{kind:r,value:e,error:i}=this,o="N"===r?(0,pn.of)(e):"E"===r?Nc(()=>i):"C"===r?Ji.E:0;if(!o)throw new TypeError(`Unexpected notification kind ${r}`);return o}static createNext(r){return new ll("N",r)}static createError(r){return new ll("E",void 0,r)}static createComplete(){return ll.completeNotification}}function fC(t,r){var e,i,o;const{kind:a,value:l,error:u}=t;if("string"!=typeof a)throw new TypeError('Invalid notification, missing "kind"');"N"===a?null===(e=r.next)||void 0===e||e.call(r,l):"E"===a?null===(i=r.error)||void 0===i||i.call(r,u):null===(o=r.complete)||void 0===o||o.call(r)}function mC(t,r,e,i){return(0,wo.e)((o,a)=>{let l;r&&"function"!=typeof r?({duration:e,element:l,connector:i}=r):l=r;const u=new Map,p=k=>{u.forEach(k),k(a)},f=k=>p(T=>T.error(k));let h=0,y=!1;const D=new Vi.Q(a,k=>{try{const T=t(k);let L=u.get(T);if(!L){u.set(T,L=i?i():new dn.x);const U=function E(k,T){const L=new Ui.y(U=>{h++;const Y=T.subscribe(U);return()=>{Y.unsubscribe(),0==--h&&y&&D.unsubscribe()}});return L.key=k,L}(T,L);if(a.next(U),e){const Y=(0,Vi.x)(L,()=>{L.complete(),Y?.unsubscribe()},void 0,void 0,()=>u.delete(T));D.add((0,Ya.Xf)(e(U)).subscribe(Y))}}L.next(l?l(k):k)}catch(T){f(T)}},()=>p(k=>k.complete()),f,()=>u.clear(),()=>(y=!0,0===h));o.subscribe(D)})}function dv(t,r){return r?e=>e.pipe(dv((i,o)=>(0,Ya.Xf)(t(i,o)).pipe((0,xt.U)((a,l)=>r(i,a,o,l))))):(0,wo.e)((e,i)=>{let o=0,a=null,l=!1;e.subscribe((0,Vi.x)(i,u=>{a||(a=(0,Vi.x)(i,void 0,()=>{a=null,l&&i.complete()}),(0,Ya.Xf)(t(u,o++)).subscribe(a))},()=>{l=!0,!a&&i.complete()}))})}ll.completeNotification=new ll("C");const sm={dispatch:!0,useEffectsErrorHandler:!0},pv="__@ngrx/effects_create__";function br(t,r){const e=t(),i={...sm,...r};return Object.defineProperty(e,pv,{value:i}),e}function GD(t){return Object.getOwnPropertyNames(t).filter(i=>!(!t[i]||!t[i].hasOwnProperty(pv))&&t[i][pv].hasOwnProperty("dispatch")).map(i=>({propertyName:i,...t[i][pv]}))}function _C(t){return Object.getPrototypeOf(t)}const cl="__@ngrx/effects__";function vC(t){return(0,Oe.qC)(yC,_C)(t)}function yC(t){return function Gp(t){return t.constructor.hasOwnProperty(cl)}(t)?t.constructor[cl]:[]}function ul(t,r,e){const i=_C(t).constructor.name,o=function lm(t){return[vC,GD].reduce((e,i)=>e.concat(i(t)),[])}(t).map(({propertyName:a,dispatch:l,useEffectsErrorHandler:u})=>{const p="function"==typeof t[a]?t[a]():t[a],f=u?e(p,r):p;return!1===l?f.pipe(pC()):f.pipe(function hC(){return(0,wo.e)((t,r)=>{t.subscribe((0,Vi.x)(r,e=>{r.next(ll.createNext(e))},()=>{r.next(ll.createComplete()),r.complete()},e=>{r.next(ll.createError(e)),r.complete()}))})}()).pipe((0,xt.U)(y=>({effect:t[a],notification:y,propertyName:a,sourceName:i,sourceInstance:t})))});return(0,Mo.T)(...o)}function hv(t,r,e=10){return t.pipe((0,ys.K)(i=>(r&&r.handleError(i),e<=1?t:hv(t,r,e-1))))}let eo=(()=>{class t extends Ui.y{constructor(e){super(),e&&(this.source=e)}lift(e){const i=new t;return i.source=this,i.operator=e,i}}return t.\u0275fac=function(e){return new(e||t)(n.LFG(Oe.Y$))},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Yn(...t){return(0,pr.h)(r=>t.some(e=>"string"==typeof e?e===r.type:e.type===r.type))}const mv=new n.OlP("@ngrx/effects Internal Root Guard"),gv=new n.OlP("@ngrx/effects User Provided Effects"),Qu=new n.OlP("@ngrx/effects Internal Root Effects"),$p=new n.OlP("@ngrx/effects Root Effects"),cm=new n.OlP("@ngrx/effects Internal Feature Effects"),um=new n.OlP("@ngrx/effects Feature Effects"),_v=new n.OlP("@ngrx/effects Effects Error Handler",{providedIn:"root",factory:()=>hv}),WD="@ngrx/effects/init";function tO(t){return Wp(t,"ngrxOnInitEffects")}function Wp(t,r){return t&&r in t&&"function"==typeof t[r]}(0,Oe.PH)(WD);let wC=(()=>{class t extends dn.x{constructor(e,i){super(),this.errorHandler=e,this.effectsErrorHandler=i}addEffects(e){this.next(e)}toActions(){return this.pipe(mC(_C),(0,ci.z)(e=>e.pipe(mC(T2))),(0,ci.z)(e=>{const i=e.pipe(dv(a=>function I2(t,r){return e=>{const i=ul(e,t,r);return function CC(t){return Wp(t,"ngrxOnRunEffects")}(e)?e.ngrxOnRunEffects(i):i}}(this.errorHandler,this.effectsErrorHandler)(a)),(0,xt.U)(a=>(function JD(t,r){if("N"===t.notification.kind){const e=t.notification.value;!function XD(t){return"function"!=typeof t&&t&&t.type&&"string"==typeof t.type}(e)&&r.handleError(new Error(`Effect ${function KD({propertyName:t,sourceInstance:r,sourceName:e}){const i="function"==typeof r[t];return`"${e}.${String(t)}${i?"()":""}"`}(t)} dispatched an invalid action: ${function bC(t){try{return JSON.stringify(t)}catch{return t}}(e)}`))}}(a,this.errorHandler),a.notification)),(0,pr.h)(a=>"N"===a.kind&&null!=a.value),function gC(){return(0,wo.e)((t,r)=>{t.subscribe((0,Vi.x)(r,e=>fC(e,r)))})}()),o=e.pipe((0,ar.q)(1),(0,pr.h)(tO),(0,xt.U)(a=>a.ngrxOnInitEffects()));return(0,Mo.T)(i,o)}))}}return t.\u0275fac=function(e){return new(e||t)(n.LFG(n.qLn),n.LFG(_v))},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function T2(t){return function eO(t){return Wp(t,"ngrxOnIdentifyEffects")}(t)?t.ngrxOnIdentifyEffects():""}let MC=(()=>{class t{constructor(e,i){this.effectSources=e,this.store=i,this.effectsSubscription=null}get isStarted(){return!!this.effectsSubscription}start(){this.effectsSubscription||(this.effectsSubscription=this.effectSources.toActions().subscribe(this.store))}ngOnDestroy(){this.effectsSubscription&&(this.effectsSubscription.unsubscribe(),this.effectsSubscription=null)}}return t.\u0275fac=function(e){return new(e||t)(n.LFG(wC),n.LFG(Oe.yh))},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),nO=(()=>{class t{constructor(e,i,o,a,l,u,p){this.sources=e,i.start(),a.forEach(f=>e.addEffects(f)),o.dispatch({type:WD})}addEffects(e){this.sources.addEffects(e)}}return t.\u0275fac=function(e){return new(e||t)(n.LFG(wC),n.LFG(MC),n.LFG(Oe.yh),n.LFG($p),n.LFG(Oe.cr,8),n.LFG(Oe.CK,8),n.LFG(mv,8))},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({}),t})(),k2=(()=>{class t{constructor(e,i,o,a){i.forEach(l=>l.forEach(u=>e.addEffects(u)))}}return t.\u0275fac=function(e){return new(e||t)(n.LFG(nO),n.LFG(um),n.LFG(Oe.cr,8),n.LFG(Oe.CK,8))},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({}),t})(),dm=(()=>{class t{static forFeature(e=[]){return{ngModule:k2,providers:[e,{provide:cm,multi:!0,useValue:e},{provide:gv,multi:!0,useValue:[]},{provide:um,multi:!0,useFactory:rO,deps:[n.zs3,cm,gv]}]}}static forRoot(e=[]){return{ngModule:nO,providers:[e,{provide:Qu,useValue:[e]},{provide:mv,useFactory:N2,deps:[[MC,new n.FiY,new n.tp0],[Qu,new n.PiD]]},{provide:gv,multi:!0,useValue:[]},{provide:$p,useFactory:rO,deps:[n.zs3,Qu,gv]}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({}),t})();function rO(t,r,e){const i=[];for(const o of r)i.push(...o);for(const o of e)i.push(...o);return function F2(t,r){return r.map(e=>t.get(e))}(t,i)}function N2(t,r){if((1!==r.length||0!==r[0].length)&&t)throw new TypeError("EffectsModule.forRoot() called twice. Feature modules should use EffectsModule.forFeature() instead.");return"guarded"}var DC=se(825);const yn={production:!0,api:window.APTO_API,aptoInline:window.AptoInline,pluginManager:window.PluginManager,defaultLocale:"de_DE",defaultCurrency:{displayCurrency:{symbol:"\u20ac",name:"Euro",currency:"EUR",factor:1},shopCurrency:{symbol:"\u20ac",name:"Euro",currency:"EUR",factor:1}},defaultCustomerGroup:{id:"00000000-0000-0000-0000-000000000000",name:"Internal",inputGross:!0,showGross:!0},showPrices:!0};var Ms=(()=>{return(t=Ms||(Ms={})).InitShop="[Shops] Init Shop",t.InitShopSuccess="[Shops] Init Shop success",t.DeleteBasketItem="[Shops] Delete Basket Item",t.DeleteBasketAllItems="[Shops] Delete Basket All Items",t.DeleteBasketItemSuccess="[Shops] Delete Basket Item Success",Ms;var t})();const ec=(0,Oe.PH)(Ms.InitShop),Qa=(0,Oe.PH)(Ms.InitShopSuccess,(0,Oe.Ky)()),Qp=(0,Oe.PH)(Ms.DeleteBasketItem,(0,Oe.Ky)()),OC=(0,Oe.PH)(Ms.DeleteBasketAllItems,(0,Oe.Ky)()),yv=(0,Oe.PH)(Ms.DeleteBasketItemSuccess),iO=(0,Oe.Lq)({snippets:[]},(0,Oe.on)(Qa,(t,r)=>({...t,snippets:r.payload.contentSnippets,loading:!1})));var Hc=(()=>((Hc||(Hc={})).SetLocale="[Language] Set Locale",Hc))();const jc=(0,Oe.PH)(Hc.SetLocale,(0,Oe.Ky)()),Ju=(0,Oe.Lq)({languages:[],locale:null},(0,Oe.on)(Qa,(t,r)=>({...t,languages:r.payload.languages,locale:r.payload.locale})),(0,Oe.on)(jc,(t,r)=>({...t,locale:r.payload}))),Jp={shop:null,connector:{sessionCookies:[],user:null,loggedIn:!1,taxState:"gross",customerGroup:yn.defaultCustomerGroup,displayCurrency:yn.defaultCurrency.displayCurrency,shopCurrency:yn.defaultCurrency.shopCurrency,basket:{amount:"0,00 \u20ac",quantity:0,articles:[]},customerGroupExternalId:null,configured:!1},loading:!1},AC=(0,Oe.Lq)(Jp,(0,Oe.on)(ec,t=>({...t,loading:!0})),(0,Oe.on)(Qa,(t,r)=>({...t,shop:r.payload.shop,connector:r.payload.connector,loading:!1})),(0,Oe.on)(Qp,(t,r)=>({...t,loading:!0})),(0,Oe.on)(yv,(t,r)=>({...t,loading:!1})));var po=(()=>{return(t=po||(po={})).Login="[FrontendUser] Login",t.LoginSuccess="[FrontendUser] Login Success",t.LoginError="[FrontendUser] Login Error",t.Logout="[FrontendUser] Logout",t.LogoutSuccess="[FrontendUser] Logout Success",t.LoginStatus="[FrontendUser] Login Status",t.LoginStatusSuccess="[FrontendUser] Login Status Success",t.ResetPassword="[FrontendUser] ResetPassword",t.ResetPasswordSuccess="[FrontendUser] ResetPasswordSuccess",t.UpdatePassword="[FrontendUser] UpdatePassword",t.UpdatePasswordSuccess="[FrontendUser] UpdatePasswordSuccess",po;var t})();const pm=(0,Oe.PH)(po.Login,(0,Oe.Ky)()),fm=(0,Oe.PH)(po.LoginSuccess,(0,Oe.Ky)()),hm=(0,Oe.PH)(po.LoginError),TC=(0,Oe.PH)(po.Logout),IC=(0,Oe.PH)(po.LogoutSuccess),kC=(0,Oe.PH)(po.LoginStatus),xv=(0,Oe.PH)(po.LoginStatusSuccess,(0,Oe.Ky)()),FC=(0,Oe.PH)(po.ResetPassword,(0,Oe.Ky)()),mm=(0,Oe.PH)(po.ResetPasswordSuccess),wv=(0,Oe.PH)(po.UpdatePassword,(0,Oe.Ky)()),Mv=(0,Oe.PH)(po.UpdatePasswordSuccess),NC=(0,Oe.Lq)({currentUser:null,loginError:!1,initialized:!1},(0,Oe.on)(fm,(t,r)=>({...t,currentUser:r.payload.currentUser,loginError:!1})),(0,Oe.on)(hm,(t,r)=>({...t,currentUser:null,loginError:!0})),(0,Oe.on)(IC,(t,r)=>({...t,currentUser:null})),(0,Oe.on)(xv,(t,r)=>({...t,currentUser:r.payload.currentUser,initialized:!0}))),sO="aptoBase",Ko=(0,Oe.ZF)(sO),Sv={contentSnippets:function oO(t,r){return iO(t,r)},language:function Cv(t,r){return Ju(t,r)},shop:function PC(t,r){return AC(t,r)},frontendUser:function aO(t,r){return NC(t,r)}},Xu=(0,Oe.P1)(Ko,t=>t.shop.shop),RC=(0,Oe.P1)(Ko,t=>t.shop.connector),lO=(0,Oe.P1)(Ko,t=>t.shop.loading),qc=(0,Oe.P1)(Ko,t=>({taxState:t.shop.connector.taxState,shopCurrency:t.shop.connector.shopCurrency,displayCurrency:t.shop.connector.displayCurrency,customerGroupExternalId:t.shop.connector.customerGroupExternalId,customerGroup:t.shop.connector.customerGroup,sessionCookies:t.shop.connector.sessionCookies,locale:t.language.locale?t.language.locale:yn.defaultLocale,configured:t.shop.connector.configured,user:t.shop.connector.user,loggedIn:t.shop.connector.loggedIn})),LC=(0,Oe.P1)(Ko,t=>{let r=0,e=t.shop.connector.basket.articles;for(let i=0;i<e.length;i++)r+=e[i].quantity;return r}),Dv=(0,Oe.P1)(Ko,t=>!!t.frontendUser.currentUser&&t.frontendUser.currentUser.isLoggedIn),Ku=(0,Oe.P1)(Ko,t=>t.frontendUser.currentUser?t.frontendUser.currentUser:null),cO=(0,Oe.P1)(Ko,t=>t.frontendUser.loginError),uO=(0,Oe.P1)(Ko,t=>t.frontendUser.initialized),un=((0,Oe.P1)(Ko,t=>t.contentSnippets),t=>(0,Oe.P1)(Ko,r=>{const e=t.split("."),o=(a,l,u)=>{for(let p=0;p<a.length;p++){const f=a[p];if(f.name===l){if(u===e.length)return f;if(f.children)return u++,o(f.children,e[u-1],u)}}return null};return o(r.contentSnippets.snippets,e[0],1)})),pO=(0,Oe.P1)(Ko,t=>t.language.languages),lr=(0,Oe.P1)(Ko,t=>t.language.locale);function Pn(t,r){const e=yn.defaultLocale;if(!t)return"";if(t[r])return t[r];if(t[e])return t[e];for(let i in t)if(t.hasOwnProperty(i))return t[i];return""}let gm=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class to{}to.components=new Map;let fo=(()=>{class t{constructor(e){this.viewContainerRef=e}ngOnInit(){if(!this.identifier)return;this.viewContainerRef.clear();const e=to.components.get(this.identifier);if(e){const i=this.viewContainerRef.createComponent(e);this.component=i.instance,this.component.section=this.section,this.component.element=this.element,this.component.product=this.product}}ngOnChanges(e){!this.component||(this.component.section=this.section,this.component.element=this.element,this.component.product=this.product)}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(n.s_b))},t.\u0275cmp=n.Xpm({type:t,selectors:[["apto-slot-outlet"]],inputs:{identifier:"identifier",section:"section",element:"element",product:"product"},features:[n.TTD],decls:0,vars:0,template:function(e,i){},encapsulation:2}),t})();function Cn(t){return null!=t&&"false"!=`${t}`}function Sa(t,r=0){return function fO(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}(t)?Number(t):r}function _m(t){return Array.isArray(t)?t:[t]}function ui(t){return null==t?"":"string"==typeof t?t:`${t}px`}function dl(t){return t instanceof n.SBq?t.nativeElement:t}var vm=se(1144);const Ov=["addListener","removeListener"],ym=["addEventListener","removeEventListener"],B2=["on","off"];function tc(t,r,e,i){if((0,vs.m)(e)&&(i=e,e=void 0),i)return tc(t,r,e).pipe(xp(i));const[o,a]=function VC(t){return(0,vs.m)(t.addEventListener)&&(0,vs.m)(t.removeEventListener)}(t)?ym.map(l=>u=>t[l](r,u,e)):function BC(t){return(0,vs.m)(t.addListener)&&(0,vs.m)(t.removeListener)}(t)?Ov.map(hO(t,r)):function UC(t){return(0,vs.m)(t.on)&&(0,vs.m)(t.off)}(t)?B2.map(hO(t,r)):[];if(!o&&(0,vm.z)(t))return(0,ci.z)(l=>tc(l,r,e))((0,Ya.Xf)(t));if(!o)throw new TypeError("Invalid event target");return new Ui.y(l=>{const u=(...p)=>l.next(1<p.length?p:p[0]);return o(u),()=>a(u)})}function hO(t,r){return e=>i=>t[e](r,i)}var Ev=se(4408);const Zc={schedule(t){let r=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=Zc;i&&(r=i.requestAnimationFrame,e=i.cancelAnimationFrame);const o=r(a=>{e=void 0,t(a)});return new Yr.w0(()=>e?.(o))},requestAnimationFrame(...t){const{delegate:r}=Zc;return(r?.requestAnimationFrame||requestAnimationFrame)(...t)},cancelAnimationFrame(...t){const{delegate:r}=Zc;return(r?.cancelAnimationFrame||cancelAnimationFrame)(...t)},delegate:void 0};var Xp=se(7565);new class bm extends Xp.v{flush(r){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let o;r=r||i.shift();do{if(o=r.execute(r.state,r.delay))break}while((r=i[0])&&r.id===e&&i.shift());if(this._active=!1,o){for(;(r=i[0])&&r.id===e&&i.shift();)r.unsubscribe();throw o}}}(class pl extends Ev.o{constructor(r,e){super(r,e),this.scheduler=r,this.work=e}requestAsyncId(r,e,i=0){return null!==i&&i>0?super.requestAsyncId(r,e,i):(r.actions.push(this),r._scheduled||(r._scheduled=Zc.requestAnimationFrame(()=>r.flush(void 0))))}recycleAsyncId(r,e,i=0){var o;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(r,e,i);const{actions:a}=r;null!=e&&(null===(o=a[a.length-1])||void 0===o?void 0:o.id)!==e&&(Zc.cancelAnimationFrame(e),r._scheduled=void 0)}});let Cm,Av=1;const xm={};function zC(t){return t in xm&&(delete xm[t],!0)}const ef={setImmediate(t){const r=Av++;return xm[r]=!0,Cm||(Cm=Promise.resolve()),Cm.then(()=>zC(r)&&t()),r},clearImmediate(t){zC(t)}},{setImmediate:z2,clearImmediate:mO}=ef,Pv={setImmediate(...t){const{delegate:r}=Pv;return(r?.setImmediate||z2)(...t)},clearImmediate(t){const{delegate:r}=Pv;return(r?.clearImmediate||mO)(t)},delegate:void 0};new class _O extends Xp.v{flush(r){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let o;r=r||i.shift();do{if(o=r.execute(r.state,r.delay))break}while((r=i[0])&&r.id===e&&i.shift());if(this._active=!1,o){for(;(r=i[0])&&r.id===e&&i.shift();)r.unsubscribe();throw o}}}(class gO extends Ev.o{constructor(r,e){super(r,e),this.scheduler=r,this.work=e}requestAsyncId(r,e,i=0){return null!==i&&i>0?super.requestAsyncId(r,e,i):(r.actions.push(this),r._scheduled||(r._scheduled=Pv.setImmediate(r.flush.bind(r,void 0))))}recycleAsyncId(r,e,i=0){var o;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(r,e,i);const{actions:a}=r;null!=e&&(null===(o=a[a.length-1])||void 0===o?void 0:o.id)!==e&&(Pv.clearImmediate(e),r._scheduled=void 0)}});var tf=se(4986),Tv=se(3532),CO=se(1165);function HC(t=0,r,e=tf.P){let i=-1;return null!=r&&((0,Tv.K)(r)?e=r:i=r),new Ui.y(o=>{let a=(0,CO.q)(t)?+t-e.now():t;a<0&&(a=0);let l=0;return e.schedule(function(){o.closed||(o.next(l++),0<=i?this.schedule(void 0,i):o.complete())},a)})}function jC(t,r=tf.z){return function bO(t){return(0,wo.e)((r,e)=>{let i=!1,o=null,a=null,l=!1;const u=()=>{if(a?.unsubscribe(),a=null,i){i=!1;const f=o;o=null,e.next(f)}l&&e.complete()},p=()=>{a=null,l&&e.complete()};r.subscribe((0,Vi.x)(e,f=>{i=!0,o=f,a||(0,Ya.Xf)(t(f)).subscribe(a=(0,Vi.x)(e,u,p))},()=>{l=!0,(!i||!a||a.closed)&&e.complete()}))})}(()=>HC(t,r))}var Zn=se(2722);let Iv;try{Iv=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Iv=!1}let Da,Di=(()=>{class t{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function oS(t){return t===xh}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Iv)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return t.\u0275fac=function(e){return new(e||t)(n.LFG(n.Lbi))},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const xO=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function ed(){if(Da)return Da;if("object"!=typeof document||!document)return Da=new Set(xO),Da;let t=document.createElement("input");return Da=new Set(xO.filter(r=>(t.setAttribute("type",r),t.type===r))),Da}let nf,wm,ho,fl;function nc(t){return function wO(){if(null==nf&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>nf=!0}))}finally{nf=nf||!1}return nf}()?t:!!t.capture}function td(){if(null==ho){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return ho=!1,ho;if("scrollBehavior"in document.documentElement.style)ho=!0;else{const t=Element.prototype.scrollTo;ho=!!t&&!/\{\s*\[native code\]\s*\}/.test(t.toString())}}return ho}function Oi(){if("object"!=typeof document||!document)return 0;if(null==wm){const t=document.createElement("div"),r=t.style;t.dir="rtl",r.width="1px",r.overflow="auto",r.visibility="hidden",r.pointerEvents="none",r.position="absolute";const e=document.createElement("div"),i=e.style;i.width="2px",i.height="1px",t.appendChild(e),document.body.appendChild(t),wm=0,0===t.scrollLeft&&(t.scrollLeft=1,wm=0===t.scrollLeft?1:2),t.remove()}return wm}function ea(t){if(function Mm(){if(null==fl){const t=typeof document<"u"?document.head:null;fl=!(!t||!t.createShadowRoot&&!t.attachShadow)}return fl}()){const r=t.getRootNode?t.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&r instanceof ShadowRoot)return r}return null}function rf(){let t=typeof document<"u"&&document?document.activeElement:null;for(;t&&t.shadowRoot;){const r=t.shadowRoot.activeElement;if(r===t)break;t=r}return t}function Oa(t){return t.composedPath?t.composedPath()[0]:t.target}function rc(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}const nd=new n.OlP("cdk-dir-doc",{providedIn:"root",factory:function rd(){return(0,n.f3M)(I)}}),id=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let So=(()=>{class t{constructor(e){if(this.value="ltr",this.change=new n.vpe,e){const o=e.documentElement?e.documentElement.dir:null;this.value=function od(t){const r=t?.toLowerCase()||"";return"auto"===r&&typeof navigator<"u"&&navigator?.language?id.test(navigator.language)?"rtl":"ltr":"rtl"===r?"rtl":"ltr"}((e.body?e.body.dir:null)||o||"ltr")}}ngOnDestroy(){this.change.complete()}}return t.\u0275fac=function(e){return new(e||t)(n.LFG(nd,8))},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Ja=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({}),t})(),Sm=(()=>{class t{constructor(e,i,o){this._ngZone=e,this._platform=i,this._scrolled=new dn.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=o}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new Ui.y(i=>{this._globalSubscription||this._addGlobalListener();const o=e>0?this._scrolled.pipe(jC(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{o.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,pn.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const o=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe((0,pr.h)(a=>!a||o.indexOf(a)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((o,a)=>{this._scrollableContainsElement(a,e)&&i.push(a)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let o=dl(i),a=e.getElementRef().nativeElement;do{if(o==a)return!0}while(o=o.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>tc(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return t.\u0275fac=function(e){return new(e||t)(n.LFG(n.R0b),n.LFG(Di),n.LFG(I,8))},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Dm=(()=>{class t{constructor(e,i,o,a){this.elementRef=e,this.scrollDispatcher=i,this.ngZone=o,this.dir=a,this._destroyed=new dn.x,this._elementScrolled=new Ui.y(l=>this.ngZone.runOutsideAngular(()=>tc(this.elementRef.nativeElement,"scroll").pipe((0,Zn.R)(this._destroyed)).subscribe(l)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){const i=this.elementRef.nativeElement,o=this.dir&&"rtl"==this.dir.value;null==e.left&&(e.left=o?e.end:e.start),null==e.right&&(e.right=o?e.start:e.end),null!=e.bottom&&(e.top=i.scrollHeight-i.clientHeight-e.bottom),o&&0!=Oi()?(null!=e.left&&(e.right=i.scrollWidth-i.clientWidth-e.left),2==Oi()?e.left=e.right:1==Oi()&&(e.left=e.right?-e.right:e.right)):null!=e.right&&(e.left=i.scrollWidth-i.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){const i=this.elementRef.nativeElement;td()?i.scrollTo(e):(null!=e.top&&(i.scrollTop=e.top),null!=e.left&&(i.scrollLeft=e.left))}measureScrollOffset(e){const i="left",o="right",a=this.elementRef.nativeElement;if("top"==e)return a.scrollTop;if("bottom"==e)return a.scrollHeight-a.clientHeight-a.scrollTop;const l=this.dir&&"rtl"==this.dir.value;return"start"==e?e=l?o:i:"end"==e&&(e=l?i:o),l&&2==Oi()?e==i?a.scrollWidth-a.clientWidth-a.scrollLeft:a.scrollLeft:l&&1==Oi()?e==i?a.scrollLeft+a.scrollWidth-a.clientWidth:-a.scrollLeft:e==i?a.scrollLeft:a.scrollWidth-a.clientWidth-a.scrollLeft}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(n.SBq),n.Y36(Sm),n.Y36(n.R0b),n.Y36(So,8))},t.\u0275dir=n.lG2({type:t,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),t})(),sf=(()=>{class t{constructor(e,i,o){this._platform=e,this._change=new dn.x,this._changeListener=a=>{this._change.next(a)},this._document=o,i.runOutsideAngular(()=>{if(e.isBrowser){const a=this._getWindow();a.addEventListener("resize",this._changeListener),a.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:o}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+o,right:e.left+i,height:o,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),o=e.documentElement,a=o.getBoundingClientRect();return{top:-a.top||e.body.scrollTop||i.scrollY||o.scrollTop||0,left:-a.left||e.body.scrollLeft||i.scrollX||o.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(jC(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return t.\u0275fac=function(e){return new(e||t)(n.LFG(Di),n.LFG(n.R0b),n.LFG(I,8))},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),ad=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({}),t})(),lf=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[Ja,ad,Ja,ad]}),t})();function ml(t,...r){return r.length?r.some(e=>t[e]):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}var _n=se(8372),ux=se(5684),Xa=se(1884);let dx=(()=>{class t{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),cd=(()=>{class t{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,i)=>this._cleanupObserver(i))}observe(e){const i=dl(e);return new Ui.y(o=>{const l=this._observeElement(i).subscribe(o);return()=>{l.unsubscribe(),this._unobserveElement(i)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const i=new dn.x,o=this._mutationObserverFactory.create(a=>i.next(a));o&&o.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:o,stream:i,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:i,stream:o}=this._observedElements.get(e);i&&i.disconnect(),o.complete(),this._observedElements.delete(e)}}}return t.\u0275fac=function(e){return new(e||t)(n.LFG(dx))},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),px=(()=>{class t{constructor(e,i,o){this._contentObserver=e,this._elementRef=i,this._ngZone=o,this.event=new n.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(e){this._disabled=Cn(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=Sa(e),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe((0,_n.b)(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(cd),n.Y36(n.SBq),n.Y36(n.R0b))},t.\u0275dir=n.lG2({type:t,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),t})(),ud=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({providers:[dx]}),t})();const ni=new Set;let hf,fx=(()=>{class t{constructor(e){this._platform=e,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):bE}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function hx(t){if(!ni.has(t))try{hf||(hf=document.createElement("style"),hf.setAttribute("type","text/css"),document.head.appendChild(hf)),hf.sheet&&(hf.sheet.insertRule(`@media ${t} {body{ }}`,0),ni.add(t))}catch(r){console.error(r)}}(e),this._matchMedia(e)}}return t.\u0275fac=function(e){return new(e||t)(n.LFG(Di))},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function bE(t){return{matches:"all"===t||""===t,media:t,addListener:()=>{},removeListener:()=>{}}}let mf=(()=>{class t{constructor(e,i){this._mediaMatcher=e,this._zone=i,this._queries=new Map,this._destroySubject=new dn.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return Zv(_m(e)).some(o=>this._registerQuery(o).mql.matches)}observe(e){let a=uo(Zv(_m(e)).map(l=>this._registerQuery(l).observable));return a=Eu(a.pipe((0,ar.q)(1)),a.pipe((0,ux.T)(1),(0,_n.b)(0))),a.pipe((0,xt.U)(l=>{const u={matches:!1,breakpoints:{}};return l.forEach(({matches:p,query:f})=>{u.matches=u.matches||p,u.breakpoints[f]=p}),u}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const i=this._mediaMatcher.matchMedia(e),a={observable:new Ui.y(l=>{const u=p=>this._zone.run(()=>l.next(p));return i.addListener(u),()=>{i.removeListener(u)}}).pipe(Fo(i),(0,xt.U)(({matches:l})=>({query:e,matches:l})),(0,Zn.R)(this._destroySubject)),mql:i};return this._queries.set(e,a),a}}return t.\u0275fac=function(e){return new(e||t)(n.LFG(fx),n.LFG(n.R0b))},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Zv(t){return t.map(r=>r.split(",")).reduce((r,e)=>r.concat(e)).map(r=>r.trim())}class $v{constructor(r){this._items=r,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new dn.x,this._typeaheadSubscription=Yr.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new dn.x,this.change=new dn.x,r instanceof n.n_E&&r.changes.subscribe(e=>{if(this._activeItem){const o=e.toArray().indexOf(this._activeItem);o>-1&&o!==this._activeItemIndex&&(this._activeItemIndex=o)}})}skipPredicate(r){return this._skipPredicateFn=r,this}withWrap(r=!0){return this._wrap=r,this}withVerticalOrientation(r=!0){return this._vertical=r,this}withHorizontalOrientation(r){return this._horizontal=r,this}withAllowedModifierKeys(r){return this._allowedModifierKeys=r,this}withTypeAhead(r=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(Mi(e=>this._pressedLetters.push(e)),(0,_n.b)(r),(0,pr.h)(()=>this._pressedLetters.length>0),(0,xt.U)(()=>this._pressedLetters.join(""))).subscribe(e=>{const i=this._getItemsArray();for(let o=1;o<i.length+1;o++){const a=(this._activeItemIndex+o)%i.length,l=i[a];if(!this._skipPredicateFn(l)&&0===l.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(a);break}}this._pressedLetters=[]}),this}withHomeAndEnd(r=!0){return this._homeAndEnd=r,this}setActiveItem(r){const e=this._activeItem;this.updateActiveItem(r),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(r){const e=r.keyCode,o=["altKey","ctrlKey","metaKey","shiftKey"].every(a=>!r[a]||this._allowedModifierKeys.indexOf(a)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&o){this.setNextItemActive();break}return;case 38:if(this._vertical&&o){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&o){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&o){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&o){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&o){this.setLastItemActive();break}return;default:return void((o||ml(r,"shiftKey"))&&(r.key&&1===r.key.length?this._letterKeyStream.next(r.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],r.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(r){const e=this._getItemsArray(),i="number"==typeof r?r:e.indexOf(r);this._activeItem=e[i]??null,this._activeItemIndex=i}_setActiveItemByDelta(r){this._wrap?this._setActiveInWrapMode(r):this._setActiveInDefaultMode(r)}_setActiveInWrapMode(r){const e=this._getItemsArray();for(let i=1;i<=e.length;i++){const o=(this._activeItemIndex+r*i+e.length)%e.length;if(!this._skipPredicateFn(e[o]))return void this.setActiveItem(o)}}_setActiveInDefaultMode(r){this._setActiveItemByIndex(this._activeItemIndex+r,r)}_setActiveItemByIndex(r,e){const i=this._getItemsArray();if(i[r]){for(;this._skipPredicateFn(i[r]);)if(!i[r+=e])return;this.setActiveItem(r)}}_getItemsArray(){return this._items instanceof n.n_E?this._items.toArray():this._items}}class SE extends $v{setActiveItem(r){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(r),this.activeItem&&this.activeItem.setActiveStyles()}}class gf extends $v{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(r){return this._origin=r,this}setActiveItem(r){super.setActiveItem(r),this.activeItem&&this.activeItem.focus(this._origin)}}let _f=(()=>{class t{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function OE(t){return!!(t.offsetWidth||t.offsetHeight||"function"==typeof t.getClientRects&&t.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const i=function DE(t){try{return t.frameElement}catch{return null}}(function Ak(t){return t.ownerDocument&&t.ownerDocument.defaultView||window}(e));if(i&&(-1===xx(i)||!this.isVisible(i)))return!1;let o=e.nodeName.toLowerCase(),a=xx(e);return e.hasAttribute("contenteditable")?-1!==a:!("iframe"===o||"object"===o||this._platform.WEBKIT&&this._platform.IOS&&!function Ok(t){let r=t.nodeName.toLowerCase(),e="input"===r&&t.type;return"text"===e||"password"===e||"select"===r||"textarea"===r}(e))&&("audio"===o?!!e.hasAttribute("controls")&&-1!==a:"video"===o?-1!==a&&(null!==a||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,i){return function Ek(t){return!function vx(t){return function EE(t){return"input"==t.nodeName.toLowerCase()}(t)&&"hidden"==t.type}(t)&&(function _x(t){let r=t.nodeName.toLowerCase();return"input"===r||"select"===r||"button"===r||"textarea"===r}(t)||function yx(t){return function bx(t){return"a"==t.nodeName.toLowerCase()}(t)&&t.hasAttribute("href")}(t)||t.hasAttribute("contenteditable")||Cx(t))}(e)&&!this.isDisabled(e)&&(i?.ignoreVisibility||this.isVisible(e))}}return t.\u0275fac=function(e){return new(e||t)(n.LFG(Di))},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Cx(t){if(!t.hasAttribute("tabindex")||void 0===t.tabIndex)return!1;let r=t.getAttribute("tabindex");return!(!r||isNaN(parseInt(r,10)))}function xx(t){if(!Cx(t))return null;const r=parseInt(t.getAttribute("tabindex")||"",10);return isNaN(r)?-1:r}class Pk{constructor(r,e,i,o,a=!1){this._element=r,this._checker=e,this._ngZone=i,this._document=o,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,a||this.attachAnchors()}get enabled(){return this._enabled}set enabled(r){this._enabled=r,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(r,this._startAnchor),this._toggleAnchorTabIndex(r,this._endAnchor))}destroy(){const r=this._startAnchor,e=this._endAnchor;r&&(r.removeEventListener("focus",this.startAnchorListener),r.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(r){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(r)))})}focusFirstTabbableElementWhenReady(r){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(r)))})}focusLastTabbableElementWhenReady(r){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(r)))})}_getRegionBoundary(r){const e=this._element.querySelectorAll(`[cdk-focus-region-${r}], [cdkFocusRegion${r}], [cdk-focus-${r}]`);return"start"==r?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(r){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){const i=this._getFirstTabbableElement(e);return i?.focus(r),!!i}return e.focus(r),!0}return this.focusFirstTabbableElement(r)}focusFirstTabbableElement(r){const e=this._getRegionBoundary("start");return e&&e.focus(r),!!e}focusLastTabbableElement(r){const e=this._getRegionBoundary("end");return e&&e.focus(r),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(r){if(this._checker.isFocusable(r)&&this._checker.isTabbable(r))return r;const e=r.children;for(let i=0;i<e.length;i++){const o=e[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[i]):null;if(o)return o}return null}_getLastTabbableElement(r){if(this._checker.isFocusable(r)&&this._checker.isTabbable(r))return r;const e=r.children;for(let i=e.length-1;i>=0;i--){const o=e[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[i]):null;if(o)return o}return null}_createAnchor(){const r=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,r),r.classList.add("cdk-visually-hidden"),r.classList.add("cdk-focus-trap-anchor"),r.setAttribute("aria-hidden","true"),r}_toggleAnchorTabIndex(r,e){r?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(r){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(r,this._startAnchor),this._toggleAnchorTabIndex(r,this._endAnchor))}_executeOnStable(r){this._ngZone.isStable?r():this._ngZone.onStable.pipe((0,ar.q)(1)).subscribe(r)}}let vf=(()=>{class t{constructor(e,i,o){this._checker=e,this._ngZone=i,this._document=o}create(e,i=!1){return new Pk(e,this._checker,this._ngZone,this._document,i)}}return t.\u0275fac=function(e){return new(e||t)(n.LFG(_f),n.LFG(n.R0b),n.LFG(I))},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function wx(t){return 0===t.buttons||0===t.offsetX&&0===t.offsetY}function Mx(t){const r=t.touches&&t.touches[0]||t.changedTouches&&t.changedTouches[0];return!(!r||-1!==r.identifier||null!=r.radiusX&&1!==r.radiusX||null!=r.radiusY&&1!==r.radiusY)}const PE=new n.OlP("cdk-input-modality-detector-options"),TE={ignoreKeys:[18,17,224,91,16]},dd=nc({passive:!0,capture:!0});let IE=(()=>{class t{constructor(e,i,o,a){this._platform=e,this._mostRecentTarget=null,this._modality=new Za.X(null),this._lastTouchMs=0,this._onKeydown=l=>{this._options?.ignoreKeys?.some(u=>u===l.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Oa(l))},this._onMousedown=l=>{Date.now()-this._lastTouchMs<650||(this._modality.next(wx(l)?"keyboard":"mouse"),this._mostRecentTarget=Oa(l))},this._onTouchstart=l=>{Mx(l)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Oa(l))},this._options={...TE,...a},this.modalityDetected=this._modality.pipe((0,ux.T)(1)),this.modalityChanged=this.modalityDetected.pipe((0,Xa.x)()),e.isBrowser&&i.runOutsideAngular(()=>{o.addEventListener("keydown",this._onKeydown,dd),o.addEventListener("mousedown",this._onMousedown,dd),o.addEventListener("touchstart",this._onTouchstart,dd)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,dd),document.removeEventListener("mousedown",this._onMousedown,dd),document.removeEventListener("touchstart",this._onTouchstart,dd))}}return t.\u0275fac=function(e){return new(e||t)(n.LFG(Di),n.LFG(n.R0b),n.LFG(I),n.LFG(PE,8))},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const yf=new n.OlP("liveAnnouncerElement",{providedIn:"root",factory:function kE(){return null}}),Sx=new n.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let Jv=(()=>{class t{constructor(e,i,o,a){this._ngZone=i,this._defaultOptions=a,this._document=o,this._liveElement=e||this._createLiveElement()}announce(e,...i){const o=this._defaultOptions;let a,l;return 1===i.length&&"number"==typeof i[0]?l=i[0]:[a,l]=i,this.clear(),clearTimeout(this._previousTimeout),a||(a=o&&o.politeness?o.politeness:"polite"),null==l&&o&&(l=o.duration),this._liveElement.setAttribute("aria-live",a),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(u=>this._currentResolve=u)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,"number"==typeof l&&(this._previousTimeout=setTimeout(()=>this.clear(),l)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const e="cdk-live-announcer-element",i=this._document.getElementsByClassName(e),o=this._document.createElement("div");for(let a=0;a<i.length;a++)i[a].remove();return o.classList.add(e),o.classList.add("cdk-visually-hidden"),o.setAttribute("aria-atomic","true"),o.setAttribute("aria-live","polite"),this._document.body.appendChild(o),o}}return t.\u0275fac=function(e){return new(e||t)(n.LFG(yf,8),n.LFG(n.R0b),n.LFG(I),n.LFG(Sx,8))},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const NE=new n.OlP("cdk-focus-monitor-default-options"),bf=nc({passive:!0,capture:!0});let Ka=(()=>{class t{constructor(e,i,o,a,l){this._ngZone=e,this._platform=i,this._inputModalityDetector=o,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new dn.x,this._rootNodeFocusAndBlurListener=u=>{for(let f=Oa(u);f;f=f.parentElement)"focus"===u.type?this._onFocus(u,f):this._onBlur(u,f)},this._document=a,this._detectionMode=l?.detectionMode||0}monitor(e,i=!1){const o=dl(e);if(!this._platform.isBrowser||1!==o.nodeType)return(0,pn.of)(null);const a=ea(o)||this._getDocument(),l=this._elementInfo.get(o);if(l)return i&&(l.checkChildren=!0),l.subject;const u={checkChildren:i,subject:new dn.x,rootNode:a};return this._elementInfo.set(o,u),this._registerGlobalListeners(u),u.subject}stopMonitoring(e){const i=dl(e),o=this._elementInfo.get(i);o&&(o.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(o))}focusVia(e,i,o){const a=dl(e);a===this._getDocument().activeElement?this._getClosestElementsInfo(a).forEach(([u,p])=>this._originChanged(u,i,p)):(this._setOrigin(i),"function"==typeof a.focus&&a.focus(o))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused","touch"===i),e.classList.toggle("cdk-keyboard-focused","keyboard"===i),e.classList.toggle("cdk-mouse-focused","mouse"===i),e.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,i){const o=this._elementInfo.get(i),a=Oa(e);!o||!o.checkChildren&&i!==a||this._originChanged(i,this._getFocusOrigin(a),o)}_onBlur(e,i){const o=this._elementInfo.get(i);!o||o.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(o,null))}_emitOrigin(e,i){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const i=e.rootNode,o=this._rootNodeFocusListenerCount.get(i)||0;o||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,bf),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,bf)}),this._rootNodeFocusListenerCount.set(i,o+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,Zn.R)(this._stopInputModalityDetector)).subscribe(a=>{this._setOrigin(a,!0)}))}_removeGlobalListeners(e){const i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const o=this._rootNodeFocusListenerCount.get(i);o>1?this._rootNodeFocusListenerCount.set(i,o-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,bf),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,bf),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,o){this._setClasses(e,i),this._emitOrigin(o,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){const i=[];return this._elementInfo.forEach((o,a)=>{(a===e||o.checkChildren&&a.contains(e))&&i.push([a,o])}),i}_isLastInteractionFromInputLabel(e){const{_mostRecentTarget:i,mostRecentModality:o}=this._inputModalityDetector;if("mouse"!==o||!i||i===e||"INPUT"!==e.nodeName&&"TEXTAREA"!==e.nodeName||e.disabled)return!1;const a=e.labels;if(a)for(let l=0;l<a.length;l++)if(a[l].contains(i))return!0;return!1}}return t.\u0275fac=function(e){return new(e||t)(n.LFG(n.R0b),n.LFG(Di),n.LFG(IE),n.LFG(I,8),n.LFG(NE,8))},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Ox="cdk-high-contrast-black-on-white",Xv="cdk-high-contrast-white-on-black",Im="cdk-high-contrast-active";let Ex=(()=>{class t{constructor(e,i){this._platform=e,this._document=i,this._breakpointSubscription=(0,n.f3M)(mf).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,o=i&&i.getComputedStyle?i.getComputedStyle(e):null,a=(o&&o.backgroundColor||"").replace(/ /g,"");switch(e.remove(),a){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(Im,Ox,Xv),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?e.add(Im,Ox):2===i&&e.add(Im,Xv)}}}return t.\u0275fac=function(e){return new(e||t)(n.LFG(Di),n.LFG(I))},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Ax=(()=>{class t{constructor(e){e._applyBodyHighContrastModeCssClasses()}}return t.\u0275fac=function(e){return new(e||t)(n.LFG(Ex))},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[ud]}),t})();function Ix(t,r){if(1&t&&n._UZ(0,"mat-pseudo-checkbox",4),2&t){const e=n.oxw();n.Q6J("state",e.selected?"checked":"unchecked")("disabled",e.disabled)}}function RE(t,r){if(1&t&&(n.TgZ(0,"span",5),n._uU(1),n.qZA()),2&t){const e=n.oxw();n.xp6(1),n.hij("(",e.group.label,")")}}const LE=["*"],UE=new n.OlP("mat-sanity-checks",{providedIn:"root",factory:function BE(){return!0}});let Xn=(()=>{class t{constructor(e,i,o){this._sanityChecks=i,this._document=o,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!rc()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return t.\u0275fac=function(e){return new(e||t)(n.LFG(Ex),n.LFG(UE,8),n.LFG(I))},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[Ja,Ja]}),t})();function km(t){return class extends t{constructor(...r){super(...r),this._disabled=!1}get disabled(){return this._disabled}set disabled(r){this._disabled=Cn(r)}}}function gl(t,r){return class extends t{constructor(...e){super(...e),this.defaultColor=r,this.color=r}get color(){return this._color}set color(e){const i=e||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}}}function Cf(t){return class extends t{constructor(...r){super(...r),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(r){this._disableRipple=Cn(r)}}}function xf(t,r=0){return class extends t{constructor(...e){super(...e),this._tabIndex=r,this.defaultTabIndex=r}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(e){this._tabIndex=null!=e?Sa(e):this.defaultTabIndex}}}function Kv(t){return class extends t{constructor(...r){super(...r),this.errorState=!1}updateErrorState(){const r=this.errorState,a=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);a!==r&&(this.errorState=a,this.stateChanges.next())}}}let Fm=(()=>{class t{isErrorState(e,i){return!!(e&&e.invalid&&(e.touched||i&&i.submitted))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class ZE{constructor(r,e,i,o=!1){this._renderer=r,this.element=e,this.config=i,this._animationForciblyDisabledThroughCss=o,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const ey={enterDuration:225,exitDuration:150},Nm=nc({passive:!0}),ny=["mousedown","touchstart"],ry=["mouseup","mouseleave","touchend","touchcancel"];class zx{constructor(r,e,i,o){this._target=r,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,o.isBrowser&&(this._containerElement=dl(i))}fadeInRipple(r,e,i={}){const o=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),a={...ey,...i.animation};i.centered&&(r=o.left+o.width/2,e=o.top+o.height/2);const l=i.radius||function YE(t,r,e){const i=Math.max(Math.abs(t-e.left),Math.abs(t-e.right)),o=Math.max(Math.abs(r-e.top),Math.abs(r-e.bottom));return Math.sqrt(i*i+o*o)}(r,e,o),u=r-o.left,p=e-o.top,f=a.enterDuration,h=document.createElement("div");h.classList.add("mat-ripple-element"),h.style.left=u-l+"px",h.style.top=p-l+"px",h.style.height=2*l+"px",h.style.width=2*l+"px",null!=i.color&&(h.style.backgroundColor=i.color),h.style.transitionDuration=`${f}ms`,this._containerElement.appendChild(h);const y=window.getComputedStyle(h),E=y.transitionDuration,k="none"===y.transitionProperty||"0s"===E||"0s, 0s"===E,T=new ZE(this,h,i,k);h.style.transform="scale3d(1, 1, 1)",T.state=0,i.persistent||(this._mostRecentTransientRipple=T);let L=null;return!k&&(f||a.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const U=()=>this._finishRippleTransition(T),Y=()=>this._destroyRipple(T);h.addEventListener("transitionend",U),h.addEventListener("transitioncancel",Y),L={onTransitionEnd:U,onTransitionCancel:Y}}),this._activeRipples.set(T,L),(k||!f)&&this._finishRippleTransition(T),T}fadeOutRipple(r){if(2===r.state||3===r.state)return;const e=r.element,i={...ey,...r.config.animation};e.style.transitionDuration=`${i.exitDuration}ms`,e.style.opacity="0",r.state=2,(r._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(r)}fadeOutAll(){this._getActiveRipples().forEach(r=>r.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(r=>{r.config.persistent||r.fadeOut()})}setupTriggerEvents(r){const e=dl(r);!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(ny))}handleEvent(r){"mousedown"===r.type?this._onMousedown(r):"touchstart"===r.type?this._onTouchStart(r):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(ry),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(r){0===r.state?this._startFadeOutTransition(r):2===r.state&&this._destroyRipple(r)}_startFadeOutTransition(r){const e=r===this._mostRecentTransientRipple,{persistent:i}=r.config;r.state=1,!i&&(!e||!this._isPointerDown)&&r.fadeOut()}_destroyRipple(r){const e=this._activeRipples.get(r)??null;this._activeRipples.delete(r),this._activeRipples.size||(this._containerRect=null),r===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),r.state=3,null!==e&&(r.element.removeEventListener("transitionend",e.onTransitionEnd),r.element.removeEventListener("transitioncancel",e.onTransitionCancel)),r.element.remove()}_onMousedown(r){const e=wx(r),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(r.clientX,r.clientY,this._target.rippleConfig))}_onTouchStart(r){if(!this._target.rippleDisabled&&!Mx(r)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=r.changedTouches;for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._getActiveRipples().forEach(r=>{!r.config.persistent&&(1===r.state||r.config.terminateOnPointerUp&&0===r.state)&&r.fadeOut()}))}_registerEvents(r){this._ngZone.runOutsideAngular(()=>{r.forEach(e=>{this._triggerElement.addEventListener(e,this,Nm)})})}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){this._triggerElement&&(ny.forEach(r=>{this._triggerElement.removeEventListener(r,this,Nm)}),this._pointerUpEventsRegistered&&ry.forEach(r=>{this._triggerElement.removeEventListener(r,this,Nm)}))}}const GE=new n.OlP("mat-ripple-global-options");let Ea=(()=>{class t{constructor(e,i,o,a,l){this._elementRef=e,this._animationMode=l,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=a||{},this._rippleRenderer=new zx(this,i,e,o)}get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,i=0,o){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,i,{...this.rippleConfig,...o}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...e})}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(n.SBq),n.Y36(n.R0b),n.Y36(Di),n.Y36(GE,8),n.Y36(n.QbO,8))},t.\u0275dir=n.lG2({type:t,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,i){2&e&&n.ekj("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),t})(),_l=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[Xn,Xn]}),t})(),Hx=(()=>{class t{constructor(e){this._animationMode=e,this.state="unchecked",this.disabled=!1}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(n.QbO,8))},t.\u0275cmp=n.Xpm({type:t,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(e,i){2&e&&n.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===i.state)("mat-pseudo-checkbox-checked","checked"===i.state)("mat-pseudo-checkbox-disabled",i.disabled)("_mat-animation-noopable","NoopAnimations"===i._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(e,i){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}'],encapsulation:2,changeDetection:0}),t})(),zk=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[Xn]}),t})();const iy=new n.OlP("MAT_OPTION_PARENT_COMPONENT"),$E=new n.OlP("MatOptgroup");let WE=0;class jx{constructor(r,e=!1){this.source=r,this.isUserInput=e}}let qx=(()=>{class t{constructor(e,i,o,a){this._element=e,this._changeDetectorRef=i,this._parent=o,this.group=a,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+WE++,this.onSelectionChange=new n.vpe,this._stateChanges=new dn.x}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(e){this._disabled=Cn(e)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(e,i){const o=this._getHostElement();"function"==typeof o.focus&&o.focus(i)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(e){(13===e.keyCode||32===e.keyCode)&&!ml(e)&&(this._selectViaInteraction(),e.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const e=this.viewValue;e!==this._mostRecentViewValue&&(this._mostRecentViewValue=e,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(e=!1){this.onSelectionChange.emit(new jx(this,e))}}return t.\u0275fac=function(e){n.$Z()},t.\u0275dir=n.lG2({type:t,inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}}),t})(),oy=(()=>{class t extends qx{constructor(e,i,o,a){super(e,i,o,a)}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(n.SBq),n.Y36(n.sBO),n.Y36(iy,8),n.Y36($E,8))},t.\u0275cmp=n.Xpm({type:t,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(e,i){1&e&&n.NdJ("click",function(){return i._selectViaInteraction()})("keydown",function(a){return i._handleKeydown(a)}),2&e&&(n.Ikx("id",i.id),n.uIk("tabindex",i._getTabIndex())("aria-selected",i._getAriaSelected())("aria-disabled",i.disabled.toString()),n.ekj("mat-selected",i.selected)("mat-option-multiple",i.multiple)("mat-active",i.active)("mat-option-disabled",i.disabled))},exportAs:["matOption"],features:[n.qOj],ngContentSelectors:LE,decls:5,vars:4,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"],[1,"cdk-visually-hidden"]],template:function(e,i){1&e&&(n.F$t(),n.YNc(0,Ix,1,2,"mat-pseudo-checkbox",0),n.TgZ(1,"span",1),n.Hsn(2),n.qZA(),n.YNc(3,RE,2,1,"span",2),n._UZ(4,"div",3)),2&e&&(n.Q6J("ngIf",i.multiple),n.xp6(3),n.Q6J("ngIf",i.group&&i.group._inert),n.xp6(1),n.Q6J("matRippleTrigger",i._getHostElement())("matRippleDisabled",i.disabled||i.disableRipple))},dependencies:[Ea,rn,Hx],styles:['.mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.mat-option.mat-active::before{content:""}.cdk-high-contrast-active .mat-option[aria-disabled=true]{opacity:.5}.cdk-high-contrast-active .mat-option.mat-selected:not(.mat-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-option.mat-selected:not(.mat-option-multiple)::after{right:auto;left:16px}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}'],encapsulation:2,changeDetection:0}),t})();function ay(t,r,e){if(e.length){let i=r.toArray(),o=e.toArray(),a=0;for(let l=0;l<t+1;l++)i[l].group&&i[l].group===o[a]&&a++;return a}return 0}let Yx=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[_l,Zr,Xn,zk]}),t})();class Gx{}const vl="*";function ta(t,r){return{type:7,name:t,definitions:r,options:{}}}function ri(t,r=null){return{type:4,styles:r,timings:t}}function sy(t,r=null){return{type:3,steps:t,options:r}}function ly(t,r=null){return{type:2,steps:t,options:r}}function Gn(t){return{type:6,styles:t,offset:null}}function $r(t,r,e){return{type:0,name:t,styles:r,options:e}}function Rm(t){return{type:5,steps:t}}function bi(t,r,e=null){return{type:1,expr:t,animation:r,options:e}}function $x(t=null){return{type:9,options:t}}function Lm(t,r,e=null){return{type:11,selector:t,animation:r,options:e}}function Wx(t){Promise.resolve().then(t)}class Sf{constructor(r=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=r+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(r=>r()),this._onDoneFns=[])}onStart(r){this._originalOnStartFns.push(r),this._onStartFns.push(r)}onDone(r){this._originalOnDoneFns.push(r),this._onDoneFns.push(r)}onDestroy(r){this._onDestroyFns.push(r)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Wx(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(r=>r()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(r=>r()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(r){this._position=this.totalTime?r*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(r){const e="start"==r?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class pd{constructor(r){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=r;let e=0,i=0,o=0;const a=this.players.length;0==a?Wx(()=>this._onFinish()):this.players.forEach(l=>{l.onDone(()=>{++e==a&&this._onFinish()}),l.onDestroy(()=>{++i==a&&this._onDestroy()}),l.onStart(()=>{++o==a&&this._onStart()})}),this.totalTime=this.players.reduce((l,u)=>Math.max(l,u.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(r=>r()),this._onDoneFns=[])}init(){this.players.forEach(r=>r.init())}onStart(r){this._onStartFns.push(r)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(r=>r()),this._onStartFns=[])}onDone(r){this._onDoneFns.push(r)}onDestroy(r){this._onDestroyFns.push(r)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(r=>r.play())}pause(){this.players.forEach(r=>r.pause())}restart(){this.players.forEach(r=>r.restart())}finish(){this._onFinish(),this.players.forEach(r=>r.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(r=>r.destroy()),this._onDestroyFns.forEach(r=>r()),this._onDestroyFns=[])}reset(){this.players.forEach(r=>r.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(r){const e=r*this.totalTime;this.players.forEach(i=>{const o=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(o)})}getPosition(){const r=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=r?r.getPosition():0}beforeDestroy(){this.players.forEach(r=>{r.beforeDestroy&&r.beforeDestroy()})}triggerCallback(r){const e="start"==r?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}const Bm=["*"],As=["content"];function XE(t,r){if(1&t){const e=n.EpF();n.TgZ(0,"div",2),n.NdJ("click",function(){n.CHM(e);const o=n.oxw();return n.KtG(o._onBackdropClicked())}),n.qZA()}if(2&t){const e=n.oxw();n.ekj("mat-drawer-shown",e._isShowingBackdrop())}}function Um(t,r){1&t&&(n.TgZ(0,"mat-drawer-content"),n.Hsn(1,2),n.qZA())}const Df=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],KE=["mat-drawer","mat-drawer-content","*"],eA={transformDrawer:ta("transform",[$r("open, open-instant",Gn({transform:"none",visibility:"visible"})),$r("void",Gn({"box-shadow":"none",visibility:"hidden"})),bi("void => open-instant",ri("0ms")),bi("void <=> open, open-instant => void",ri("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},Qx=new n.OlP("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function Jx(){return!1}}),Vm=new n.OlP("MAT_DRAWER_CONTAINER");let py=(()=>{class t extends Dm{constructor(e,i,o,a,l){super(o,a,l),this._changeDetectorRef=e,this._container=i}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(n.sBO),n.Y36((0,n.Gpc)(()=>nA)),n.Y36(n.SBq),n.Y36(Sm),n.Y36(n.R0b))},t.\u0275cmp=n.Xpm({type:t,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(e,i){2&e&&n.Udp("margin-left",i._container._contentMargins.left,"px")("margin-right",i._container._contentMargins.right,"px")},features:[n._Bn([{provide:Dm,useExisting:t}]),n.qOj],ngContentSelectors:Bm,decls:1,vars:0,template:function(e,i){1&e&&(n.F$t(),n.Hsn(0))},encapsulation:2,changeDetection:0}),t})(),Xx=(()=>{class t{constructor(e,i,o,a,l,u,p,f){this._elementRef=e,this._focusTrapFactory=i,this._focusMonitor=o,this._platform=a,this._ngZone=l,this._interactivityChecker=u,this._doc=p,this._container=f,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new dn.x,this._animationEnd=new dn.x,this._animationState="void",this.openedChange=new n.vpe(!0),this._openedStream=this.openedChange.pipe((0,pr.h)(h=>h),(0,xt.U)(()=>{})),this.openedStart=this._animationStarted.pipe((0,pr.h)(h=>h.fromState!==h.toState&&0===h.toState.indexOf("open")),Au(void 0)),this._closedStream=this.openedChange.pipe((0,pr.h)(h=>!h),(0,xt.U)(()=>{})),this.closedStart=this._animationStarted.pipe((0,pr.h)(h=>h.fromState!==h.toState&&"void"===h.toState),Au(void 0)),this._destroyed=new dn.x,this.onPositionChanged=new n.vpe,this._modeChanged=new dn.x,this.openedChange.subscribe(h=>{h?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{tc(this._elementRef.nativeElement,"keydown").pipe((0,pr.h)(h=>27===h.keyCode&&!this.disableClose&&!ml(h)),(0,Zn.R)(this._destroyed)).subscribe(h=>this._ngZone.run(()=>{this.close(),h.stopPropagation(),h.preventDefault()}))}),this._animationEnd.pipe((0,Xa.x)((h,y)=>h.fromState===y.fromState&&h.toState===y.toState)).subscribe(h=>{const{fromState:y,toState:D}=h;(0===D.indexOf("open")&&"void"===y||"void"===D&&0===y.indexOf("open"))&&this.openedChange.emit(this._opened)})}get position(){return this._position}set position(e){(e="end"===e?"end":"start")!==this._position&&(this._isAttached&&this._updatePositionInParent(e),this._position=e,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(e){this._mode=e,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(e){this._disableClose=Cn(e)}get autoFocus(){return this._autoFocus??("side"===this.mode?"dialog":"first-tabbable")}set autoFocus(e){("true"===e||"false"===e||null==e)&&(e=Cn(e)),this._autoFocus=e}get opened(){return this._opened}set opened(e){this.toggle(Cn(e))}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const o=()=>{e.removeEventListener("blur",o),e.removeEventListener("mousedown",o),e.removeAttribute("tabindex")};e.addEventListener("blur",o),e.addEventListener("mousedown",o)})),e.focus(i)}_focusByCssSelector(e,i){let o=this._elementRef.nativeElement.querySelector(e);o&&this._forceFocus(o,i)}_takeFocus(){if(!this._focusTrap)return;const e=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{!i&&"function"==typeof this._elementRef.nativeElement.focus&&e.focus()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(e){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,e):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){const e=this._doc.activeElement;return!!e&&this._elementRef.nativeElement.contains(e)}ngAfterViewInit(){this._isAttached=!0,this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState(),"end"===this._position&&this._updatePositionInParent("end")}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(e){return this.toggle(!0,e)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(e=!this.opened,i){e&&i&&(this._openedVia=i);const o=this._setOpen(e,!e&&this._isFocusWithinDrawer(),this._openedVia||"program");return e||(this._openedVia=null),o}_setOpen(e,i,o){return this._opened=e,e?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",i&&this._restoreFocus(o)),this._updateFocusTrapState(),new Promise(a=>{this.openedChange.pipe((0,ar.q)(1)).subscribe(l=>a(l?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}_updatePositionInParent(e){const i=this._elementRef.nativeElement,o=i.parentNode;"end"===e?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),o.insertBefore(this._anchor,i)),o.appendChild(i)):this._anchor&&this._anchor.parentNode.insertBefore(i,this._anchor)}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(n.SBq),n.Y36(vf),n.Y36(Ka),n.Y36(Di),n.Y36(n.R0b),n.Y36(_f),n.Y36(I,8),n.Y36(Vm,8))},t.\u0275cmp=n.Xpm({type:t,selectors:[["mat-drawer"]],viewQuery:function(e,i){if(1&e&&n.Gf(As,5),2&e){let o;n.iGM(o=n.CRH())&&(i._content=o.first)}},hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(e,i){1&e&&n.WFA("@transform.start",function(a){return i._animationStarted.next(a)})("@transform.done",function(a){return i._animationEnd.next(a)}),2&e&&(n.uIk("align",null),n.d8E("@transform",i._animationState),n.ekj("mat-drawer-end","end"===i.position)("mat-drawer-over","over"===i.mode)("mat-drawer-push","push"===i.mode)("mat-drawer-side","side"===i.mode)("mat-drawer-opened",i.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:Bm,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(e,i){1&e&&(n.F$t(),n.TgZ(0,"div",0,1),n.Hsn(2),n.qZA())},dependencies:[Dm],encapsulation:2,data:{animation:[eA.transformDrawer]},changeDetection:0}),t})(),nA=(()=>{class t{constructor(e,i,o,a,l,u=!1,p){this._dir=e,this._element=i,this._ngZone=o,this._changeDetectorRef=a,this._animationMode=p,this._drawers=new n.n_E,this.backdropClick=new n.vpe,this._destroyed=new dn.x,this._doCheckSubject=new dn.x,this._contentMargins={left:null,right:null},this._contentMarginChanges=new dn.x,e&&e.change.pipe((0,Zn.R)(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),l.change().pipe((0,Zn.R)(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=u}get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(e){this._autosize=Cn(e)}get hasBackdrop(){return this._backdropOverride??(!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode)}set hasBackdrop(e){this._backdropOverride=null==e?null:Cn(e)}get scrollable(){return this._userContent||this._content}ngAfterContentInit(){this._allDrawers.changes.pipe(Fo(this._allDrawers),(0,Zn.R)(this._destroyed)).subscribe(e=>{this._drawers.reset(e.filter(i=>!i._container||i._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(Fo(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(e=>{this._watchDrawerToggle(e),this._watchDrawerPosition(e),this._watchDrawerMode(e)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe((0,_n.b)(10),(0,Zn.R)(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(e=>e.open())}close(){this._drawers.forEach(e=>e.close())}updateContentMargins(){let e=0,i=0;if(this._left&&this._left.opened)if("side"==this._left.mode)e+=this._left._getWidth();else if("push"==this._left.mode){const o=this._left._getWidth();e+=o,i-=o}if(this._right&&this._right.opened)if("side"==this._right.mode)i+=this._right._getWidth();else if("push"==this._right.mode){const o=this._right._getWidth();i+=o,e-=o}e=e||null,i=i||null,(e!==this._contentMargins.left||i!==this._contentMargins.right)&&(this._contentMargins={left:e,right:i},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(e){e._animationStarted.pipe((0,pr.h)(i=>i.fromState!==i.toState),(0,Zn.R)(this._drawers.changes)).subscribe(i=>{"open-instant"!==i.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==e.mode&&e.openedChange.pipe((0,Zn.R)(this._drawers.changes)).subscribe(()=>this._setContainerClass(e.opened))}_watchDrawerPosition(e){!e||e.onPositionChanged.pipe((0,Zn.R)(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe((0,ar.q)(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(e){e&&e._modeChanged.pipe((0,Zn.R)((0,Mo.T)(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(e){const i=this._element.nativeElement.classList,o="mat-drawer-container-has-open";e?i.add(o):i.remove(o)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(e=>{"end"==e.position?this._end=e:this._start=e}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(e=>e&&!e.disableClose&&this._canHaveBackdrop(e)).forEach(e=>e._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(e){return"side"!==e.mode||!!this._backdropOverride}_isDrawerOpen(e){return null!=e&&e.opened}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(So,8),n.Y36(n.SBq),n.Y36(n.R0b),n.Y36(n.sBO),n.Y36(sf),n.Y36(Qx),n.Y36(n.QbO,8))},t.\u0275cmp=n.Xpm({type:t,selectors:[["mat-drawer-container"]],contentQueries:function(e,i,o){if(1&e&&(n.Suo(o,py,5),n.Suo(o,Xx,5)),2&e){let a;n.iGM(a=n.CRH())&&(i._content=a.first),n.iGM(a=n.CRH())&&(i._allDrawers=a)}},viewQuery:function(e,i){if(1&e&&n.Gf(py,5),2&e){let o;n.iGM(o=n.CRH())&&(i._userContent=o.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(e,i){2&e&&n.ekj("mat-drawer-container-explicit-backdrop",i._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[n._Bn([{provide:Vm,useExisting:t}])],ngContentSelectors:KE,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(e,i){1&e&&(n.F$t(Df),n.YNc(0,XE,1,2,"div",0),n.Hsn(1),n.Hsn(2,1),n.YNc(3,Um,2,0,"mat-drawer-content",1)),2&e&&(n.Q6J("ngIf",i.hasBackdrop),n.xp6(3),n.Q6J("ngIf",!i._content))},dependencies:[rn,py],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0}),t})(),zm=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[Zr,Xn,ad,ad,Xn]}),t})();var Ur=(()=>{return(t=Ur||(Ur={})).sm="300px",t.md="528px",t.lg="960px",Ur;var t})(),ic=(()=>{return(t=ic||(ic={})).CURRENT="CURRENT",t.REMAINING="REMAINING",t.COMPLETED="COMPLETED",ic;var t})(),oc=(()=>{return(t=oc||(oc={})).STATISCH="Statisch",t.WIEDERHOLBAR="Wiederholbar",oc;var t})(),fd=(()=>{return(t=fd||(fd={})).QUANTITY="quantity",t.IGNORED_RULES="ignored_rules",t.REPETITIONS="repetitions",fd;var t})(),cr=(()=>{return(t=cr||(cr={})).InitConfiguration="[Configuration] Init",t.InitConfigurationSuccess="[Configuration] Init success",t.UpdateConfigurationState="[Configuration] Update State",t.GetConfigurationState="[Configuration] Get State",t.GetConfigurationStateSuccess="[Configuration] Get State success",t.SetPrevStep="[Configuration] Set prev step",t.SetPrevStepSuccess="[Configuration] Set prev step success",t.SetNextStep="[Configuration] Set next step",t.SetStep="[Configuration] Set step",t.SetStepSuccess="[Configuration] Set step success",t.GetRenderImagesSuccess="[RenderImage] Get RenderImages success",t.GetCurrentRenderImageSuccess="[RenderImage] Get current RenderImage success",t.SetRenderImages="[RenderImage] Set Render Images",t.SetPrevPerspective="[Perspective] Set prev Perspective",t.SetNextPerspective="[Perspective] Set next Perspective",t.SetPerspective="[Perspective] Set Perspective",t.SetQuantity="[Quantity] Set Quantity",t.AddToBasket="[Basket] Add to basket",t.AddToBasketSuccess="[Basket] Add to basket success",t.SetElementProperties="[Update] Set Element Properties",t.HumanReadableStateLoadSuccess="[HumanReadableState] Load success",t.AddGuestConfiguration="[Configuration] Add guest configuration",t.AddGuestConfigurationSuccess="[Configuration] Add guest configuration success",t.AddOfferConfiguration="[Configuration] Add offer configuration",t.AddOfferConfigurationSuccess="[Configuration] Add offer configuration success",t.SetHideOnePage="[OnePage] Hide One Page",t.OnError="[Configuration] Error",t.createLoadingFlagAction="[Configuration] Create Loading Flag",t.resetLoadingFlagAction="[Configuration] Reset Loading Flag",t.FetchPartsList="[Configuration] Fetch Parts List",t.FetchPartsListSuccess="[Configuration] Fetch Parts List Success",t.HideLoadingFlag="[Configuration] hide loading flag",t.SetSectionTouched="[Configuration] Set Section Touched",t.GetStatePriceSuccess="[Configuration] Get state price success",t.GetElementComputableValues="[Configuration] Get Element Computable Values",t.GetElementComputableValuesSuccess="[Configuration] Get Element Computable Values Success",cr;var t})();const t1=(0,Oe.PH)(cr.GetElementComputableValues,(0,Oe.Ky)()),Hm=(0,Oe.PH)(cr.GetElementComputableValuesSuccess,(0,Oe.Ky)()),fy=(0,Oe.PH)(cr.HideLoadingFlag),n1=(0,Oe.PH)(cr.createLoadingFlagAction),jm=(0,Oe.PH)(cr.resetLoadingFlagAction),r1=(0,Oe.PH)(cr.GetStatePriceSuccess,(0,Oe.Ky)()),qm=(0,Oe.PH)(cr.InitConfiguration,(0,Oe.Ky)()),Of=(0,Oe.PH)(cr.InitConfigurationSuccess,(0,Oe.Ky)()),di=(0,Oe.PH)(cr.UpdateConfigurationState,(0,Oe.Ky)()),hy=(0,Oe.PH)(cr.GetConfigurationState,(0,Oe.Ky)()),ac=(0,Oe.PH)(cr.GetConfigurationStateSuccess,(0,Oe.Ky)()),o1=(0,Oe.PH)(cr.GetCurrentRenderImageSuccess,(0,Oe.Ky)()),no=(0,Oe.PH)(cr.GetRenderImagesSuccess,(0,Oe.Ky)()),sc=(0,Oe.PH)(cr.SetPrevStep,(0,Oe.Ky)()),a1=(0,Oe.PH)(cr.SetPrevStepSuccess),s1=(0,Oe.PH)(cr.HumanReadableStateLoadSuccess,(0,Oe.Ky)()),iA=(0,Oe.PH)(cr.SetNextStep,(0,Oe.Ky)()),hd=(0,Oe.PH)(cr.SetStep,(0,Oe.Ky)()),my=(0,Oe.PH)(cr.SetStepSuccess),Zm=(0,Oe.PH)(cr.SetPrevPerspective),$c=(0,Oe.PH)(cr.SetNextPerspective),l1=(0,Oe.PH)(cr.SetPerspective,(0,Oe.Ky)()),Ef=(0,Oe.PH)(cr.SetQuantity,(0,Oe.Ky)()),Ps=(0,Oe.PH)(cr.AddToBasket,(0,Oe.Ky)()),md=(0,Oe.PH)(cr.AddToBasketSuccess),c1=((0,Oe.PH)(cr.SetElementProperties,(0,Oe.Ky)()),(0,Oe.PH)(cr.AddGuestConfiguration,(0,Oe.Ky)())),u1=(0,Oe.PH)(cr.AddGuestConfigurationSuccess),Af=(0,Oe.PH)(cr.AddOfferConfiguration,(0,Oe.Ky)()),Pf=(0,Oe.PH)(cr.AddOfferConfigurationSuccess),gd=(0,Oe.PH)(cr.SetHideOnePage,(0,Oe.Ky)()),lc=(0,Oe.PH)(cr.OnError,(0,Oe.Ky)()),gy=(0,Oe.PH)(cr.FetchPartsList),oA=(0,Oe.PH)(cr.FetchPartsListSuccess,(0,Oe.Ky)()),_d=(0,Oe.PH)(cr.SetSectionTouched,(0,Oe.Ky)()),d1=(0,Oe.Lq)({state:{compressedState:[],sections:[],elements:[],failedRules:[]},computedValues:{},renderImages:[],perspectives:[],currentPerspective:null,currentStep:null,statePrice:null,productId:null,loading:!1,humanReadableState:[],quantity:1,hideOnePage:!1,partsList:[],tempState:[]},(0,Oe.on)(Ps,(t,r)=>({...t,loading:!0})),(0,Oe.on)(md,(t,r)=>({...t,loading:!1})),(0,Oe.on)(fy,(t,r)=>({...t,loading:!1})),(0,Oe.on)(n1,(t,r)=>({...t,loading:!0})),(0,Oe.on)(jm,(t,r)=>({...t,loading:!1})),(0,Oe.on)(di,(t,r)=>({...t,loading:!0})),(0,Oe.on)(Of,(t,r)=>({...t,quantity:0===r.payload.product.minPurchase?1:r.payload.product.minPurchase,state:r.payload.configuration,renderImages:r.payload.renderImages,computedValues:r.payload.computedValues,perspectives:r.payload.perspectives,currentPerspective:r.payload.currentPerspective,currentStep:r.payload.currentStep,statePrice:r.payload.statePrice,loading:!1,productId:r.payload.productId})),(0,Oe.on)(ac,(t,r)=>({...t,state:r.payload.configuration,renderImages:r.payload.renderImages,computedValues:r.payload.computedValues,perspectives:r.payload.perspectives,currentPerspective:r.payload.currentPerspective,statePrice:r.payload.statePrice,loading:!1})),(0,Oe.on)(o1,(t,r)=>({...t,renderImages:r.payload.renderImages})),(0,Oe.on)(no,(t,r)=>({...t,renderImages:r.payload.renderImages})),(0,Oe.on)(Af,(t,r)=>({...t,loading:!0})),(0,Oe.on)(Pf,(t,r)=>({...t,loading:!1})),(0,Oe.on)(Hm,(t,r)=>({...t,searchMapping:r.payload.searchMapping})),(0,Oe.on)(s1,(t,r)=>({...t,humanReadableState:r.payload})),(0,Oe.on)(Ef,(t,r)=>({...t,quantity:r.quantity})),(0,Oe.on)(Zm,t=>{if(t.perspectives.length<2)return{...t};if(null===t.currentPerspective)return{...t,currentPerspective:t.perspectives[0]};const r=t.perspectives.indexOf(t.currentPerspective);return 0===r?{...t,currentPerspective:t.perspectives[t.perspectives.length-1]}:{...t,currentPerspective:t.perspectives[r-1]}}),(0,Oe.on)($c,t=>{if(t.perspectives.length<2)return{...t};if(null===t.currentPerspective)return{...t,currentPerspective:t.perspectives[0]};const r=t.perspectives.indexOf(t.currentPerspective);return r+1===t.perspectives.length?{...t,currentPerspective:t.perspectives[0]}:{...t,currentPerspective:t.perspectives[r+1]}}),(0,Oe.on)(l1,(t,{perspective:r})=>({...t,currentPerspective:r})),(0,Oe.on)(sc,t=>{const r=t.state.sections.filter(i=>!i.disabled),e=r.findIndex(i=>i.id===t.currentStep.id&&i.repetition===t.currentStep.repetition);return-1===e&&r.length>0?{...t,currentStep:{id:r[0].id,repetition:r[0].repetition}}:e>0&&r.length>e-1?{...t,currentStep:{id:r[e-1].id,repetition:r[e-1].repetition}}:{...t}}),(0,Oe.on)(iA,t=>{const r=t.state.sections.filter(i=>!i.disabled),e=r.findIndex(i=>i.id===t.currentStep.id&&i.repetition===t.currentStep.repetition);return-1===e&&r.length>0?{...t,currentStep:{id:r[0].id,repetition:r[0].repetition}}:e+1<r.length?{...t,currentStep:{id:r[e+1].id,repetition:r[e+1].repetition}}:{...t}}),(0,Oe.on)(hd,(t,r)=>({...t,currentStep:r.payload})),(0,Oe.on)(_d,(t,r)=>{const{sectionId:e,repetition:i,touched:o}=r.payload;let a=t.tempState?[...t.tempState]:[],l=!1;return a=a.map(u=>u.sectionId===e&&u.repetition===i?(l=!0,{...u,touched:o}):u),l||a.push({sectionId:e,repetition:i,touched:o}),{...t,tempState:a}}),(0,Oe.on)(gd,(t,r)=>({...t,hideOnePage:r.payload})),(0,Oe.on)(oA,(t,r)=>({...t,partsList:r.payload})),(0,Oe.on)(r1,(t,r)=>({...t,statePrice:r.payload})));var Tf=(()=>{return(t=Tf||(Tf={})).LoadProductList="[Product List] Load Product List",t.LoadProductListSuccess="[Product List] Load Product List success",Tf;var t})();const If=(0,Oe.PH)(Tf.LoadProductList,(0,Oe.Ky)()),Ym=(0,Oe.PH)(Tf.LoadProductListSuccess,(0,Oe.Ky)()),sA=(0,Oe.Lq)({product:null,groups:[],sections:[],elements:[],productList:[],loading:!1},(0,Oe.on)(qm,t=>({...t,loading:!0})),(0,Oe.on)(Of,(t,r)=>({...t,product:r.payload.product,groups:r.payload.groups,sections:r.payload.sections,elements:r.payload.elements,loading:!1})),(0,Oe.on)(If,t=>({...t,loading:!0})),(0,Oe.on)(Ym,(t,r)=>({...t,productList:r.payload,loading:!1})),(0,Oe.on)(iA,sc,hd,(t,r)=>{const e=[];return t.elements.forEach(i=>{e.push({...i,sectionRepetition:r.payload?.repetition||0})}),{...t,elements:e}})),p1="aptoCatalog",jn=(0,Oe.ZF)(p1),lA={product:function Xk(t,r){return sA(t,r)},configuration:function vd(t,r){return d1(t,r)}};function _y(t,r,e){const i={};return r&&t.configuration.state.sections.filter(a=>!a.hidden&&!a.disabled&&a.active).forEach(a=>{const l=t.configuration.state.elements.filter(f=>!f.disabled&&f.active&&f.sectionId===a.id&&f.sectionRepetition===a.repetition);if(l.length<1)return;const u=t.product.sections.find(f=>f.id===a.id);if(!u)return;let p=Pn(u.name,r);p||(p=u.identifier),a.repeatableType===oc.WIEDERHOLBAR&&(p+=" "+(a.repetition+1)),i[p]=[],l.forEach(f=>{const h=t.product.elements.filter(T=>T.id===f.id);if(h.length<1)return;const y=h[0];let D=Pn(y.name,r);D||(D=f.identifier);const E={},k=e.find(T=>T.sectionId===a.id&&T.elementId===f.id&&T.repetition===f.sectionRepetition);k&&Object.keys(k.values).forEach(T=>{E[T]=Pn(k.values[T],r)}),i[p].push({id:f.id,name:D,previewImage:y.previewImage,values:E})})}),i}const ji=(0,Oe.P1)(jn,t=>t.configuration),cA=(0,Oe.P1)(jn,t=>t.configuration.hideOnePage),Gm=(0,Oe.P1)(jn,t=>t.configuration.loading),vy=(0,Oe.P1)(jn,t=>t.product);function uA(t,r,e){const i=r.configuration.state.elements.filter(a=>a.active&&a.sectionId===t?.id).map(a=>a.id);return r.product.elements.filter(a=>i.includes(a.id)).map(a=>a.name[e||""]).join(", ")}(0,Oe.P1)(jn,t=>t.configuration.computedValues);const yy=(0,Oe.P1)(jn,t=>t.configuration.tempState),cc=(0,Oe.P1)(jn,lr,(t,r)=>{const e=t.configuration.state.sections.filter(p=>!(p.hidden||p.disabled&&t.product.product.keepSectionOrder));let i;const o=[],a=[];for(const p of e){const f=t.product.sections.find(q=>q.id===p.id);if(!f)continue;const h=t.configuration.state.elements.filter(q=>!(q.disabled&&t.product.product.keepSectionOrder||q.sectionId!==p.id||q.sectionRepetition!==p.repetition)).map(q=>q.id),D=t.product.elements.filter(q=>h.includes(q.id)).map(q=>({state:t.configuration.state.elements.find(j=>j.id===q?.id&&j.sectionRepetition===p.repetition),element:q})),E=uA(f,t,r),k={...f,repetition:p.repetition},T=D.some(q=>q.state.active),L=[];let U=!1;p.mandatory||(U=!0);for(const q of D)(!q.element.isMandatory||q.element.isMandatory&&q.state.active)&&L.push(!0),q.element.isMandatory&&!q.state.active&&L.push(!1);k.allowMultiple?p.mandatory&&L.every(q=>q)&&T&&(U=!0):p.mandatory&&T&&(U=!0);let Y=null,N=0;t.configuration.currentStep&&(Y=t.configuration.currentStep.id,N=t.configuration.currentStep.repetition),k.id===Y&&k.repetition===N?i={status:ic.CURRENT,fulfilled:U,description:E,active:T,section:k,elements:D}:i?o.push({status:ic.REMAINING,fulfilled:U,description:E,active:T,section:k,elements:D}):a.push({status:ic.COMPLETED,fulfilled:U,description:E,active:T,section:k,elements:D})}const l=Math.round((o.filter(p=>p.fulfilled).length+a.filter(p=>p.fulfilled).length+(i?.fulfilled?1:0))/(a.length+o.length+(i?.fulfilled?1:0))*100);return{productId:t.product.product?.id,currentStep:i,afterSteps:o,beforeSteps:a,steps:i?[...a,i,...o]:[...a,...o],progress:l}}),f1=(0,Oe.P1)(jn,cc,yy,vy,(t,r,e,i)=>{if(!r.currentStep)return 100;let o=0;if(!0===i.product.keepSectionOrder){o=r.beforeSteps.length;let a=r.currentStep.elements.filter(p=>p.state.active).length,l=r.currentStep.elements.filter(p=>p.state.mandatory).length,u=r.currentStep.elements.filter(p=>p.state.mandatory&&p.state.active).length;a>0&&l===u&&o++}else r.steps.forEach(a=>{const l=t.configuration.state.sections.find(f=>f.id===a.section.id&&f.repetition===a.section.repetition),u=t.configuration.state.elements.filter(f=>f.sectionId===l.id),p=e.find(f=>f.sectionId===l.id&&!0===f.touched&&f.repetition===l.repetition);wy(l,u)&&p&&o++});return Math.round(o/r.steps.length*100)}),by=((0,Oe.P1)(jn,t=>t.configuration.state.compressedState),(0,Oe.P1)(jn,t=>null),(0,Oe.P1)(jn,t=>{let r=[];return Object.keys(t.configuration.renderImages).forEach((e,i)=>{e===t.configuration.currentPerspective&&(r=t.configuration.renderImages[e])}),r})),$m=(0,Oe.P1)(jn,t=>null===t.configuration.statePrice?null:t.configuration.statePrice.sum.price.formatted),Wc=(0,Oe.P1)(jn,t=>t.configuration.currentPerspective),yd=(0,Oe.P1)(jn,t=>{const r=[];return Object.keys(t.configuration.renderImages).forEach((e,i)=>{t.configuration.renderImages[e].length>0&&r.push(e)}),r}),eF=(0,Oe.P1)(jn,t=>null===t.configuration.statePrice?null:t.configuration.statePrice.own.price.formatted),tF=(0,Oe.P1)(jn,t=>null===t.configuration.statePrice?null:t.configuration.statePrice.own.pseudoPrice.formatted),hA=(0,Oe.P1)(jn,t=>null===t.configuration.statePrice?null:t.configuration.statePrice.sum.pseudoPrice.formatted),mA=t=>(0,Oe.P1)(jn,r=>null===r.configuration.statePrice?null:Object.entries(r.configuration.statePrice.sections).find(([e])=>e===t.id)?.[1][t.repetition].sum.price.formatted),gA=t=>(0,Oe.P1)(jn,r=>{let e=[];if(!r.configuration.statePrice.sections.hasOwnProperty(t.id)||r.configuration.statePrice.sections[t.id].length<t.repetition)return e;const i=r.configuration.statePrice.sections[t.id][t.repetition];return Object.keys(i.elements).forEach(o=>{const a=i.elements[o],l=r.product.elements.find(u=>u.id===o);0!==a.own.price.amount&&(e.push({elementId:l.id,name:l.name,value:a.own.pseudoPrice.formatted,position:l.position,isDiscount:!1}),0!==a.own.pseudoDiff.amount&&e.push({elementId:l.id,name:a.discount.name,value:a.own.pseudoDiff.formatted,position:l.position+.5,isDiscount:!0}))}),e.sort((o,a)=>o.position-a.position),0!==i.own.pseudoDiff.amount&&e.unshift({elementId:null,name:i.discount.name,value:i.own.pseudoDiff.formatted,position:-1,isDiscount:!0}),0!==i.own.pseudoPrice.amount&&e.unshift({elementId:null,name:t.name,value:i.own.pseudoPrice.formatted,position:-2,isDiscount:!1}),e}),rF=(0,Oe.P1)(jn,t=>t.configuration.quantity),Wm=((0,Oe.P1)(jn,t=>{const r=t.configuration.state.compressedState.find(e=>e.name&&e.name===fd.QUANTITY);return r.value?Number(r.value):1}),(0,Oe.P1)(jn,t=>{const r=t.configuration.state.compressedState.find(e=>e.name&&e.name===fd.REPETITIONS);return r.value?Number(r.value):1}),(0,Oe.P1)(jn,t=>t.configuration.humanReadableState)),Qm=(0,Oe.P1)(jn,lr,Wm,(t,r,e)=>_y(t,r,e)),h1=(0,Oe.P1)(jn,t=>{let r=null;return t.configuration.currentStep&&(r=t.configuration.currentStep.id),t.product.elements.filter(e=>e.sectionId===r)}),m1=(0,Oe.P1)(jn,t=>{let r=null;return t.configuration.currentStep&&(r=t.configuration.currentStep.id),t.configuration.state.elements.filter(e=>e.sectionId===r)}),_A=(0,Oe.P1)(jn,t=>t.configuration.state.elements),_1=(0,Oe.P1)(jn,t=>t.configuration.state.elements.filter(r=>r.active)),v1=((0,Oe.P1)(jn,t=>t.configuration.searchMapping),(0,Oe.P1)(jn,t=>{if(t.configuration.state.failedRules.length>0){let r=!0;for(let e=0;e<t.configuration.state.failedRules.length;e++)t.configuration.state.failedRules[e].softRule||(r=!1);if(!r)return!1}for(let r=0;r<t.configuration.state.sections.length;r++){const e=t.configuration.state.sections[r],i=t.configuration.state.elements.filter(o=>o.sectionId===e.id&&o.sectionRepetition===e.repetition);if(!wy(e,i))return!1}return!0}));function wy(t,r){if(!0===t.disabled)return!0;if(!0===t.multiple)for(let e of r)if(!1===e.disabled&&!0===e.mandatory&&!1===e.active)return!1;return!(!0===t.mandatory&&!1===t.active)}function yA(t,r){if(1&t&&(n.O4$(),n._UZ(0,"circle",4)),2&t){const e=n.oxw(),i=n.MAs(1);n.Udp("animation-name","mat-progress-spinner-stroke-rotate-"+e._spinnerAnimationLabel)("stroke-dashoffset",e._getStrokeDashOffset(),"px")("stroke-dasharray",e._getStrokeCircumference(),"px")("stroke-width",e._getCircleStrokeWidth(),"%")("transform-origin",e._getCircleTransformOrigin(i)),n.uIk("r",e._getCircleRadius())}}function aF(t,r){if(1&t&&(n.O4$(),n._UZ(0,"circle",4)),2&t){const e=n.oxw(),i=n.MAs(1);n.Udp("stroke-dashoffset",e._getStrokeDashOffset(),"px")("stroke-dasharray",e._getStrokeCircumference(),"px")("stroke-width",e._getCircleStrokeWidth(),"%")("transform-origin",e._getCircleTransformOrigin(i)),n.uIk("r",e._getCircleRadius())}}(0,Oe.P1)(jn,t=>t.configuration.partsList);const bA=gl(class{constructor(t){this._elementRef=t}},"primary"),CA=new n.OlP("mat-progress-spinner-default-options",{providedIn:"root",factory:function xA(){return{diameter:100}}});class es extends bA{constructor(r,e,i,o,a,l,u,p){super(r),this._document=i,this._diameter=100,this._value=0,this._resizeSubscription=Yr.w0.EMPTY,this.mode="determinate";const f=es._diameters;this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),f.has(i.head)||f.set(i.head,new Set([100])),this._noopAnimations="NoopAnimations"===o&&!!a&&!a._forceAnimations,"mat-spinner"===r.nativeElement.nodeName.toLowerCase()&&(this.mode="indeterminate"),a&&(a.color&&(this.color=this.defaultColor=a.color),a.diameter&&(this.diameter=a.diameter),a.strokeWidth&&(this.strokeWidth=a.strokeWidth)),e.isBrowser&&e.SAFARI&&u&&l&&p&&(this._resizeSubscription=u.change(150).subscribe(()=>{"indeterminate"===this.mode&&p.run(()=>l.markForCheck())}))}get diameter(){return this._diameter}set diameter(r){this._diameter=Sa(r),this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),this._styleRoot&&this._attachStyleNode()}get strokeWidth(){return this._strokeWidth||this.diameter/10}set strokeWidth(r){this._strokeWidth=Sa(r)}get value(){return"determinate"===this.mode?this._value:0}set value(r){this._value=Math.max(0,Math.min(100,Sa(r)))}ngOnInit(){const r=this._elementRef.nativeElement;this._styleRoot=ea(r)||this._document.head,this._attachStyleNode(),r.classList.add("mat-progress-spinner-indeterminate-animation")}ngOnDestroy(){this._resizeSubscription.unsubscribe()}_getCircleRadius(){return(this.diameter-10)/2}_getViewBox(){const r=2*this._getCircleRadius()+this.strokeWidth;return`0 0 ${r} ${r}`}_getStrokeCircumference(){return 2*Math.PI*this._getCircleRadius()}_getStrokeDashOffset(){return"determinate"===this.mode?this._getStrokeCircumference()*(100-this._value)/100:null}_getCircleStrokeWidth(){return this.strokeWidth/this.diameter*100}_getCircleTransformOrigin(r){const e=50*(r.currentScale??1);return`${e}% ${e}%`}_attachStyleNode(){const r=this._styleRoot,e=this._diameter,i=es._diameters;let o=i.get(r);if(!o||!o.has(e)){const a=this._document.createElement("style");a.setAttribute("mat-spinner-animation",this._spinnerAnimationLabel),a.textContent=this._getAnimationText(),r.appendChild(a),o||(o=new Set,i.set(r,o)),o.add(e)}}_getAnimationText(){const r=this._getStrokeCircumference();return"\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n".replace(/START_VALUE/g,""+.95*r).replace(/END_VALUE/g,""+.2*r).replace(/DIAMETER/g,`${this._spinnerAnimationLabel}`)}_getSpinnerAnimationLabel(){return this.diameter.toString().replace(".","_")}}es._diameters=new WeakMap,es.\u0275fac=function(r){return new(r||es)(n.Y36(n.SBq),n.Y36(Di),n.Y36(I,8),n.Y36(n.QbO,8),n.Y36(CA),n.Y36(n.sBO),n.Y36(sf),n.Y36(n.R0b))},es.\u0275cmp=n.Xpm({type:es,selectors:[["mat-progress-spinner"],["mat-spinner"]],hostAttrs:["role","progressbar","tabindex","-1",1,"mat-progress-spinner","mat-spinner"],hostVars:10,hostBindings:function(r,e){2&r&&(n.uIk("aria-valuemin","determinate"===e.mode?0:null)("aria-valuemax","determinate"===e.mode?100:null)("aria-valuenow","determinate"===e.mode?e.value:null)("mode",e.mode),n.Udp("width",e.diameter,"px")("height",e.diameter,"px"),n.ekj("_mat-animation-noopable",e._noopAnimations))},inputs:{color:"color",diameter:"diameter",strokeWidth:"strokeWidth",mode:"mode",value:"value"},exportAs:["matProgressSpinner"],features:[n.qOj],decls:4,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false","aria-hidden","true",3,"ngSwitch"],["svg",""],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(r,e){1&r&&(n.O4$(),n.TgZ(0,"svg",0,1),n.YNc(2,yA,1,11,"circle",2),n.YNc(3,aF,1,9,"circle",3),n.qZA()),2&r&&(n.Udp("width",e.diameter,"px")("height",e.diameter,"px"),n.Q6J("ngSwitch","indeterminate"===e.mode),n.uIk("viewBox",e._getViewBox()),n.xp6(2),n.Q6J("ngSwitchCase",!0),n.xp6(1),n.Q6J("ngSwitchCase",!1))},dependencies:[qa,Qs],styles:[".mat-progress-spinner{display:block;position:relative;overflow:hidden}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:rgba(0,0,0,0);transition:stroke-dashoffset 225ms linear}.cdk-high-contrast-active .mat-progress-spinner circle{stroke:CanvasText}.mat-progress-spinner[mode=indeterminate] svg{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}.mat-progress-spinner[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}.mat-progress-spinner._mat-animation-noopable svg,.mat-progress-spinner._mat-animation-noopable circle{animation:none;transition:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}"],encapsulation:2,changeDetection:0});let Jm=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[Xn,Zr,Xn]}),t})();var Qc=(()=>{return(t=Qc||(Qc={})).GLOBAL="global",t.ELEMENT="element",Qc;var t})();let No=(()=>{class t{constructor(){this.type=Qc.GLOBAL}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Xpm({type:t,selectors:[["apto-loading-indicator"]],inputs:{type:"type"},decls:3,vars:3,consts:[[1,"loading-spinner"],["diameter","75","color","primary"]],template:function(e,i){1&e&&(n.TgZ(0,"div")(1,"div",0),n._UZ(2,"mat-spinner",1),n.qZA()()),2&e&&n.Gre("loading-container ",i.type,"")},dependencies:[es],styles:[".loading-container[_ngcontent-%COMP%]{z-index:2;width:100%;height:100%;background-color:#00000080}.loading-container.element[_ngcontent-%COMP%]{position:absolute;inset:0}.loading-container.global[_ngcontent-%COMP%]{position:fixed;inset:0}.loading-container[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%]{position:absolute;top:min(50vh,50%);left:50%;transform:translate(-50%);max-height:100%;max-width:100%;overflow:auto}"]}),t})();var ts=(()=>{return(t=ts||(ts={})).CUSTOM="custom",t.CONFIRM="confirm",t.ERROR="error",t.WARNING="warning",t.INFO="info",ts;var t})();class Sy{attach(r){return this._attachedHost=r,r.attach(this)}detach(){let r=this._attachedHost;null!=r&&(this._attachedHost=null,r.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(r){this._attachedHost=r}}class uc extends Sy{constructor(r,e,i,o){super(),this.component=r,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=o}}class bd extends Sy{constructor(r,e,i,o){super(),this.templateRef=r,this.viewContainerRef=e,this.context=i,this.injector=o}get origin(){return this.templateRef.elementRef}attach(r,e=this.context){return this.context=e,super.attach(r)}detach(){return this.context=void 0,super.detach()}}class x1 extends Sy{constructor(r){super(),this.element=r instanceof n.SBq?r.nativeElement:r}}class Xm{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(r){return r instanceof uc?(this._attachedPortal=r,this.attachComponentPortal(r)):r instanceof bd?(this._attachedPortal=r,this.attachTemplatePortal(r)):this.attachDomPortal&&r instanceof x1?(this._attachedPortal=r,this.attachDomPortal(r)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(r){this._disposeFn=r}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class w1 extends Xm{constructor(r,e,i,o,a){super(),this.outletElement=r,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=o,this.attachDomPortal=l=>{const u=l.element,p=this._document.createComment("dom-portal");u.parentNode.insertBefore(p,u),this.outletElement.appendChild(u),this._attachedPortal=l,super.setDisposeFn(()=>{p.parentNode&&p.parentNode.replaceChild(u,p)})},this._document=a}attachComponentPortal(r){const i=(r.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(r.component);let o;return r.viewContainerRef?(o=r.viewContainerRef.createComponent(i,r.viewContainerRef.length,r.injector||r.viewContainerRef.injector),this.setDisposeFn(()=>o.destroy())):(o=i.create(r.injector||this._defaultInjector||n.zs3.NULL),this._appRef.attachView(o.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(o.hostView),o.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(o)),this._attachedPortal=r,o}attachTemplatePortal(r){let e=r.viewContainerRef,i=e.createEmbeddedView(r.templateRef,r.context,{injector:r.injector});return i.rootNodes.forEach(o=>this.outletElement.appendChild(o)),i.detectChanges(),this.setDisposeFn(()=>{let o=e.indexOf(i);-1!==o&&e.remove(o)}),this._attachedPortal=r,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(r){return r.hostView.rootNodes[0]}}let dc=(()=>{class t extends Xm{constructor(e,i,o){super(),this._componentFactoryResolver=e,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new n.vpe,this.attachDomPortal=a=>{const l=a.element,u=this._document.createComment("dom-portal");a.setAttachedHost(this),l.parentNode.insertBefore(u,l),this._getRootNode().appendChild(l),this._attachedPortal=a,super.setDisposeFn(()=>{u.parentNode&&u.parentNode.replaceChild(l,u)})},this._document=o}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(e){e.setAttachedHost(this);const i=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,a=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),l=i.createComponent(a,i.length,e.injector||i.injector);return i!==this._viewContainerRef&&this._getRootNode().appendChild(l.hostView.rootNodes[0]),super.setDisposeFn(()=>l.destroy()),this._attachedPortal=e,this._attachedRef=l,this.attached.emit(l),l}attachTemplatePortal(e){e.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(n._Vd),n.Y36(n.s_b),n.Y36(I))},t.\u0275dir=n.lG2({type:t,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[n.qOj]}),t})(),rs=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({}),t})();const Ts=td();class DA{constructor(r,e){this._viewportRuler=r,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const r=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=r.style.left||"",this._previousHTMLStyles.top=r.style.top||"",r.style.left=ui(-this._previousScrollPosition.left),r.style.top=ui(-this._previousScrollPosition.top),r.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const r=this._document.documentElement,i=r.style,o=this._document.body.style,a=i.scrollBehavior||"",l=o.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,r.classList.remove("cdk-global-scrollblock"),Ts&&(i.scrollBehavior=o.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),Ts&&(i.scrollBehavior=a,o.scrollBehavior=l)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}}class OA{constructor(r,e,i,o){this._scrollDispatcher=r,this._ngZone=e,this._viewportRuler=i,this._config=o,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(r){this._overlayRef=r}enable(){if(this._scrollSubscription)return;const r=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=r.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=r.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class S1{enable(){}disable(){}attach(){}}function Dy(t,r){return r.some(e=>t.bottom<e.top||t.top>e.bottom||t.right<e.left||t.left>e.right)}function D1(t,r){return r.some(e=>t.top<e.top||t.bottom>e.bottom||t.left<e.left||t.right>e.right)}class O1{constructor(r,e,i,o){this._scrollDispatcher=r,this._viewportRuler=e,this._ngZone=i,this._config=o,this._scrollSubscription=null}attach(r){this._overlayRef=r}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:o}=this._viewportRuler.getViewportSize();Dy(e,[{width:i,height:o,bottom:o,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let hF=(()=>{class t{constructor(e,i,o,a){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=o,this.noop=()=>new S1,this.close=l=>new OA(this._scrollDispatcher,this._ngZone,this._viewportRuler,l),this.block=()=>new DA(this._viewportRuler,this._document),this.reposition=l=>new O1(this._scrollDispatcher,this._viewportRuler,this._ngZone,l),this._document=a}}return t.\u0275fac=function(e){return new(e||t)(n.LFG(Sm),n.LFG(sf),n.LFG(n.R0b),n.LFG(I))},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class Cd{constructor(r){if(this.scrollStrategy=new S1,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,r){const e=Object.keys(r);for(const i of e)void 0!==r[i]&&(this[i]=r[i])}}}class gF{constructor(r,e){this.connectionPair=r,this.scrollableViewProperties=e}}let Oy=(()=>{class t{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return t.\u0275fac=function(e){return new(e||t)(n.LFG(I))},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),A1=(()=>{class t extends Oy{constructor(e,i){super(e),this._ngZone=i,this._keydownListener=o=>{const a=this._attachedOverlays;for(let l=a.length-1;l>-1;l--)if(a[l]._keydownEvents.observers.length>0){const u=a[l]._keydownEvents;this._ngZone?this._ngZone.run(()=>u.next(o)):u.next(o);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return t.\u0275fac=function(e){return new(e||t)(n.LFG(I),n.LFG(n.R0b,8))},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),P1=(()=>{class t extends Oy{constructor(e,i,o){super(e),this._platform=i,this._ngZone=o,this._cursorStyleIsSet=!1,this._pointerDownListener=a=>{this._pointerDownEventTarget=Oa(a)},this._clickListener=a=>{const l=Oa(a),u="click"===a.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:l;this._pointerDownEventTarget=null;const p=this._attachedOverlays.slice();for(let f=p.length-1;f>-1;f--){const h=p[f];if(h._outsidePointerEvents.observers.length<1||!h.hasAttached())continue;if(h.overlayElement.contains(l)||h.overlayElement.contains(u))break;const y=h._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>y.next(a)):y.next(a)}}}add(e){if(super.add(e),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}}return t.\u0275fac=function(e){return new(e||t)(n.LFG(I),n.LFG(Di),n.LFG(n.R0b,8))},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),pc=(()=>{class t{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||rc()){const o=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let a=0;a<o.length;a++)o[a].remove()}const i=this._document.createElement("div");i.classList.add(e),rc()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return t.\u0275fac=function(e){return new(e||t)(n.LFG(I),n.LFG(Di))},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class fc{constructor(r,e,i,o,a,l,u,p,f,h=!1){this._portalOutlet=r,this._host=e,this._pane=i,this._config=o,this._ngZone=a,this._keyboardDispatcher=l,this._document=u,this._location=p,this._outsideClickDispatcher=f,this._animationsDisabled=h,this._backdropElement=null,this._backdropClick=new dn.x,this._attachments=new dn.x,this._detachments=new dn.x,this._locationChanges=Yr.w0.EMPTY,this._backdropClickHandler=y=>this._backdropClick.next(y),this._backdropTransitionendHandler=y=>{this._disposeBackdrop(y.target)},this._keydownEvents=new dn.x,this._outsidePointerEvents=new dn.x,o.scrollStrategy&&(this._scrollStrategy=o.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=o.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(r){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(r);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,ar.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof e?.onDestroy&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const r=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),r}dispose(){const r=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,r&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(r){r!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=r,this.hasAttached()&&(r.attach(this),this.updatePosition()))}updateSize(r){this._config={...this._config,...r},this._updateElementSize()}setDirection(r){this._config={...this._config,direction:r},this._updateElementDirection()}addPanelClass(r){this._pane&&this._toggleClasses(this._pane,r,!0)}removePanelClass(r){this._pane&&this._toggleClasses(this._pane,r,!1)}getDirection(){const r=this._config.direction;return r?"string"==typeof r?r:r.value:"ltr"}updateScrollStrategy(r){r!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=r,this.hasAttached()&&(r.attach(this),r.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const r=this._pane.style;r.width=ui(this._config.width),r.height=ui(this._config.height),r.minWidth=ui(this._config.minWidth),r.minHeight=ui(this._config.minHeight),r.maxWidth=ui(this._config.maxWidth),r.maxHeight=ui(this._config.maxHeight)}_togglePointerEvents(r){this._pane.style.pointerEvents=r?"":"none"}_attachBackdrop(){const r="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(r)})}):this._backdropElement.classList.add(r)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const r=this._backdropElement;if(r){if(this._animationsDisabled)return void this._disposeBackdrop(r);r.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{r.addEventListener("transitionend",this._backdropTransitionendHandler)}),r.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(r)},500))}}_toggleClasses(r,e,i){const o=_m(e||[]).filter(a=>!!a);o.length&&(i?r.classList.add(...o):r.classList.remove(...o))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const r=this._ngZone.onStable.pipe((0,Zn.R)((0,Mo.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),r.unsubscribe())})})}_disposeScrollStrategy(){const r=this._scrollStrategy;r&&(r.disable(),r.detach&&r.detach())}_disposeBackdrop(r){r&&(r.removeEventListener("click",this._backdropClickHandler),r.removeEventListener("transitionend",this._backdropTransitionendHandler),r.remove(),this._backdropElement===r&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const kf="cdk-overlay-connected-position-bounding-box",T1=/([A-Za-z%]+)$/;class PA{constructor(r,e,i,o,a){this._viewportRuler=e,this._document=i,this._platform=o,this._overlayContainer=a,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new dn.x,this._resizeSubscription=Yr.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(r)}get positions(){return this._preferredPositions}attach(r){this._validatePositions(),r.hostElement.classList.add(kf),this._overlayRef=r,this._boundingBox=r.hostElement,this._pane=r.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const r=this._originRect,e=this._overlayRect,i=this._viewportRect,o=this._containerRect,a=[];let l;for(let u of this._preferredPositions){let p=this._getOriginPoint(r,o,u),f=this._getOverlayPoint(p,e,u),h=this._getOverlayFit(f,e,i,u);if(h.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(u,p);this._canFitWithFlexibleDimensions(h,f,i)?a.push({position:u,origin:p,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(p,u)}):(!l||l.overlayFit.visibleArea<h.visibleArea)&&(l={overlayFit:h,overlayPoint:f,originPoint:p,position:u,overlayRect:e})}if(a.length){let u=null,p=-1;for(const f of a){const h=f.boundingBoxRect.width*f.boundingBoxRect.height*(f.position.weight||1);h>p&&(p=h,u=f)}return this._isPushed=!1,void this._applyPosition(u.position,u.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(l.position,l.originPoint);this._applyPosition(l.position,l.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&hc(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(kf),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const r=this._lastPosition;if(r){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,r);this._applyPosition(r,e)}else this.apply()}withScrollableContainers(r){return this._scrollables=r,this}withPositions(r){return this._preferredPositions=r,-1===r.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(r){return this._viewportMargin=r,this}withFlexibleDimensions(r=!0){return this._hasFlexibleDimensions=r,this}withGrowAfterOpen(r=!0){return this._growAfterOpen=r,this}withPush(r=!0){return this._canPush=r,this}withLockedPosition(r=!0){return this._positionLocked=r,this}setOrigin(r){return this._origin=r,this}withDefaultOffsetX(r){return this._offsetX=r,this}withDefaultOffsetY(r){return this._offsetY=r,this}withTransformOriginOn(r){return this._transformOriginSelector=r,this}_getOriginPoint(r,e,i){let o,a;if("center"==i.originX)o=r.left+r.width/2;else{const l=this._isRtl()?r.right:r.left,u=this._isRtl()?r.left:r.right;o="start"==i.originX?l:u}return e.left<0&&(o-=e.left),a="center"==i.originY?r.top+r.height/2:"top"==i.originY?r.top:r.bottom,e.top<0&&(a-=e.top),{x:o,y:a}}_getOverlayPoint(r,e,i){let o,a;return o="center"==i.overlayX?-e.width/2:"start"===i.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,a="center"==i.overlayY?-e.height/2:"top"==i.overlayY?0:-e.height,{x:r.x+o,y:r.y+a}}_getOverlayFit(r,e,i,o){const a=I1(e);let{x:l,y:u}=r,p=this._getOffset(o,"x"),f=this._getOffset(o,"y");p&&(l+=p),f&&(u+=f);let D=0-u,E=u+a.height-i.height,k=this._subtractOverflows(a.width,0-l,l+a.width-i.width),T=this._subtractOverflows(a.height,D,E),L=k*T;return{visibleArea:L,isCompletelyWithinViewport:a.width*a.height===L,fitsInViewportVertically:T===a.height,fitsInViewportHorizontally:k==a.width}}_canFitWithFlexibleDimensions(r,e,i){if(this._hasFlexibleDimensions){const o=i.bottom-e.y,a=i.right-e.x,l=Ey(this._overlayRef.getConfig().minHeight),u=Ey(this._overlayRef.getConfig().minWidth),f=r.fitsInViewportHorizontally||null!=u&&u<=a;return(r.fitsInViewportVertically||null!=l&&l<=o)&&f}return!1}_pushOverlayOnScreen(r,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:r.x+this._previousPushAmount.x,y:r.y+this._previousPushAmount.y};const o=I1(e),a=this._viewportRect,l=Math.max(r.x+o.width-a.width,0),u=Math.max(r.y+o.height-a.height,0),p=Math.max(a.top-i.top-r.y,0),f=Math.max(a.left-i.left-r.x,0);let h=0,y=0;return h=o.width<=a.width?f||-l:r.x<this._viewportMargin?a.left-i.left-r.x:0,y=o.height<=a.height?p||-u:r.y<this._viewportMargin?a.top-i.top-r.y:0,this._previousPushAmount={x:h,y},{x:r.x+h,y:r.y+y}}_applyPosition(r,e){if(this._setTransformOrigin(r),this._setOverlayElementStyles(e,r),this._setBoundingBoxStyles(e,r),r.panelClass&&this._addPanelClasses(r.panelClass),this._lastPosition=r,this._positionChanges.observers.length){const i=this._getScrollVisibility(),o=new gF(r,i);this._positionChanges.next(o)}this._isInitialRender=!1}_setTransformOrigin(r){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,o=r.overlayY;i="center"===r.overlayX?"center":this._isRtl()?"start"===r.overlayX?"right":"left":"start"===r.overlayX?"left":"right";for(let a=0;a<e.length;a++)e[a].style.transformOrigin=`${i} ${o}`}_calculateBoundingBoxRect(r,e){const i=this._viewportRect,o=this._isRtl();let a,l,u,h,y,D;if("top"===e.overlayY)l=r.y,a=i.height-l+this._viewportMargin;else if("bottom"===e.overlayY)u=i.height-r.y+2*this._viewportMargin,a=i.height-u+this._viewportMargin;else{const E=Math.min(i.bottom-r.y+i.top,r.y),k=this._lastBoundingBoxSize.height;a=2*E,l=r.y-E,a>k&&!this._isInitialRender&&!this._growAfterOpen&&(l=r.y-k/2)}if("end"===e.overlayX&&!o||"start"===e.overlayX&&o)D=i.width-r.x+this._viewportMargin,h=r.x-this._viewportMargin;else if("start"===e.overlayX&&!o||"end"===e.overlayX&&o)y=r.x,h=i.right-r.x;else{const E=Math.min(i.right-r.x+i.left,r.x),k=this._lastBoundingBoxSize.width;h=2*E,y=r.x-E,h>k&&!this._isInitialRender&&!this._growAfterOpen&&(y=r.x-k/2)}return{top:l,left:y,bottom:u,right:D,width:h,height:a}}_setBoundingBoxStyles(r,e){const i=this._calculateBoundingBoxRect(r,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const o={};if(this._hasExactPosition())o.top=o.left="0",o.bottom=o.right=o.maxHeight=o.maxWidth="",o.width=o.height="100%";else{const a=this._overlayRef.getConfig().maxHeight,l=this._overlayRef.getConfig().maxWidth;o.height=ui(i.height),o.top=ui(i.top),o.bottom=ui(i.bottom),o.width=ui(i.width),o.left=ui(i.left),o.right=ui(i.right),o.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",o.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",a&&(o.maxHeight=ui(a)),l&&(o.maxWidth=ui(l))}this._lastBoundingBoxSize=i,hc(this._boundingBox.style,o)}_resetBoundingBoxStyles(){hc(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){hc(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(r,e){const i={},o=this._hasExactPosition(),a=this._hasFlexibleDimensions,l=this._overlayRef.getConfig();if(o){const h=this._viewportRuler.getViewportScrollPosition();hc(i,this._getExactOverlayY(e,r,h)),hc(i,this._getExactOverlayX(e,r,h))}else i.position="static";let u="",p=this._getOffset(e,"x"),f=this._getOffset(e,"y");p&&(u+=`translateX(${p}px) `),f&&(u+=`translateY(${f}px)`),i.transform=u.trim(),l.maxHeight&&(o?i.maxHeight=ui(l.maxHeight):a&&(i.maxHeight="")),l.maxWidth&&(o?i.maxWidth=ui(l.maxWidth):a&&(i.maxWidth="")),hc(this._pane.style,i)}_getExactOverlayY(r,e,i){let o={top:"",bottom:""},a=this._getOverlayPoint(e,this._overlayRect,r);return this._isPushed&&(a=this._pushOverlayOnScreen(a,this._overlayRect,i)),"bottom"===r.overlayY?o.bottom=this._document.documentElement.clientHeight-(a.y+this._overlayRect.height)+"px":o.top=ui(a.y),o}_getExactOverlayX(r,e,i){let l,o={left:"",right:""},a=this._getOverlayPoint(e,this._overlayRect,r);return this._isPushed&&(a=this._pushOverlayOnScreen(a,this._overlayRect,i)),l=this._isRtl()?"end"===r.overlayX?"left":"right":"end"===r.overlayX?"right":"left","right"===l?o.right=this._document.documentElement.clientWidth-(a.x+this._overlayRect.width)+"px":o.left=ui(a.x),o}_getScrollVisibility(){const r=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(o=>o.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:D1(r,i),isOriginOutsideView:Dy(r,i),isOverlayClipped:D1(e,i),isOverlayOutsideView:Dy(e,i)}}_subtractOverflows(r,...e){return e.reduce((i,o)=>i-Math.max(o,0),r)}_getNarrowedViewportRect(){const r=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+r-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:r-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(r,e){return"x"===e?r.offsetX??this._offsetX:r.offsetY??this._offsetY}_validatePositions(){}_addPanelClasses(r){this._pane&&_m(r).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(r=>{this._pane.classList.remove(r)}),this._appliedPanelClasses=[])}_getOriginRect(){const r=this._origin;if(r instanceof n.SBq)return r.nativeElement.getBoundingClientRect();if(r instanceof Element)return r.getBoundingClientRect();const e=r.width||0,i=r.height||0;return{top:r.y,bottom:r.y+i,left:r.x,right:r.x+e,height:i,width:e}}}function hc(t,r){for(let e in r)r.hasOwnProperty(e)&&(t[e]=r[e]);return t}function Ey(t){if("number"!=typeof t&&null!=t){const[r,e]=t.split(T1);return e&&"px"!==e?null:parseFloat(r)}return t||null}function I1(t){return{top:Math.floor(t.top),right:Math.floor(t.right),bottom:Math.floor(t.bottom),left:Math.floor(t.left),width:Math.floor(t.width),height:Math.floor(t.height)}}const TA="cdk-global-overlay-wrapper";class k1{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(r){const e=r.getConfig();this._overlayRef=r,this._width&&!e.width&&r.updateSize({width:this._width}),this._height&&!e.height&&r.updateSize({height:this._height}),r.hostElement.classList.add(TA),this._isDisposed=!1}top(r=""){return this._bottomOffset="",this._topOffset=r,this._alignItems="flex-start",this}left(r=""){return this._xOffset=r,this._xPosition="left",this}bottom(r=""){return this._topOffset="",this._bottomOffset=r,this._alignItems="flex-end",this}right(r=""){return this._xOffset=r,this._xPosition="right",this}start(r=""){return this._xOffset=r,this._xPosition="start",this}end(r=""){return this._xOffset=r,this._xPosition="end",this}width(r=""){return this._overlayRef?this._overlayRef.updateSize({width:r}):this._width=r,this}height(r=""){return this._overlayRef?this._overlayRef.updateSize({height:r}):this._height=r,this}centerHorizontally(r=""){return this.left(r),this._xPosition="center",this}centerVertically(r=""){return this.top(r),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const r=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:o,height:a,maxWidth:l,maxHeight:u}=i,p=!("100%"!==o&&"100vw"!==o||l&&"100%"!==l&&"100vw"!==l),f=!("100%"!==a&&"100vh"!==a||u&&"100%"!==u&&"100vh"!==u),h=this._xPosition,y=this._xOffset,D="rtl"===this._overlayRef.getConfig().direction;let E="",k="",T="";p?T="flex-start":"center"===h?(T="center",D?k=y:E=y):D?"left"===h||"end"===h?(T="flex-end",E=y):("right"===h||"start"===h)&&(T="flex-start",k=y):"left"===h||"start"===h?(T="flex-start",E=y):("right"===h||"end"===h)&&(T="flex-end",k=y),r.position=this._cssPosition,r.marginLeft=p?"0":E,r.marginTop=f?"0":this._topOffset,r.marginBottom=this._bottomOffset,r.marginRight=p?"0":k,e.justifyContent=T,e.alignItems=f?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const r=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(TA),i.justifyContent=i.alignItems=r.marginTop=r.marginBottom=r.marginLeft=r.marginRight=r.position="",this._overlayRef=null,this._isDisposed=!0}}let IA=(()=>{class t{constructor(e,i,o,a){this._viewportRuler=e,this._document=i,this._platform=o,this._overlayContainer=a}global(){return new k1}flexibleConnectedTo(e){return new PA(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return t.\u0275fac=function(e){return new(e||t)(n.LFG(sf),n.LFG(I),n.LFG(Di),n.LFG(pc))},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),kA=0,Ro=(()=>{class t{constructor(e,i,o,a,l,u,p,f,h,y,D,E){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=o,this._positionBuilder=a,this._keyboardDispatcher=l,this._injector=u,this._ngZone=p,this._document=f,this._directionality=h,this._location=y,this._outsideClickDispatcher=D,this._animationsModuleType=E}create(e){const i=this._createHostElement(),o=this._createPaneElement(i),a=this._createPortalOutlet(o),l=new Cd(e);return l.direction=l.direction||this._directionality.value,new fc(a,i,o,l,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(e){const i=this._document.createElement("div");return i.id="cdk-overlay-"+kA++,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(n.z2F)),new w1(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return t.\u0275fac=function(e){return new(e||t)(n.LFG(hF),n.LFG(pc),n.LFG(n._Vd),n.LFG(IA),n.LFG(A1),n.LFG(n.zs3),n.LFG(n.R0b),n.LFG(I),n.LFG(So),n.LFG(ne),n.LFG(P1),n.LFG(n.QbO,8))},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac}),t})();const vF=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],FA=new n.OlP("cdk-connected-overlay-scroll-strategy");let Ay=(()=>{class t{constructor(e){this.elementRef=e}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(n.SBq))},t.\u0275dir=n.lG2({type:t,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),t})(),xd=(()=>{class t{constructor(e,i,o,a,l){this._overlay=e,this._dir=l,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=Yr.w0.EMPTY,this._attachSubscription=Yr.w0.EMPTY,this._detachSubscription=Yr.w0.EMPTY,this._positionSubscription=Yr.w0.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new n.vpe,this.positionChange=new n.vpe,this.attach=new n.vpe,this.detach=new n.vpe,this.overlayKeydown=new n.vpe,this.overlayOutsideClick=new n.vpe,this._templatePortal=new bd(i,o),this._scrollStrategyFactory=a,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(e){this._offsetX=e,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(e){this._offsetY=e,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=Cn(e)}get lockPosition(){return this._lockPosition}set lockPosition(e){this._lockPosition=Cn(e)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(e){this._flexibleDimensions=Cn(e)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(e){this._growAfterOpen=Cn(e)}get push(){return this._push}set push(e){this._push=Cn(e)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(e){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),e.origin&&this.open&&this._position.apply()),e.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=vF);const e=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=e.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=e.detachments().subscribe(()=>this.detach.emit()),e.keydownEvents().subscribe(i=>{this.overlayKeydown.next(i),27===i.keyCode&&!this.disableClose&&!ml(i)&&(i.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(i=>{this.overlayOutsideClick.next(i)})}_buildConfig(){const e=this._position=this.positionStrategy||this._createPositionStrategy(),i=new Cd({direction:this._dir,positionStrategy:e,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(i.width=this.width),(this.height||0===this.height)&&(i.height=this.height),(this.minWidth||0===this.minWidth)&&(i.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(i.minHeight=this.minHeight),this.backdropClass&&(i.backdropClass=this.backdropClass),this.panelClass&&(i.panelClass=this.panelClass),i}_updatePositionStrategy(e){const i=this.positions.map(o=>({originX:o.originX,originY:o.originY,overlayX:o.overlayX,overlayY:o.overlayY,offsetX:o.offsetX||this.offsetX,offsetY:o.offsetY||this.offsetY,panelClass:o.panelClass||void 0}));return e.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(i).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const e=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(e),e}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof Ay?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(e=>{this.backdropClick.emit(e)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(HS(()=>this.positionChange.observers.length>0)).subscribe(e=>{this.positionChange.emit(e),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(Ro),n.Y36(n.Rgc),n.Y36(n.s_b),n.Y36(FA),n.Y36(So,8))},t.\u0275dir=n.lG2({type:t,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[n.TTD]}),t})();const NA={provide:FA,deps:[Ro],useFactory:function yF(t){return()=>t.scrollStrategies.reposition()}};let Aa=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({providers:[Ro,NA],imports:[Ja,rs,lf,lf]}),t})(),F1=(()=>{class t extends pc{constructor(e,i){super(e,i)}ngOnDestroy(){super.ngOnDestroy(),this._fullScreenEventName&&this._fullScreenListener&&this._document.removeEventListener(this._fullScreenEventName,this._fullScreenListener)}_createContainer(){super._createContainer(),this._adjustParentForFullscreenChange(),this._addFullscreenChangeListener(()=>this._adjustParentForFullscreenChange())}_adjustParentForFullscreenChange(){this._containerElement&&(this.getFullscreenElement()||this._document.body).appendChild(this._containerElement)}_addFullscreenChangeListener(e){const i=this._getEventName();i&&(this._fullScreenListener&&this._document.removeEventListener(i,this._fullScreenListener),this._document.addEventListener(i,e),this._fullScreenListener=e)}_getEventName(){if(!this._fullScreenEventName){const e=this._document;e.fullscreenEnabled?this._fullScreenEventName="fullscreenchange":e.webkitFullscreenEnabled?this._fullScreenEventName="webkitfullscreenchange":e.mozFullScreenEnabled?this._fullScreenEventName="mozfullscreenchange":e.msFullscreenEnabled&&(this._fullScreenEventName="MSFullscreenChange")}return this._fullScreenEventName}getFullscreenElement(){const e=this._document;return e.fullscreenElement||e.webkitFullscreenElement||e.mozFullScreenElement||e.msFullscreenElement||null}}return t.\u0275fac=function(e){return new(e||t)(n.LFG(I),n.LFG(Di))},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function RA(t,r){}class Ff{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0}}let Py=(()=>{class t extends Xm{constructor(e,i,o,a,l,u,p,f){super(),this._elementRef=e,this._focusTrapFactory=i,this._config=a,this._interactivityChecker=l,this._ngZone=u,this._overlayRef=p,this._focusMonitor=f,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=h=>{this._portalOutlet.hasAttached();const y=this._portalOutlet.attachDomPortal(h);return this._contentAttached(),y},this._ariaLabelledBy=this._config.ariaLabelledBy||null,this._document=o}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(e){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachComponentPortal(e);return this._contentAttached(),i}attachTemplatePortal(e){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachTemplatePortal(e);return this._contentAttached(),i}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const o=()=>{e.removeEventListener("blur",o),e.removeEventListener("mousedown",o),e.removeAttribute("tabindex")};e.addEventListener("blur",o),e.addEventListener("mousedown",o)})),e.focus(i)}_focusByCssSelector(e,i){let o=this._elementRef.nativeElement.querySelector(e);o&&this._forceFocus(o,i)}_trapFocus(){const e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{i||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const e=this._config.restoreFocus;let i=null;if("string"==typeof e?i=this._document.querySelector(e):"boolean"==typeof e?i=e?this._elementFocusedBeforeDialogWasOpened:null:e&&(i=e),this._config.restoreFocus&&i&&"function"==typeof i.focus){const o=rf(),a=this._elementRef.nativeElement;(!o||o===this._document.body||o===a||a.contains(o))&&(this._focusMonitor?(this._focusMonitor.focusVia(i,this._closeInteractionType),this._closeInteractionType=null):i.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,i=rf();return e===i||e.contains(i)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=rf())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(n.SBq),n.Y36(vf),n.Y36(I,8),n.Y36(Ff),n.Y36(_f),n.Y36(n.R0b),n.Y36(fc),n.Y36(Ka))},t.\u0275cmp=n.Xpm({type:t,selectors:[["cdk-dialog-container"]],viewQuery:function(e,i){if(1&e&&n.Gf(dc,7),2&e){let o;n.iGM(o=n.CRH())&&(i._portalOutlet=o.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(e,i){2&e&&n.uIk("id",i._config.id||null)("role",i._config.role)("aria-modal",i._config.ariaModal)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null)},features:[n.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,i){1&e&&n.YNc(0,RA,0,0,"ng-template",0)},dependencies:[dc],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2}),t})();class Nf{constructor(r,e){this.overlayRef=r,this.config=e,this.closed=new dn.x,this.disableClose=e.disableClose,this.backdropClick=r.backdropClick(),this.keydownEvents=r.keydownEvents(),this.outsidePointerEvents=r.outsidePointerEvents(),this.id=e.id,this.keydownEvents.subscribe(i=>{27===i.keyCode&&!this.disableClose&&!ml(i)&&(i.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})})}close(r,e){if(this.containerInstance){const i=this.closed;this.containerInstance._closeInteractionType=e?.focusOrigin||"program",this.overlayRef.dispose(),i.next(r),i.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(r="",e=""){return this.overlayRef.updateSize({width:r,height:e}),this}addPanelClass(r){return this.overlayRef.addPanelClass(r),this}removePanelClass(r){return this.overlayRef.removePanelClass(r),this}}const Km=new n.OlP("DialogScrollStrategy"),LA=new n.OlP("DialogData"),Ty=new n.OlP("DefaultDialogConfig"),eg={provide:Km,deps:[Ro],useFactory:function Iy(t){return()=>t.scrollStrategies.block()}};let bF=0,BA=(()=>{class t{constructor(e,i,o,a,l,u){this._overlay=e,this._injector=i,this._defaultOptions=o,this._parentDialog=a,this._overlayContainer=l,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new dn.x,this._afterOpenedAtThisLevel=new dn.x,this._ariaHiddenElements=new Map,this.afterAllClosed=tl(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Fo(void 0))),this._scrollStrategy=u}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}open(e,i){(i={...this._defaultOptions||new Ff,...i}).id=i.id||"cdk-dialog-"+bF++,i.id&&this.getDialogById(i.id);const a=this._getOverlayConfig(i),l=this._overlay.create(a),u=new Nf(l,i),p=this._attachContainer(l,u,i);return u.containerInstance=p,this._attachDialogContent(e,u,p,i),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(u),u.closed.subscribe(()=>this._removeOpenDialog(u,!0)),this.afterOpened.next(u),u}closeAll(){N1(this.openDialogs,e=>e.close())}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){N1(this._openDialogsAtThisLevel,e=>{!1===e.config.closeOnDestroy&&this._removeOpenDialog(e,!1)}),N1(this._openDialogsAtThisLevel,e=>e.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(e){const i=new Cd({positionStrategy:e.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,width:e.width,height:e.height,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(i.backdropClass=e.backdropClass),i}_attachContainer(e,i,o){const a=o.injector||o.viewContainerRef?.injector,l=[{provide:Ff,useValue:o},{provide:Nf,useValue:i},{provide:fc,useValue:e}];let u;o.container?"function"==typeof o.container?u=o.container:(u=o.container.type,l.push(...o.container.providers(o))):u=Py;const p=new uc(u,o.viewContainerRef,n.zs3.create({parent:a||this._injector,providers:l}),o.componentFactoryResolver);return e.attach(p).instance}_attachDialogContent(e,i,o,a){if(e instanceof n.Rgc){const l=this._createInjector(a,i,o,void 0);let u={$implicit:a.data,dialogRef:i};a.templateContext&&(u={...u,..."function"==typeof a.templateContext?a.templateContext():a.templateContext}),o.attachTemplatePortal(new bd(e,null,u,l))}else{const l=this._createInjector(a,i,o,this._injector),u=o.attachComponentPortal(new uc(e,a.viewContainerRef,l,a.componentFactoryResolver));i.componentInstance=u.instance}}_createInjector(e,i,o,a){const l=e.injector||e.viewContainerRef?.injector,u=[{provide:LA,useValue:e.data},{provide:Nf,useValue:i}];return e.providers&&("function"==typeof e.providers?u.push(...e.providers(i,e,o)):u.push(...e.providers)),e.direction&&(!l||!l.get(So,null,n.XFs.Optional))&&u.push({provide:So,useValue:{value:e.direction,change:(0,pn.of)()}}),n.zs3.create({parent:l||a,providers:u})}_removeOpenDialog(e,i){const o=this.openDialogs.indexOf(e);o>-1&&(this.openDialogs.splice(o,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((a,l)=>{a?l.setAttribute("aria-hidden",a):l.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),i&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const i=e.parentElement.children;for(let o=i.length-1;o>-1;o--){const a=i[o];a!==e&&"SCRIPT"!==a.nodeName&&"STYLE"!==a.nodeName&&!a.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(a,a.getAttribute("aria-hidden")),a.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}}return t.\u0275fac=function(e){return new(e||t)(n.LFG(Ro),n.LFG(n.zs3),n.LFG(Ty,8),n.LFG(t,12),n.LFG(pc),n.LFG(Km))},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac}),t})();function N1(t,r){let e=t.length;for(;e--;)r(t[e])}let CF=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({providers:[BA,eg],imports:[Aa,rs,Ax,rs]}),t})();function R1(t,r){}const Md={params:{enterAnimationDuration:"150ms",exitAnimationDuration:"75ms"}},UA={dialogContainer:ta("dialogContainer",[$r("void, exit",Gn({opacity:0,transform:"scale(0.7)"})),$r("enter",Gn({transform:"none"})),bi("* => enter",sy([ri("{{enterAnimationDuration}} cubic-bezier(0, 0, 0.2, 1)",Gn({transform:"none",opacity:1})),Lm("@*",$x(),{optional:!0})]),Md),bi("* => void, * => exit",sy([ri("{{exitAnimationDuration}} cubic-bezier(0.4, 0.0, 0.2, 1)",Gn({opacity:0})),Lm("@*",$x(),{optional:!0})]),Md)])};class tg{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0,this.enterAnimationDuration=Md.params.enterAnimationDuration,this.exitAnimationDuration=Md.params.exitAnimationDuration}}let VA=(()=>{class t extends Py{constructor(e,i,o,a,l,u,p,f){super(e,i,o,a,l,u,p,f),this._animationStateChanged=new n.vpe}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(e){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(n.SBq),n.Y36(vf),n.Y36(I,8),n.Y36(tg),n.Y36(_f),n.Y36(n.R0b),n.Y36(fc),n.Y36(Ka))},t.\u0275cmp=n.Xpm({type:t,selectors:[["ng-component"]],features:[n.qOj],decls:0,vars:0,template:function(e,i){},encapsulation:2}),t})(),L1=(()=>{class t extends VA{constructor(e,i,o,a,l,u,p,f,h){super(e,i,o,a,l,u,p,h),this._changeDetectorRef=f,this._state="enter"}_onAnimationDone({toState:e,totalTime:i}){"enter"===e?this._openAnimationDone(i):"exit"===e&&this._animationStateChanged.next({state:"closed",totalTime:i})}_onAnimationStart({toState:e,totalTime:i}){"enter"===e?this._animationStateChanged.next({state:"opening",totalTime:i}):("exit"===e||"void"===e)&&this._animationStateChanged.next({state:"closing",totalTime:i})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}_getAnimationState(){return{value:this._state,params:{enterAnimationDuration:this._config.enterAnimationDuration||Md.params.enterAnimationDuration,exitAnimationDuration:this._config.exitAnimationDuration||Md.params.exitAnimationDuration}}}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(n.SBq),n.Y36(vf),n.Y36(I,8),n.Y36(tg),n.Y36(_f),n.Y36(n.R0b),n.Y36(fc),n.Y36(n.sBO),n.Y36(Ka))},t.\u0275cmp=n.Xpm({type:t,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-dialog-container"],hostVars:7,hostBindings:function(e,i){1&e&&n.WFA("@dialogContainer.start",function(a){return i._onAnimationStart(a)})("@dialogContainer.done",function(a){return i._onAnimationDone(a)}),2&e&&(n.Ikx("id",i._config.id),n.uIk("aria-modal",i._config.ariaModal)("role",i._config.role)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null),n.d8E("@dialogContainer",i._getAnimationState()))},features:[n.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,i){1&e&&n.YNc(0,R1,0,0,"ng-template",0)},dependencies:[dc],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions.mat-dialog-actions-align-center,.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions.mat-dialog-actions-align-end,.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}"],encapsulation:2,data:{animation:[UA.dialogContainer]}}),t})();class Pa{constructor(r,e,i){this._ref=r,this._containerInstance=i,this._afterOpened=new dn.x,this._beforeClosed=new dn.x,this._state=0,this.disableClose=e.disableClose,this.id=r.id,i._animationStateChanged.pipe((0,pr.h)(o=>"opened"===o.state),(0,ar.q)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),i._animationStateChanged.pipe((0,pr.h)(o=>"closed"===o.state),(0,ar.q)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),r.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),(0,Mo.T)(this.backdropClick(),this.keydownEvents().pipe((0,pr.h)(o=>27===o.keyCode&&!this.disableClose&&!ml(o)))).subscribe(o=>{this.disableClose||(o.preventDefault(),ky(this,"keydown"===o.type?"keyboard":"mouse"))})}close(r){this._result=r,this._containerInstance._animationStateChanged.pipe((0,pr.h)(e=>"closing"===e.state),(0,ar.q)(1)).subscribe(e=>{this._beforeClosed.next(r),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(r){let e=this._ref.config.positionStrategy;return r&&(r.left||r.right)?r.left?e.left(r.left):e.right(r.right):e.centerHorizontally(),r&&(r.top||r.bottom)?r.top?e.top(r.top):e.bottom(r.bottom):e.centerVertically(),this._ref.updatePosition(),this}updateSize(r="",e=""){return this._ref.updateSize(r,e),this}addPanelClass(r){return this._ref.addPanelClass(r),this}removePanelClass(r){return this._ref.removePanelClass(r),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}function ky(t,r,e){return t._closeInteractionType=r,t.close(e)}const Fy=new n.OlP("MatDialogData"),zA=new n.OlP("mat-dialog-default-options"),Ny=new n.OlP("mat-dialog-scroll-strategy"),U1={provide:Ny,deps:[Ro],useFactory:function xF(t){return()=>t.scrollStrategies.block()}};let Ry=0,HA=(()=>{class t{constructor(e,i,o,a,l,u,p,f,h,y){this._overlay=e,this._defaultOptions=o,this._parentDialog=a,this._dialogRefConstructor=p,this._dialogContainerType=f,this._dialogDataToken=h,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new dn.x,this._afterOpenedAtThisLevel=new dn.x,this._idPrefix="mat-dialog-",this.afterAllClosed=tl(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Fo(void 0))),this._scrollStrategy=u,this._dialog=i.get(BA)}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(e,i){let o;(i={...this._defaultOptions||new tg,...i}).id=i.id||`${this._idPrefix}${Ry++}`,i.scrollStrategy=i.scrollStrategy||this._scrollStrategy();const a=this._dialog.open(e,{...i,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:tg,useValue:i},{provide:Ff,useValue:i}]},templateContext:()=>({dialogRef:o}),providers:(l,u,p)=>(o=new this._dialogRefConstructor(l,i,p),o.updatePosition(i?.position),[{provide:this._dialogContainerType,useValue:p},{provide:this._dialogDataToken,useValue:u.data},{provide:this._dialogRefConstructor,useValue:o}])});return o.componentInstance=a.componentInstance,this.openDialogs.push(o),this.afterOpened.next(o),o.afterClosed().subscribe(()=>{const l=this.openDialogs.indexOf(o);l>-1&&(this.openDialogs.splice(l,1),this.openDialogs.length||this._getAfterAllClosed().next())}),o}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(e){let i=e.length;for(;i--;)e[i].close()}}return t.\u0275fac=function(e){n.$Z()},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac}),t})(),yl=(()=>{class t extends HA{constructor(e,i,o,a,l,u,p,f){super(e,i,a,u,p,l,Pa,L1,Fy,f)}}return t.\u0275fac=function(e){return new(e||t)(n.LFG(Ro),n.LFG(n.zs3),n.LFG(ne,8),n.LFG(zA,8),n.LFG(Ny),n.LFG(t,12),n.LFG(pc),n.LFG(n.QbO,8))},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac}),t})(),wF=0,is=(()=>{class t{constructor(e,i,o){this.dialogRef=e,this._elementRef=i,this._dialog=o,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=jA(this._elementRef,this._dialog.openDialogs))}ngOnChanges(e){const i=e._matDialogClose||e._matDialogCloseResult;i&&(this.dialogResult=i.currentValue)}_onButtonClick(e){ky(this.dialogRef,0===e.screenX&&0===e.screenY?"keyboard":"mouse",this.dialogResult)}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(Pa,8),n.Y36(n.SBq),n.Y36(yl))},t.\u0275dir=n.lG2({type:t,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(e,i){1&e&&n.NdJ("click",function(a){return i._onButtonClick(a)}),2&e&&n.uIk("aria-label",i.ariaLabel||null)("type",i.type)},inputs:{ariaLabel:["aria-label","ariaLabel"],type:"type",dialogResult:["mat-dialog-close","dialogResult"],_matDialogClose:["matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[n.TTD]}),t})(),Rf=(()=>{class t{constructor(e,i,o){this._dialogRef=e,this._elementRef=i,this._dialog=o,this.id="mat-dialog-title-"+wF++}ngOnInit(){this._dialogRef||(this._dialogRef=jA(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{const e=this._dialogRef._containerInstance;e&&!e._ariaLabelledBy&&(e._ariaLabelledBy=this.id)})}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(Pa,8),n.Y36(n.SBq),n.Y36(yl))},t.\u0275dir=n.lG2({type:t,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-dialog-title"],hostVars:1,hostBindings:function(e,i){2&e&&n.Ikx("id",i.id)},inputs:{id:"id"},exportAs:["matDialogTitle"]}),t})(),Xc=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=n.lG2({type:t,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-dialog-content"]}),t})(),Kc=(()=>{class t{constructor(){this.align="start"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=n.lG2({type:t,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-dialog-actions"],hostVars:4,hostBindings:function(e,i){2&e&&n.ekj("mat-dialog-actions-align-center","center"===i.align)("mat-dialog-actions-align-end","end"===i.align)},inputs:{align:"align"}}),t})();function jA(t,r){let e=t.nativeElement.parentElement;for(;e&&!e.classList.contains("mat-dialog-container");)e=e.parentElement;return e?r.find(i=>i.id===e.id):null}let Ta=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({providers:[yl,U1],imports:[CF,Aa,rs,Xn,Xn]}),t})();function eu(...t){const r=(0,Ks.jO)(t),{args:e,keys:i}=Du(t),o=new Ui.y(a=>{const{length:l}=e;if(!l)return void a.complete();const u=new Array(l);let p=l,f=l;for(let h=0;h<l;h++){let y=!1;(0,Ya.Xf)(e[h]).subscribe((0,Vi.x)(a,D=>{y||(y=!0,f--),u[h]=D},()=>p--,void 0,()=>{(!p||!y)&&(f||a.next(i?tb(i,u):u),a.complete())}))}});return r?o.pipe(xp(r)):o}var MF=se(3099);class qA{}class V1{}class mc{constructor(r){this.normalizedNames=new Map,this.lazyUpdate=null,r?this.lazyInit="string"==typeof r?()=>{this.headers=new Map,r.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const o=e.slice(0,i),a=o.toLowerCase(),l=e.slice(i+1).trim();this.maybeSetNormalizedName(o,a),this.headers.has(a)?this.headers.get(a).push(l):this.headers.set(a,[l])}})}:()=>{this.headers=new Map,Object.keys(r).forEach(e=>{let i=r[e];const o=e.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(o,i),this.maybeSetNormalizedName(e,o))})}:this.headers=new Map}has(r){return this.init(),this.headers.has(r.toLowerCase())}get(r){this.init();const e=this.headers.get(r.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(r){return this.init(),this.headers.get(r.toLowerCase())||null}append(r,e){return this.clone({name:r,value:e,op:"a"})}set(r,e){return this.clone({name:r,value:e,op:"s"})}delete(r,e){return this.clone({name:r,value:e,op:"d"})}maybeSetNormalizedName(r,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,r)}init(){this.lazyInit&&(this.lazyInit instanceof mc?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(r=>this.applyUpdate(r)),this.lazyUpdate=null))}copyFrom(r){r.init(),Array.from(r.headers.keys()).forEach(e=>{this.headers.set(e,r.headers.get(e)),this.normalizedNames.set(e,r.normalizedNames.get(e))})}clone(r){const e=new mc;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof mc?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([r]),e}applyUpdate(r){const e=r.name.toLowerCase();switch(r.op){case"a":case"s":let i=r.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(r.name,e);const o=("a"===r.op?this.headers.get(e):void 0)||[];o.push(...i),this.headers.set(e,o);break;case"d":const a=r.value;if(a){let l=this.headers.get(e);if(!l)return;l=l.filter(u=>-1===a.indexOf(u)),0===l.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,l)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(r){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>r(this.normalizedNames.get(e),this.headers.get(e)))}}class SF{encodeKey(r){return s(r)}encodeValue(r){return s(r)}decodeKey(r){return decodeURIComponent(r)}decodeValue(r){return decodeURIComponent(r)}}const OF=/%(\d[a-f0-9])/gi,EF={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function s(t){return encodeURIComponent(t).replace(OF,(r,e)=>EF[e]??r)}function c(t){return`${t}`}class d{constructor(r={}){if(this.updates=null,this.cloneFrom=null,this.encoder=r.encoder||new SF,r.fromString){if(r.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function DF(t,r){const e=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(o=>{const a=o.indexOf("="),[l,u]=-1==a?[r.decodeKey(o),""]:[r.decodeKey(o.slice(0,a)),r.decodeValue(o.slice(a+1))],p=e.get(l)||[];p.push(u),e.set(l,p)}),e}(r.fromString,this.encoder)}else r.fromObject?(this.map=new Map,Object.keys(r.fromObject).forEach(e=>{const i=r.fromObject[e],o=Array.isArray(i)?i.map(c):[c(i)];this.map.set(e,o)})):this.map=null}has(r){return this.init(),this.map.has(r)}get(r){this.init();const e=this.map.get(r);return e?e[0]:null}getAll(r){return this.init(),this.map.get(r)||null}keys(){return this.init(),Array.from(this.map.keys())}append(r,e){return this.clone({param:r,value:e,op:"a"})}appendAll(r){const e=[];return Object.keys(r).forEach(i=>{const o=r[i];Array.isArray(o)?o.forEach(a=>{e.push({param:i,value:a,op:"a"})}):e.push({param:i,value:o,op:"a"})}),this.clone(e)}set(r,e){return this.clone({param:r,value:e,op:"s"})}delete(r,e){return this.clone({param:r,value:e,op:"d"})}toString(){return this.init(),this.keys().map(r=>{const e=this.encoder.encodeKey(r);return this.map.get(r).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(r=>""!==r).join("&")}clone(r){const e=new d({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(r),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(r=>this.map.set(r,this.cloneFrom.map.get(r))),this.updates.forEach(r=>{switch(r.op){case"a":case"s":const e=("a"===r.op?this.map.get(r.param):void 0)||[];e.push(c(r.value)),this.map.set(r.param,e);break;case"d":if(void 0===r.value){this.map.delete(r.param);break}{let i=this.map.get(r.param)||[];const o=i.indexOf(c(r.value));-1!==o&&i.splice(o,1),i.length>0?this.map.set(r.param,i):this.map.delete(r.param)}}}),this.cloneFrom=this.updates=null)}}class w{constructor(){this.map=new Map}set(r,e){return this.map.set(r,e),this}get(r){return this.map.has(r)||this.map.set(r,r.defaultValue()),this.map.get(r)}delete(r){return this.map.delete(r),this}has(r){return this.map.has(r)}keys(){return this.map.keys()}}function R(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function Z(t){return typeof Blob<"u"&&t instanceof Blob}function X(t){return typeof FormData<"u"&&t instanceof FormData}class he{constructor(r,e,i,o){let a;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=r.toUpperCase(),function A(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||o?(this.body=void 0!==i?i:null,a=o):a=i,a&&(this.reportProgress=!!a.reportProgress,this.withCredentials=!!a.withCredentials,a.responseType&&(this.responseType=a.responseType),a.headers&&(this.headers=a.headers),a.context&&(this.context=a.context),a.params&&(this.params=a.params)),this.headers||(this.headers=new mc),this.context||(this.context=new w),this.params){const l=this.params.toString();if(0===l.length)this.urlWithParams=e;else{const u=e.indexOf("?");this.urlWithParams=e+(-1===u?"?":u<e.length-1?"&":"")+l}}else this.params=new d,this.urlWithParams=e}serializeBody(){return null===this.body?null:R(this.body)||Z(this.body)||X(this.body)||function ae(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof d?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||X(this.body)?null:Z(this.body)?this.body.type||null:R(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof d?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(r={}){const e=r.method||this.method,i=r.url||this.url,o=r.responseType||this.responseType,a=void 0!==r.body?r.body:this.body,l=void 0!==r.withCredentials?r.withCredentials:this.withCredentials,u=void 0!==r.reportProgress?r.reportProgress:this.reportProgress;let p=r.headers||this.headers,f=r.params||this.params;const h=r.context??this.context;return void 0!==r.setHeaders&&(p=Object.keys(r.setHeaders).reduce((y,D)=>y.set(D,r.setHeaders[D]),p)),r.setParams&&(f=Object.keys(r.setParams).reduce((y,D)=>y.set(D,r.setParams[D]),f)),new he(e,i,a,{params:f,headers:p,context:h,reportProgress:u,responseType:o,withCredentials:l})}}var Me=(()=>((Me=Me||{})[Me.Sent=0]="Sent",Me[Me.UploadProgress=1]="UploadProgress",Me[Me.ResponseHeader=2]="ResponseHeader",Me[Me.DownloadProgress=3]="DownloadProgress",Me[Me.Response=4]="Response",Me[Me.User=5]="User",Me))();class Ze{constructor(r,e=200,i="OK"){this.headers=r.headers||new mc,this.status=void 0!==r.status?r.status:e,this.statusText=r.statusText||i,this.url=r.url||null,this.ok=this.status>=200&&this.status<300}}class it extends Ze{constructor(r={}){super(r),this.type=Me.ResponseHeader}clone(r={}){return new it({headers:r.headers||this.headers,status:void 0!==r.status?r.status:this.status,statusText:r.statusText||this.statusText,url:r.url||this.url||void 0})}}class Et extends Ze{constructor(r={}){super(r),this.type=Me.Response,this.body=void 0!==r.body?r.body:null}clone(r={}){return new Et({body:void 0!==r.body?r.body:this.body,headers:r.headers||this.headers,status:void 0!==r.status?r.status:this.status,statusText:r.statusText||this.statusText,url:r.url||this.url||void 0})}}class qt extends Ze{constructor(r){super(r,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${r.url||"(unknown url)"}`:`Http failure response for ${r.url||"(unknown url)"}: ${r.status} ${r.statusText}`,this.error=r.error||null}}function nn(t,r){return{body:r,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let fn=(()=>{class t{constructor(e){this.handler=e}request(e,i,o={}){let a;if(e instanceof he)a=e;else{let p,f;p=o.headers instanceof mc?o.headers:new mc(o.headers),o.params&&(f=o.params instanceof d?o.params:new d({fromObject:o.params})),a=new he(e,i,void 0!==o.body?o.body:null,{headers:p,context:o.context,params:f,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials})}const l=(0,pn.of)(a).pipe((0,nl.b)(p=>this.handler.handle(p)));if(e instanceof he||"events"===o.observe)return l;const u=l.pipe((0,pr.h)(p=>p instanceof Et));switch(o.observe||"body"){case"body":switch(a.responseType){case"arraybuffer":return u.pipe((0,xt.U)(p=>{if(null!==p.body&&!(p.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return p.body}));case"blob":return u.pipe((0,xt.U)(p=>{if(null!==p.body&&!(p.body instanceof Blob))throw new Error("Response is not a Blob.");return p.body}));case"text":return u.pipe((0,xt.U)(p=>{if(null!==p.body&&"string"!=typeof p.body)throw new Error("Response is not a string.");return p.body}));default:return u.pipe((0,xt.U)(p=>p.body))}case"response":return u;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new d).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,o={}){return this.request("PATCH",e,nn(o,i))}post(e,i,o={}){return this.request("POST",e,nn(o,i))}put(e,i,o={}){return this.request("PUT",e,nn(o,i))}}return t.\u0275fac=function(e){return new(e||t)(n.LFG(qA))},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac}),t})();class xn{constructor(r,e){this.next=r,this.interceptor=e}handle(r){return this.interceptor.intercept(r,this.next)}}const Lt=new n.OlP("HTTP_INTERCEPTORS");let Tn=(()=>{class t{intercept(e,i){return i.handle(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac}),t})();const Ly=/^\)\]\}',?\n/;let ng=(()=>{class t{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Ui.y(i=>{const o=this.xhrFactory.build();if(o.open(e.method,e.urlWithParams),e.withCredentials&&(o.withCredentials=!0),e.headers.forEach((E,k)=>o.setRequestHeader(E,k.join(","))),e.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const E=e.detectContentTypeHeader();null!==E&&o.setRequestHeader("Content-Type",E)}if(e.responseType){const E=e.responseType.toLowerCase();o.responseType="json"!==E?E:"text"}const a=e.serializeBody();let l=null;const u=()=>{if(null!==l)return l;const E=o.statusText||"OK",k=new mc(o.getAllResponseHeaders()),T=function By(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(o)||e.url;return l=new it({headers:k,status:o.status,statusText:E,url:T}),l},p=()=>{let{headers:E,status:k,statusText:T,url:L}=u(),U=null;204!==k&&(U=typeof o.response>"u"?o.responseText:o.response),0===k&&(k=U?200:0);let Y=k>=200&&k<300;if("json"===e.responseType&&"string"==typeof U){const N=U;U=U.replace(Ly,"");try{U=""!==U?JSON.parse(U):null}catch(q){U=N,Y&&(Y=!1,U={error:q,text:U})}}Y?(i.next(new Et({body:U,headers:E,status:k,statusText:T,url:L||void 0})),i.complete()):i.error(new qt({error:U,headers:E,status:k,statusText:T,url:L||void 0}))},f=E=>{const{url:k}=u(),T=new qt({error:E,status:o.status||0,statusText:o.statusText||"Unknown Error",url:k||void 0});i.error(T)};let h=!1;const y=E=>{h||(i.next(u()),h=!0);let k={type:Me.DownloadProgress,loaded:E.loaded};E.lengthComputable&&(k.total=E.total),"text"===e.responseType&&!!o.responseText&&(k.partialText=o.responseText),i.next(k)},D=E=>{let k={type:Me.UploadProgress,loaded:E.loaded};E.lengthComputable&&(k.total=E.total),i.next(k)};return o.addEventListener("load",p),o.addEventListener("error",f),o.addEventListener("timeout",f),o.addEventListener("abort",f),e.reportProgress&&(o.addEventListener("progress",y),null!==a&&o.upload&&o.upload.addEventListener("progress",D)),o.send(a),i.next({type:Me.Sent}),()=>{o.removeEventListener("error",f),o.removeEventListener("abort",f),o.removeEventListener("load",p),o.removeEventListener("timeout",f),e.reportProgress&&(o.removeEventListener("progress",y),null!==a&&o.upload&&o.upload.removeEventListener("progress",D)),o.readyState!==o.DONE&&o.abort()}})}}return t.\u0275fac=function(e){return new(e||t)(n.LFG(wh))},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac}),t})();const ZA=new n.OlP("XSRF_COOKIE_NAME"),YA=new n.OlP("XSRF_HEADER_NAME");class AF{}let A8=(()=>{class t{constructor(e,i,o){this.doc=e,this.platform=i,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=mr(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return t.\u0275fac=function(e){return new(e||t)(n.LFG(I),n.LFG(n.Lbi),n.LFG(ZA))},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac}),t})(),GA=(()=>{class t{constructor(e,i){this.tokenService=e,this.headerName=i}intercept(e,i){const o=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||o.startsWith("http://")||o.startsWith("https://"))return i.handle(e);const a=this.tokenService.getToken();return null!==a&&!e.headers.has(this.headerName)&&(e=e.clone({headers:e.headers.set(this.headerName,a)})),i.handle(e)}}return t.\u0275fac=function(e){return new(e||t)(n.LFG(AF),n.LFG(YA))},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac}),t})(),P8=(()=>{class t{constructor(e,i){this.backend=e,this.injector=i,this.chain=null}handle(e){if(null===this.chain){const i=this.injector.get(Lt,[]);this.chain=i.reduceRight((o,a)=>new xn(o,a),this.backend)}return this.chain.handle(e)}}return t.\u0275fac=function(e){return new(e||t)(n.LFG(V1),n.LFG(n.zs3))},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac}),t})(),T8=(()=>{class t{static disable(){return{ngModule:t,providers:[{provide:GA,useClass:Tn}]}}static withOptions(e={}){return{ngModule:t,providers:[e.cookieName?{provide:ZA,useValue:e.cookieName}:[],e.headerName?{provide:YA,useValue:e.headerName}:[]]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({providers:[GA,{provide:Lt,useExisting:GA,multi:!0},{provide:AF,useClass:A8},{provide:ZA,useValue:"XSRF-TOKEN"},{provide:YA,useValue:"X-XSRF-TOKEN"}]}),t})(),Is=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({providers:[fn,{provide:qA,useClass:P8},ng,{provide:V1,useExisting:ng}],imports:[T8.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),t})();const I8=["*"];let G1;function Uy(t){return function k8(){if(void 0===G1&&(G1=null,typeof window<"u")){const t=window;void 0!==t.trustedTypes&&(G1=t.trustedTypes.createPolicy("angular#components",{createHTML:r=>r}))}return G1}()?.createHTML(t)||t}function PF(t){return Error(`Unable to find icon with the name "${t}"`)}function TF(t){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${t}".`)}function IF(t){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${t}".`)}class Lf{constructor(r,e,i){this.url=r,this.svgText=e,this.options=i}}let $1=(()=>{class t{constructor(e,i,o,a){this._httpClient=e,this._sanitizer=i,this._errorHandler=a,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=o}addSvgIcon(e,i,o){return this.addSvgIconInNamespace("",e,i,o)}addSvgIconLiteral(e,i,o){return this.addSvgIconLiteralInNamespace("",e,i,o)}addSvgIconInNamespace(e,i,o,a){return this._addSvgIconConfig(e,i,new Lf(o,null,a))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,i,o,a){const l=this._sanitizer.sanitize(n.q3G.HTML,o);if(!l)throw IF(o);const u=Uy(l);return this._addSvgIconConfig(e,i,new Lf("",u,a))}addSvgIconSet(e,i){return this.addSvgIconSetInNamespace("",e,i)}addSvgIconSetLiteral(e,i){return this.addSvgIconSetLiteralInNamespace("",e,i)}addSvgIconSetInNamespace(e,i,o){return this._addSvgIconSetConfig(e,new Lf(i,null,o))}addSvgIconSetLiteralInNamespace(e,i,o){const a=this._sanitizer.sanitize(n.q3G.HTML,i);if(!a)throw IF(i);const l=Uy(a);return this._addSvgIconSetConfig(e,new Lf("",l,o))}registerFontClassAlias(e,i=e){return this._fontCssClassesByAlias.set(e,i),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const i=this._sanitizer.sanitize(n.q3G.RESOURCE_URL,e);if(!i)throw TF(e);const o=this._cachedIconsByUrl.get(i);return o?(0,pn.of)(W1(o)):this._loadSvgIconFromConfig(new Lf(e,null)).pipe(Mi(a=>this._cachedIconsByUrl.set(i,a)),(0,xt.U)(a=>W1(a)))}getNamedSvgIcon(e,i=""){const o=kF(i,e);let a=this._svgIconConfigs.get(o);if(a)return this._getSvgFromConfig(a);if(a=this._getIconConfigFromResolvers(i,e),a)return this._svgIconConfigs.set(o,a),this._getSvgFromConfig(a);const l=this._iconSetConfigs.get(i);return l?this._getSvgFromIconSetConfigs(e,l):Nc(PF(o))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?(0,pn.of)(W1(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe((0,xt.U)(i=>W1(i)))}_getSvgFromIconSetConfigs(e,i){const o=this._extractIconWithNameFromAnySet(e,i);return o?(0,pn.of)(o):eu(i.filter(l=>!l.svgText).map(l=>this._loadSvgIconSetFromConfig(l).pipe((0,ys.K)(u=>{const f=`Loading icon set URL: ${this._sanitizer.sanitize(n.q3G.RESOURCE_URL,l.url)} failed: ${u.message}`;return this._errorHandler.handleError(new Error(f)),(0,pn.of)(null)})))).pipe((0,xt.U)(()=>{const l=this._extractIconWithNameFromAnySet(e,i);if(!l)throw PF(e);return l}))}_extractIconWithNameFromAnySet(e,i){for(let o=i.length-1;o>=0;o--){const a=i[o];if(a.svgText&&a.svgText.toString().indexOf(e)>-1){const l=this._svgElementFromConfig(a),u=this._extractSvgIconFromSet(l,e,a.options);if(u)return u}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe(Mi(i=>e.svgText=i),(0,xt.U)(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?(0,pn.of)(null):this._fetchIcon(e).pipe(Mi(i=>e.svgText=i))}_extractSvgIconFromSet(e,i,o){const a=e.querySelector(`[id="${i}"]`);if(!a)return null;const l=a.cloneNode(!0);if(l.removeAttribute("id"),"svg"===l.nodeName.toLowerCase())return this._setSvgAttributes(l,o);if("symbol"===l.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(l),o);const u=this._svgElementFromString(Uy("<svg></svg>"));return u.appendChild(l),this._setSvgAttributes(u,o)}_svgElementFromString(e){const i=this._document.createElement("DIV");i.innerHTML=e;const o=i.querySelector("svg");if(!o)throw Error("<svg> tag not found");return o}_toSvgElement(e){const i=this._svgElementFromString(Uy("<svg></svg>")),o=e.attributes;for(let a=0;a<o.length;a++){const{name:l,value:u}=o[a];"id"!==l&&i.setAttribute(l,u)}for(let a=0;a<e.childNodes.length;a++)e.childNodes[a].nodeType===this._document.ELEMENT_NODE&&i.appendChild(e.childNodes[a].cloneNode(!0));return i}_setSvgAttributes(e,i){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),i&&i.viewBox&&e.setAttribute("viewBox",i.viewBox),e}_fetchIcon(e){const{url:i,options:o}=e,a=o?.withCredentials??!1;if(!this._httpClient)throw function F8(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const l=this._sanitizer.sanitize(n.q3G.RESOURCE_URL,i);if(!l)throw TF(i);const u=this._inProgressUrlFetches.get(l);if(u)return u;const p=this._httpClient.get(l,{responseType:"text",withCredentials:a}).pipe((0,xt.U)(f=>Uy(f)),m_(()=>this._inProgressUrlFetches.delete(l)),(0,MF.B)());return this._inProgressUrlFetches.set(l,p),p}_addSvgIconConfig(e,i,o){return this._svgIconConfigs.set(kF(e,i),o),this}_addSvgIconSetConfig(e,i){const o=this._iconSetConfigs.get(e);return o?o.push(i):this._iconSetConfigs.set(e,[i]),this}_svgElementFromConfig(e){if(!e.svgElement){const i=this._svgElementFromString(e.svgText);this._setSvgAttributes(i,e.options),e.svgElement=i}return e.svgElement}_getIconConfigFromResolvers(e,i){for(let o=0;o<this._resolvers.length;o++){const a=this._resolvers[o](i,e);if(a)return R8(a)?new Lf(a.url,null,a.options):new Lf(a,null)}}}return t.\u0275fac=function(e){return new(e||t)(n.LFG(fn,8),n.LFG(Vh),n.LFG(I,8),n.LFG(n.qLn))},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function W1(t){return t.cloneNode(!0)}function kF(t,r){return t+":"+r}function R8(t){return!(!t.url||!t.options)}const L8=gl(class{constructor(t){this._elementRef=t}}),B8=new n.OlP("MAT_ICON_DEFAULT_OPTIONS"),U8=new n.OlP("mat-icon-location",{providedIn:"root",factory:function V8(){const t=(0,n.f3M)(I),r=t?t.location:null;return{getPathname:()=>r?r.pathname+r.search:""}}}),FF=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],z8=FF.map(t=>`[${t}]`).join(", "),H8=/^url\(['"]?#(.*?)['"]?\)$/;let fr=(()=>{class t extends L8{constructor(e,i,o,a,l,u){super(e),this._iconRegistry=i,this._location=a,this._errorHandler=l,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=Yr.w0.EMPTY,u&&(u.color&&(this.color=this.defaultColor=u.color),u.fontSet&&(this.fontSet=u.fontSet)),o||e.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(e){this._inline=Cn(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const i=this._cleanupFontValue(e);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const i=this._cleanupFontValue(e);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}_splitIconName(e){if(!e)return["",""];const i=e.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let i=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const o=e.childNodes[i];(1!==o.nodeType||"svg"===o.nodeName.toLowerCase())&&o.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(o=>o.length>0);this._previousFontSetClass.forEach(o=>e.classList.remove(o)),i.forEach(o=>e.classList.add(o)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const i=this._elementsWithExternalReferences;i&&i.forEach((o,a)=>{o.forEach(l=>{a.setAttribute(l.name,`url('${e}#${l.value}')`)})})}_cacheChildrenWithExternalReferences(e){const i=e.querySelectorAll(z8),o=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let a=0;a<i.length;a++)FF.forEach(l=>{const u=i[a],p=u.getAttribute(l),f=p?p.match(H8):null;if(f){let h=o.get(u);h||(h=[],o.set(u,h)),h.push({name:l,value:f[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[i,o]=this._splitIconName(e);i&&(this._svgNamespace=i),o&&(this._svgName=o),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(o,i).pipe((0,ar.q)(1)).subscribe(a=>this._setSvgElement(a),a=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${o}! ${a.message}`))})}}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(n.SBq),n.Y36($1),n.$8M("aria-hidden"),n.Y36(U8),n.Y36(n.qLn),n.Y36(B8,8))},t.\u0275cmp=n.Xpm({type:t,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(e,i){2&e&&(n.uIk("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet)("fontIcon",i._usingFontIcon()?i.fontIcon:null),n.ekj("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[n.qOj],ngContentSelectors:I8,decls:1,vars:0,template:function(e,i){1&e&&(n.F$t(),n.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),t})(),na=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[Xn,Xn]}),t})();const NF=["mat-button",""],RF=["*"],Z8=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],Y8=gl(km(Cf(class{constructor(t){this._elementRef=t}})));let Or=(()=>{class t extends Y8{constructor(e,i,o){super(e),this._focusMonitor=i,this._animationMode=o,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const a of Z8)this._hasHostAttributes(a)&&this._getHostElement().classList.add(a);e.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e,i){e?this._focusMonitor.focusVia(this._getHostElement(),e,i):this._getHostElement().focus(i)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...e){return e.some(i=>this._getHostElement().hasAttribute(i))}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(n.SBq),n.Y36(Ka),n.Y36(n.QbO,8))},t.\u0275cmp=n.Xpm({type:t,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(e,i){if(1&e&&n.Gf(Ea,5),2&e){let o;n.iGM(o=n.CRH())&&(i.ripple=o.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(e,i){2&e&&(n.uIk("disabled",i.disabled||null),n.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-button-disabled",i.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[n.qOj],attrs:NF,ngContentSelectors:RF,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,i){1&e&&(n.F$t(),n.TgZ(0,"span",0),n.Hsn(1),n.qZA(),n._UZ(2,"span",1)(3,"span",2)),2&e&&(n.xp6(2),n.ekj("mat-button-ripple-round",i.isRoundButton||i.isIconButton),n.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",i.isIconButton)("matRippleTrigger",i._getHostElement()))},dependencies:[Ea],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}.mat-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.mat-flat-button::before,.mat-raised-button::before,.mat-fab::before,.mat-mini-fab::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-stroked-button::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}"],encapsulation:2,changeDetection:0}),t})(),G8=(()=>{class t extends Or{constructor(e,i,o,a){super(i,e,o),this._ngZone=a,this._haltDisabledEvents=l=>{this.disabled&&(l.preventDefault(),l.stopImmediatePropagation())}}ngAfterViewInit(){super.ngAfterViewInit(),this._ngZone?this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("click",this._haltDisabledEvents)}):this._elementRef.nativeElement.addEventListener("click",this._haltDisabledEvents)}ngOnDestroy(){super.ngOnDestroy(),this._elementRef.nativeElement.removeEventListener("click",this._haltDisabledEvents)}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(Ka),n.Y36(n.SBq),n.Y36(n.QbO,8),n.Y36(n.R0b,8))},t.\u0275cmp=n.Xpm({type:t,selectors:[["a","mat-button",""],["a","mat-raised-button",""],["a","mat-icon-button",""],["a","mat-fab",""],["a","mat-mini-fab",""],["a","mat-stroked-button",""],["a","mat-flat-button",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:7,hostBindings:function(e,i){2&e&&(n.uIk("tabindex",i.disabled?-1:i.tabIndex)("disabled",i.disabled||null)("aria-disabled",i.disabled.toString()),n.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-button-disabled",i.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matButton","matAnchor"],features:[n.qOj],attrs:NF,ngContentSelectors:RF,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,i){1&e&&(n.F$t(),n.TgZ(0,"span",0),n.Hsn(1),n.qZA(),n._UZ(2,"span",1)(3,"span",2)),2&e&&(n.xp6(2),n.ekj("mat-button-ripple-round",i.isRoundButton||i.isIconButton),n.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",i.isIconButton)("matRippleTrigger",i._getHostElement()))},dependencies:[Ea],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}.mat-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.mat-flat-button::before,.mat-raised-button::before,.mat-fab::before,.mat-mini-fab::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-stroked-button::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}"],encapsulation:2,changeDetection:0}),t})(),Ia=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[_l,Xn,Xn]}),t})(),gc=(()=>{class t{constructor(){this.inner=!1,this.clicked=new n.vpe}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Xpm({type:t,selectors:[["apto-close-button"]],inputs:{inner:"inner"},outputs:{clicked:"clicked"},decls:4,vars:2,consts:[[1,"close-button"],[1,"button",3,"click"]],template:function(e,i){1&e&&(n.TgZ(0,"div",0)(1,"div",1),n.NdJ("click",function(a){return i.clicked.emit(a)}),n.TgZ(2,"mat-icon"),n._uU(3,"close"),n.qZA()()()),2&e&&n.ekj("inner",i.inner)},dependencies:[fr],styles:[".close-button[_ngcontent-%COMP%]{position:absolute;width:32px;height:32px;top:-16px;right:-16px;z-index:5}.close-button.inner[_ngcontent-%COMP%]{top:16px;right:16px}.close-button[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{background-color:var(--color-accent);color:var(--color-accent-contrast);cursor:pointer;display:flex;flex-grow:1;flex-basis:auto;justify-content:center;align-content:center;align-items:center;box-shadow:none;width:100%;height:100%;border-radius:50%}.close-button[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{display:flex;font-size:30px;height:30px;width:30px}"]}),t})(),Lo=(()=>{class t{constructor(e){this.sanitizer=e}transform(e){return this.sanitizer.bypassSecurityTrustHtml(e)}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(Vh,16))},t.\u0275pipe=n.Yjl({name:"safeHtml",type:t,pure:!0}),t})();function $8(t,r){if(1&t&&(n.TgZ(0,"div",5)(1,"mat-icon"),n._uU(2,"close"),n.qZA()()),2&t){const e=n.oxw(2);n.xp6(1),n.uIk("type",e.data.type)}}function W8(t,r){if(1&t&&(n.TgZ(0,"div",5)(1,"mat-icon"),n._uU(2,"warning"),n.qZA()()),2&t){const e=n.oxw(2);n.xp6(1),n.uIk("type",e.data.type)}}function Q8(t,r){if(1&t&&(n.TgZ(0,"div",5)(1,"mat-icon"),n._uU(2,"done"),n.qZA()()),2&t){const e=n.oxw(2);n.xp6(1),n.uIk("type",e.data.type)}}function J8(t,r){if(1&t&&(n.TgZ(0,"div",5)(1,"mat-icon"),n._uU(2,"info"),n.qZA()()),2&t){const e=n.oxw(2);n.xp6(1),n.uIk("type",e.data.type)}}function X8(t,r){if(1&t&&(n.TgZ(0,"div",5)(1,"mat-icon"),n._uU(2,"info"),n.qZA()()),2&t){const e=n.oxw(2);n.xp6(1),n.uIk("type",e.data.type)}}function K8(t,r){if(1&t&&(n.ynx(0),n.YNc(1,$8,3,1,"div",4),n.YNc(2,W8,3,1,"div",4),n.YNc(3,Q8,3,1,"div",4),n.YNc(4,J8,3,1,"div",4),n.YNc(5,X8,3,1,"div",4),n.BQk()),2&t){const e=n.oxw();n.xp6(1),n.Q6J("ngIf",e.data.type==e.dialogTypesEnum.ERROR),n.xp6(1),n.Q6J("ngIf",e.data.type==e.dialogTypesEnum.WARNING),n.xp6(1),n.Q6J("ngIf",e.data.type==e.dialogTypesEnum.CONFIRM),n.xp6(1),n.Q6J("ngIf",e.data.type==e.dialogTypesEnum.INFO),n.xp6(1),n.Q6J("ngIf",e.data.type==e.dialogTypesEnum.CUSTOM)}}function eH(t,r){if(1&t&&(n.TgZ(0,"h1",6),n._uU(1),n.qZA()),2&t){const e=n.oxw();n.xp6(1),n.Oqu(e.data.title)}}function tH(t,r){if(1&t&&(n.TgZ(0,"mat-dialog-content"),n._UZ(1,"div",7),n.ALo(2,"safeHtml"),n.qZA()),2&t){const e=n.oxw();n.xp6(1),n.Q6J("innerHTML",n.lcZ(2,1,e.data.descriptionText),n.oJD)}}function nH(t,r){if(1&t&&(n.TgZ(0,"button",10),n._uU(1),n.qZA()),2&t){const e=n.oxw(2);n.Q6J("mat-dialog-close",!1),n.xp6(1),n.Oqu(e.data.cancelButtonText)}}function rH(t,r){if(1&t&&(n.TgZ(0,"button",11),n._uU(1),n.qZA()),2&t){const e=n.oxw(2);n.Q6J("mat-dialog-close",!0),n.xp6(1),n.Oqu(e.data.confirmButtonText)}}function iH(t,r){if(1&t&&(n.TgZ(0,"mat-dialog-actions"),n.YNc(1,nH,2,2,"button",8),n.YNc(2,rH,2,2,"button",9),n.qZA()),2&t){const e=n.oxw();n.xp6(1),n.Q6J("ngIf",e.data.cancelButtonText),n.xp6(1),n.Q6J("ngIf",e.data.confirmButtonText)}}let _c=(()=>{class t{constructor(e){this.data=e,this.dialogTypesEnum=ts}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(Fy))},t.\u0275cmp=n.Xpm({type:t,selectors:[["apto-confirmation-dialog"]],decls:6,vars:7,consts:[[1,"confirm-dialog"],[3,"mat-dialog-close","inner"],[4,"ngIf"],["mat-dialog-title","",4,"ngIf"],["class","dialog-icon",4,"ngIf"],[1,"dialog-icon"],["mat-dialog-title",""],[3,"innerHTML"],["mat-flat-button","","color","accent","type","button",3,"mat-dialog-close",4,"ngIf"],["mat-flat-button","","color","primary",3,"mat-dialog-close",4,"ngIf"],["mat-flat-button","","color","accent","type","button",3,"mat-dialog-close"],["mat-flat-button","","color","primary",3,"mat-dialog-close"]],template:function(e,i){1&e&&(n.TgZ(0,"div",0),n._UZ(1,"apto-close-button",1),n.YNc(2,K8,6,5,"ng-container",2),n.YNc(3,eH,2,1,"h1",3),n.YNc(4,tH,3,3,"mat-dialog-content",2),n.YNc(5,iH,3,2,"mat-dialog-actions",2),n.qZA()),2&e&&(n.uIk("type",i.data.type),n.xp6(1),n.Q6J("mat-dialog-close",!1)("inner",!0),n.xp6(1),n.Q6J("ngIf",!i.data.hideIcon),n.xp6(1),n.Q6J("ngIf",i.data.title),n.xp6(1),n.Q6J("ngIf",i.data.descriptionText),n.xp6(1),n.Q6J("ngIf",i.data.cancelButtonText||i.data.confirmButtonText))},dependencies:[rn,fr,Or,is,Rf,Xc,Kc,gc,Lo],styles:[".confirm-dialog[_ngcontent-%COMP%]{position:relative;border-radius:var(--border-radius-card);display:flex;flex-direction:column;border-top-width:3px;border-top-style:solid;padding:var(--element-gap);justify-content:center;align-items:center}.confirm-dialog[type=confirm][_ngcontent-%COMP%], .confirm-dialog[type=info][_ngcontent-%COMP%], .confirm-dialog[type=custom][_ngcontent-%COMP%]{border-color:var(--color-optic-lines-popup)}.confirm-dialog[type=error][_ngcontent-%COMP%]{border-color:var(--color-optic-lines-popup-error)}.confirm-dialog[type=warning][_ngcontent-%COMP%]{border-color:var(--color-optic-lines-popup-warning)}.confirm-dialog[_ngcontent-%COMP%]   .dialog-icon[_ngcontent-%COMP%]{margin-bottom:36px;width:100%;display:flex;justify-content:center}.confirm-dialog[_ngcontent-%COMP%]   .dialog-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{width:72px;height:72px;display:flex;justify-content:center;align-content:center;align-items:center;border-radius:100%;font-size:50px}.confirm-dialog[_ngcontent-%COMP%]   .dialog-icon[_ngcontent-%COMP%]   mat-icon[type=confirm][_ngcontent-%COMP%], .confirm-dialog[_ngcontent-%COMP%]   .dialog-icon[_ngcontent-%COMP%]   mat-icon[type=info][_ngcontent-%COMP%], .confirm-dialog[_ngcontent-%COMP%]   .dialog-icon[_ngcontent-%COMP%]   mat-icon[type=custom][_ngcontent-%COMP%]{background-color:var(--color-optic-lines-popup-light)}.confirm-dialog[_ngcontent-%COMP%]   .dialog-icon[_ngcontent-%COMP%]   mat-icon[type=error][_ngcontent-%COMP%]{background-color:var(--color-optic-lines-popup-error-light)}.confirm-dialog[_ngcontent-%COMP%]   .dialog-icon[_ngcontent-%COMP%]   mat-icon[type=warning][_ngcontent-%COMP%]{background-color:var(--color-optic-lines-popup-warning-light)}.confirm-dialog[_ngcontent-%COMP%]   .dialog-icon[_ngcontent-%COMP%]   mat-icon[type=confirm][_ngcontent-%COMP%], .confirm-dialog[_ngcontent-%COMP%]   .dialog-icon[_ngcontent-%COMP%]   mat-icon[type=info][_ngcontent-%COMP%], .confirm-dialog[_ngcontent-%COMP%]   .dialog-icon[_ngcontent-%COMP%]   mat-icon[type=custom][_ngcontent-%COMP%]{color:var(--color-optic-lines-popup)}.confirm-dialog[_ngcontent-%COMP%]   .dialog-icon[_ngcontent-%COMP%]   mat-icon[type=error][_ngcontent-%COMP%]{color:var(--color-optic-lines-popup-error)}.confirm-dialog[_ngcontent-%COMP%]   .dialog-icon[_ngcontent-%COMP%]   mat-icon[type=warning][_ngcontent-%COMP%]{color:var(--color-optic-lines-popup-warning)}.confirm-dialog[_ngcontent-%COMP%]   h1.mat-dialog-title[_ngcontent-%COMP%]{display:flex;color:var(--color-text);font-size:28px;font-weight:700;margin:0}.confirm-dialog[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:var(--element-gap) 0;margin:0;font-size:18px;font-weight:400;text-align:left}.confirm-dialog[_ngcontent-%COMP%]   mat-dialog-actions[_ngcontent-%COMP%]{display:flex;justify-content:center;justify-items:center;align-items:center;gap:var(--button-gap);width:100%;padding:0;margin:calc(1.5 * var(--element-gap)) 0 0 0;flex-wrap:nowrap;flex-direction:column}.confirm-dialog[_ngcontent-%COMP%]   mat-dialog-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;margin:0;display:flex;align-items:center;justify-content:center;height:var(--button-mobile-height)}@media only screen and (min-width: 767px){.confirm-dialog[_ngcontent-%COMP%]{position:relative;border-radius:var(--border-radius-card);display:flex;flex-direction:column;border-top-width:3px;border-top-style:solid;padding:34px 72px}.confirm-dialog[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:var(--element-gap) 0;margin:0;font-size:18px;font-weight:400;text-align:left}.confirm-dialog[_ngcontent-%COMP%]   mat-dialog-actions[_ngcontent-%COMP%]{display:flex;justify-content:center;justify-items:center;align-items:center;gap:var(--button-gap);width:100%;padding:0;margin:calc(1.5 * var(--element-gap)) 0 0 0;flex-wrap:nowrap;flex-direction:row}.confirm-dialog[_ngcontent-%COMP%]   mat-dialog-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;margin:0;display:flex;align-items:center;justify-content:center;height:var(--button-tablet-height);max-width:50%}}"]}),t})(),Do=(()=>{class t{constructor(e){this.matDialog=e,this.dialogTypesEnum=ts}openCustomDialog(e,i,o,a){return this.matDialog.open(e,{...a,width:i,data:{...o,size:i}})}openConfirmationDialog(e,i,o,a,l){return this.openCustomDialog(_c,e,{title:i,descriptionText:o,cancelButtonText:a,confirmButtonText:l,type:this.dialogTypesEnum.CONFIRM},{width:e})}openErrorDialog(e,i,o,a,l){return this.openCustomDialog(_c,e,{title:i,descriptionText:o,cancelButtonText:a,confirmButtonText:l,type:this.dialogTypesEnum.ERROR},{width:e})}openWarningDialog(e,i,o,a,l){return this.openCustomDialog(_c,e,{title:i,descriptionText:o,cancelButtonText:a,confirmButtonText:l,type:this.dialogTypesEnum.WARNING},{width:e})}openInfoDialog(e,i,o,a,l){return this.openCustomDialog(_c,e,{title:i,descriptionText:o,cancelButtonText:a,confirmButtonText:l,type:this.dialogTypesEnum.INFO},{width:e})}}return t.\u0275fac=function(e){return new(e||t)(n.LFG(yl))},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac}),t})();var Ei=se(7582);const oH=n.GuJ,sH=Symbol("__destroy"),LF=Symbol("__decoratorApplied");function BF(t){return"string"==typeof t?Symbol(`__destroy__${t}`):sH}function UF(t,r){t[r]||(t[r]=new dn.x)}function VF(t,r){t[r]&&(t[r].next(),t[r].complete(),t[r]=null)}function zF(t){t instanceof Yr.w0&&t.unsubscribe()}function HF(t,r){return function(){if(t&&t.call(this),VF(this,BF()),r.arrayName&&function cH(t){Array.isArray(t)&&t.forEach(zF)}(this[r.arrayName]),r.checkProperties)for(const e in this)r.blackList?.includes(e)||zF(this[e])}}function Ii(t={}){return r=>{!function aH(t){return!!t[oH]}(r)?function uH(t,r){t.prototype.ngOnDestroy=HF(t.prototype.ngOnDestroy,r)}(r,t):function dH(t,r){const e=t.\u0275pipe;e.onDestroy=HF(e.onDestroy,r)}(r,t),function lH(t){t.prototype[LF]=!0}(r)}}function ki(t,r){return e=>{const i=BF(r);"string"==typeof r?function mH(t,r,e){const i=t[r];UF(t,e),t[r]=function(){i.apply(this,arguments),VF(this,e),t[r]=i}}(t,r,i):UF(t,i);return e.pipe((0,Zn.R)(t[i]))}}Symbol("CheckerHasBeenSet");let ur=class{constructor(r){this.store=r,this.default=yn.defaultLocale,this.locale=this.default,r.select(lr).pipe(ki(this)).subscribe(e=>{null!==e&&(this.locale=e)})}transform(r,e){if(null===r)return"";const i=(r.name+"."+e).split("."),a=(u,p,f)=>{for(let h=0;h<u.length;h++){const y=u[h];if(y.name===p){if(f===i.length)return y;if(y.children)return f++,a(y.children,i[f-1],f)}}return null},l=a([r],i[0],1);if(null!==l){const u=Pn(l.content,this.locale);if(u)return u}return""}};function _H(t,r){if(1&t&&n._UZ(0,"apto-loading-indicator",11),2&t){const e=n.oxw(2);n.Q6J("type",e.loadingIndicatorTypes.ELEMENT)}}function vH(t,r){if(1&t&&n._UZ(0,"apto-loading-indicator",11),2&t){const e=n.oxw(2);n.Q6J("type",e.loadingIndicatorTypes.ELEMENT)}}function yH(t,r){1&t&&n._UZ(0,"div",18)}ur.\u0275fac=function(r){return new(r||ur)(n.Y36(Oe.yh,16))},ur.\u0275pipe=n.Yjl({name:"contentSnippet",type:ur,pure:!1}),ur=(0,Ei.gn)([Ii()],ur);const bH=function(t){return{"background-image":t}};function CH(t,r){if(1&t&&n._UZ(0,"div",19),2&t){const e=n.oxw().$implicit;n.Q6J("ngStyle",n.VKq(1,bH,"url("+e.thumbnail+")"))}}function xH(t,r){if(1&t){const e=n.EpF();n.TgZ(0,"mat-icon",20),n.NdJ("click",function(){n.CHM(e);const o=n.oxw().$implicit,a=n.oxw(2);return n.KtG(a.removeBasketItem(o.id,o.name))}),n._uU(1,"delete"),n.qZA()}}function wH(t,r){if(1&t&&(n.TgZ(0,"div",12),n.YNc(1,yH,1,0,"div",13),n.YNc(2,CH,1,3,"div",14),n.TgZ(3,"div",15)(4,"div")(5,"h5"),n._uU(6),n.qZA(),n.TgZ(7,"p"),n._uU(8),n.qZA()(),n.TgZ(9,"div",16),n.YNc(10,xH,2,0,"mat-icon",17),n.qZA()()()),2&t){const e=r.$implicit;n.xp6(1),n.Q6J("ngIf",!e.thumbnail),n.xp6(1),n.Q6J("ngIf",e.thumbnail),n.xp6(4),n.AsE("",e.quantity,"x ",e.name,""),n.xp6(2),n.Oqu(e.price),n.xp6(2),n.Q6J("ngIf",e.deletable)}}function MH(t,r){if(1&t&&(n.TgZ(0,"a",25),n.ALo(1,"contentSnippet"),n.ALo(2,"async"),n._uU(3),n.ALo(4,"contentSnippet"),n.ALo(5,"async"),n.qZA()),2&t){const e=n.oxw(2).ngIf,i=n.oxw();n.Q6J("href",n.xi3(1,2,n.lcZ(2,5,i.csAptoBasket$),"checkoutLink")||(null==e.url?null:e.url.checkout),n.LSH),n.xp6(3),n.hij(" ",n.xi3(4,7,n.lcZ(5,10,i.csAptoBasket$),"checkout")," ")}}function SH(t,r){if(1&t&&(n.TgZ(0,"a",26),n.ALo(1,"contentSnippet"),n.ALo(2,"async"),n._uU(3),n.ALo(4,"contentSnippet"),n.ALo(5,"async"),n.qZA()),2&t){const e=n.oxw(2).ngIf,i=n.oxw();n.Q6J("href",n.xi3(1,2,n.lcZ(2,5,i.csAptoBasket$),"cartLink")||(null==e.url?null:e.url.cart),n.LSH),n.xp6(3),n.hij(" ",n.xi3(4,7,n.lcZ(5,10,i.csAptoBasket$),"cart")," ")}}function DH(t,r){if(1&t){const e=n.EpF();n.TgZ(0,"div",21),n.YNc(1,MH,6,12,"a",22),n.ALo(2,"contentSnippet"),n.ALo(3,"async"),n.YNc(4,SH,6,12,"a",23),n.ALo(5,"contentSnippet"),n.ALo(6,"async"),n.TgZ(7,"button",24),n.NdJ("click",function(){n.CHM(e);const o=n.oxw().ngIf,a=n.oxw();return n.KtG(a.removeAllBasketItems(o.basket.articles))}),n._uU(8),n.ALo(9,"contentSnippet"),n.ALo(10,"async"),n.qZA()()}if(2&t){const e=n.oxw().ngIf,i=n.oxw();n.xp6(1),n.Q6J("ngIf",n.xi3(2,3,n.lcZ(3,6,i.csAptoBasket$),"checkoutLink")||(null==e.url?null:e.url.checkout)),n.xp6(3),n.Q6J("ngIf",n.xi3(5,8,n.lcZ(6,11,i.csAptoBasket$),"cartLink")||(null==e.url?null:e.url.cart)),n.xp6(4),n.hij(" ",n.xi3(9,13,n.lcZ(10,16,i.csAptoBasket$),"clear")," ")}}function OH(t,r){if(1&t){const e=n.EpF();n.TgZ(0,"div",1),n.YNc(1,_H,1,1,"apto-loading-indicator",2),n.ALo(2,"async"),n.YNc(3,vH,1,1,"apto-loading-indicator",2),n.ALo(4,"async"),n.TgZ(5,"div",3)(6,"h3"),n._uU(7),n.ALo(8,"contentSnippet"),n.ALo(9,"async"),n.qZA(),n.TgZ(10,"button",4),n.NdJ("click",function(){n.CHM(e);const o=n.oxw();return n.KtG(o.toggleSideBar())}),n.TgZ(11,"mat-icon"),n._uU(12,"close"),n.qZA()()(),n.TgZ(13,"div",5),n.YNc(14,wH,11,6,"div",6),n.qZA(),n.TgZ(15,"div",7)(16,"h4",8),n._uU(17),n.ALo(18,"contentSnippet"),n.ALo(19,"async"),n.qZA(),n.TgZ(20,"h4",9),n._uU(21),n.qZA()(),n.YNc(22,DH,11,18,"div",10),n.ALo(23,"contentSnippet"),n.ALo(24,"async"),n.ALo(25,"contentSnippet"),n.ALo(26,"async"),n.qZA()}if(2&t){const e=r.ngIf,i=n.oxw();n.xp6(1),n.Q6J("ngIf",n.lcZ(2,7,i.configurationLoading$)),n.xp6(2),n.Q6J("ngIf",n.lcZ(4,9,i.selectShopLoading$)),n.xp6(4),n.Oqu(n.xi3(8,11,n.lcZ(9,14,i.csAptoBasket$),"shoppingCartHeadline")),n.xp6(7),n.Q6J("ngForOf",e.basket.articles),n.xp6(3),n.Oqu(n.xi3(18,16,n.lcZ(19,19,i.csAptoBasket$),"sum")),n.xp6(4),n.Oqu(e.basket.amount),n.xp6(1),n.Q6J("ngIf",(null==e.url?null:e.url.checkout)||(null==e.url?null:e.url.cart)||n.xi3(23,21,n.lcZ(24,24,i.csAptoBasket$),"checkoutLink")||n.xi3(25,26,n.lcZ(26,29,i.csAptoBasket$),"cartLink"))}}let EH=(()=>{class t{constructor(e,i,o){this.store=e,this.basketService=i,this.dialogService=o,this.csAptoBasket$=this.store.select(un("aptoBasket")),this.csConfirmDeleteDialog$=this.store.select(un("aptoBasket.confirmDeleteDialog")),this.csClearCartConfirmation$=this.store.select(un("aptoBasket.clearCartConfirmation")),this.loadingIndicatorTypes=Qc,this.configurationLoading$=this.store.select(Gm),this.connector$=this.store.select(RC),this.selectShopLoading$=this.store.select(lO),this.locale=yn.defaultLocale}toggleSideBar(){this.basketService.sideBar?.toggle()}removeBasketItem(e,i){let o="",a="",l="",u="";const p=this.csConfirmDeleteDialog$.subscribe(f=>{if(null===f)return this.store.dispatch(Qp({payload:{basketItemId:e}})),void p.unsubscribe();f.children.forEach(h=>{"title"===h.name&&(a=Pn(h.content,this.locale)),"text"===h.name&&(o=Pn(h.content,this.locale).replace("{_productName_}",i)),"cancel"===h.name&&(l=Pn(h.content,this.locale)),"confirm"===h.name&&(u=Pn(h.content,this.locale))}),this.dialogService.openWarningDialog(Ur.md,a,o,l,u).afterClosed().subscribe(h=>{!0===h&&this.store.dispatch(Qp({payload:{basketItemId:e}})),p.unsubscribe()})})}removeAllBasketItems(e){uo(this.store.select(lr).pipe((0,xt.U)(i=>i||yn.defaultLocale)),this.store.select(un("aptoBasket.clearCartConfirmation.confirm")),this.store.select(un("aptoBasket.clearCartConfirmation.cancel")),this.store.select(un("aptoBasket.clearCartConfirmation.title")),this.store.select(un("aptoBasket.clearCartConfirmation.text"))).pipe((0,ar.q)(1)).subscribe(i=>{const o=i[0],a=Pn(i[1].content,o),l=Pn(i[2].content,o),u=Pn(i[3].content,o),p=Pn(i[4].content,this.locale).replace("{_productName_}",e.map(f=>f.name).join(", "));this.dialogService.openWarningDialog(Ur.md,u,p,l,a).afterClosed().subscribe(f=>{f&&this.store.dispatch(OC({payload:{basketItemIds:e.map(h=>h.id)}}))})})}totalPrice(e){let o,i=0;for(const a of e)i+=a.quantity*a.price,o=a.currency;return o?`${i.toString()} ${o}`:"no currency found!"}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(Oe.yh),n.Y36(gm),n.Y36(Do))},t.\u0275cmp=n.Xpm({type:t,selectors:[["apto-basket"]],decls:2,vars:3,consts:[["class","whole-basket",4,"ngIf"],[1,"whole-basket"],[3,"type",4,"ngIf"],[1,"title","flex","justify-between","items-center"],["mat-mini-fab","","color","accent","aria-label","Close Sidebar",3,"click"],[1,"product-list"],["class","product",4,"ngFor","ngForOf"],[1,"summary","sum-amount"],[1,"text-base","color","sum"],[1,"text-base","color","amount"],["class","buttons",4,"ngIf"],[3,"type"],[1,"product"],["class","image",4,"ngIf"],["class","image",3,"ngStyle",4,"ngIf"],[1,"content"],[1,"delete"],["class","color pointer",3,"click",4,"ngIf"],[1,"image"],[1,"image",3,"ngStyle"],[1,"color","pointer",3,"click"],[1,"buttons"],["color","primary","mat-flat-button","","target","_blank",3,"href",4,"ngIf"],["color","accent","mat-flat-button","","target","_blank",3,"href",4,"ngIf"],["mat-flat-button","",1,"clear-cart-confirmation-button",3,"click"],["color","primary","mat-flat-button","","target","_blank",3,"href"],["color","accent","mat-flat-button","","target","_blank",3,"href"]],template:function(e,i){1&e&&(n.YNc(0,OH,27,31,"div",0),n.ALo(1,"async")),2&e&&n.Q6J("ngIf",n.lcZ(1,1,i.connector$))},dependencies:[Ar,rn,rt,No,Or,G8,fr,hn,ur],styles:["[_nghost-%COMP%]{background-color:var(--color-background);width:430px;height:100%}[_nghost-%COMP%]   h5[_ngcontent-%COMP%]{font-size:25px;font-weight:500;color:var(--color-text)}[_nghost-%COMP%]   h4[_ngcontent-%COMP%]{font-size:30px;font-weight:500;color:var(--color-text);margin:0}.color[_ngcontent-%COMP%]{color:var(--color-text)}.pointer[_ngcontent-%COMP%]{cursor:pointer}.whole-basket[_ngcontent-%COMP%]{margin:0 42px}.whole-basket[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{padding:46px 0 26px}.whole-basket[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:35px;font-weight:600;color:var(--color-text);margin:0}.whole-basket[_ngcontent-%COMP%]   .summary[_ngcontent-%COMP%]{margin:26px 0 64px;display:flex;justify-content:space-between}.whole-basket[_ngcontent-%COMP%]   .summary[_ngcontent-%COMP%]   .sum[_ngcontent-%COMP%], .whole-basket[_ngcontent-%COMP%]   .summary[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{font-size:26px;font-weight:600}.whole-basket[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{width:100%;line-height:var(--button-mobile-height)}.whole-basket[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] + a[_ngcontent-%COMP%]{margin-top:var(--button-gap)}.whole-basket[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .clear-cart-confirmation-button[_ngcontent-%COMP%]{background:var(--color-warn);color:#fff;width:100%;margin-top:var(--button-gap)}.product-list[_ngcontent-%COMP%]{padding:20px 0;border-bottom:1px solid var(--color-border-input);border-top:1px solid var(--color-border-input);display:flex;flex-direction:column;gap:34px;position:relative}.product-list[_ngcontent-%COMP%]   .product[_ngcontent-%COMP%]{display:flex;gap:10px}.product-list[_ngcontent-%COMP%]   .product[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]{width:100px;height:70px;border-radius:var(--border-radius-card);background-size:contain;background-repeat:no-repeat;background-position:center}.product-list[_ngcontent-%COMP%]   .product[_ngcontent-%COMP%]   .image.empty[_ngcontent-%COMP%]{background-color:#e2e3e3}.product-list[_ngcontent-%COMP%]   .product[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:100%;padding:10px}.product-list[_ngcontent-%COMP%]   .product[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .delete[_ngcontent-%COMP%]{display:flex;justify-content:center}@media only screen and (min-width: 767px){.whole-basket[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{line-height:var(--button-tablet-height)}}@media only screen and (min-width: 1023px){.whole-basket[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{line-height:var(--input-big-height)}}"]}),t})(),YF=(()=>{class t{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(n.Qsj),n.Y36(n.SBq))},t.\u0275dir=n.lG2({type:t}),t})(),Bf=(()=>{class t extends YF{}return t.\u0275fac=function(){let r;return function(i){return(r||(r=n.n5z(t)))(i||t)}}(),t.\u0275dir=n.lG2({type:t,features:[n.qOj]}),t})();const Ci=new n.OlP("NgValueAccessor"),PH={provide:Ci,useExisting:(0,n.Gpc)(()=>Dd),multi:!0},IH=new n.OlP("CompositionEventMode");let Dd=(()=>{class t extends YF{constructor(e,i,o){super(e,i),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function TH(){const t=Ae()?Ae().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(n.Qsj),n.Y36(n.SBq),n.Y36(IH,8))},t.\u0275dir=n.lG2({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,i){1&e&&n.NdJ("input",function(a){return i._handleInput(a.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(a){return i._compositionEnd(a.target.value)})},features:[n._Bn([PH]),n.qOj]}),t})();function Od(t){return null==t||("string"==typeof t||Array.isArray(t))&&0===t.length}function $F(t){return null!=t&&"number"==typeof t.length}const ro=new n.OlP("NgValidators"),Ed=new n.OlP("NgAsyncValidators"),FH=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Dr{static min(r){return WF(r)}static max(r){return QF(r)}static required(r){return JF(r)}static requiredTrue(r){return function XF(t){return!0===t.value?null:{required:!0}}(r)}static email(r){return function KF(t){return Od(t.value)||FH.test(t.value)?null:{email:!0}}(r)}static minLength(r){return function eN(t){return r=>Od(r.value)||!$F(r.value)?null:r.value.length<t?{minlength:{requiredLength:t,actualLength:r.value.length}}:null}(r)}static maxLength(r){return function tN(t){return r=>$F(r.value)&&r.value.length>t?{maxlength:{requiredLength:t,actualLength:r.value.length}}:null}(r)}static pattern(r){return function nN(t){if(!t)return Q1;let r,e;return"string"==typeof t?(e="","^"!==t.charAt(0)&&(e+="^"),e+=t,"$"!==t.charAt(t.length-1)&&(e+="$"),r=new RegExp(e)):(e=t.toString(),r=t),i=>{if(Od(i.value))return null;const o=i.value;return r.test(o)?null:{pattern:{requiredPattern:e,actualValue:o}}}}(r)}static nullValidator(r){return null}static compose(r){return lN(r)}static composeAsync(r){return cN(r)}}function WF(t){return r=>{if(Od(r.value)||Od(t))return null;const e=parseFloat(r.value);return!isNaN(e)&&e<t?{min:{min:t,actual:r.value}}:null}}function QF(t){return r=>{if(Od(r.value)||Od(t))return null;const e=parseFloat(r.value);return!isNaN(e)&&e>t?{max:{max:t,actual:r.value}}:null}}function JF(t){return Od(t.value)?{required:!0}:null}function Q1(t){return null}function rN(t){return null!=t}function iN(t){return(0,n.QGY)(t)?(0,vi.D)(t):t}function oN(t){let r={};return t.forEach(e=>{r=null!=e?{...r,...e}:r}),0===Object.keys(r).length?null:r}function aN(t,r){return r.map(e=>e(t))}function sN(t){return t.map(r=>function NH(t){return!t.validate}(r)?r:e=>r.validate(e))}function lN(t){if(!t)return null;const r=t.filter(rN);return 0==r.length?null:function(e){return oN(aN(e,r))}}function WA(t){return null!=t?lN(sN(t)):null}function cN(t){if(!t)return null;const r=t.filter(rN);return 0==r.length?null:function(e){return eu(aN(e,r).map(iN)).pipe((0,xt.U)(oN))}}function QA(t){return null!=t?cN(sN(t)):null}function uN(t,r){return null===t?[r]:Array.isArray(t)?[...t,r]:[t,r]}function dN(t){return t._rawValidators}function pN(t){return t._rawAsyncValidators}function JA(t){return t?Array.isArray(t)?t:[t]:[]}function J1(t,r){return Array.isArray(t)?t.includes(r):t===r}function fN(t,r){const e=JA(r);return JA(t).forEach(o=>{J1(e,o)||e.push(o)}),e}function hN(t,r){return JA(r).filter(e=>!J1(t,e))}class mN{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(r){this._rawValidators=r||[],this._composedValidatorFn=WA(this._rawValidators)}_setAsyncValidators(r){this._rawAsyncValidators=r||[],this._composedAsyncValidatorFn=QA(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(r){this._onDestroyCallbacks.push(r)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(r=>r()),this._onDestroyCallbacks=[]}reset(r){this.control&&this.control.reset(r)}hasError(r,e){return!!this.control&&this.control.hasError(r,e)}getError(r,e){return this.control?this.control.getError(r,e):null}}class ra extends mN{get formDirective(){return null}get path(){return null}}class bl extends mN{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class gN{constructor(r){this._cd=r}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let oi=(()=>{class t extends gN{constructor(e){super(e)}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(bl,2))},t.\u0275dir=n.lG2({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,i){2&e&&n.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[n.qOj]}),t})(),ia=(()=>{class t extends gN{constructor(e){super(e)}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(ra,10))},t.\u0275dir=n.lG2({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,i){2&e&&n.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[n.qOj]}),t})();const Vy="VALID",K1="INVALID",rg="PENDING",zy="DISABLED";function tP(t){return(ew(t)?t.validators:t)||null}function vN(t){return Array.isArray(t)?WA(t):t||null}function nP(t,r){return(ew(r)?r.asyncValidators:t)||null}function yN(t){return Array.isArray(t)?QA(t):t||null}function ew(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}function bN(t,r,e){const i=t.controls;if(!(r?Object.keys(i):i).length)throw new n.vHH(1e3,"");if(!i[e])throw new n.vHH(1001,"")}function CN(t,r,e){t._forEachChild((i,o)=>{if(void 0===e[o])throw new n.vHH(1002,"")})}class tw{constructor(r,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=r,this._rawAsyncValidators=e,this._composedValidatorFn=vN(this._rawValidators),this._composedAsyncValidatorFn=yN(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(r){this._rawValidators=this._composedValidatorFn=r}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(r){this._rawAsyncValidators=this._composedAsyncValidatorFn=r}get parent(){return this._parent}get valid(){return this.status===Vy}get invalid(){return this.status===K1}get pending(){return this.status==rg}get disabled(){return this.status===zy}get enabled(){return this.status!==zy}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(r){this._rawValidators=r,this._composedValidatorFn=vN(r)}setAsyncValidators(r){this._rawAsyncValidators=r,this._composedAsyncValidatorFn=yN(r)}addValidators(r){this.setValidators(fN(r,this._rawValidators))}addAsyncValidators(r){this.setAsyncValidators(fN(r,this._rawAsyncValidators))}removeValidators(r){this.setValidators(hN(r,this._rawValidators))}removeAsyncValidators(r){this.setAsyncValidators(hN(r,this._rawAsyncValidators))}hasValidator(r){return J1(this._rawValidators,r)}hasAsyncValidator(r){return J1(this._rawAsyncValidators,r)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(r={}){this.touched=!0,this._parent&&!r.onlySelf&&this._parent.markAsTouched(r)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(r=>r.markAllAsTouched())}markAsUntouched(r={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!r.onlySelf&&this._parent._updateTouched(r)}markAsDirty(r={}){this.pristine=!1,this._parent&&!r.onlySelf&&this._parent.markAsDirty(r)}markAsPristine(r={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!r.onlySelf&&this._parent._updatePristine(r)}markAsPending(r={}){this.status=rg,!1!==r.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!r.onlySelf&&this._parent.markAsPending(r)}disable(r={}){const e=this._parentMarkedDirty(r.onlySelf);this.status=zy,this.errors=null,this._forEachChild(i=>{i.disable({...r,onlySelf:!0})}),this._updateValue(),!1!==r.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...r,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!0))}enable(r={}){const e=this._parentMarkedDirty(r.onlySelf);this.status=Vy,this._forEachChild(i=>{i.enable({...r,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:r.emitEvent}),this._updateAncestors({...r,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(r){this._parent&&!r.onlySelf&&(this._parent.updateValueAndValidity(r),r.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(r){this._parent=r}getRawValue(){return this.value}updateValueAndValidity(r={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Vy||this.status===rg)&&this._runAsyncValidator(r.emitEvent)),!1!==r.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!r.onlySelf&&this._parent.updateValueAndValidity(r)}_updateTreeValidity(r={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(r)),this.updateValueAndValidity({onlySelf:!0,emitEvent:r.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?zy:Vy}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(r){if(this.asyncValidator){this.status=rg,this._hasOwnPendingAsyncValidator=!0;const e=iN(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:r})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(r,e={}){this.errors=r,this._updateControlsErrors(!1!==e.emitEvent)}get(r){let e=r;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((i,o)=>i&&i._find(o),this)}getError(r,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[r]:null}hasError(r,e){return!!this.getError(r,e)}get root(){let r=this;for(;r._parent;)r=r._parent;return r}_updateControlsErrors(r){this.status=this._calculateStatus(),r&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(r)}_initObservables(){this.valueChanges=new n.vpe,this.statusChanges=new n.vpe}_calculateStatus(){return this._allControlsDisabled()?zy:this.errors?K1:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(rg)?rg:this._anyControlsHaveStatus(K1)?K1:Vy}_anyControlsHaveStatus(r){return this._anyControls(e=>e.status===r)}_anyControlsDirty(){return this._anyControls(r=>r.dirty)}_anyControlsTouched(){return this._anyControls(r=>r.touched)}_updatePristine(r={}){this.pristine=!this._anyControlsDirty(),this._parent&&!r.onlySelf&&this._parent._updatePristine(r)}_updateTouched(r={}){this.touched=this._anyControlsTouched(),this._parent&&!r.onlySelf&&this._parent._updateTouched(r)}_registerOnCollectionChange(r){this._onCollectionChange=r}_setUpdateStrategy(r){ew(r)&&null!=r.updateOn&&(this._updateOn=r.updateOn)}_parentMarkedDirty(r){return!r&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(r){return null}}class mo extends tw{constructor(r,e,i){super(tP(e),nP(i,e)),this.controls=r,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(r,e){return this.controls[r]?this.controls[r]:(this.controls[r]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(r,e,i={}){this.registerControl(r,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(r,e={}){this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),delete this.controls[r],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(r,e,i={}){this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),delete this.controls[r],e&&this.registerControl(r,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(r){return this.controls.hasOwnProperty(r)&&this.controls[r].enabled}setValue(r,e={}){CN(this,0,r),Object.keys(r).forEach(i=>{bN(this,!0,i),this.controls[i].setValue(r[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(r,e={}){null!=r&&(Object.keys(r).forEach(i=>{const o=this.controls[i];o&&o.patchValue(r[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(r={},e={}){this._forEachChild((i,o)=>{i.reset(r[o],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(r,e,i)=>(r[i]=e.getRawValue(),r))}_syncPendingControls(){let r=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return r&&this.updateValueAndValidity({onlySelf:!0}),r}_forEachChild(r){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&r(i,e)})}_setUpControls(){this._forEachChild(r=>{r.setParent(this),r._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(r){for(const[e,i]of Object.entries(this.controls))if(this.contains(e)&&r(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,i,o)=>((i.enabled||this.disabled)&&(e[o]=i.value),e))}_reduceChildren(r,e){let i=r;return this._forEachChild((o,a)=>{i=e(i,o,a)}),i}_allControlsDisabled(){for(const r of Object.keys(this.controls))if(this.controls[r].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(r){return this.controls.hasOwnProperty(r)?this.controls[r]:null}}const xN=mo;class wN extends mo{}function nw(t,r){return[...r.path,t]}function Hy(t,r){rP(t,r),r.valueAccessor.writeValue(t.value),t.disabled&&r.valueAccessor.setDisabledState?.(!0),function jH(t,r){r.valueAccessor.registerOnChange(e=>{t._pendingValue=e,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&MN(t,r)})}(t,r),function ZH(t,r){const e=(i,o)=>{r.valueAccessor.writeValue(i),o&&r.viewToModelUpdate(i)};t.registerOnChange(e),r._registerOnDestroy(()=>{t._unregisterOnChange(e)})}(t,r),function qH(t,r){r.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&MN(t,r),"submit"!==t.updateOn&&t.markAsTouched()})}(t,r),function HH(t,r){if(r.valueAccessor.setDisabledState){const e=i=>{r.valueAccessor.setDisabledState(i)};t.registerOnDisabledChange(e),r._registerOnDestroy(()=>{t._unregisterOnDisabledChange(e)})}}(t,r)}function rw(t,r,e=!0){const i=()=>{};r.valueAccessor&&(r.valueAccessor.registerOnChange(i),r.valueAccessor.registerOnTouched(i)),ow(t,r),t&&(r._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function iw(t,r){t.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(r)})}function rP(t,r){const e=dN(t);null!==r.validator?t.setValidators(uN(e,r.validator)):"function"==typeof e&&t.setValidators([e]);const i=pN(t);null!==r.asyncValidator?t.setAsyncValidators(uN(i,r.asyncValidator)):"function"==typeof i&&t.setAsyncValidators([i]);const o=()=>t.updateValueAndValidity();iw(r._rawValidators,o),iw(r._rawAsyncValidators,o)}function ow(t,r){let e=!1;if(null!==t){if(null!==r.validator){const o=dN(t);if(Array.isArray(o)&&o.length>0){const a=o.filter(l=>l!==r.validator);a.length!==o.length&&(e=!0,t.setValidators(a))}}if(null!==r.asyncValidator){const o=pN(t);if(Array.isArray(o)&&o.length>0){const a=o.filter(l=>l!==r.asyncValidator);a.length!==o.length&&(e=!0,t.setAsyncValidators(a))}}}const i=()=>{};return iw(r._rawValidators,i),iw(r._rawAsyncValidators,i),e}function MN(t,r){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),r.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function SN(t,r){rP(t,r)}function iP(t,r){if(!t.hasOwnProperty("model"))return!1;const e=t.model;return!!e.isFirstChange()||!Object.is(r,e.currentValue)}function ON(t,r){t._syncPendingControls(),r.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function oP(t,r){if(!r)return null;let e,i,o;return Array.isArray(r),r.forEach(a=>{a.constructor===Dd?e=a:function $H(t){return Object.getPrototypeOf(t.constructor)===Bf}(a)?i=a:o=a}),o||i||e||null}const QH={provide:ra,useExisting:(0,n.Gpc)(()=>ig)},jy=(()=>Promise.resolve())();let ig=(()=>{class t extends ra{constructor(e,i){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new n.vpe,this.form=new mo({},WA(e),QA(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){jy.then(()=>{const i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),Hy(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){jy.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){jy.then(()=>{const i=this._findContainer(e.path),o=new mo({});SN(o,e),i.registerControl(e.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){jy.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){jy.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,ON(this.form,this._directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(ro,10),n.Y36(Ed,10))},t.\u0275dir=n.lG2({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,i){1&e&&n.NdJ("submit",function(a){return i.onSubmit(a)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[n._Bn([QH]),n.qOj]}),t})();function EN(t,r){const e=t.indexOf(r);e>-1&&t.splice(e,1)}function AN(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const Ln=class extends tw{constructor(r=null,e,i){super(tP(e),nP(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(r),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ew(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=AN(r)?r.value:r)}setValue(r,e={}){this.value=this._pendingValue=r,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(r,e={}){this.setValue(r,e)}reset(r=this.defaultValue,e={}){this._applyFormState(r),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(r){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(r){this._onChange.push(r)}_unregisterOnChange(r){EN(this._onChange,r)}registerOnDisabledChange(r){this._onDisabledChange.push(r)}_unregisterOnDisabledChange(r){EN(this._onDisabledChange,r)}_forEachChild(r){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(r){AN(r)?(this.value=this._pendingValue=r.value,r.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=r}},aP=Ln;let PN=(()=>{class t extends ra{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return nw(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}}return t.\u0275fac=function(){let r;return function(i){return(r||(r=n.n5z(t)))(i||t)}}(),t.\u0275dir=n.lG2({type:t,features:[n.qOj]}),t})();const KH={provide:bl,useExisting:(0,n.Gpc)(()=>aw)},IN=(()=>Promise.resolve())();let aw=(()=>{class t extends bl{constructor(e,i,o,a,l){super(),this._changeDetectorRef=l,this.control=new Ln,this._registered=!1,this.update=new n.vpe,this._parent=e,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=oP(0,a)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),iP(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Hy(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){IN.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const i=e.isDisabled.currentValue,o=0!==i&&(0,n.D6c)(i);IN.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?nw(e,this._parent):[e]}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(ra,9),n.Y36(ro,10),n.Y36(Ed,10),n.Y36(Ci,10),n.Y36(n.sBO,8))},t.\u0275dir=n.lG2({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[n._Bn([KH]),n.qOj,n.TTD]}),t})(),oa=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=n.lG2({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})();const ej={provide:Ci,useExisting:(0,n.Gpc)(()=>sw),multi:!0};let sw=(()=>{class t extends Bf{writeValue(e){this.setProperty("value",e??"")}registerOnChange(e){this.onChange=i=>{e(""==i?null:parseFloat(i))}}}return t.\u0275fac=function(){let r;return function(i){return(r||(r=n.n5z(t)))(i||t)}}(),t.\u0275dir=n.lG2({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,i){1&e&&n.NdJ("input",function(a){return i.onChange(a.target.value)})("blur",function(){return i.onTouched()})},features:[n._Bn([ej]),n.qOj]}),t})(),kN=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({}),t})();const sP=new n.OlP("NgModelWithFormControlWarning"),ij={provide:bl,useExisting:(0,n.Gpc)(()=>Cl)};let Cl=(()=>{class t extends bl{constructor(e,i,o,a){super(),this._ngModelWarningConfig=a,this.update=new n.vpe,this._ngModelWarningSent=!1,this._setValidators(e),this._setAsyncValidators(i),this.valueAccessor=oP(0,o)}set isDisabled(e){}ngOnChanges(e){if(this._isControlChanged(e)){const i=e.form.previousValue;i&&rw(i,this,!1),Hy(this.form,this),this.form.updateValueAndValidity({emitEvent:!1})}iP(e,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&rw(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_isControlChanged(e){return e.hasOwnProperty("form")}}return t._ngModelWarningSentOnce=!1,t.\u0275fac=function(e){return new(e||t)(n.Y36(ro,10),n.Y36(Ed,10),n.Y36(Ci,10),n.Y36(sP,8))},t.\u0275dir=n.lG2({type:t,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[n._Bn([ij]),n.qOj,n.TTD]}),t})();const oj={provide:ra,useExisting:(0,n.Gpc)(()=>qi)};let qi=(()=>{class t extends ra{constructor(e,i){super(),this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new n.vpe,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(ow(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return Hy(i,e),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){rw(e.control||null,e,!1),function WH(t,r){const e=t.indexOf(r);e>-1&&t.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,ON(this.form,this.directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,o=this.form.get(e.path);i!==o&&(rw(i||null,e),(t=>t instanceof Ln)(o)&&(Hy(o,e),e.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);SN(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function YH(t,r){return ow(t,r)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){rP(this.form,this),this._oldForm&&ow(this._oldForm,this)}_checkFormPresent(){}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(ro,10),n.Y36(Ed,10))},t.\u0275dir=n.lG2({type:t,selectors:[["","formGroup",""]],hostBindings:function(e,i){1&e&&n.NdJ("submit",function(a){return i.onSubmit(a)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[n._Bn([oj]),n.qOj,n.TTD]}),t})();const aj={provide:ra,useExisting:(0,n.Gpc)(()=>lw)};let lw=(()=>{class t extends PN{constructor(e,i,o){super(),this._parent=e,this._setValidators(i),this._setAsyncValidators(o)}_checkParentType(){RN(this._parent)}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(ra,13),n.Y36(ro,10),n.Y36(Ed,10))},t.\u0275dir=n.lG2({type:t,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[n._Bn([aj]),n.qOj]}),t})();const sj={provide:ra,useExisting:(0,n.Gpc)(()=>lP)};let lP=(()=>{class t extends ra{constructor(e,i,o){super(),this._parent=e,this._setValidators(i),this._setAsyncValidators(o)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return nw(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){RN(this._parent)}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(ra,13),n.Y36(ro,10),n.Y36(Ed,10))},t.\u0275dir=n.lG2({type:t,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[n._Bn([sj]),n.qOj]}),t})();function RN(t){return!(t instanceof lw||t instanceof qi||t instanceof lP)}const lj={provide:bl,useExisting:(0,n.Gpc)(()=>Bo)};let Bo=(()=>{class t extends bl{constructor(e,i,o,a,l){super(),this._ngModelWarningConfig=l,this._added=!1,this.update=new n.vpe,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=oP(0,a)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),iP(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return nw(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return t._ngModelWarningSentOnce=!1,t.\u0275fac=function(e){return new(e||t)(n.Y36(ra,13),n.Y36(ro,10),n.Y36(Ed,10),n.Y36(Ci,10),n.Y36(sP,8))},t.\u0275dir=n.lG2({type:t,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[n._Bn([lj]),n.qOj,n.TTD]}),t})();function VN(t){return"number"==typeof t?t:parseFloat(t)}let Uf=(()=>{class t{constructor(){this._validator=Q1}ngOnChanges(e){if(this.inputName in e){const i=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):Q1,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=n.lG2({type:t,features:[n.TTD]}),t})();const mj={provide:ro,useExisting:(0,n.Gpc)(()=>cw),multi:!0};let cw=(()=>{class t extends Uf{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=e=>VN(e),this.createValidator=e=>QF(e)}}return t.\u0275fac=function(){let r;return function(i){return(r||(r=n.n5z(t)))(i||t)}}(),t.\u0275dir=n.lG2({type:t,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(e,i){2&e&&n.uIk("max",i._enabled?i.max:null)},inputs:{max:"max"},features:[n._Bn([mj]),n.qOj]}),t})();const gj={provide:ro,useExisting:(0,n.Gpc)(()=>uw),multi:!0};let uw=(()=>{class t extends Uf{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=e=>VN(e),this.createValidator=e=>WF(e)}}return t.\u0275fac=function(){let r;return function(i){return(r||(r=n.n5z(t)))(i||t)}}(),t.\u0275dir=n.lG2({type:t,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(e,i){2&e&&n.uIk("min",i._enabled?i.min:null)},inputs:{min:"min"},features:[n._Bn([gj]),n.qOj]}),t})();const _j={provide:ro,useExisting:(0,n.Gpc)(()=>dw),multi:!0};let dw=(()=>{class t extends Uf{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=n.D6c,this.createValidator=e=>JF}enabled(e){return e}}return t.\u0275fac=function(){let r;return function(i){return(r||(r=n.n5z(t)))(i||t)}}(),t.\u0275dir=n.lG2({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,i){2&e&&n.uIk("required",i._enabled?"":null)},inputs:{required:"required"},features:[n._Bn([_j]),n.qOj]}),t})(),ZN=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[kN]}),t})(),ka=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[ZN]}),t})(),aa=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:sP,useValue:e.warnOnNgModelWithFormControl}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[ZN]}),t})();class YN extends tw{constructor(r,e,i){super(tP(e),nP(i,e)),this.controls=r,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(r){return this.controls[this._adjustIndex(r)]}push(r,e={}){this.controls.push(r),this._registerControl(r),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(r,e,i={}){this.controls.splice(r,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(r,e={}){let i=this._adjustIndex(r);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(r,e,i={}){let o=this._adjustIndex(r);o<0&&(o=0),this.controls[o]&&this.controls[o]._registerOnCollectionChange(()=>{}),this.controls.splice(o,1),e&&(this.controls.splice(o,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(r,e={}){CN(this,0,r),r.forEach((i,o)=>{bN(this,!1,o),this.at(o).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(r,e={}){null!=r&&(r.forEach((i,o)=>{this.at(o)&&this.at(o).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(r=[],e={}){this._forEachChild((i,o)=>{i.reset(r[o],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(r=>r.getRawValue())}clear(r={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:r.emitEvent}))}_adjustIndex(r){return r<0?r+this.length:r}_syncPendingControls(){let r=this.controls.reduce((e,i)=>!!i._syncPendingControls()||e,!1);return r&&this.updateValueAndValidity({onlySelf:!0}),r}_forEachChild(r){this.controls.forEach((e,i)=>{r(e,i)})}_updateValue(){this.value=this.controls.filter(r=>r.enabled||this.disabled).map(r=>r.value)}_anyControls(r){return this.controls.some(e=>e.enabled&&r(e))}_setUpControls(){this._forEachChild(r=>this._registerControl(r))}_allControlsDisabled(){for(const r of this.controls)if(r.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(r){r.setParent(this),r._registerOnCollectionChange(this._onCollectionChange)}_find(r){return this.at(r)??null}}function GN(t){return!!t&&(void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn)}let wj=(()=>{class t{constructor(){this.useNonNullable=!1}get nonNullable(){const e=new t;return e.useNonNullable=!0,e}group(e,i=null){const o=this._reduceControls(e);let a={};return GN(i)?a=i:null!==i&&(a.validators=i.validator,a.asyncValidators=i.asyncValidator),new mo(o,a)}record(e,i=null){const o=this._reduceControls(e);return new wN(o,i)}control(e,i,o){let a={};return this.useNonNullable?(GN(i)?a=i:(a.validators=i,a.asyncValidators=o),new Ln(e,{...a,nonNullable:!0})):new Ln(e,i,o)}array(e,i,o){const a=e.map(l=>this._createControl(l));return new YN(a,i,o)}_reduceControls(e){const i={};return Object.keys(e).forEach(o=>{i[o]=this._createControl(e[o])}),i}_createControl(e){return e instanceof Ln||e instanceof tw?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac,providedIn:aa}),t})(),vc=(()=>{class t{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(e){this._vertical=Cn(e)}get inset(){return this._inset}set inset(e){this._inset=Cn(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Xpm({type:t,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(e,i){2&e&&(n.uIk("aria-orientation",i.vertical?"vertical":"horizontal"),n.ekj("mat-divider-vertical",i.vertical)("mat-divider-horizontal",!i.vertical)("mat-divider-inset",i.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(e,i){},styles:[".mat-divider{display:block;margin:0;border-top-width:1px;border-top-style:solid}.mat-divider.mat-divider-vertical{border-top:0;border-right-width:1px;border-right-style:solid}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}"],encapsulation:2,changeDetection:0}),t})(),pw=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[Xn,Xn]}),t})();var pP;function Mj(t,r){if(1&t&&(n.TgZ(0,"div",10),n._uU(1),n.qZA()),2&t){const e=n.oxw();n.xp6(1),n.Oqu(e.prefix)}}function Sj(t,r){if(1&t&&(n.TgZ(0,"div",11),n._uU(1),n.qZA()),2&t){const e=n.oxw();n.ekj("integer","integer"===e.type),n.xp6(1),n.Oqu(e.name)}}function Dj(t,r){if(1&t){const e=n.EpF();n.TgZ(0,"input",12),n.NdJ("focus",function(o){n.CHM(e);const a=n.oxw();return n.KtG(a.onInputFocus(o))}),n.qZA()}if(2&t){const e=n.oxw();n.ekj("input-disabled",e.disabled),n.Q6J("formControl",e.formElement)("placeholder",e.placeholder)("min",e.min)("max",e.max)("step",e.step)}}function Oj(t,r){if(1&t&&n._UZ(0,"input",13),2&t){const e=n.oxw();n.ekj("input-disabled",e.disabled),n.Q6J("formControl",e.formElement)("placeholder",e.placeholder)("type","password"===e.type?"password":"text")}}function Ej(t,r){if(1&t){const e=n.EpF();n.TgZ(0,"div",14)(1,"div",15),n.NdJ("click",function(){n.CHM(e);const o=n.oxw();return n.KtG(o.increase())}),n.TgZ(2,"mat-icon"),n._uU(3,"arrow_drop_up"),n.qZA()(),n.TgZ(4,"div",15),n.NdJ("click",function(){n.CHM(e);const o=n.oxw();return n.KtG(o.decrease())}),n.TgZ(5,"mat-icon"),n._uU(6,"arrow_drop_down"),n.qZA()()()}if(2&t){const e=n.oxw();n.xp6(1),n.ekj("input-disabled",e.disabled),n.Q6J("matRippleDisabled",e.disabled),n.xp6(3),n.ekj("input-disabled",e.disabled),n.Q6J("matRippleDisabled",e.disabled)}}function Aj(t,r){if(1&t){const e=n.EpF();n.TgZ(0,"div",16),n.NdJ("click",function(){n.CHM(e);const o=n.oxw();return n.KtG(o.clear())}),n.TgZ(1,"mat-icon"),n._uU(2,"close"),n.qZA()()}}function Pj(t,r){if(1&t&&(n.TgZ(0,"div",17),n._uU(1),n.qZA()),2&t){const e=n.oxw();n.ekj("integer","integer"===e.type),n.xp6(1),n.Oqu(e.hint)}}function Tj(t,r){if(1&t&&(n.TgZ(0,"div",18),n._uU(1),n.qZA()),2&t){const e=n.oxw();n.xp6(1),n.Oqu(e.suffix)}}let io=pP=class{constructor(){this.name="",this.placeholder="",this.type="text",this.hint="",this.enableClear=!1,this.step=1,this.fullWidth=!1,this.width="",this.formElement=new Ln,this.disabled=!1}registerOnChange(r){this.formElement.valueChanges.pipe((0,Xa.x)(),(0,_n.b)(100),(0,xt.U)(e=>e)).subscribe(r)}writeValue(r){const e=this.isNumeric()?r:r?.toString();this.formElement.setValue(e)}registerOnTouched(r){}setDisabledState(r){this.disabled=r,this.disabled?this.formElement.disable():this.formElement.enable()}onInputFocus(r){const e=r.target;0===parseInt(e.value,10)&&(e.value="",this.formElement.setValue(null))}increase(){if(this.disabled||!this.isNumeric())return;let r=0;const e=this.increaseStep?this.increaseStep:this.step;r=this.isInteger()?this.parseInputNumber()+e:parseFloat((this.parseInputNumber()+e).toFixed(this.countDigitsAfterZero(this.step))),!(void 0!==this.max&&r>this.max)&&this.formElement.setValue(r)}decrease(){if(this.disabled||!this.isNumeric())return;let r=0;const e=this.decreaseStep?this.decreaseStep:this.step;r=this.isInteger()?this.parseInputNumber()-e:parseFloat((this.parseInputNumber()-e).toFixed(this.countDigitsAfterZero(this.step))),!(void 0!==this.min&&r<this.min)&&this.formElement.setValue(r)}isNumeric(){return"integer"===this.type||"float"===this.type||"numeric"===this.type}isInteger(){return Number.isInteger(this.step)}parseInputNumber(){return this.isInteger()?parseInt(this.formElement.value,10)||0:parseFloat(this.formElement.value)||0}countDigitsAfterZero(r){const e=r.toString().split(".")[1];return e?e.replace(/0*$/,"").length:0}clear(){this.formElement.setValue(null)}};io.\u0275fac=function(r){return new(r||io)},io.\u0275cmp=n.Xpm({type:io,selectors:[["apto-input-field"]],inputs:{name:"name",prefix:"prefix",suffix:"suffix",placeholder:"placeholder",type:"type",hint:"hint",enableClear:"enableClear",step:"step",increaseStep:"increaseStep",decreaseStep:"decreaseStep",min:"min",max:"max",fullWidth:"fullWidth",width:"width"},features:[n._Bn([{provide:Ci,useExisting:(0,n.Gpc)(()=>pP),multi:!0}])],decls:10,vars:14,consts:[[1,"input-field"],["class","prefix",4,"ngIf"],["class","name",3,"integer",4,"ngIf"],[1,"container-elem"],["type","number","tabindex","-1",3,"formControl","placeholder","min","max","step","input-disabled","focus",4,"ngIf"],[3,"formControl","placeholder","type","input-disabled",4,"ngIf"],["class","ripple-controls",4,"ngIf"],["class","clear-input","mat-ripple","",3,"click",4,"ngIf"],["class","hint",3,"integer",4,"ngIf"],["class","suffix",4,"ngIf"],[1,"prefix"],[1,"name"],["type","number","tabindex","-1",3,"formControl","placeholder","min","max","step","focus"],[3,"formControl","placeholder","type"],[1,"ripple-controls"],["mat-ripple","",1,"control",3,"matRippleDisabled","click"],["mat-ripple","",1,"clear-input",3,"click"],[1,"hint"],[1,"suffix"]],template:function(r,e){1&r&&(n.TgZ(0,"div",0),n.YNc(1,Mj,2,1,"div",1),n.YNc(2,Sj,2,3,"div",2),n.TgZ(3,"div",3),n.YNc(4,Dj,1,7,"input",4),n.YNc(5,Oj,1,5,"input",5),n.YNc(6,Ej,7,6,"div",6),n.YNc(7,Aj,3,0,"div",7),n.qZA(),n.YNc(8,Pj,2,3,"div",8),n.YNc(9,Tj,2,1,"div",9),n.qZA()),2&r&&(n.Udp("width",e.width?"max-content":"100%"),n.ekj("input-disabled",e.disabled),n.xp6(1),n.Q6J("ngIf",e.prefix),n.xp6(1),n.Q6J("ngIf",e.name),n.xp6(1),n.Udp("width",e.width),n.xp6(1),n.Q6J("ngIf",e.isNumeric()),n.xp6(1),n.Q6J("ngIf",!e.isNumeric()),n.xp6(1),n.Q6J("ngIf",e.isNumeric()),n.xp6(1),n.Q6J("ngIf",e.enableClear),n.xp6(1),n.Q6J("ngIf",e.hint),n.xp6(1),n.Q6J("ngIf",e.suffix))},dependencies:[rn,fr,Ea,Dd,sw,oi,uw,cw,Cl],styles:['[_nghost-%COMP%]{width:100%;display:flex;justify-content:center}.ng-invalid.ng-dirty[_nghost-%COMP%]   .container-elem[_ngcontent-%COMP%]{border:1px solid var(--color-warn)!important}.input-field[_ngcontent-%COMP%]{display:grid;grid-template-rows:auto;grid-template-columns:max-content auto max-content;grid-template-areas:"... name ..." "prefix container suffix" "... hint ..."}.input-field[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{grid-area:name;font-weight:500;height:min-content;color:var(--color-text);padding-bottom:var(--input-elements-gap);font-size:16px}.input-field[_ngcontent-%COMP%]   .prefix[_ngcontent-%COMP%]{grid-area:prefix;font-size:14px;font-weight:600;color:var(--color-text);align-self:center;text-align:right}.input-field[_ngcontent-%COMP%]   .prefix[_ngcontent-%COMP%]:not(:empty){padding-right:var(--input-elements-gap)}.input-field[_ngcontent-%COMP%]   .container-elem[_ngcontent-%COMP%]{grid-area:container;display:flex;overflow:hidden;background-color:#fff;border:1px solid var(--color-border-input);border-radius:var(--border-radius-card);height:var(--input-height);box-shadow:var(--box-shadow)}.input-field[_ngcontent-%COMP%]   .container-elem.open-left[_ngcontent-%COMP%]{border-bottom-left-radius:0}.input-field[_ngcontent-%COMP%]   .container-elem.open-right[_ngcontent-%COMP%]{border-bottom-right-radius:0}.input-field[_ngcontent-%COMP%]   .container-elem[_ngcontent-%COMP%]   .clear-input[_ngcontent-%COMP%]{background-color:var(--color-background);border-left:1px solid var(--color-border-input);height:var(--input-height)-2px;width:var(--clear-icon-width);flex-basis:var(--clear-icon-width);min-width:var(--clear-icon-width);cursor:pointer;display:flex;justify-content:center;align-items:center}.input-field[_ngcontent-%COMP%]   .container-elem[_ngcontent-%COMP%]   .clear-input[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:var(--color-text);font-size:20px;height:20px;width:20px;line-height:20px}.input-field[_ngcontent-%COMP%]   .container-elem[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-family:var(--main-font-1);font-size:15px;color:var(--color-text);font-weight:600;width:100%;background-color:transparent;border:0;outline:none;padding-right:var(--input-elements-gap);padding-left:20px}.input-field[_ngcontent-%COMP%]   .container-elem[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{opacity:1;font-weight:400}.input-field[_ngcontent-%COMP%]   .container-elem[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-ms-input-placeholder{font-weight:400}.input-field[_ngcontent-%COMP%]   .container-elem[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-webkit-outer-spin-button, .input-field[_ngcontent-%COMP%]   .container-elem[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}.input-field[_ngcontent-%COMP%]   .container-elem[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{-moz-appearance:textfield}.input-field[_ngcontent-%COMP%]   .container-elem[_ngcontent-%COMP%]   input.input-disabled[_ngcontent-%COMP%]{opacity:.6;cursor:default;pointer-events:none}.input-field[_ngcontent-%COMP%]   .container-elem[_ngcontent-%COMP%]   .ripple-controls[_ngcontent-%COMP%]{height:calc(var(--input-height))}.input-field[_ngcontent-%COMP%]   .container-elem[_ngcontent-%COMP%]   .ripple-controls[_ngcontent-%COMP%]   .control[_ngcontent-%COMP%]{border-left:1px solid var(--color-border-input);border-bottom:1px solid var(--color-border-input);height:calc(var(--input-height) / 2);width:calc(var(--input-icon-width));cursor:pointer}.input-field[_ngcontent-%COMP%]   .container-elem[_ngcontent-%COMP%]   .ripple-controls[_ngcontent-%COMP%]   .control.input-disabled[_ngcontent-%COMP%]{opacity:.6;cursor:default;pointer-events:none}.input-field[_ngcontent-%COMP%]   .container-elem[_ngcontent-%COMP%]   .ripple-controls[_ngcontent-%COMP%]   .control[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;text-align:center;height:100%;width:calc(var(--input-icon-width));line-height:calc(var(--input-height) / 2);color:var(--color-ripple-control)}.input-field[_ngcontent-%COMP%]   .suffix[_ngcontent-%COMP%]{grid-area:suffix;font-size:14px;font-weight:600;color:var(--color-text);align-self:center;text-align:left}.input-field[_ngcontent-%COMP%]   .suffix[_ngcontent-%COMP%]:not(:empty){padding-left:var(--input-elements-gap)}.input-field[_ngcontent-%COMP%]   .hint[_ngcontent-%COMP%]{grid-area:hint;color:var(--color-text);font-size:12px;font-weight:600;padding-top:var(--input-elements-gap)}@media only screen and (min-width: 767px){.input-field[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-weight:500;height:min-content;color:var(--color-text);padding-bottom:var(--input-elements-gap);font-size:18px}}']}),io=pP=(0,Ei.gn)([Ii()],io);let $N=(()=>{class t{constructor(){this.inner=!1,this.clicked=new n.vpe}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Xpm({type:t,selectors:[["apto-login-close-button"]],inputs:{inner:"inner"},outputs:{clicked:"clicked"},decls:4,vars:2,consts:[[1,"close-button"],["mat-mini-fab","","color","accent",3,"click"]],template:function(e,i){1&e&&(n.TgZ(0,"div",0)(1,"button",1),n.NdJ("click",function(a){return i.clicked.emit(a)}),n.TgZ(2,"mat-icon"),n._uU(3,"close"),n.qZA()()()),2&e&&n.ekj("inner",i.inner)},dependencies:[Or,fr],styles:[".close-button[_ngcontent-%COMP%]{position:absolute;width:32px;height:32px;top:-16px;right:-16px;z-index:5}.close-button.inner[_ngcontent-%COMP%]{top:16px;right:16px}.close-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:flex;flex-grow:1;flex-basis:auto;justify-content:center;align-content:center;align-items:center;box-shadow:none;width:100%;height:100%}.close-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]     .mat-button-wrapper{display:flex;align-items:center;padding:0;line-height:1}.close-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]     .mat-button-wrapper .mat-icon{display:flex;font-size:30px;height:30px;width:30px}"]}),t})();function Ij(t,r){if(1&t&&(n.TgZ(0,"div",9),n._uU(1),n.ALo(2,"contentSnippet"),n.ALo(3,"async"),n.qZA()),2&t){const e=n.oxw();n.xp6(1),n.Oqu(n.xi3(2,1,n.lcZ(3,4,e.contentSnippets$),"LoginNotSuccessFull"))}}let Ad=class{constructor(r,e){this.store=r,this.dialogRef=e,this.contentSnippets$=this.store.select(un("plugins.frontendUsers")),this.loginError$=this.store.select(cO),this.formGroup=new mo({username:new Ln("",{nonNullable:!0}),password:new Ln("",{nonNullable:!0})}),this.locale=yn.defaultLocale,this.store.select(lr).pipe(ki(this)).subscribe(i=>{null!==i&&(this.locale=i)}),this.store.select(Dv).pipe(ki(this)).subscribe(i=>{i&&this.dialogRef.close()}),this.store.select(un("plugins.frontendUsers.loginActive")).pipe(ki(this)).subscribe(i=>{this.loginActive=!!i&&"active"===Pn(i.content,this.locale)})}login(){this.store.dispatch(pm({payload:{username:this.formGroup.get("username").getRawValue(),password:this.formGroup.get("password").getRawValue()}}))}openPasswordResetModal(){this.dialogRef.close({openForgotModal:!0})}};function kj(t,r){if(1&t&&(n.TgZ(0,"div",9),n._uU(1),n.ALo(2,"contentSnippet"),n.ALo(3,"async"),n.qZA()),2&t){const e=n.oxw();n.xp6(1),n.Oqu(n.xi3(2,1,n.lcZ(3,4,e.contentSnippets$),"LoginNotSuccessFull"))}}function Fj(t,r){if(1&t&&(n.TgZ(0,"a",10),n.ALo(1,"contentSnippet"),n.ALo(2,"async"),n._uU(3),n.ALo(4,"contentSnippet"),n.ALo(5,"async"),n.qZA()),2&t){const e=n.oxw();n.Q6J("href",n.xi3(1,2,n.lcZ(2,5,e.contentSnippets$),"forgotPasswordLink"),n.LSH),n.xp6(3),n.hij(" ",n.xi3(4,7,n.lcZ(5,10,e.contentSnippets$),"forgotPassword")," ")}}function Nj(t,r){if(1&t&&(n.TgZ(0,"a",10),n._uU(1),n.ALo(2,"contentSnippet"),n.ALo(3,"async"),n.qZA()),2&t){const e=n.oxw();n.Q6J("href",e.connector.url.register,n.LSH),n.xp6(1),n.hij(" ",n.xi3(2,2,n.lcZ(3,5,e.contentSnippets$),"register")," ")}}Ad.\u0275fac=function(r){return new(r||Ad)(n.Y36(Oe.yh),n.Y36(Pa))},Ad.\u0275cmp=n.Xpm({type:Ad,selectors:[["apto-frontend-users-login"]],decls:26,vars:41,consts:[[1,"save-dialog"],[3,"mat-dialog-close","inner"],["mat-dialog-title",""],[3,"formGroup","ngSubmit"],["class","error-message",4,"ngIf"],["formControlName","username",3,"fullWidth","name","type"],["formControlName","password",3,"fullWidth","name","type"],[1,"forgot-password",3,"click"],["mat-flat-button","","color","primary","type","submit"],[1,"error-message"]],template:function(r,e){1&r&&(n.TgZ(0,"div",0),n._UZ(1,"apto-login-close-button",1),n.TgZ(2,"h1",2),n._uU(3),n.ALo(4,"contentSnippet"),n.ALo(5,"async"),n.qZA(),n._UZ(6,"mat-divider"),n.TgZ(7,"form",3),n.NdJ("ngSubmit",function(){return e.login()}),n.TgZ(8,"mat-dialog-content"),n.YNc(9,Ij,4,6,"div",4),n.ALo(10,"async"),n._UZ(11,"apto-input-field",5),n.ALo(12,"contentSnippet"),n.ALo(13,"async"),n._UZ(14,"apto-input-field",6),n.ALo(15,"contentSnippet"),n.ALo(16,"async"),n.TgZ(17,"div",7),n.NdJ("click",function(){return e.openPasswordResetModal()}),n._uU(18),n.ALo(19,"contentSnippet"),n.ALo(20,"async"),n.qZA()(),n.TgZ(21,"mat-dialog-actions")(22,"button",8),n._uU(23),n.ALo(24,"contentSnippet"),n.ALo(25,"async"),n.qZA()()()()),2&r&&(n.uIk("type","custom"),n.xp6(1),n.Q6J("mat-dialog-close",!0)("inner",!0),n.xp6(2),n.Oqu(n.xi3(4,14,n.lcZ(5,17,e.contentSnippets$),"login")),n.xp6(4),n.Q6J("formGroup",e.formGroup),n.xp6(2),n.Q6J("ngIf",n.lcZ(10,19,e.loginError$)),n.xp6(2),n.Q6J("fullWidth",!0)("name",n.xi3(12,21,n.lcZ(13,24,e.contentSnippets$),"EMailUsername"))("type","text"),n.xp6(3),n.Q6J("fullWidth",!0)("name",n.xi3(15,26,n.lcZ(16,29,e.contentSnippets$),"Password"))("type","password"),n.xp6(4),n.hij(" ",n.xi3(19,31,n.lcZ(20,34,e.contentSnippets$),"forgotPassword")," "),n.xp6(5),n.Oqu(n.xi3(24,36,n.lcZ(25,39,e.contentSnippets$),"dialogLogin")))},dependencies:[rn,Or,oa,oi,ia,qi,Bo,is,Rf,Xc,Kc,vc,io,$N,hn,ur],styles:[".save-dialog[_ngcontent-%COMP%]{position:relative;border-radius:var(--border-radius-card);display:flex;flex-direction:column;border-top-width:3px;border-top-style:solid;padding:var(--element-gap)}.save-dialog[type=confirm][_ngcontent-%COMP%], .save-dialog[type=info][_ngcontent-%COMP%], .save-dialog[type=custom][_ngcontent-%COMP%]{border-color:var(--color-optic-lines-popup)}.save-dialog[type=error][_ngcontent-%COMP%]{border-color:var(--color-optic-lines-popup-error)}.save-dialog[type=warning][_ngcontent-%COMP%]{border-color:var(--color-optic-lines-popup-warning)}.save-dialog[_ngcontent-%COMP%]   h1.mat-dialog-title[_ngcontent-%COMP%]{display:flex;color:var(--color-text);font-size:28px;font-weight:700}.save-dialog[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:var(--element-gap) 0;margin:0;font-size:18px;font-weight:400;text-align:left;gap:var(--element-gap)}.save-dialog[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .forgot-password[_ngcontent-%COMP%]{text-align:right;font-size:1rem;cursor:pointer}.save-dialog[_ngcontent-%COMP%]   mat-dialog-actions[_ngcontent-%COMP%]{display:flex;justify-content:center;justify-items:center;align-items:center;gap:var(--button-gap);width:100%;padding:0;margin:calc(1.5 * var(--element-gap)) 0 0 0;flex-wrap:nowrap;flex-direction:column}.save-dialog[_ngcontent-%COMP%]   mat-dialog-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;margin:0;display:flex;align-items:center;justify-content:center;height:var(--button-mobile-height)}.error-message[_ngcontent-%COMP%]{color:red}@media only screen and (min-width: 767px){.save-dialog[_ngcontent-%COMP%]{position:relative;border-radius:var(--border-radius-card);display:flex;flex-direction:column;border-top-width:3px;border-top-style:solid;padding:34px 72px}.save-dialog[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:var(--element-gap) 0;margin:0;font-size:18px;font-weight:400;text-align:left}.save-dialog[_ngcontent-%COMP%]   mat-dialog-actions[_ngcontent-%COMP%]{display:flex;justify-content:center;justify-items:center;align-items:center;gap:var(--button-gap);width:100%;padding:0;margin:calc(1.5 * var(--element-gap)) 0 0 0;flex-wrap:nowrap;flex-direction:row}.save-dialog[_ngcontent-%COMP%]   mat-dialog-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;margin:0;display:flex;align-items:center;justify-content:center;height:var(--button-tablet-height);max-width:50%}}"]}),Ad=(0,Ei.gn)([Ii()],Ad);let Vf=class{constructor(r,e){this.store=r,this.http=e,this.contentSnippets$=this.store.select(un("plugins.frontendUsers")),this.error=!1,this.locale=yn.defaultLocale,this.formGroup=new mo({username:new Ln("",{nonNullable:!0}),password:new Ln("",{nonNullable:!0})}),this.store.select(lr).pipe(ki(this)).subscribe(i=>{null!==i&&(this.locale=i)}),this.store.select(Xu).pipe(ki(this)).subscribe(i=>{this.shop=i}),this.store.select(RC).pipe(ki(this)).subscribe(i=>{this.connector=i})}login(){if(this.error=!1,this.store.dispatch(ec()),this.connector.loggedIn)return;const r=Pn(this.shop.connectorUrl,this.locale);this.http.post(r,{data:{query:"Login",arguments:[this.formGroup.get("username").getRawValue(),this.formGroup.get("password").getRawValue()]},encode:"json"},{withCredentials:!0}).pipe((0,ar.q)(1)).subscribe(()=>{this.store.dispatch(ec())},()=>{this.error=!0})}};Vf.\u0275fac=function(r){return new(r||Vf)(n.Y36(Oe.yh),n.Y36(fn))},Vf.\u0275cmp=n.Xpm({type:Vf,selectors:[["apto-frontend-shop-login"]],decls:23,vars:33,consts:[[1,"save-dialog"],["mat-dialog-title",""],[3,"formGroup","ngSubmit"],["class","error-message",4,"ngIf"],["formControlName","username",3,"fullWidth","name","type"],["formControlName","password",3,"fullWidth","name","type"],[1,"account-links"],["class","forgot-password","target","_blank",3,"href",4,"ngIf"],["mat-flat-button","","color","primary","type","submit"],[1,"error-message"],["target","_blank",1,"forgot-password",3,"href"]],template:function(r,e){1&r&&(n.TgZ(0,"div",0)(1,"h1",1),n._uU(2),n.ALo(3,"contentSnippet"),n.ALo(4,"async"),n.qZA(),n._UZ(5,"mat-divider"),n.TgZ(6,"form",2),n.NdJ("ngSubmit",function(){return e.login()}),n.TgZ(7,"mat-dialog-content"),n.YNc(8,kj,4,6,"div",3),n._UZ(9,"apto-input-field",4),n.ALo(10,"contentSnippet"),n.ALo(11,"async"),n._UZ(12,"apto-input-field",5),n.ALo(13,"contentSnippet"),n.ALo(14,"async"),n.TgZ(15,"div",6),n.YNc(16,Fj,6,12,"a",7),n.YNc(17,Nj,4,7,"a",7),n.qZA()(),n.TgZ(18,"mat-dialog-actions")(19,"button",8),n._uU(20),n.ALo(21,"contentSnippet"),n.ALo(22,"async"),n.qZA()()()()),2&r&&(n.uIk("type","custom"),n.xp6(2),n.Oqu(n.xi3(3,13,n.lcZ(4,16,e.contentSnippets$),"login")),n.xp6(4),n.Q6J("formGroup",e.formGroup),n.xp6(2),n.Q6J("ngIf",e.error),n.xp6(1),n.Q6J("fullWidth",!0)("name",n.xi3(10,18,n.lcZ(11,21,e.contentSnippets$),"EMailUsername"))("type","text"),n.xp6(3),n.Q6J("fullWidth",!0)("name",n.xi3(13,23,n.lcZ(14,26,e.contentSnippets$),"Password"))("type","password"),n.xp6(4),n.Q6J("ngIf",null==e.connector.url?null:e.connector.url.register),n.xp6(1),n.Q6J("ngIf",null==e.connector.url?null:e.connector.url.register),n.xp6(3),n.Oqu(n.xi3(21,28,n.lcZ(22,31,e.contentSnippets$),"dialogLogin")))},dependencies:[rn,Or,oa,oi,ia,qi,Bo,Rf,Xc,Kc,vc,io,hn,ur],styles:[".save-dialog[_ngcontent-%COMP%]{position:relative;border-radius:var(--border-radius-card);display:flex;flex-direction:column;border-top-width:3px;border-top-style:solid;padding:var(--element-gap)}.save-dialog[type=confirm][_ngcontent-%COMP%], .save-dialog[type=info][_ngcontent-%COMP%], .save-dialog[type=custom][_ngcontent-%COMP%]{border-color:var(--color-optic-lines-popup)}.save-dialog[type=error][_ngcontent-%COMP%]{border-color:var(--color-optic-lines-popup-error)}.save-dialog[type=warning][_ngcontent-%COMP%]{border-color:var(--color-optic-lines-popup-warning)}.save-dialog[_ngcontent-%COMP%]   h1.mat-dialog-title[_ngcontent-%COMP%]{display:flex;color:var(--color-text);font-size:28px;font-weight:700}.save-dialog[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:var(--element-gap) 0;margin:0;font-size:18px;font-weight:400;text-align:left;gap:var(--element-gap)}.save-dialog[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .forgot-password[_ngcontent-%COMP%]{text-align:right;font-size:1rem;cursor:pointer}.save-dialog[_ngcontent-%COMP%]   mat-dialog-actions[_ngcontent-%COMP%]{display:flex;justify-content:center;justify-items:center;align-items:center;gap:var(--button-gap);width:100%;padding:0;margin:calc(1.5 * var(--element-gap)) 0 0 0;flex-wrap:nowrap;flex-direction:column}.save-dialog[_ngcontent-%COMP%]   mat-dialog-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;margin:0;display:flex;align-items:center;justify-content:center;height:var(--button-mobile-height)}.error-message[_ngcontent-%COMP%]{color:red}.account-links[_ngcontent-%COMP%]{display:flex;justify-content:space-between}@media only screen and (min-width: 767px){.save-dialog[_ngcontent-%COMP%]{position:relative;border-radius:var(--border-radius-card);display:flex;flex-direction:column;border-top-width:3px;border-top-style:solid;padding:34px 72px}.save-dialog[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:var(--element-gap) 0;margin:0;font-size:18px;font-weight:400;text-align:left}.save-dialog[_ngcontent-%COMP%]   mat-dialog-actions[_ngcontent-%COMP%]{display:flex;justify-content:center;justify-items:center;align-items:center;gap:var(--button-gap);width:100%;padding:0;margin:calc(1.5 * var(--element-gap)) 0 0 0;flex-wrap:nowrap;flex-direction:row}.save-dialog[_ngcontent-%COMP%]   mat-dialog-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;margin:0;display:flex;align-items:center;justify-content:center;height:var(--button-tablet-height);max-width:50%}}"]}),Vf=(0,Ei.gn)([Ii()],Vf);const Rj=["drawer"];function Lj(t,r){1&t&&n._UZ(0,"apto-slot-outlet",6)}function Bj(t,r){1&t&&n._UZ(0,"router-outlet")}function Uj(t,r){1&t&&n._UZ(0,"apto-frontend-users-login",7)}function Vj(t,r){1&t&&n._UZ(0,"apto-frontend-shop-login",7)}function zj(t,r){1&t&&n._UZ(0,"apto-slot-outlet",8)}let Hj=(()=>{class t{constructor(e,i){this.store=e,this.basketService=i,this.locale=yn.defaultLocale,this.isInline=!!yn.aptoInline,this.store.select(lr).subscribe(o=>{null!==o&&(this.locale=o)}),this.store.select(Xu).subscribe(o=>{this.shop=o}),this.store.select(qc).subscribe(o=>{this.connector=o,this.connector.configured&&(this.isLoggedIn=this.connector.loggedIn)}),this.store.select(Dv).subscribe(o=>{this.isLoggedIn=o}),this.store.select(uO).subscribe(o=>{this.loginInitialized=o}),this.store.select(un("plugins.frontendUsers.loginRequired")).subscribe(o=>{this.loginRequired=!!o&&"active"===Pn(o.content,this.locale)}),this.store.select(un("plugins.frontendUsers.loginActive")).subscribe(o=>{this.loginActive=!!o&&"active"===Pn(o.content,this.locale)})}ngOnInit(){this.store.dispatch(ec()),this.store.dispatch(kC())}ngAfterViewInit(){this.basketService.sideBar=this.drawer}accessGranted(){return!(!this.shop||!this.connector||!(this.connector.configured&&!1===this.loginRequired||!this.connector.configured&&!1===this.loginActive)&&(!0===this.loginRequired&&!1===this.isLoggedIn||this.connector.configured&&!1===this.isLoggedIn))}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(Oe.yh),n.Y36(gm))},t.\u0275cmp=n.Xpm({type:t,selectors:[["apto-frontend"]],viewQuery:function(e,i){if(1&e&&n.Gf(Rj,7),2&e){let o;n.iGM(o=n.CRH())&&(i.drawer=o.first)}},decls:10,vars:5,consts:[["fixedInViewport","true","mode","over","position","end",1,"drawer"],["drawer",""],["identifier","header",4,"ngIf"],[4,"ngIf"],["class","apto-frontend-users-login",4,"ngIf"],["identifier","footer",4,"ngIf"],["identifier","header"],[1,"apto-frontend-users-login"],["identifier","footer"]],template:function(e,i){1&e&&(n.ynx(0),n.TgZ(1,"mat-drawer-container")(2,"mat-drawer",0,1),n._UZ(4,"apto-basket"),n.qZA(),n.YNc(5,Lj,1,0,"apto-slot-outlet",2),n.YNc(6,Bj,1,0,"router-outlet",3),n.YNc(7,Uj,1,0,"apto-frontend-users-login",4),n.YNc(8,Vj,1,0,"apto-frontend-shop-login",4),n.YNc(9,zj,1,0,"apto-slot-outlet",5),n.qZA(),n.BQk()),2&e&&(n.xp6(5),n.Q6J("ngIf",!i.isInline),n.xp6(1),n.Q6J("ngIf",i.shop&&i.loginInitialized&&i.accessGranted()),n.xp6(1),n.Q6J("ngIf",!i.connector.configured&&i.shop&&i.loginInitialized&&!i.accessGranted()),n.xp6(1),n.Q6J("ngIf",i.connector.configured&&i.shop&&i.loginInitialized&&!i.accessGranted()),n.xp6(1),n.Q6J("ngIf",!i.isInline))},dependencies:[rn,z_,fo,Xx,nA,EH,Ad,Vf],styles:["[_nghost-%COMP%]{display:block}mat-drawer-container.mat-drawer-container[_ngcontent-%COMP%]{background-color:#f7f8fa;overflow:unset}  mat-drawer-content.mat-drawer-content{overflow:unset}  .apto-frontend-users-login .save-dialog{max-width:600px;margin:0 auto;border:none!important}  .apto-frontend-users-login .save-dialog .close-button{display:none}  apto-slot-outlet{display:none}"]}),t})();class jj{constructor(r){this.code="message-type-not-found",this.type=r}getType(){return this.type}}let Pd=(()=>{class t{constructor(e){this.http=e,this.api=yn.api}query(e,i){return this.post("query",{arguments:i,query:e})}command(e,i){return this.post("command",{arguments:i,command:e})}setLocale(e){return this.post("setLocale",{_locale:e})}post(e,i){switch(e){case"query":return this.http.post(this.api.query,i);case"command":return this.http.post(this.api.command,i);case"setLocale":return this.http.post(this.api.setLocale,i);default:throw new jj(e)}}}return t.\u0275fac=function(e){return new(e||t)(n.LFG(fn))},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac}),t})();class Fa{static addComponent(r,e){let i=Fa.getComponents(r);i.push(e),Fa.slots.set(r,i)}static getComponents(r){return Fa.slots.get(r)||[]}static replaceComponent(r,e,i){let o=Fa.getComponents(r);for(let a=0;a<o.length;a++)e===o[a]&&(o[a]=i);Fa.slots.set(r,o)}static removeComponent(r,e){let i=Fa.getComponents(r);for(let o=0;o<i.length;o++)e===i[o]&&i.splice(o,1);Fa.slots.set(r,i)}}Fa.slots=new Map;let Na=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({providers:[Fa,Pd],imports:[Jm]}),t})();const qj=[Na];function WN(t){return new n.vHH(3e3,!1)}function Sq(){return typeof window<"u"&&typeof window.document<"u"}function fP(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Td(t){switch(t.length){case 0:return new Sf;case 1:return t[0];default:return new pd(t)}}function QN(t,r,e,i,o=new Map,a=new Map){const l=[],u=[];let p=-1,f=null;if(i.forEach(h=>{const y=h.get("offset"),D=y==p,E=D&&f||new Map;h.forEach((k,T)=>{let L=T,U=k;if("offset"!==T)switch(L=r.normalizePropertyName(L,l),U){case"!":U=o.get(T);break;case vl:U=a.get(T);break;default:U=r.normalizeStyleValue(T,L,U,l)}E.set(L,U)}),D||u.push(E),f=E,p=y}),l.length)throw function fq(t){return new n.vHH(3502,!1)}();return u}function hP(t,r,e,i){switch(r){case"start":t.onStart(()=>i(e&&mP(e,"start",t)));break;case"done":t.onDone(()=>i(e&&mP(e,"done",t)));break;case"destroy":t.onDestroy(()=>i(e&&mP(e,"destroy",t)))}}function mP(t,r,e){const a=gP(t.element,t.triggerName,t.fromState,t.toState,r||t.phaseName,e.totalTime??t.totalTime,!!e.disabled),l=t._data;return null!=l&&(a._data=l),a}function gP(t,r,e,i,o="",a=0,l){return{element:t,triggerName:r,fromState:e,toState:i,phaseName:o,totalTime:a,disabled:!!l}}function os(t,r,e){let i=t.get(r);return i||t.set(r,i=e),i}function JN(t){const r=t.indexOf(":");return[t.substring(1,r),t.slice(r+1)]}let _P=(t,r)=>!1,XN=(t,r,e)=>[],KN=null;function vP(t){const r=t.parentNode||t.host;return r===KN?null:r}(fP()||typeof Element<"u")&&(Sq()?(KN=(()=>document.documentElement)(),_P=(t,r)=>{for(;r;){if(r===t)return!0;r=vP(r)}return!1}):_P=(t,r)=>t.contains(r),XN=(t,r,e)=>{if(e)return Array.from(t.querySelectorAll(r));const i=t.querySelector(r);return i?[i]:[]});let zf=null,eR=!1;const tR=_P,nR=XN;let rR=(()=>{class t{validateStyleProperty(e){return function Oq(t){zf||(zf=function Eq(){return typeof document<"u"?document.body:null}()||{},eR=!!zf.style&&"WebkitAppearance"in zf.style);let r=!0;return zf.style&&!function Dq(t){return"ebkit"==t.substring(1,6)}(t)&&(r=t in zf.style,!r&&eR&&(r="Webkit"+t.charAt(0).toUpperCase()+t.slice(1)in zf.style)),r}(e)}matchesElement(e,i){return!1}containsElement(e,i){return tR(e,i)}getParentElement(e){return vP(e)}query(e,i,o){return nR(e,i,o)}computeStyle(e,i,o){return o||""}animate(e,i,o,a,l,u=[],p){return new Sf(o,a)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac}),t})(),yP=(()=>{class t{}return t.NOOP=new rR,t})();const bP="ng-enter",fw="ng-leave",hw="ng-trigger",mw=".ng-trigger",oR="ng-animating",CP=".ng-animating";function tu(t){if("number"==typeof t)return t;const r=t.match(/^(-?[\.\d]+)(m?s)/);return!r||r.length<2?0:xP(parseFloat(r[1]),r[2])}function xP(t,r){return"s"===r?1e3*t:t}function gw(t,r,e){return t.hasOwnProperty("duration")?t:function Tq(t,r,e){let o,a=0,l="";if("string"==typeof t){const u=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===u)return r.push(WN()),{duration:0,delay:0,easing:""};o=xP(parseFloat(u[1]),u[2]);const p=u[3];null!=p&&(a=xP(parseFloat(p),u[4]));const f=u[5];f&&(l=f)}else o=t;if(!e){let u=!1,p=r.length;o<0&&(r.push(function Zj(){return new n.vHH(3100,!1)}()),u=!0),a<0&&(r.push(function Yj(){return new n.vHH(3101,!1)}()),u=!0),u&&r.splice(p,0,WN())}return{duration:o,delay:a,easing:l}}(t,r,e)}function qy(t,r={}){return Object.keys(t).forEach(e=>{r[e]=t[e]}),r}function aR(t){const r=new Map;return Object.keys(t).forEach(e=>{r.set(e,t[e])}),r}function Id(t,r=new Map,e){if(e)for(let[i,o]of e)r.set(i,o);for(let[i,o]of t)r.set(i,o);return r}function lR(t,r,e){return e?r+":"+e+";":""}function cR(t){let r="";for(let e=0;e<t.style.length;e++){const i=t.style.item(e);r+=lR(0,i,t.style.getPropertyValue(i))}for(const e in t.style)t.style.hasOwnProperty(e)&&!e.startsWith("_")&&(r+=lR(0,Nq(e),t.style[e]));t.setAttribute("style",r)}function yc(t,r,e){t.style&&(r.forEach((i,o)=>{const a=MP(o);e&&!e.has(o)&&e.set(o,t.style[a]),t.style[a]=i}),fP()&&cR(t))}function Hf(t,r){t.style&&(r.forEach((e,i)=>{const o=MP(i);t.style[o]=""}),fP()&&cR(t))}function Zy(t){return Array.isArray(t)?1==t.length?t[0]:ly(t):t}const wP=new RegExp("{{\\s*(.+?)\\s*}}","g");function uR(t){let r=[];if("string"==typeof t){let e;for(;e=wP.exec(t);)r.push(e[1]);wP.lastIndex=0}return r}function Yy(t,r,e){const i=t.toString(),o=i.replace(wP,(a,l)=>{let u=r[l];return null==u&&(e.push(function $j(t){return new n.vHH(3003,!1)}()),u=""),u.toString()});return o==i?t:o}function _w(t){const r=[];let e=t.next();for(;!e.done;)r.push(e.value),e=t.next();return r}const Fq=/-+([a-z0-9])/g;function MP(t){return t.replace(Fq,(...r)=>r[1].toUpperCase())}function Nq(t){return t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function as(t,r,e){switch(r.type){case 7:return t.visitTrigger(r,e);case 0:return t.visitState(r,e);case 1:return t.visitTransition(r,e);case 2:return t.visitSequence(r,e);case 3:return t.visitGroup(r,e);case 4:return t.visitAnimate(r,e);case 5:return t.visitKeyframes(r,e);case 6:return t.visitStyle(r,e);case 8:return t.visitReference(r,e);case 9:return t.visitAnimateChild(r,e);case 10:return t.visitAnimateRef(r,e);case 11:return t.visitQuery(r,e);case 12:return t.visitStagger(r,e);default:throw function Wj(t){return new n.vHH(3004,!1)}()}}function dR(t,r){return window.getComputedStyle(t)[r]}function zq(t,r){const e=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(i=>function Hq(t,r,e){if(":"==t[0]){const p=function jq(t,r){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return r.push(function cq(t){return new n.vHH(3016,!1)}()),"* => *"}}(t,e);if("function"==typeof p)return void r.push(p);t=p}const i=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function lq(t){return new n.vHH(3015,!1)}()),r;const o=i[1],a=i[2],l=i[3];r.push(pR(o,l));"<"==a[0]&&!("*"==o&&"*"==l)&&r.push(pR(l,o))}(i,e,r)):e.push(t),e}const Cw=new Set(["true","1"]),xw=new Set(["false","0"]);function pR(t,r){const e=Cw.has(t)||xw.has(t),i=Cw.has(r)||xw.has(r);return(o,a)=>{let l="*"==t||t==o,u="*"==r||r==a;return!l&&e&&"boolean"==typeof o&&(l=o?Cw.has(t):xw.has(t)),!u&&i&&"boolean"==typeof a&&(u=a?Cw.has(r):xw.has(r)),l&&u}}const qq=new RegExp("s*:selfs*,?","g");function SP(t,r,e,i){return new Zq(t).build(r,e,i)}class Zq{constructor(r){this._driver=r}build(r,e,i){const o=new $q(e);return this._resetContextStyleTimingState(o),as(this,Zy(r),o)}_resetContextStyleTimingState(r){r.currentQuerySelector="",r.collectedStyles=new Map,r.collectedStyles.set("",new Map),r.currentTime=0}visitTrigger(r,e){let i=e.queryCount=0,o=e.depCount=0;const a=[],l=[];return"@"==r.name.charAt(0)&&e.errors.push(function Jj(){return new n.vHH(3006,!1)}()),r.definitions.forEach(u=>{if(this._resetContextStyleTimingState(e),0==u.type){const p=u,f=p.name;f.toString().split(/\s*,\s*/).forEach(h=>{p.name=h,a.push(this.visitState(p,e))}),p.name=f}else if(1==u.type){const p=this.visitTransition(u,e);i+=p.queryCount,o+=p.depCount,l.push(p)}else e.errors.push(function Xj(){return new n.vHH(3007,!1)}())}),{type:7,name:r.name,states:a,transitions:l,queryCount:i,depCount:o,options:null}}visitState(r,e){const i=this.visitStyle(r.styles,e),o=r.options&&r.options.params||null;if(i.containsDynamicStyles){const a=new Set,l=o||{};i.styles.forEach(u=>{u instanceof Map&&u.forEach(p=>{uR(p).forEach(f=>{l.hasOwnProperty(f)||a.add(f)})})}),a.size&&(_w(a.values()),e.errors.push(function Kj(t,r){return new n.vHH(3008,!1)}()))}return{type:0,name:r.name,style:i,options:o?{params:o}:null}}visitTransition(r,e){e.queryCount=0,e.depCount=0;const i=as(this,Zy(r.animation),e);return{type:1,matchers:zq(r.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:jf(r.options)}}visitSequence(r,e){return{type:2,steps:r.steps.map(i=>as(this,i,e)),options:jf(r.options)}}visitGroup(r,e){const i=e.currentTime;let o=0;const a=r.steps.map(l=>{e.currentTime=i;const u=as(this,l,e);return o=Math.max(o,e.currentTime),u});return e.currentTime=o,{type:3,steps:a,options:jf(r.options)}}visitAnimate(r,e){const i=function Qq(t,r){if(t.hasOwnProperty("duration"))return t;if("number"==typeof t)return DP(gw(t,r).duration,0,"");const e=t;if(e.split(/\s+/).some(a=>"{"==a.charAt(0)&&"{"==a.charAt(1))){const a=DP(0,0,"");return a.dynamic=!0,a.strValue=e,a}const o=gw(e,r);return DP(o.duration,o.delay,o.easing)}(r.timings,e.errors);e.currentAnimateTimings=i;let o,a=r.styles?r.styles:Gn({});if(5==a.type)o=this.visitKeyframes(a,e);else{let l=r.styles,u=!1;if(!l){u=!0;const f={};i.easing&&(f.easing=i.easing),l=Gn(f)}e.currentTime+=i.duration+i.delay;const p=this.visitStyle(l,e);p.isEmptyStep=u,o=p}return e.currentAnimateTimings=null,{type:4,timings:i,style:o,options:null}}visitStyle(r,e){const i=this._makeStyleAst(r,e);return this._validateStyleAst(i,e),i}_makeStyleAst(r,e){const i=[],o=Array.isArray(r.styles)?r.styles:[r.styles];for(let u of o)"string"==typeof u?u===vl?i.push(u):e.errors.push(new n.vHH(3002,!1)):i.push(aR(u));let a=!1,l=null;return i.forEach(u=>{if(u instanceof Map&&(u.has("easing")&&(l=u.get("easing"),u.delete("easing")),!a))for(let p of u.values())if(p.toString().indexOf("{{")>=0){a=!0;break}}),{type:6,styles:i,easing:l,offset:r.offset,containsDynamicStyles:a,options:null}}_validateStyleAst(r,e){const i=e.currentAnimateTimings;let o=e.currentTime,a=e.currentTime;i&&a>0&&(a-=i.duration+i.delay),r.styles.forEach(l=>{"string"!=typeof l&&l.forEach((u,p)=>{const f=e.collectedStyles.get(e.currentQuerySelector),h=f.get(p);let y=!0;h&&(a!=o&&a>=h.startTime&&o<=h.endTime&&(e.errors.push(function tq(t,r,e,i,o){return new n.vHH(3010,!1)}()),y=!1),a=h.startTime),y&&f.set(p,{startTime:a,endTime:o}),e.options&&function kq(t,r,e){const i=r.params||{},o=uR(t);o.length&&o.forEach(a=>{i.hasOwnProperty(a)||e.push(function Gj(t){return new n.vHH(3001,!1)}())})}(u,e.options,e.errors)})})}visitKeyframes(r,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function nq(){return new n.vHH(3011,!1)}()),i;let a=0;const l=[];let u=!1,p=!1,f=0;const h=r.steps.map(U=>{const Y=this._makeStyleAst(U,e);let N=null!=Y.offset?Y.offset:function Wq(t){if("string"==typeof t)return null;let r=null;if(Array.isArray(t))t.forEach(e=>{if(e instanceof Map&&e.has("offset")){const i=e;r=parseFloat(i.get("offset")),i.delete("offset")}});else if(t instanceof Map&&t.has("offset")){const e=t;r=parseFloat(e.get("offset")),e.delete("offset")}return r}(Y.styles),q=0;return null!=N&&(a++,q=Y.offset=N),p=p||q<0||q>1,u=u||q<f,f=q,l.push(q),Y});p&&e.errors.push(function rq(){return new n.vHH(3012,!1)}()),u&&e.errors.push(function iq(){return new n.vHH(3200,!1)}());const y=r.steps.length;let D=0;a>0&&a<y?e.errors.push(function oq(){return new n.vHH(3202,!1)}()):0==a&&(D=1/(y-1));const E=y-1,k=e.currentTime,T=e.currentAnimateTimings,L=T.duration;return h.forEach((U,Y)=>{const N=D>0?Y==E?1:D*Y:l[Y],q=N*L;e.currentTime=k+T.delay+q,T.duration=q,this._validateStyleAst(U,e),U.offset=N,i.styles.push(U)}),i}visitReference(r,e){return{type:8,animation:as(this,Zy(r.animation),e),options:jf(r.options)}}visitAnimateChild(r,e){return e.depCount++,{type:9,options:jf(r.options)}}visitAnimateRef(r,e){return{type:10,animation:this.visitReference(r.animation,e),options:jf(r.options)}}visitQuery(r,e){const i=e.currentQuerySelector,o=r.options||{};e.queryCount++,e.currentQuery=r;const[a,l]=function Yq(t){const r=!!t.split(/\s*,\s*/).find(e=>":self"==e);return r&&(t=t.replace(qq,"")),t=t.replace(/@\*/g,mw).replace(/@\w+/g,e=>mw+"-"+e.slice(1)).replace(/:animating/g,CP),[t,r]}(r.selector);e.currentQuerySelector=i.length?i+" "+a:a,os(e.collectedStyles,e.currentQuerySelector,new Map);const u=as(this,Zy(r.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:a,limit:o.limit||0,optional:!!o.optional,includeSelf:l,animation:u,originalSelector:r.selector,options:jf(r.options)}}visitStagger(r,e){e.currentQuery||e.errors.push(function aq(){return new n.vHH(3013,!1)}());const i="full"===r.timings?{duration:0,delay:0,easing:"full"}:gw(r.timings,e.errors,!0);return{type:12,animation:as(this,Zy(r.animation),e),timings:i,options:null}}}class $q{constructor(r){this.errors=r,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function jf(t){return t?(t=qy(t)).params&&(t.params=function Gq(t){return t?qy(t):null}(t.params)):t={},t}function DP(t,r,e){return{duration:t,delay:r,easing:e}}function OP(t,r,e,i,o,a,l=null,u=!1){return{type:1,element:t,keyframes:r,preStyleProps:e,postStyleProps:i,duration:o,delay:a,totalTime:o+a,easing:l,subTimeline:u}}class ww{constructor(){this._map=new Map}get(r){return this._map.get(r)||[]}append(r,e){let i=this._map.get(r);i||this._map.set(r,i=[]),i.push(...e)}has(r){return this._map.has(r)}clear(){this._map.clear()}}const Kq=new RegExp(":enter","g"),tZ=new RegExp(":leave","g");function EP(t,r,e,i,o,a=new Map,l=new Map,u,p,f=[]){return(new nZ).buildKeyframes(t,r,e,i,o,a,l,u,p,f)}class nZ{buildKeyframes(r,e,i,o,a,l,u,p,f,h=[]){f=f||new ww;const y=new AP(r,e,f,o,a,h,[]);y.options=p;const D=p.delay?tu(p.delay):0;y.currentTimeline.delayNextStep(D),y.currentTimeline.setStyles([l],null,y.errors,p),as(this,i,y);const E=y.timelines.filter(k=>k.containsAnimation());if(E.length&&u.size){let k;for(let T=E.length-1;T>=0;T--){const L=E[T];if(L.element===e){k=L;break}}k&&!k.allowOnlyTimelineStyles()&&k.setStyles([u],null,y.errors,p)}return E.length?E.map(k=>k.buildKeyframes()):[OP(e,[],[],[],0,D,"",!1)]}visitTrigger(r,e){}visitState(r,e){}visitTransition(r,e){}visitAnimateChild(r,e){const i=e.subInstructions.get(e.element);if(i){const o=e.createSubContext(r.options),a=e.currentTimeline.currentTime,l=this._visitSubInstructions(i,o,o.options);a!=l&&e.transformIntoNewTimeline(l)}e.previousNode=r}visitAnimateRef(r,e){const i=e.createSubContext(r.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([r.options,r.animation.options],e,i),this.visitReference(r.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=r}_applyAnimationRefDelays(r,e,i){for(const o of r){const a=o?.delay;if(a){const l="number"==typeof a?a:tu(Yy(a,o?.params??{},e.errors));i.delayNextStep(l)}}}_visitSubInstructions(r,e,i){let a=e.currentTimeline.currentTime;const l=null!=i.duration?tu(i.duration):null,u=null!=i.delay?tu(i.delay):null;return 0!==l&&r.forEach(p=>{const f=e.appendInstructionToTimeline(p,l,u);a=Math.max(a,f.duration+f.delay)}),a}visitReference(r,e){e.updateOptions(r.options,!0),as(this,r.animation,e),e.previousNode=r}visitSequence(r,e){const i=e.subContextCount;let o=e;const a=r.options;if(a&&(a.params||a.delay)&&(o=e.createSubContext(a),o.transformIntoNewTimeline(),null!=a.delay)){6==o.previousNode.type&&(o.currentTimeline.snapshotCurrentStyles(),o.previousNode=Mw);const l=tu(a.delay);o.delayNextStep(l)}r.steps.length&&(r.steps.forEach(l=>as(this,l,o)),o.currentTimeline.applyStylesToKeyframe(),o.subContextCount>i&&o.transformIntoNewTimeline()),e.previousNode=r}visitGroup(r,e){const i=[];let o=e.currentTimeline.currentTime;const a=r.options&&r.options.delay?tu(r.options.delay):0;r.steps.forEach(l=>{const u=e.createSubContext(r.options);a&&u.delayNextStep(a),as(this,l,u),o=Math.max(o,u.currentTimeline.currentTime),i.push(u.currentTimeline)}),i.forEach(l=>e.currentTimeline.mergeTimelineCollectedStyles(l)),e.transformIntoNewTimeline(o),e.previousNode=r}_visitTiming(r,e){if(r.dynamic){const i=r.strValue;return gw(e.params?Yy(i,e.params,e.errors):i,e.errors)}return{duration:r.duration,delay:r.delay,easing:r.easing}}visitAnimate(r,e){const i=e.currentAnimateTimings=this._visitTiming(r.timings,e),o=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),o.snapshotCurrentStyles());const a=r.style;5==a.type?this.visitKeyframes(a,e):(e.incrementTime(i.duration),this.visitStyle(a,e),o.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=r}visitStyle(r,e){const i=e.currentTimeline,o=e.currentAnimateTimings;!o&&i.hasCurrentStyleProperties()&&i.forwardFrame();const a=o&&o.easing||r.easing;r.isEmptyStep?i.applyEmptyStep(a):i.setStyles(r.styles,a,e.errors,e.options),e.previousNode=r}visitKeyframes(r,e){const i=e.currentAnimateTimings,o=e.currentTimeline.duration,a=i.duration,u=e.createSubContext().currentTimeline;u.easing=i.easing,r.styles.forEach(p=>{u.forwardTime((p.offset||0)*a),u.setStyles(p.styles,p.easing,e.errors,e.options),u.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(u),e.transformIntoNewTimeline(o+a),e.previousNode=r}visitQuery(r,e){const i=e.currentTimeline.currentTime,o=r.options||{},a=o.delay?tu(o.delay):0;a&&(6===e.previousNode.type||0==i&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Mw);let l=i;const u=e.invokeQuery(r.selector,r.originalSelector,r.limit,r.includeSelf,!!o.optional,e.errors);e.currentQueryTotal=u.length;let p=null;u.forEach((f,h)=>{e.currentQueryIndex=h;const y=e.createSubContext(r.options,f);a&&y.delayNextStep(a),f===e.element&&(p=y.currentTimeline),as(this,r.animation,y),y.currentTimeline.applyStylesToKeyframe(),l=Math.max(l,y.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(l),p&&(e.currentTimeline.mergeTimelineCollectedStyles(p),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=r}visitStagger(r,e){const i=e.parentContext,o=e.currentTimeline,a=r.timings,l=Math.abs(a.duration),u=l*(e.currentQueryTotal-1);let p=l*e.currentQueryIndex;switch(a.duration<0?"reverse":a.easing){case"reverse":p=u-p;break;case"full":p=i.currentStaggerTime}const h=e.currentTimeline;p&&h.delayNextStep(p);const y=h.currentTime;as(this,r.animation,e),e.previousNode=r,i.currentStaggerTime=o.currentTime-y+(o.startTime-i.currentTimeline.startTime)}}const Mw={};class AP{constructor(r,e,i,o,a,l,u,p){this._driver=r,this.element=e,this.subInstructions=i,this._enterClassName=o,this._leaveClassName=a,this.errors=l,this.timelines=u,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Mw,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=p||new Sw(this._driver,e,0),u.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(r,e){if(!r)return;const i=r;let o=this.options;null!=i.duration&&(o.duration=tu(i.duration)),null!=i.delay&&(o.delay=tu(i.delay));const a=i.params;if(a){let l=o.params;l||(l=this.options.params={}),Object.keys(a).forEach(u=>{(!e||!l.hasOwnProperty(u))&&(l[u]=Yy(a[u],l,this.errors))})}}_copyOptions(){const r={};if(this.options){const e=this.options.params;if(e){const i=r.params={};Object.keys(e).forEach(o=>{i[o]=e[o]})}}return r}createSubContext(r=null,e,i){const o=e||this.element,a=new AP(this._driver,o,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(o,i||0));return a.previousNode=this.previousNode,a.currentAnimateTimings=this.currentAnimateTimings,a.options=this._copyOptions(),a.updateOptions(r),a.currentQueryIndex=this.currentQueryIndex,a.currentQueryTotal=this.currentQueryTotal,a.parentContext=this,this.subContextCount++,a}transformIntoNewTimeline(r){return this.previousNode=Mw,this.currentTimeline=this.currentTimeline.fork(this.element,r),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(r,e,i){const o={duration:e??r.duration,delay:this.currentTimeline.currentTime+(i??0)+r.delay,easing:""},a=new rZ(this._driver,r.element,r.keyframes,r.preStyleProps,r.postStyleProps,o,r.stretchStartingKeyframe);return this.timelines.push(a),o}incrementTime(r){this.currentTimeline.forwardTime(this.currentTimeline.duration+r)}delayNextStep(r){r>0&&this.currentTimeline.delayNextStep(r)}invokeQuery(r,e,i,o,a,l){let u=[];if(o&&u.push(this.element),r.length>0){r=(r=r.replace(Kq,"."+this._enterClassName)).replace(tZ,"."+this._leaveClassName);let f=this._driver.query(this.element,r,1!=i);0!==i&&(f=i<0?f.slice(f.length+i,f.length):f.slice(0,i)),u.push(...f)}return!a&&0==u.length&&l.push(function sq(t){return new n.vHH(3014,!1)}()),u}}class Sw{constructor(r,e,i,o){this._driver=r,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=o,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(r){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+r),e&&this.snapshotCurrentStyles()):this.startTime+=r}fork(r,e){return this.applyStylesToKeyframe(),new Sw(this._driver,r,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(r){this.applyStylesToKeyframe(),this.duration=r,this._loadKeyframe()}_updateStyle(r,e){this._localTimelineStyles.set(r,e),this._globalTimelineStyles.set(r,e),this._styleSummary.set(r,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(r){r&&this._previousKeyframe.set("easing",r);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||vl),this._currentKeyframe.set(e,vl);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(r,e,i,o){e&&this._previousKeyframe.set("easing",e);const a=o&&o.params||{},l=function iZ(t,r){const e=new Map;let i;return t.forEach(o=>{if("*"===o){i=i||r.keys();for(let a of i)e.set(a,vl)}else Id(o,e)}),e}(r,this._globalTimelineStyles);for(let[u,p]of l){const f=Yy(p,a,i);this._pendingStyles.set(u,f),this._localTimelineStyles.has(u)||this._backFill.set(u,this._globalTimelineStyles.get(u)??vl),this._updateStyle(u,f)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((r,e)=>{this._currentKeyframe.set(e,r)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((r,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,r)}))}snapshotCurrentStyles(){for(let[r,e]of this._localTimelineStyles)this._pendingStyles.set(r,e),this._updateStyle(r,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const r=[];for(let e in this._currentKeyframe)r.push(e);return r}mergeTimelineCollectedStyles(r){r._styleSummary.forEach((e,i)=>{const o=this._styleSummary.get(i);(!o||e.time>o.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const r=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let o=[];this._keyframes.forEach((u,p)=>{const f=Id(u,new Map,this._backFill);f.forEach((h,y)=>{"!"===h?r.add(y):h===vl&&e.add(y)}),i||f.set("offset",p/this.duration),o.push(f)});const a=r.size?_w(r.values()):[],l=e.size?_w(e.values()):[];if(i){const u=o[0],p=new Map(u);u.set("offset",0),p.set("offset",1),o=[u,p]}return OP(this.element,o,a,l,this.duration,this.startTime,this.easing,!1)}}class rZ extends Sw{constructor(r,e,i,o,a,l,u=!1){super(r,e,l.delay),this.keyframes=i,this.preStyleProps=o,this.postStyleProps=a,this._stretchStartingKeyframe=u,this.timings={duration:l.duration,delay:l.delay,easing:l.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let r=this.keyframes,{delay:e,duration:i,easing:o}=this.timings;if(this._stretchStartingKeyframe&&e){const a=[],l=i+e,u=e/l,p=Id(r[0]);p.set("offset",0),a.push(p);const f=Id(r[0]);f.set("offset",mR(u)),a.push(f);const h=r.length-1;for(let y=1;y<=h;y++){let D=Id(r[y]);const E=D.get("offset");D.set("offset",mR((e+E*i)/l)),a.push(D)}i=l,e=0,o="",r=a}return OP(this.element,r,this.preStyleProps,this.postStyleProps,i,e,o,!0)}}function mR(t,r=3){const e=Math.pow(10,r-1);return Math.round(t*e)/e}class PP{}const oZ=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class aZ extends PP{normalizePropertyName(r,e){return MP(r)}normalizeStyleValue(r,e,i,o){let a="";const l=i.toString().trim();if(oZ.has(e)&&0!==i&&"0"!==i)if("number"==typeof i)a="px";else{const u=i.match(/^[+-]?[\d\.]+([a-z]*)$/);u&&0==u[1].length&&o.push(function Qj(t,r){return new n.vHH(3005,!1)}())}return l+a}}function gR(t,r,e,i,o,a,l,u,p,f,h,y,D){return{type:0,element:t,triggerName:r,isRemovalTransition:o,fromState:e,fromStyles:a,toState:i,toStyles:l,timelines:u,queriedElements:p,preStyleProps:f,postStyleProps:h,totalTime:y,errors:D}}const TP={};class _R{constructor(r,e,i){this._triggerName=r,this.ast=e,this._stateStyles=i}match(r,e,i,o){return function sZ(t,r,e,i,o){return t.some(a=>a(r,e,i,o))}(this.ast.matchers,r,e,i,o)}buildStyles(r,e,i){let o=this._stateStyles.get("*");return void 0!==r&&(o=this._stateStyles.get(r?.toString())||o),o?o.buildStyles(e,i):new Map}build(r,e,i,o,a,l,u,p,f,h){const y=[],D=this.ast.options&&this.ast.options.params||TP,k=this.buildStyles(i,u&&u.params||TP,y),T=p&&p.params||TP,L=this.buildStyles(o,T,y),U=new Set,Y=new Map,N=new Map,q="void"===o,j={params:lZ(T,D),delay:this.ast.options?.delay},z=h?[]:EP(r,e,this.ast.animation,a,l,k,L,j,f,y);let J=0;if(z.forEach(H=>{J=Math.max(H.duration+H.delay,J)}),y.length)return gR(e,this._triggerName,i,o,q,k,L,[],[],Y,N,J,y);z.forEach(H=>{const V=H.element,K=os(Y,V,new Set);H.preStyleProps.forEach(re=>K.add(re));const ee=os(N,V,new Set);H.postStyleProps.forEach(re=>ee.add(re)),V!==e&&U.add(V)});const B=_w(U.values());return gR(e,this._triggerName,i,o,q,k,L,z,B,Y,N,J)}}function lZ(t,r){const e=qy(r);for(const i in t)t.hasOwnProperty(i)&&null!=t[i]&&(e[i]=t[i]);return e}class cZ{constructor(r,e,i){this.styles=r,this.defaultParams=e,this.normalizer=i}buildStyles(r,e){const i=new Map,o=qy(this.defaultParams);return Object.keys(r).forEach(a=>{const l=r[a];null!==l&&(o[a]=l)}),this.styles.styles.forEach(a=>{"string"!=typeof a&&a.forEach((l,u)=>{l&&(l=Yy(l,o,e));const p=this.normalizer.normalizePropertyName(u,e);l=this.normalizer.normalizeStyleValue(u,p,l,e),i.set(p,l)})}),i}}class dZ{constructor(r,e,i){this.name=r,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states=new Map,e.states.forEach(o=>{this.states.set(o.name,new cZ(o.style,o.options&&o.options.params||{},i))}),vR(this.states,"true","1"),vR(this.states,"false","0"),e.transitions.forEach(o=>{this.transitionFactories.push(new _R(r,o,this.states))}),this.fallbackTransition=function pZ(t,r,e){return new _R(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(l,u)=>!0],options:null,queryCount:0,depCount:0},r)}(r,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(r,e,i,o){return this.transitionFactories.find(l=>l.match(r,e,i,o))||null}matchStyles(r,e,i){return this.fallbackTransition.buildStyles(r,e,i)}}function vR(t,r,e){t.has(r)?t.has(e)||t.set(e,t.get(r)):t.has(e)&&t.set(r,t.get(e))}const fZ=new ww;class hZ{constructor(r,e,i){this.bodyNode=r,this._driver=e,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(r,e){const i=[],a=SP(this._driver,e,i,[]);if(i.length)throw function hq(t){return new n.vHH(3503,!1)}();this._animations.set(r,a)}_buildPlayer(r,e,i){const o=r.element,a=QN(0,this._normalizer,0,r.keyframes,e,i);return this._driver.animate(o,a,r.duration,r.delay,r.easing,[],!0)}create(r,e,i={}){const o=[],a=this._animations.get(r);let l;const u=new Map;if(a?(l=EP(this._driver,e,a,bP,fw,new Map,new Map,i,fZ,o),l.forEach(h=>{const y=os(u,h.element,new Map);h.postStyleProps.forEach(D=>y.set(D,null))})):(o.push(function mq(){return new n.vHH(3300,!1)}()),l=[]),o.length)throw function gq(t){return new n.vHH(3504,!1)}();u.forEach((h,y)=>{h.forEach((D,E)=>{h.set(E,this._driver.computeStyle(y,E,vl))})});const f=Td(l.map(h=>{const y=u.get(h.element);return this._buildPlayer(h,new Map,y)}));return this._playersById.set(r,f),f.onDestroy(()=>this.destroy(r)),this.players.push(f),f}destroy(r){const e=this._getPlayer(r);e.destroy(),this._playersById.delete(r);const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(r){const e=this._playersById.get(r);if(!e)throw function _q(t){return new n.vHH(3301,!1)}();return e}listen(r,e,i,o){const a=gP(e,"","","");return hP(this._getPlayer(r),i,a,o),()=>{}}command(r,e,i,o){if("register"==i)return void this.register(r,o[0]);if("create"==i)return void this.create(r,e,o[0]||{});const a=this._getPlayer(r);switch(i){case"play":a.play();break;case"pause":a.pause();break;case"reset":a.reset();break;case"restart":a.restart();break;case"finish":a.finish();break;case"init":a.init();break;case"setPosition":a.setPosition(parseFloat(o[0]));break;case"destroy":this.destroy(r)}}}const yR="ng-animate-queued",IP="ng-animate-disabled",yZ=[],bR={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},bZ={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ks="__ng_removed";class kP{constructor(r,e=""){this.namespaceId=e;const i=r&&r.hasOwnProperty("value");if(this.value=function MZ(t){return t??null}(i?r.value:r),i){const a=qy(r);delete a.value,this.options=a}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(r){const e=r.params;if(e){const i=this.options.params;Object.keys(e).forEach(o=>{null==i[o]&&(i[o]=e[o])})}}}const Gy="void",FP=new kP(Gy);class CZ{constructor(r,e,i){this.id=r,this.hostElement=e,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+r,Fs(e,this._hostClassName)}listen(r,e,i,o){if(!this._triggers.has(e))throw function vq(t,r){return new n.vHH(3302,!1)}();if(null==i||0==i.length)throw function yq(t){return new n.vHH(3303,!1)}();if(!function SZ(t){return"start"==t||"done"==t}(i))throw function bq(t,r){return new n.vHH(3400,!1)}();const a=os(this._elementListeners,r,[]),l={name:e,phase:i,callback:o};a.push(l);const u=os(this._engine.statesByElement,r,new Map);return u.has(e)||(Fs(r,hw),Fs(r,hw+"-"+e),u.set(e,FP)),()=>{this._engine.afterFlush(()=>{const p=a.indexOf(l);p>=0&&a.splice(p,1),this._triggers.has(e)||u.delete(e)})}}register(r,e){return!this._triggers.has(r)&&(this._triggers.set(r,e),!0)}_getTrigger(r){const e=this._triggers.get(r);if(!e)throw function Cq(t){return new n.vHH(3401,!1)}();return e}trigger(r,e,i,o=!0){const a=this._getTrigger(e),l=new NP(this.id,e,r);let u=this._engine.statesByElement.get(r);u||(Fs(r,hw),Fs(r,hw+"-"+e),this._engine.statesByElement.set(r,u=new Map));let p=u.get(e);const f=new kP(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&p&&f.absorbOptions(p.options),u.set(e,f),p||(p=FP),f.value!==Gy&&p.value===f.value){if(!function EZ(t,r){const e=Object.keys(t),i=Object.keys(r);if(e.length!=i.length)return!1;for(let o=0;o<e.length;o++){const a=e[o];if(!r.hasOwnProperty(a)||t[a]!==r[a])return!1}return!0}(p.params,f.params)){const T=[],L=a.matchStyles(p.value,p.params,T),U=a.matchStyles(f.value,f.params,T);T.length?this._engine.reportError(T):this._engine.afterFlush(()=>{Hf(r,L),yc(r,U)})}return}const D=os(this._engine.playersByElement,r,[]);D.forEach(T=>{T.namespaceId==this.id&&T.triggerName==e&&T.queued&&T.destroy()});let E=a.matchTransition(p.value,f.value,r,f.params),k=!1;if(!E){if(!o)return;E=a.fallbackTransition,k=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:r,triggerName:e,transition:E,fromState:p,toState:f,player:l,isFallbackTransition:k}),k||(Fs(r,yR),l.onStart(()=>{og(r,yR)})),l.onDone(()=>{let T=this.players.indexOf(l);T>=0&&this.players.splice(T,1);const L=this._engine.playersByElement.get(r);if(L){let U=L.indexOf(l);U>=0&&L.splice(U,1)}}),this.players.push(l),D.push(l),l}deregister(r){this._triggers.delete(r),this._engine.statesByElement.forEach(e=>e.delete(r)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(o=>o.name!=r))})}clearElementCache(r){this._engine.statesByElement.delete(r),this._elementListeners.delete(r);const e=this._engine.playersByElement.get(r);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(r))}_signalRemovalForInnerTriggers(r,e){const i=this._engine.driver.query(r,mw,!0);i.forEach(o=>{if(o[ks])return;const a=this._engine.fetchNamespacesByElement(o);a.size?a.forEach(l=>l.triggerLeaveAnimation(o,e,!1,!0)):this.clearElementCache(o)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(o=>this.clearElementCache(o)))}triggerLeaveAnimation(r,e,i,o){const a=this._engine.statesByElement.get(r),l=new Map;if(a){const u=[];if(a.forEach((p,f)=>{if(l.set(f,p.value),this._triggers.has(f)){const h=this.trigger(r,f,Gy,o);h&&u.push(h)}}),u.length)return this._engine.markElementAsRemoved(this.id,r,!0,e,l),i&&Td(u).onDone(()=>this._engine.processLeaveNode(r)),!0}return!1}prepareLeaveAnimationListeners(r){const e=this._elementListeners.get(r),i=this._engine.statesByElement.get(r);if(e&&i){const o=new Set;e.forEach(a=>{const l=a.name;if(o.has(l))return;o.add(l);const p=this._triggers.get(l).fallbackTransition,f=i.get(l)||FP,h=new kP(Gy),y=new NP(this.id,l,r);this._engine.totalQueuedPlayers++,this._queue.push({element:r,triggerName:l,transition:p,fromState:f,toState:h,player:y,isFallbackTransition:!0})})}}removeNode(r,e){const i=this._engine;if(r.childElementCount&&this._signalRemovalForInnerTriggers(r,e),this.triggerLeaveAnimation(r,e,!0))return;let o=!1;if(i.totalAnimations){const a=i.players.length?i.playersByQueriedElement.get(r):[];if(a&&a.length)o=!0;else{let l=r;for(;l=l.parentNode;)if(i.statesByElement.get(l)){o=!0;break}}}if(this.prepareLeaveAnimationListeners(r),o)i.markElementAsRemoved(this.id,r,!1,e);else{const a=r[ks];(!a||a===bR)&&(i.afterFlush(()=>this.clearElementCache(r)),i.destroyInnerAnimations(r),i._onRemovalComplete(r,e))}}insertNode(r,e){Fs(r,this._hostClassName)}drainQueuedTransitions(r){const e=[];return this._queue.forEach(i=>{const o=i.player;if(o.destroyed)return;const a=i.element,l=this._elementListeners.get(a);l&&l.forEach(u=>{if(u.name==i.triggerName){const p=gP(a,i.triggerName,i.fromState.value,i.toState.value);p._data=r,hP(i.player,u.phase,p,u.callback)}}),o.markedForDestroy?this._engine.afterFlush(()=>{o.destroy()}):e.push(i)}),this._queue=[],e.sort((i,o)=>{const a=i.transition.ast.depCount,l=o.transition.ast.depCount;return 0==a||0==l?a-l:this._engine.driver.containsElement(i.element,o.element)?1:-1})}destroy(r){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,r)}elementContainsData(r){let e=!1;return this._elementListeners.has(r)&&(e=!0),e=!!this._queue.find(i=>i.element===r)||e,e}}class xZ{constructor(r,e,i){this.bodyNode=r,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(o,a)=>{}}_onRemovalComplete(r,e){this.onRemovalComplete(r,e)}get queuedPlayers(){const r=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&r.push(i)})}),r}createNamespace(r,e){const i=new CZ(r,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[r]=i}_balanceNamespaceList(r,e){const i=this._namespaceList,o=this.namespacesByHostElement;if(i.length-1>=0){let l=!1,u=this.driver.getParentElement(e);for(;u;){const p=o.get(u);if(p){const f=i.indexOf(p);i.splice(f+1,0,r),l=!0;break}u=this.driver.getParentElement(u)}l||i.unshift(r)}else i.push(r);return o.set(e,r),r}register(r,e){let i=this._namespaceLookup[r];return i||(i=this.createNamespace(r,e)),i}registerTrigger(r,e,i){let o=this._namespaceLookup[r];o&&o.register(e,i)&&this.totalAnimations++}destroy(r,e){if(!r)return;const i=this._fetchNamespace(r);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[r];const o=this._namespaceList.indexOf(i);o>=0&&this._namespaceList.splice(o,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(r){return this._namespaceLookup[r]}fetchNamespacesByElement(r){const e=new Set,i=this.statesByElement.get(r);if(i)for(let o of i.values())if(o.namespaceId){const a=this._fetchNamespace(o.namespaceId);a&&e.add(a)}return e}trigger(r,e,i,o){if(Dw(e)){const a=this._fetchNamespace(r);if(a)return a.trigger(e,i,o),!0}return!1}insertNode(r,e,i,o){if(!Dw(e))return;const a=e[ks];if(a&&a.setForRemoval){a.setForRemoval=!1,a.setForMove=!0;const l=this.collectedLeaveElements.indexOf(e);l>=0&&this.collectedLeaveElements.splice(l,1)}if(r){const l=this._fetchNamespace(r);l&&l.insertNode(e,i)}o&&this.collectEnterElement(e)}collectEnterElement(r){this.collectedEnterElements.push(r)}markElementAsDisabled(r,e){e?this.disabledNodes.has(r)||(this.disabledNodes.add(r),Fs(r,IP)):this.disabledNodes.has(r)&&(this.disabledNodes.delete(r),og(r,IP))}removeNode(r,e,i,o){if(Dw(e)){const a=r?this._fetchNamespace(r):null;if(a?a.removeNode(e,o):this.markElementAsRemoved(r,e,!1,o),i){const l=this.namespacesByHostElement.get(e);l&&l.id!==r&&l.removeNode(e,o)}}else this._onRemovalComplete(e,o)}markElementAsRemoved(r,e,i,o,a){this.collectedLeaveElements.push(e),e[ks]={namespaceId:r,setForRemoval:o,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:a}}listen(r,e,i,o,a){return Dw(e)?this._fetchNamespace(r).listen(e,i,o,a):()=>{}}_buildInstruction(r,e,i,o,a){return r.transition.build(this.driver,r.element,r.fromState.value,r.toState.value,i,o,r.fromState.options,r.toState.options,e,a)}destroyInnerAnimations(r){let e=this.driver.query(r,mw,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(r,CP,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(r){const e=this.playersByElement.get(r);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(r){const e=this.playersByQueriedElement.get(r);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(r=>{if(this.players.length)return Td(this.players).onDone(()=>r());r()})}processLeaveNode(r){const e=r[ks];if(e&&e.setForRemoval){if(r[ks]=bR,e.namespaceId){this.destroyInnerAnimations(r);const i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(r)}this._onRemovalComplete(r,e.setForRemoval)}r.classList?.contains(IP)&&this.markElementAsDisabled(r,!1),this.driver.query(r,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(r=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,o)=>this._balanceNamespaceList(i,o)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Fs(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,r)}finally{for(let o=0;o<i.length;o++)i[o]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?Td(e).onDone(()=>{i.forEach(o=>o())}):i.forEach(o=>o())}}reportError(r){throw function xq(t){return new n.vHH(3402,!1)}()}_flushAnimations(r,e){const i=new ww,o=[],a=new Map,l=[],u=new Map,p=new Map,f=new Map,h=new Set;this.disabledNodes.forEach(G=>{h.add(G);const W=this.driver.query(G,".ng-animate-queued",!0);for(let ce=0;ce<W.length;ce++)h.add(W[ce])});const y=this.bodyNode,D=Array.from(this.statesByElement.keys()),E=wR(D,this.collectedEnterElements),k=new Map;let T=0;E.forEach((G,W)=>{const ce=bP+T++;k.set(W,ce),G.forEach(te=>Fs(te,ce))});const L=[],U=new Set,Y=new Set;for(let G=0;G<this.collectedLeaveElements.length;G++){const W=this.collectedLeaveElements[G],ce=W[ks];ce&&ce.setForRemoval&&(L.push(W),U.add(W),ce.hasAnimation?this.driver.query(W,".ng-star-inserted",!0).forEach(te=>U.add(te)):Y.add(W))}const N=new Map,q=wR(D,Array.from(U));q.forEach((G,W)=>{const ce=fw+T++;N.set(W,ce),G.forEach(te=>Fs(te,ce))}),r.push(()=>{E.forEach((G,W)=>{const ce=k.get(W);G.forEach(te=>og(te,ce))}),q.forEach((G,W)=>{const ce=N.get(W);G.forEach(te=>og(te,ce))}),L.forEach(G=>{this.processLeaveNode(G)})});const j=[],z=[];for(let G=this._namespaceList.length-1;G>=0;G--)this._namespaceList[G].drainQueuedTransitions(e).forEach(ce=>{const te=ce.player,me=ce.element;if(j.push(te),this.collectedEnterElements.length){const at=me[ks];if(at&&at.setForMove){if(at.previousTriggersValues&&at.previousTriggersValues.has(ce.triggerName)){const Dt=at.previousTriggersValues.get(ce.triggerName),ft=this.statesByElement.get(ce.element);if(ft&&ft.has(ce.triggerName)){const st=ft.get(ce.triggerName);st.value=Dt,ft.set(ce.triggerName,st)}}return void te.destroy()}}const Ee=!y||!this.driver.containsElement(y,me),Le=N.get(me),ve=k.get(me),Fe=this._buildInstruction(ce,i,ve,Le,Ee);if(Fe.errors&&Fe.errors.length)return void z.push(Fe);if(Ee)return te.onStart(()=>Hf(me,Fe.fromStyles)),te.onDestroy(()=>yc(me,Fe.toStyles)),void o.push(te);if(ce.isFallbackTransition)return te.onStart(()=>Hf(me,Fe.fromStyles)),te.onDestroy(()=>yc(me,Fe.toStyles)),void o.push(te);const Je=[];Fe.timelines.forEach(at=>{at.stretchStartingKeyframe=!0,this.disabledNodes.has(at.element)||Je.push(at)}),Fe.timelines=Je,i.append(me,Fe.timelines),l.push({instruction:Fe,player:te,element:me}),Fe.queriedElements.forEach(at=>os(u,at,[]).push(te)),Fe.preStyleProps.forEach((at,Dt)=>{if(at.size){let ft=p.get(Dt);ft||p.set(Dt,ft=new Set),at.forEach((st,Tt)=>ft.add(Tt))}}),Fe.postStyleProps.forEach((at,Dt)=>{let ft=f.get(Dt);ft||f.set(Dt,ft=new Set),at.forEach((st,Tt)=>ft.add(Tt))})});if(z.length){const G=[];z.forEach(W=>{G.push(function wq(t,r){return new n.vHH(3505,!1)}())}),j.forEach(W=>W.destroy()),this.reportError(G)}const J=new Map,B=new Map;l.forEach(G=>{const W=G.element;i.has(W)&&(B.set(W,W),this._beforeAnimationBuild(G.player.namespaceId,G.instruction,J))}),o.forEach(G=>{const W=G.element;this._getPreviousPlayers(W,!1,G.namespaceId,G.triggerName,null).forEach(te=>{os(J,W,[]).push(te),te.destroy()})});const H=L.filter(G=>SR(G,p,f)),V=new Map;xR(V,this.driver,Y,f,vl).forEach(G=>{SR(G,p,f)&&H.push(G)});const ee=new Map;E.forEach((G,W)=>{xR(ee,this.driver,new Set(G),p,"!")}),H.forEach(G=>{const W=V.get(G),ce=ee.get(G);V.set(G,new Map([...Array.from(W?.entries()??[]),...Array.from(ce?.entries()??[])]))});const re=[],le=[],ie={};l.forEach(G=>{const{element:W,player:ce,instruction:te}=G;if(i.has(W)){if(h.has(W))return ce.onDestroy(()=>yc(W,te.toStyles)),ce.disabled=!0,ce.overrideTotalTime(te.totalTime),void o.push(ce);let me=ie;if(B.size>1){let Le=W;const ve=[];for(;Le=Le.parentNode;){const Fe=B.get(Le);if(Fe){me=Fe;break}ve.push(Le)}ve.forEach(Fe=>B.set(Fe,me))}const Ee=this._buildAnimation(ce.namespaceId,te,J,a,ee,V);if(ce.setRealPlayer(Ee),me===ie)re.push(ce);else{const Le=this.playersByElement.get(me);Le&&Le.length&&(ce.parentPlayer=Td(Le)),o.push(ce)}}else Hf(W,te.fromStyles),ce.onDestroy(()=>yc(W,te.toStyles)),le.push(ce),h.has(W)&&o.push(ce)}),le.forEach(G=>{const W=a.get(G.element);if(W&&W.length){const ce=Td(W);G.setRealPlayer(ce)}}),o.forEach(G=>{G.parentPlayer?G.syncPlayerEvents(G.parentPlayer):G.destroy()});for(let G=0;G<L.length;G++){const W=L[G],ce=W[ks];if(og(W,fw),ce&&ce.hasAnimation)continue;let te=[];if(u.size){let Ee=u.get(W);Ee&&Ee.length&&te.push(...Ee);let Le=this.driver.query(W,CP,!0);for(let ve=0;ve<Le.length;ve++){let Fe=u.get(Le[ve]);Fe&&Fe.length&&te.push(...Fe)}}const me=te.filter(Ee=>!Ee.destroyed);me.length?DZ(this,W,me):this.processLeaveNode(W)}return L.length=0,re.forEach(G=>{this.players.push(G),G.onDone(()=>{G.destroy();const W=this.players.indexOf(G);this.players.splice(W,1)}),G.play()}),re}elementContainsData(r,e){let i=!1;const o=e[ks];return o&&o.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(r).elementContainsData(e)||i}afterFlush(r){this._flushFns.push(r)}afterFlushAnimationsDone(r){this._whenQuietFns.push(r)}_getPreviousPlayers(r,e,i,o,a){let l=[];if(e){const u=this.playersByQueriedElement.get(r);u&&(l=u)}else{const u=this.playersByElement.get(r);if(u){const p=!a||a==Gy;u.forEach(f=>{f.queued||!p&&f.triggerName!=o||l.push(f)})}}return(i||o)&&(l=l.filter(u=>!(i&&i!=u.namespaceId||o&&o!=u.triggerName))),l}_beforeAnimationBuild(r,e,i){const a=e.element,l=e.isRemovalTransition?void 0:r,u=e.isRemovalTransition?void 0:e.triggerName;for(const p of e.timelines){const f=p.element,h=f!==a,y=os(i,f,[]);this._getPreviousPlayers(f,h,l,u,e.toState).forEach(E=>{const k=E.getRealPlayer();k.beforeDestroy&&k.beforeDestroy(),E.destroy(),y.push(E)})}Hf(a,e.fromStyles)}_buildAnimation(r,e,i,o,a,l){const u=e.triggerName,p=e.element,f=[],h=new Set,y=new Set,D=e.timelines.map(k=>{const T=k.element;h.add(T);const L=T[ks];if(L&&L.removedBeforeQueried)return new Sf(k.duration,k.delay);const U=T!==p,Y=function OZ(t){const r=[];return MR(t,r),r}((i.get(T)||yZ).map(J=>J.getRealPlayer())).filter(J=>!!J.element&&J.element===T),N=a.get(T),q=l.get(T),j=QN(0,this._normalizer,0,k.keyframes,N,q),z=this._buildPlayer(k,j,Y);if(k.subTimeline&&o&&y.add(T),U){const J=new NP(r,u,T);J.setRealPlayer(z),f.push(J)}return z});f.forEach(k=>{os(this.playersByQueriedElement,k.element,[]).push(k),k.onDone(()=>function wZ(t,r,e){let i=t.get(r);if(i){if(i.length){const o=i.indexOf(e);i.splice(o,1)}0==i.length&&t.delete(r)}return i}(this.playersByQueriedElement,k.element,k))}),h.forEach(k=>Fs(k,oR));const E=Td(D);return E.onDestroy(()=>{h.forEach(k=>og(k,oR)),yc(p,e.toStyles)}),y.forEach(k=>{os(o,k,[]).push(E)}),E}_buildPlayer(r,e,i){return e.length>0?this.driver.animate(r.element,e,r.duration,r.delay,r.easing,i):new Sf(r.duration,r.delay)}}class NP{constructor(r,e,i){this.namespaceId=r,this.triggerName=e,this.element=i,this._player=new Sf,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(r){this._containsRealPlayer||(this._player=r,this._queuedCallbacks.forEach((e,i)=>{e.forEach(o=>hP(r,i,void 0,o))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(r.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(r){this.totalTime=r}syncPlayerEvents(r){const e=this._player;e.triggerCallback&&r.onStart(()=>e.triggerCallback("start")),r.onDone(()=>this.finish()),r.onDestroy(()=>this.destroy())}_queueEvent(r,e){os(this._queuedCallbacks,r,[]).push(e)}onDone(r){this.queued&&this._queueEvent("done",r),this._player.onDone(r)}onStart(r){this.queued&&this._queueEvent("start",r),this._player.onStart(r)}onDestroy(r){this.queued&&this._queueEvent("destroy",r),this._player.onDestroy(r)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(r){this.queued||this._player.setPosition(r)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(r){const e=this._player;e.triggerCallback&&e.triggerCallback(r)}}function Dw(t){return t&&1===t.nodeType}function CR(t,r){const e=t.style.display;return t.style.display=r??"none",e}function xR(t,r,e,i,o){const a=[];e.forEach(p=>a.push(CR(p)));const l=[];i.forEach((p,f)=>{const h=new Map;p.forEach(y=>{const D=r.computeStyle(f,y,o);h.set(y,D),(!D||0==D.length)&&(f[ks]=bZ,l.push(f))}),t.set(f,h)});let u=0;return e.forEach(p=>CR(p,a[u++])),l}function wR(t,r){const e=new Map;if(t.forEach(u=>e.set(u,[])),0==r.length)return e;const o=new Set(r),a=new Map;function l(u){if(!u)return 1;let p=a.get(u);if(p)return p;const f=u.parentNode;return p=e.has(f)?f:o.has(f)?1:l(f),a.set(u,p),p}return r.forEach(u=>{const p=l(u);1!==p&&e.get(p).push(u)}),e}function Fs(t,r){t.classList?.add(r)}function og(t,r){t.classList?.remove(r)}function DZ(t,r,e){Td(e).onDone(()=>t.processLeaveNode(r))}function MR(t,r){for(let e=0;e<t.length;e++){const i=t[e];i instanceof pd?MR(i.players,r):r.push(i)}}function SR(t,r,e){const i=e.get(t);if(!i)return!1;let o=r.get(t);return o?i.forEach(a=>o.add(a)):r.set(t,i),e.delete(t),!0}class Ow{constructor(r,e,i){this.bodyNode=r,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(o,a)=>{},this._transitionEngine=new xZ(r,e,i),this._timelineEngine=new hZ(r,e,i),this._transitionEngine.onRemovalComplete=(o,a)=>this.onRemovalComplete(o,a)}registerTrigger(r,e,i,o,a){const l=r+"-"+o;let u=this._triggerCache[l];if(!u){const p=[],h=SP(this._driver,a,p,[]);if(p.length)throw function pq(t,r){return new n.vHH(3404,!1)}();u=function uZ(t,r,e){return new dZ(t,r,e)}(o,h,this._normalizer),this._triggerCache[l]=u}this._transitionEngine.registerTrigger(e,o,u)}register(r,e){this._transitionEngine.register(r,e)}destroy(r,e){this._transitionEngine.destroy(r,e)}onInsert(r,e,i,o){this._transitionEngine.insertNode(r,e,i,o)}onRemove(r,e,i,o){this._transitionEngine.removeNode(r,e,o||!1,i)}disableAnimations(r,e){this._transitionEngine.markElementAsDisabled(r,e)}process(r,e,i,o){if("@"==i.charAt(0)){const[a,l]=JN(i);this._timelineEngine.command(a,e,l,o)}else this._transitionEngine.trigger(r,e,i,o)}listen(r,e,i,o,a){if("@"==i.charAt(0)){const[l,u]=JN(i);return this._timelineEngine.listen(l,e,u,a)}return this._transitionEngine.listen(r,e,i,o,a)}flush(r=-1){this._transitionEngine.flush(r)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let PZ=(()=>{class t{constructor(e,i,o){this._element=e,this._startStyles=i,this._endStyles=o,this._state=0;let a=t.initialStylesByElement.get(e);a||t.initialStylesByElement.set(e,a=new Map),this._initialStyles=a}start(){this._state<1&&(this._startStyles&&yc(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(yc(this._element,this._initialStyles),this._endStyles&&(yc(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(Hf(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Hf(this._element,this._endStyles),this._endStyles=null),yc(this._element,this._initialStyles),this._state=3)}}return t.initialStylesByElement=new WeakMap,t})();function RP(t){let r=null;return t.forEach((e,i)=>{(function TZ(t){return"display"===t||"position"===t})(i)&&(r=r||new Map,r.set(i,e))}),r}class DR{constructor(r,e,i,o){this.element=r,this.keyframes=e,this.options=i,this._specialStyles=o,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(r=>r()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const r=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,r,this.options),this._finalKeyframe=r.length?r[r.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(r){const e=[];return r.forEach(i=>{e.push(Object.fromEntries(i))}),e}_triggerWebAnimation(r,e,i){return r.animate(this._convertKeyframesToObject(e),i)}onStart(r){this._originalOnStartFns.push(r),this._onStartFns.push(r)}onDone(r){this._originalOnDoneFns.push(r),this._onDoneFns.push(r)}onDestroy(r){this._onDestroyFns.push(r)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(r=>r()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(r=>r()),this._onDestroyFns=[])}setPosition(r){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=r*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const r=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,o)=>{"offset"!==o&&r.set(o,this._finished?i:dR(this.element,o))}),this.currentSnapshot=r}triggerCallback(r){const e="start"===r?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class IZ{validateStyleProperty(r){return!0}validateAnimatableStyleProperty(r){return!0}matchesElement(r,e){return!1}containsElement(r,e){return tR(r,e)}getParentElement(r){return vP(r)}query(r,e,i){return nR(r,e,i)}computeStyle(r,e,i){return window.getComputedStyle(r)[e]}animate(r,e,i,o,a,l=[]){const p={duration:i,delay:o,fill:0==o?"both":"forwards"};a&&(p.easing=a);const f=new Map,h=l.filter(E=>E instanceof DR);(function Rq(t,r){return 0===t||0===r})(i,o)&&h.forEach(E=>{E.currentSnapshot.forEach((k,T)=>f.set(T,k))});let y=function Iq(t){return t.length?t[0]instanceof Map?t:t.map(r=>aR(r)):[]}(e).map(E=>Id(E));y=function Lq(t,r,e){if(e.size&&r.length){let i=r[0],o=[];if(e.forEach((a,l)=>{i.has(l)||o.push(l),i.set(l,a)}),o.length)for(let a=1;a<r.length;a++){let l=r[a];o.forEach(u=>l.set(u,dR(t,u)))}}return r}(r,y,f);const D=function AZ(t,r){let e=null,i=null;return Array.isArray(r)&&r.length?(e=RP(r[0]),r.length>1&&(i=RP(r[r.length-1]))):r instanceof Map&&(e=RP(r)),e||i?new PZ(t,e,i):null}(r,y);return new DR(r,y,p,D)}}let kZ=(()=>{class t extends Gx{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:n.ifc.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const o=Array.isArray(e)?ly(e):e;return OR(this._renderer,null,i,"register",[o]),new FZ(i,this._renderer)}}return t.\u0275fac=function(e){return new(e||t)(n.LFG(n.FYo),n.LFG(I))},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac}),t})();class FZ extends class QE{}{constructor(r,e){super(),this._id=r,this._renderer=e}create(r,e){return new NZ(this._id,r,e||{},this._renderer)}}class NZ{constructor(r,e,i,o){this.id=r,this.element=e,this._renderer=o,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(r,e){return this._renderer.listen(this.element,`@@${this.id}:${r}`,e)}_command(r,...e){return OR(this._renderer,this.element,this.id,r,e)}onDone(r){this._listen("done",r)}onStart(r){this._listen("start",r)}onDestroy(r){this._listen("destroy",r)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(r){this._command("setPosition",r)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function OR(t,r,e,i,o){return t.setProperty(r,`@@${e}:${i}`,o)}const ER="@.disabled";let RZ=(()=>{class t{constructor(e,i,o){this.delegate=e,this.engine=i,this._zone=o,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(a,l)=>{const u=l?.parentNode(a);u&&l.removeChild(u,a)}}createRenderer(e,i){const a=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let h=this._rendererCache.get(a);return h||(h=new AR("",a,this.engine,()=>this._rendererCache.delete(a)),this._rendererCache.set(a,h)),h}const l=i.id,u=i.id+"-"+this._currentId;this._currentId++,this.engine.register(u,e);const p=h=>{Array.isArray(h)?h.forEach(p):this.engine.registerTrigger(l,u,e,h.name,h)};return i.data.animation.forEach(p),new LZ(this,u,a,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,o){e>=0&&e<this._microtaskId?this._zone.run(()=>i(o)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(a=>{const[l,u]=a;l(u)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,o]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return t.\u0275fac=function(e){return new(e||t)(n.LFG(n.FYo),n.LFG(Ow),n.LFG(n.R0b))},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac}),t})();class AR{constructor(r,e,i,o){this.namespaceId=r,this.delegate=e,this.engine=i,this._onDestroy=o,this.destroyNode=this.delegate.destroyNode?a=>e.destroyNode(a):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(r,e){return this.delegate.createElement(r,e)}createComment(r){return this.delegate.createComment(r)}createText(r){return this.delegate.createText(r)}appendChild(r,e){this.delegate.appendChild(r,e),this.engine.onInsert(this.namespaceId,e,r,!1)}insertBefore(r,e,i,o=!0){this.delegate.insertBefore(r,e,i),this.engine.onInsert(this.namespaceId,e,r,o)}removeChild(r,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate,i)}selectRootElement(r,e){return this.delegate.selectRootElement(r,e)}parentNode(r){return this.delegate.parentNode(r)}nextSibling(r){return this.delegate.nextSibling(r)}setAttribute(r,e,i,o){this.delegate.setAttribute(r,e,i,o)}removeAttribute(r,e,i){this.delegate.removeAttribute(r,e,i)}addClass(r,e){this.delegate.addClass(r,e)}removeClass(r,e){this.delegate.removeClass(r,e)}setStyle(r,e,i,o){this.delegate.setStyle(r,e,i,o)}removeStyle(r,e,i){this.delegate.removeStyle(r,e,i)}setProperty(r,e,i){"@"==e.charAt(0)&&e==ER?this.disableAnimations(r,!!i):this.delegate.setProperty(r,e,i)}setValue(r,e){this.delegate.setValue(r,e)}listen(r,e,i){return this.delegate.listen(r,e,i)}disableAnimations(r,e){this.engine.disableAnimations(r,e)}}class LZ extends AR{constructor(r,e,i,o,a){super(e,i,o,a),this.factory=r,this.namespaceId=e}setProperty(r,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==ER?this.disableAnimations(r,i=void 0===i||!!i):this.engine.process(this.namespaceId,r,e.slice(1),i):this.delegate.setProperty(r,e,i)}listen(r,e,i){if("@"==e.charAt(0)){const o=function BZ(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(r);let a=e.slice(1),l="";return"@"!=a.charAt(0)&&([a,l]=function UZ(t){const r=t.indexOf(".");return[t.substring(0,r),t.slice(r+1)]}(a)),this.engine.listen(this.namespaceId,o,a,l,u=>{this.factory.scheduleListenerCallback(u._data||-1,i,u)})}return this.delegate.listen(r,e,i)}}const PR=[{provide:Gx,useClass:kZ},{provide:PP,useFactory:function zZ(){return new aZ}},{provide:Ow,useClass:(()=>{class t extends Ow{constructor(e,i,o,a){super(e.body,i,o)}ngOnDestroy(){this.flush()}}return t.\u0275fac=function(e){return new(e||t)(n.LFG(I),n.LFG(yP),n.LFG(PP),n.LFG(n.z2F))},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac}),t})()},{provide:n.FYo,useFactory:function HZ(t,r,e){return new RZ(t,r,e)},deps:[mp,Ow,n.R0b]}],LP=[{provide:yP,useFactory:()=>new IZ},{provide:n.QbO,useValue:"BrowserAnimations"},...PR],TR=[{provide:yP,useClass:rR},{provide:n.QbO,useValue:"NoopAnimations"},...PR];let IR=(()=>{class t{static withConfig(e){return{ngModule:t,providers:e.disableAnimations?TR:LP}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({providers:LP,imports:[AS]}),t})();const jZ=["input"],qZ=["label"],ZZ=function(t){return{enterDuration:t}},YZ=["*"],GZ=new n.OlP("mat-checkbox-default-options",{providedIn:"root",factory:kR});function kR(){return{color:"accent",clickAction:"check-indeterminate"}}let $Z=0;const FR=kR(),WZ={provide:Ci,useExisting:(0,n.Gpc)(()=>BP),multi:!0};class QZ{}const JZ=xf(gl(Cf(km(class{constructor(t){this._elementRef=t}}))));let XZ=(()=>{class t extends JZ{constructor(e,i,o,a,l,u,p){super(i),this._changeDetectorRef=o,this._ngZone=a,this._animationMode=u,this._options=p,this.ariaLabel="",this.ariaLabelledby=null,this.labelPosition="after",this.name=null,this.change=new n.vpe,this.indeterminateChange=new n.vpe,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=0,this._controlValueAccessorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||FR,this.color=this.defaultColor=this._options.color||FR.color,this.tabIndex=parseInt(l)||0,this.id=this._uniqueId=`${e}${++$Z}`}get inputId(){return`${this.id||this._uniqueId}-input`}get required(){return this._required}set required(e){this._required=Cn(e)}ngAfterViewInit(){this._syncIndeterminate(this._indeterminate)}get checked(){return this._checked}set checked(e){const i=Cn(e);i!=this.checked&&(this._checked=i,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(e){const i=Cn(e);i!==this.disabled&&(this._disabled=i,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(e){const i=e!=this._indeterminate;this._indeterminate=Cn(e),i&&(this._transitionCheckState(this._indeterminate?3:this.checked?1:2),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(e){this.checked=!!e}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_getAriaChecked(){return this.checked?"true":this.indeterminate?"mixed":"false"}_transitionCheckState(e){let i=this._currentCheckState,o=this._getAnimationTargetElement();if(i!==e&&o&&(this._currentAnimationClass&&o.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(i,e),this._currentCheckState=e,this._currentAnimationClass.length>0)){o.classList.add(this._currentAnimationClass);const a=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{o.classList.remove(a)},1e3)})}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.checked),this.change.emit(this._createChangeEvent(this.checked)),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked,this._controlValueAccessorChangeFn(this.checked)}_handleInputClick(){const e=this._options?.clickAction;this.disabled||"noop"===e?!this.disabled&&"noop"===e&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate):(this.indeterminate&&"check"!==e&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this._checked=!this._checked,this._transitionCheckState(this._checked?1:2),this._emitChangeEvent())}_onInteractionEvent(e){e.stopPropagation()}_onBlur(){Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}_getAnimationClassForCheckStateTransition(e,i){if("NoopAnimations"===this._animationMode)return"";switch(e){case 0:if(1===i)return this._animationClasses.uncheckedToChecked;if(3==i)return this._checked?this._animationClasses.checkedToIndeterminate:this._animationClasses.uncheckedToIndeterminate;break;case 2:return 1===i?this._animationClasses.uncheckedToChecked:this._animationClasses.uncheckedToIndeterminate;case 1:return 2===i?this._animationClasses.checkedToUnchecked:this._animationClasses.checkedToIndeterminate;case 3:return 1===i?this._animationClasses.indeterminateToChecked:this._animationClasses.indeterminateToUnchecked}return""}_syncIndeterminate(e){const i=this._inputElement;i&&(i.nativeElement.indeterminate=e)}}return t.\u0275fac=function(e){n.$Z()},t.\u0275dir=n.lG2({type:t,viewQuery:function(e,i){if(1&e&&(n.Gf(jZ,5),n.Gf(qZ,5),n.Gf(Ea,5)),2&e){let o;n.iGM(o=n.CRH())&&(i._inputElement=o.first),n.iGM(o=n.CRH())&&(i._labelElement=o.first),n.iGM(o=n.CRH())&&(i.ripple=o.first)}},inputs:{ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],id:"id",required:"required",labelPosition:"labelPosition",name:"name",value:"value",checked:"checked",disabled:"disabled",indeterminate:"indeterminate"},outputs:{change:"change",indeterminateChange:"indeterminateChange"},features:[n.qOj]}),t})(),BP=(()=>{class t extends XZ{constructor(e,i,o,a,l,u,p){super("mat-checkbox-",e,i,a,l,u,p),this._focusMonitor=o,this._animationClasses={uncheckedToChecked:"mat-checkbox-anim-unchecked-checked",uncheckedToIndeterminate:"mat-checkbox-anim-unchecked-indeterminate",checkedToUnchecked:"mat-checkbox-anim-checked-unchecked",checkedToIndeterminate:"mat-checkbox-anim-checked-indeterminate",indeterminateToChecked:"mat-checkbox-anim-indeterminate-checked",indeterminateToUnchecked:"mat-checkbox-anim-indeterminate-unchecked"}}_createChangeEvent(e){const i=new QZ;return i.source=this,i.checked=e,i}_getAnimationTargetElement(){return this._elementRef.nativeElement}ngAfterViewInit(){super.ngAfterViewInit(),this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{e||this._onBlur()})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}_onInputClick(e){e.stopPropagation(),super._handleInputClick()}focus(e,i){e?this._focusMonitor.focusVia(this._inputElement,e,i):this._inputElement.nativeElement.focus(i)}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(n.SBq),n.Y36(n.sBO),n.Y36(Ka),n.Y36(n.R0b),n.$8M("tabindex"),n.Y36(n.QbO,8),n.Y36(GZ,8))},t.\u0275cmp=n.Xpm({type:t,selectors:[["mat-checkbox"]],hostAttrs:[1,"mat-checkbox"],hostVars:14,hostBindings:function(e,i){2&e&&(n.Ikx("id",i.id),n.uIk("tabindex",null)("aria-label",null)("aria-labelledby",null),n.ekj("mat-checkbox-indeterminate",i.indeterminate)("mat-checkbox-checked",i.checked)("mat-checkbox-disabled",i.disabled)("mat-checkbox-label-before","before"==i.labelPosition)("_mat-animation-noopable","NoopAnimations"===i._animationMode))},inputs:{disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matCheckbox"],features:[n._Bn([WZ]),n.qOj],ngContentSelectors:YZ,decls:17,vars:21,consts:[[1,"mat-checkbox-layout"],["label",""],[1,"mat-checkbox-inner-container"],["type","checkbox",1,"mat-checkbox-input","cdk-visually-hidden",3,"id","required","checked","disabled","tabIndex","change","click"],["input",""],["matRipple","",1,"mat-checkbox-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleRadius","matRippleCentered","matRippleAnimation"],[1,"mat-ripple-element","mat-checkbox-persistent-ripple"],[1,"mat-checkbox-frame"],[1,"mat-checkbox-background"],["version","1.1","focusable","false","viewBox","0 0 24 24","aria-hidden","true",1,"mat-checkbox-checkmark"],["fill","none","stroke","white","d","M4.1,12.7 9,17.6 20.3,6.3",1,"mat-checkbox-checkmark-path"],[1,"mat-checkbox-mixedmark"],[1,"mat-checkbox-label",3,"cdkObserveContent"],["checkboxLabel",""],[2,"display","none"]],template:function(e,i){if(1&e&&(n.F$t(),n.TgZ(0,"label",0,1)(2,"span",2)(3,"input",3,4),n.NdJ("change",function(a){return i._onInteractionEvent(a)})("click",function(a){return i._onInputClick(a)}),n.qZA(),n.TgZ(5,"span",5),n._UZ(6,"span",6),n.qZA(),n._UZ(7,"span",7),n.TgZ(8,"span",8),n.O4$(),n.TgZ(9,"svg",9),n._UZ(10,"path",10),n.qZA(),n.kcU(),n._UZ(11,"span",11),n.qZA()(),n.TgZ(12,"span",12,13),n.NdJ("cdkObserveContent",function(){return i._onLabelTextChange()}),n.TgZ(14,"span",14),n._uU(15,"\xa0"),n.qZA(),n.Hsn(16),n.qZA()()),2&e){const o=n.MAs(1),a=n.MAs(13);n.uIk("for",i.inputId),n.xp6(2),n.ekj("mat-checkbox-inner-container-no-side-margin",!a.textContent||!a.textContent.trim()),n.xp6(1),n.Q6J("id",i.inputId)("required",i.required)("checked",i.checked)("disabled",i.disabled)("tabIndex",i.tabIndex),n.uIk("value",i.value)("name",i.name)("aria-label",i.ariaLabel||null)("aria-labelledby",i.ariaLabelledby)("aria-checked",i._getAriaChecked())("aria-describedby",i.ariaDescribedby),n.xp6(2),n.Q6J("matRippleTrigger",o)("matRippleDisabled",i._isRippleDisabled())("matRippleRadius",20)("matRippleCentered",!0)("matRippleAnimation",n.VKq(19,ZZ,"NoopAnimations"===i._animationMode?0:150))}},dependencies:[Ea,px],styles:['@keyframes mat-checkbox-fade-in-background{0%{opacity:0}50%{opacity:1}}@keyframes mat-checkbox-fade-out-background{0%,50%{opacity:1}100%{opacity:0}}@keyframes mat-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:22.910259}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1)}100%{stroke-dashoffset:0}}@keyframes mat-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mat-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);stroke-dashoffset:0}to{stroke-dashoffset:-22.910259}}@keyframes mat-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(45deg)}}@keyframes mat-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:0;transform:rotate(45deg)}to{opacity:1;transform:rotate(360deg)}}@keyframes mat-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:0;transform:rotate(-45deg)}to{opacity:1;transform:rotate(0deg)}}@keyframes mat-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(315deg)}}@keyframes mat-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;opacity:1;transform:scaleX(1)}32.8%,100%{opacity:0;transform:scaleX(0)}}.mat-checkbox-background,.mat-checkbox-frame{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:2px;box-sizing:border-box;pointer-events:none}.mat-checkbox{display:inline-block;transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);position:relative}.mat-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-checkbox .mat-ripple-element:not(.mat-checkbox-persistent-ripple){opacity:.16}.mat-checkbox .mat-checkbox-ripple{position:absolute;left:calc(50% - 20px);top:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.mat-checkbox-layout{-webkit-user-select:none;user-select:none;cursor:inherit;align-items:baseline;vertical-align:middle;display:inline-flex;white-space:nowrap}.mat-checkbox-label{-webkit-user-select:auto;user-select:auto}.mat-checkbox-inner-container{display:inline-block;height:16px;line-height:0;margin:auto;margin-right:8px;order:0;position:relative;vertical-align:middle;white-space:nowrap;width:16px;flex-shrink:0}[dir=rtl] .mat-checkbox-inner-container{margin-left:8px;margin-right:auto}.mat-checkbox-inner-container-no-side-margin{margin-left:0;margin-right:0}.mat-checkbox-frame{background-color:rgba(0,0,0,0);transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1);border-width:2px;border-style:solid}._mat-animation-noopable .mat-checkbox-frame{transition:none}.mat-checkbox-background{align-items:center;display:inline-flex;justify-content:center;transition:background-color 90ms cubic-bezier(0, 0, 0.2, 0.1),opacity 90ms cubic-bezier(0, 0, 0.2, 0.1);-webkit-print-color-adjust:exact;color-adjust:exact}._mat-animation-noopable .mat-checkbox-background{transition:none}.cdk-high-contrast-active .mat-checkbox .mat-checkbox-background{background:none}.mat-checkbox-persistent-ripple{display:block;width:100%;height:100%;transform:none}.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:.04}.mat-checkbox.cdk-keyboard-focused .mat-checkbox-persistent-ripple{opacity:.12}.mat-checkbox-persistent-ripple,.mat-checkbox.mat-checkbox-disabled .mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:0}@media(hover: none){.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{display:none}}.mat-checkbox-checkmark{top:0;left:0;right:0;bottom:0;position:absolute;width:100%}.mat-checkbox-checkmark-path{stroke-dashoffset:22.910259;stroke-dasharray:22.910259;stroke-width:2.1333333333px}.cdk-high-contrast-black-on-white .mat-checkbox-checkmark-path{stroke:#000 !important}.mat-checkbox-mixedmark{width:calc(100% - 6px);height:2px;opacity:0;transform:scaleX(0) rotate(0deg);border-radius:2px}.cdk-high-contrast-active .mat-checkbox-mixedmark{height:0;border-top:solid 2px;margin-top:2px}.mat-checkbox-label-before .mat-checkbox-inner-container{order:1;margin-left:8px;margin-right:auto}[dir=rtl] .mat-checkbox-label-before .mat-checkbox-inner-container{margin-left:auto;margin-right:8px}.mat-checkbox-checked .mat-checkbox-checkmark{opacity:1}.mat-checkbox-checked .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-checked .mat-checkbox-mixedmark{transform:scaleX(1) rotate(-45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark{opacity:0;transform:rotate(45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-indeterminate .mat-checkbox-mixedmark{opacity:1;transform:scaleX(1) rotate(0deg)}.mat-checkbox-unchecked .mat-checkbox-background{background-color:rgba(0,0,0,0)}.mat-checkbox-disabled{cursor:default}.cdk-high-contrast-active .mat-checkbox-disabled{opacity:.5}.mat-checkbox-anim-unchecked-checked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-checked .mat-checkbox-checkmark-path{animation:180ms linear 0ms mat-checkbox-unchecked-checked-checkmark-path}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-unchecked-indeterminate-mixedmark}.mat-checkbox-anim-checked-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-checked-unchecked .mat-checkbox-checkmark-path{animation:90ms linear 0ms mat-checkbox-checked-unchecked-checkmark-path}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-checkmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-checkmark}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-mixedmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-checkmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-checkmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-mixedmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-mixedmark}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-mixedmark{animation:300ms linear 0ms mat-checkbox-indeterminate-unchecked-mixedmark}.mat-checkbox-input{bottom:0;left:50%}.mat-checkbox-input:focus~.mat-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0}),t})(),NR=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({}),t})(),Aw=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[_l,Xn,ud,NR,Xn,NR]}),t})();const t7=["connectionContainer"],n7=["inputContainer"],r7=["label"];function o7(t,r){1&t&&(n.ynx(0),n.TgZ(1,"div",14),n._UZ(2,"div",15)(3,"div",16)(4,"div",17),n.qZA(),n.TgZ(5,"div",18),n._UZ(6,"div",15)(7,"div",16)(8,"div",17),n.qZA(),n.BQk())}function a7(t,r){if(1&t){const e=n.EpF();n.TgZ(0,"div",19),n.NdJ("cdkObserveContent",function(){n.CHM(e);const o=n.oxw();return n.KtG(o.updateOutlineGap())}),n.Hsn(1,1),n.qZA()}if(2&t){const e=n.oxw();n.Q6J("cdkObserveContentDisabled","outline"!=e.appearance)}}function s7(t,r){if(1&t&&(n.ynx(0),n.Hsn(1,2),n.TgZ(2,"span"),n._uU(3),n.qZA(),n.BQk()),2&t){const e=n.oxw(2);n.xp6(3),n.Oqu(e._control.placeholder)}}function l7(t,r){1&t&&n.Hsn(0,3,["*ngSwitchCase","true"])}function c7(t,r){1&t&&(n.TgZ(0,"span",23),n._uU(1," *"),n.qZA())}function u7(t,r){if(1&t){const e=n.EpF();n.TgZ(0,"label",20,21),n.NdJ("cdkObserveContent",function(){n.CHM(e);const o=n.oxw();return n.KtG(o.updateOutlineGap())}),n.YNc(2,s7,4,1,"ng-container",12),n.YNc(3,l7,1,0,"ng-content",12),n.YNc(4,c7,2,0,"span",22),n.qZA()}if(2&t){const e=n.oxw();n.ekj("mat-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-form-field-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-accent","accent"==e.color)("mat-warn","warn"==e.color),n.Q6J("cdkObserveContentDisabled","outline"!=e.appearance)("id",e._labelId)("ngSwitch",e._hasLabel()),n.uIk("for",e._control.id)("aria-owns",e._control.id),n.xp6(2),n.Q6J("ngSwitchCase",!1),n.xp6(1),n.Q6J("ngSwitchCase",!0),n.xp6(1),n.Q6J("ngIf",!e.hideRequiredMarker&&e._control.required&&!e._control.disabled)}}function d7(t,r){1&t&&(n.TgZ(0,"div",24),n.Hsn(1,4),n.qZA())}function p7(t,r){if(1&t&&(n.TgZ(0,"div",25),n._UZ(1,"span",26),n.qZA()),2&t){const e=n.oxw();n.xp6(1),n.ekj("mat-accent","accent"==e.color)("mat-warn","warn"==e.color)}}function f7(t,r){if(1&t&&(n.TgZ(0,"div"),n.Hsn(1,5),n.qZA()),2&t){const e=n.oxw();n.Q6J("@transitionMessages",e._subscriptAnimationState)}}function h7(t,r){if(1&t&&(n.TgZ(0,"div",30),n._uU(1),n.qZA()),2&t){const e=n.oxw(2);n.Q6J("id",e._hintLabelId),n.xp6(1),n.Oqu(e.hintLabel)}}function m7(t,r){if(1&t&&(n.TgZ(0,"div",27),n.YNc(1,h7,2,2,"div",28),n.Hsn(2,6),n._UZ(3,"div",29),n.Hsn(4,7),n.qZA()),2&t){const e=n.oxw();n.Q6J("@transitionMessages",e._subscriptAnimationState),n.xp6(1),n.Q6J("ngIf",e.hintLabel)}}const g7=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],_7=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],v7=new n.OlP("MatError"),y7={transitionMessages:ta("transitionMessages",[$r("enter",Gn({opacity:1,transform:"translateY(0%)"})),bi("void => enter",[Gn({opacity:0,transform:"translateY(-5px)"}),ri("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let $y=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=n.lG2({type:t}),t})();const b7=new n.OlP("MatHint");let UP=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=n.lG2({type:t,selectors:[["mat-label"]]}),t})(),C7=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=n.lG2({type:t,selectors:[["mat-placeholder"]]}),t})();const RR=new n.OlP("MatPrefix");let x7=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=n.lG2({type:t,selectors:[["","matPrefix",""]],features:[n._Bn([{provide:RR,useExisting:t}])]}),t})();const LR=new n.OlP("MatSuffix");let BR=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=n.lG2({type:t,selectors:[["","matSuffix",""]],features:[n._Bn([{provide:LR,useExisting:t}])]}),t})(),UR=0;const M7=gl(class{constructor(t){this._elementRef=t}},"primary"),S7=new n.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),Pw=new n.OlP("MatFormField");let VP=(()=>{class t extends M7{constructor(e,i,o,a,l,u,p){super(e),this._changeDetectorRef=i,this._dir=o,this._defaults=a,this._platform=l,this._ngZone=u,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new dn.x,this._hideRequiredMarker=!1,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+UR++,this._labelId="mat-form-field-label-"+UR++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==p,this.appearance=a?.appearance||"legacy",a&&(this._hideRequiredMarker=Boolean(a.hideRequiredMarker),a.color&&(this.color=this.defaultColor=a.color))}get appearance(){return this._appearance}set appearance(e){const i=this._appearance;this._appearance=e||this._defaults?.appearance||"legacy","outline"===this._appearance&&i!==e&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=Cn(e)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(e){this._explicitFormFieldControl=e}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${e.controlType}`),e.stateChanges.pipe(Fo(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe((0,Zn.R)(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,Zn.R)(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,Mo.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(Fo(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(Fo(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe((0,Zn.R)(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(e){const i=this._control?this._control.ngControl:null;return i&&i[e]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,tc(this._label.nativeElement,"transitionend").pipe((0,ar.q)(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(a=>"start"===a.align):null,o=this._hintChildren?this._hintChildren.find(a=>"end"===a.align):null;i?e.push(i.id):this._hintLabel&&e.push(this._hintLabelId),o&&e.push(o.id)}else this._errorChildren&&e.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(e)}}_validateControlChild(){}updateOutlineGap(){const e=this._label?this._label.nativeElement:null,i=this._connectionContainerRef.nativeElement,o=".mat-form-field-outline-start",a=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!e||!e.children.length||!e.textContent.trim()){const h=i.querySelectorAll(`${o}, ${a}`);for(let y=0;y<h.length;y++)h[y].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let l=0,u=0;const p=i.querySelectorAll(o),f=i.querySelectorAll(a);if(this._label&&this._label.nativeElement.children.length){const h=i.getBoundingClientRect();if(0===h.width&&0===h.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const y=this._getStartEnd(h),D=e.children,E=this._getStartEnd(D[0].getBoundingClientRect());let k=0;for(let T=0;T<D.length;T++)k+=D[T].offsetWidth;l=Math.abs(E-y)-5,u=k>0?.75*k+10:0}for(let h=0;h<p.length;h++)p[h].style.width=`${l}px`;for(let h=0;h<f.length;h++)f[h].style.width=`${u}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(e){return this._dir&&"rtl"===this._dir.value?e.right:e.left}_isAttachedToDOM(){const e=this._elementRef.nativeElement;if(e.getRootNode){const i=e.getRootNode();return i&&i!==e}return document.documentElement.contains(e)}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(n.SBq),n.Y36(n.sBO),n.Y36(So,8),n.Y36(S7,8),n.Y36(Di),n.Y36(n.R0b),n.Y36(n.QbO,8))},t.\u0275cmp=n.Xpm({type:t,selectors:[["mat-form-field"]],contentQueries:function(e,i,o){if(1&e&&(n.Suo(o,$y,5),n.Suo(o,$y,7),n.Suo(o,UP,5),n.Suo(o,UP,7),n.Suo(o,C7,5),n.Suo(o,v7,5),n.Suo(o,b7,5),n.Suo(o,RR,5),n.Suo(o,LR,5)),2&e){let a;n.iGM(a=n.CRH())&&(i._controlNonStatic=a.first),n.iGM(a=n.CRH())&&(i._controlStatic=a.first),n.iGM(a=n.CRH())&&(i._labelChildNonStatic=a.first),n.iGM(a=n.CRH())&&(i._labelChildStatic=a.first),n.iGM(a=n.CRH())&&(i._placeholderChild=a.first),n.iGM(a=n.CRH())&&(i._errorChildren=a),n.iGM(a=n.CRH())&&(i._hintChildren=a),n.iGM(a=n.CRH())&&(i._prefixChildren=a),n.iGM(a=n.CRH())&&(i._suffixChildren=a)}},viewQuery:function(e,i){if(1&e&&(n.Gf(t7,7),n.Gf(n7,5),n.Gf(r7,5)),2&e){let o;n.iGM(o=n.CRH())&&(i._connectionContainerRef=o.first),n.iGM(o=n.CRH())&&(i._inputContainerRef=o.first),n.iGM(o=n.CRH())&&(i._label=o.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(e,i){2&e&&n.ekj("mat-form-field-appearance-standard","standard"==i.appearance)("mat-form-field-appearance-fill","fill"==i.appearance)("mat-form-field-appearance-outline","outline"==i.appearance)("mat-form-field-appearance-legacy","legacy"==i.appearance)("mat-form-field-invalid",i._control.errorState)("mat-form-field-can-float",i._canLabelFloat())("mat-form-field-should-float",i._shouldLabelFloat())("mat-form-field-has-label",i._hasFloatingLabel())("mat-form-field-hide-placeholder",i._hideControlPlaceholder())("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-focused",i._control.focused)("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))("_mat-animation-noopable",!i._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[n._Bn([{provide:Pw,useExisting:t}]),n.qOj],ngContentSelectors:_7,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(e,i){1&e&&(n.F$t(g7),n.TgZ(0,"div",0)(1,"div",1,2),n.NdJ("click",function(a){return i._control.onContainerClick&&i._control.onContainerClick(a)}),n.YNc(3,o7,9,0,"ng-container",3),n.YNc(4,a7,2,1,"div",4),n.TgZ(5,"div",5,6),n.Hsn(7),n.TgZ(8,"span",7),n.YNc(9,u7,5,16,"label",8),n.qZA()(),n.YNc(10,d7,2,0,"div",9),n.qZA(),n.YNc(11,p7,2,4,"div",10),n.TgZ(12,"div",11),n.YNc(13,f7,2,1,"div",12),n.YNc(14,m7,5,2,"div",13),n.qZA()()),2&e&&(n.xp6(3),n.Q6J("ngIf","outline"==i.appearance),n.xp6(1),n.Q6J("ngIf",i._prefixChildren.length),n.xp6(5),n.Q6J("ngIf",i._hasFloatingLabel()),n.xp6(1),n.Q6J("ngIf",i._suffixChildren.length),n.xp6(1),n.Q6J("ngIf","outline"!=i.appearance),n.xp6(1),n.Q6J("ngSwitch",i._getDisplayedMessages()),n.xp6(1),n.Q6J("ngSwitchCase","error"),n.xp6(1),n.Q6J("ngSwitchCase","hint"))},dependencies:[rn,qa,Qs,px],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}','.mat-input-element{font:inherit;background:rgba(0,0,0,0);color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}._mat-animation-noopable .mat-input-element::placeholder{transition:none}._mat-animation-noopable .mat-input-element::-moz-placeholder{transition:none}._mat-animation-noopable .mat-input-element::-webkit-input-placeholder{transition:none}._mat-animation-noopable .mat-input-element:-ms-input-placeholder{transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:rgba(0,0,0,0)}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}"],encapsulation:2,data:{animation:[y7.transitionMessages]},changeDetection:0}),t})(),Wy=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[Zr,Xn,ud,Xn]}),t})();class zR{constructor(r=!1,e,i=!0,o){this._multiple=r,this._emitChanges=i,this.compareWith=o,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new dn.x,e&&e.length&&(r?e.forEach(a=>this._markSelected(a)):this._markSelected(e[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...r){this._verifyValueAssignment(r),r.forEach(i=>this._markSelected(i));const e=this._hasQueuedChanges();return this._emitChangeEvent(),e}deselect(...r){this._verifyValueAssignment(r),r.forEach(i=>this._unmarkSelected(i));const e=this._hasQueuedChanges();return this._emitChangeEvent(),e}setSelection(...r){this._verifyValueAssignment(r);const e=this.selected,i=new Set(r);r.forEach(a=>this._markSelected(a)),e.filter(a=>!i.has(a)).forEach(a=>this._unmarkSelected(a));const o=this._hasQueuedChanges();return this._emitChangeEvent(),o}toggle(r){return this.isSelected(r)?this.deselect(r):this.select(r)}clear(r=!0){this._unmarkAll();const e=this._hasQueuedChanges();return r&&this._emitChangeEvent(),e}isSelected(r){if(this.compareWith){for(const e of this._selection)if(this.compareWith(e,r))return!0;return!1}return this._selection.has(r)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(r){this._multiple&&this.selected&&this._selected.sort(r)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(r){this.isSelected(r)||(this._multiple||this._unmarkAll(),this.isSelected(r)||this._selection.add(r),this._emitChanges&&this._selectedToEmit.push(r))}_unmarkSelected(r){this.isSelected(r)&&(this._selection.delete(r),this._emitChanges&&this._deselectedToEmit.push(r))}_unmarkAll(){this.isEmpty()||this._selection.forEach(r=>this._unmarkSelected(r))}_verifyValueAssignment(r){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}}let zP=(()=>{class t{constructor(){this._listeners=[]}notify(e,i){for(let o of this._listeners)o(e,i)}listen(e){return this._listeners.push(e),()=>{this._listeners=this._listeners.filter(i=>e!==i)}}ngOnDestroy(){this._listeners=[]}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const D7=["trigger"],O7=["panel"];function E7(t,r){if(1&t&&(n.TgZ(0,"span",8),n._uU(1),n.qZA()),2&t){const e=n.oxw();n.xp6(1),n.Oqu(e.placeholder)}}function A7(t,r){if(1&t&&(n.TgZ(0,"span",12),n._uU(1),n.qZA()),2&t){const e=n.oxw(2);n.xp6(1),n.Oqu(e.triggerValue)}}function P7(t,r){1&t&&n.Hsn(0,0,["*ngSwitchCase","true"])}function T7(t,r){if(1&t&&(n.TgZ(0,"span",9),n.YNc(1,A7,2,1,"span",10),n.YNc(2,P7,1,0,"ng-content",11),n.qZA()),2&t){const e=n.oxw();n.Q6J("ngSwitch",!!e.customTrigger),n.xp6(2),n.Q6J("ngSwitchCase",!0)}}function I7(t,r){if(1&t){const e=n.EpF();n.TgZ(0,"div",13)(1,"div",14,15),n.NdJ("@transformPanel.done",function(o){n.CHM(e);const a=n.oxw();return n.KtG(a._panelDoneAnimatingStream.next(o.toState))})("keydown",function(o){n.CHM(e);const a=n.oxw();return n.KtG(a._handleKeydown(o))}),n.Hsn(3,1),n.qZA()()}if(2&t){const e=n.oxw();n.Q6J("@transformPanelWrap",void 0),n.xp6(1),n.Gre("mat-select-panel ",e._getPanelTheme(),""),n.Udp("transform-origin",e._transformOrigin)("font-size",e._triggerFontSize,"px"),n.Q6J("ngClass",e.panelClass)("@transformPanel",e.multiple?"showing-multiple":"showing"),n.uIk("id",e.id+"-panel")("aria-multiselectable",e.multiple)("aria-label",e.ariaLabel||null)("aria-labelledby",e._getPanelAriaLabelledby())}}const k7=[[["mat-select-trigger"]],"*"],F7=["mat-select-trigger","*"],HR={transformPanelWrap:ta("transformPanelWrap",[bi("* => void",Lm("@transformPanel",[$x()],{optional:!0}))]),transformPanel:ta("transformPanel",[$r("void",Gn({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),$r("showing",Gn({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),$r("showing-multiple",Gn({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),bi("void => *",ri("120ms cubic-bezier(0, 0, 0.2, 1)")),bi("* => void",ri("100ms 25ms linear",Gn({opacity:0})))])};let jR=0;const ZR=new n.OlP("mat-select-scroll-strategy"),B7=new n.OlP("MAT_SELECT_CONFIG"),U7={provide:ZR,deps:[Ro],useFactory:function L7(t){return()=>t.scrollStrategies.reposition()}};class V7{constructor(r,e){this.source=r,this.value=e}}const z7=Cf(xf(km(Kv(class{constructor(t,r,e,i,o){this._elementRef=t,this._defaultErrorStateMatcher=r,this._parentForm=e,this._parentFormGroup=i,this.ngControl=o,this.stateChanges=new dn.x}})))),YR=new n.OlP("MatSelectTrigger");let H7=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=n.lG2({type:t,selectors:[["mat-select-trigger"]],features:[n._Bn([{provide:YR,useExisting:t}])]}),t})(),j7=(()=>{class t extends z7{constructor(e,i,o,a,l,u,p,f,h,y,D,E,k,T){super(l,a,p,f,y),this._viewportRuler=e,this._changeDetectorRef=i,this._ngZone=o,this._dir=u,this._parentFormField=h,this._liveAnnouncer=k,this._defaultOptions=T,this._panelOpen=!1,this._compareWith=(L,U)=>L===U,this._uid="mat-select-"+jR++,this._triggerAriaLabelledBy=null,this._destroy=new dn.x,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+jR++,this._panelDoneAnimatingStream=new dn.x,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.optionSelectionChanges=tl(()=>{const L=this.options;return L?L.changes.pipe(Fo(L),(0,Qn.w)(()=>(0,Mo.T)(...L.map(U=>U.onSelectionChange)))):this._ngZone.onStable.pipe((0,ar.q)(1),(0,Qn.w)(()=>this.optionSelectionChanges))}),this.openedChange=new n.vpe,this._openedStream=this.openedChange.pipe((0,pr.h)(L=>L),(0,xt.U)(()=>{})),this._closedStream=this.openedChange.pipe((0,pr.h)(L=>!L),(0,xt.U)(()=>{})),this.selectionChange=new n.vpe,this.valueChange=new n.vpe,this.ngControl&&(this.ngControl.valueAccessor=this),null!=T?.typeaheadDebounceInterval&&(this._typeaheadDebounceInterval=T.typeaheadDebounceInterval),this._scrollStrategyFactory=E,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(D)||0,this.id=this.id}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(Dr.required)??!1}set required(e){this._required=Cn(e),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(e){this._multiple=Cn(e)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(e){this._disableOptionCentering=Cn(e)}get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){this._assignValue(e)&&this._onChange(e)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(e){this._typeaheadDebounceInterval=Sa(e)}get id(){return this._id}set id(e){this._id=e||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new zR(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe((0,Xa.x)(),(0,Zn.R)(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe((0,Zn.R)(this._destroy)).subscribe(e=>{e.added.forEach(i=>i.select()),e.removed.forEach(i=>i.deselect())}),this.options.changes.pipe(Fo(null),(0,Zn.R)(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const e=this._getTriggerAriaLabelledby(),i=this.ngControl;if(e!==this._triggerAriaLabelledBy){const o=this._elementRef.nativeElement;this._triggerAriaLabelledBy=e,e?o.setAttribute("aria-labelledby",e):o.removeAttribute("aria-labelledby")}i&&(this._previousControl!==i.control&&(void 0!==this._previousControl&&null!==i.disabled&&i.disabled!==this.disabled&&(this.disabled=i.disabled),this._previousControl=i.control),this.updateErrorState())}ngOnChanges(e){(e.disabled||e.userAriaDescribedBy)&&this.stateChanges.next(),e.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(e){this._assignValue(e)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const e=this._selectionModel.selected.map(i=>i.viewValue);return this._isRtl()&&e.reverse(),e.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(e){this.disabled||(this.panelOpen?this._handleOpenKeydown(e):this._handleClosedKeydown(e))}_handleClosedKeydown(e){const i=e.keyCode,o=40===i||38===i||37===i||39===i,a=13===i||32===i,l=this._keyManager;if(!l.isTyping()&&a&&!ml(e)||(this.multiple||e.altKey)&&o)e.preventDefault(),this.open();else if(!this.multiple){const u=this.selected;l.onKeydown(e);const p=this.selected;p&&u!==p&&this._liveAnnouncer.announce(p.viewValue,1e4)}}_handleOpenKeydown(e){const i=this._keyManager,o=e.keyCode,a=40===o||38===o,l=i.isTyping();if(a&&e.altKey)e.preventDefault(),this.close();else if(l||13!==o&&32!==o||!i.activeItem||ml(e))if(!l&&this._multiple&&65===o&&e.ctrlKey){e.preventDefault();const u=this.options.some(p=>!p.disabled&&!p.selected);this.options.forEach(p=>{p.disabled||(u?p.select():p.deselect())})}else{const u=i.activeItemIndex;i.onKeydown(e),this._multiple&&a&&e.shiftKey&&i.activeItem&&i.activeItemIndex!==u&&i.activeItem._selectViaInteraction()}else e.preventDefault(),i.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe((0,ar.q)(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(e){if(this._selectionModel.selected.forEach(i=>i.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&e)Array.isArray(e),e.forEach(i=>this._selectOptionByValue(i)),this._sortValues();else{const i=this._selectOptionByValue(e);i?this._keyManager.updateActiveItem(i):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(e){const i=this.options.find(o=>{if(this._selectionModel.isSelected(o))return!1;try{return null!=o.value&&this._compareWith(o.value,e)}catch{return!1}});return i&&this._selectionModel.select(i),i}_assignValue(e){return!!(e!==this._value||this._multiple&&Array.isArray(e))&&(this.options&&this._setSelectionByValue(e),this._value=e,!0)}_initKeyManager(){this._keyManager=new SE(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe((0,Zn.R)(this._destroy)).subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.pipe((0,Zn.R)(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const e=(0,Mo.T)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe((0,Zn.R)(e)).subscribe(i=>{this._onSelect(i.source,i.isUserInput),i.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,Mo.T)(...this.options.map(i=>i._stateChanges)).pipe((0,Zn.R)(e)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}_onSelect(e,i){const o=this._selectionModel.isSelected(e);null!=e.value||this._multiple?(o!==e.selected&&(e.selected?this._selectionModel.select(e):this._selectionModel.deselect(e)),i&&this._keyManager.setActiveItem(e),this.multiple&&(this._sortValues(),i&&this.focus())):(e.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(e.value)),o!==this._selectionModel.isSelected(e)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const e=this.options.toArray();this._selectionModel.sort((i,o)=>this.sortComparator?this.sortComparator(i,o,e):e.indexOf(i)-e.indexOf(o)),this.stateChanges.next()}}_propagateChanges(e){let i=null;i=this.multiple?this.selected.map(o=>o.value):this.selected?this.selected.value:e,this._value=i,this.valueChange.emit(i),this._onChange(i),this.selectionChange.emit(this._getChangeEvent(i)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(e){this._elementRef.nativeElement.focus(e)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const e=this._parentFormField?.getLabelId();return this.ariaLabelledby?(e?e+" ":"")+this.ariaLabelledby:e}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;const e=this._parentFormField?.getLabelId();let i=(e?e+" ":"")+this._valueId;return this.ariaLabelledby&&(i+=" "+this.ariaLabelledby),i}_panelDoneAnimating(e){this.openedChange.emit(e)}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(sf),n.Y36(n.sBO),n.Y36(n.R0b),n.Y36(Fm),n.Y36(n.SBq),n.Y36(So,8),n.Y36(ig,8),n.Y36(qi,8),n.Y36(Pw,8),n.Y36(bl,10),n.$8M("tabindex"),n.Y36(ZR),n.Y36(Jv),n.Y36(B7,8))},t.\u0275dir=n.lG2({type:t,viewQuery:function(e,i){if(1&e&&(n.Gf(D7,5),n.Gf(O7,5),n.Gf(xd,5)),2&e){let o;n.iGM(o=n.CRH())&&(i.trigger=o.first),n.iGM(o=n.CRH())&&(i.panel=o.first),n.iGM(o=n.CRH())&&(i._overlayDir=o.first)}},inputs:{userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[n.qOj,n.TTD]}),t})(),GR=(()=>{class t extends j7{constructor(){super(...arguments),this._scrollTop=0,this._triggerFontSize=0,this._transformOrigin="top",this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}]}_calculateOverlayScroll(e,i,o){const a=this._getItemHeight();return Math.min(Math.max(0,a*e-i+a/2),o)}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe((0,Zn.R)(this._destroy)).subscribe(()=>{this.panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}open(){super._canOpen()&&(super.open(),this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._calculateOverlayPosition(),this._ngZone.onStable.pipe((0,ar.q)(1)).subscribe(()=>{this._triggerFontSize&&this._overlayDir.overlayRef&&this._overlayDir.overlayRef.overlayElement&&(this._overlayDir.overlayRef.overlayElement.style.fontSize=`${this._triggerFontSize}px`)}))}_scrollOptionIntoView(e){const i=ay(e,this.options,this.optionGroups),o=this._getItemHeight();this.panel.nativeElement.scrollTop=0===e&&1===i?0:function Zx(t,r,e,i){return t<e?t:t+r>e+i?Math.max(0,t-i+r):e}((e+i)*o,o,this.panel.nativeElement.scrollTop,256)}_positioningSettled(){this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop}_panelDoneAnimating(e){this.panelOpen?this._scrollTop=0:(this._overlayDir.offsetX=0,this._changeDetectorRef.markForCheck()),super._panelDoneAnimating(e)}_getChangeEvent(e){return new V7(this,e)}_calculateOverlayOffsetX(){const e=this._overlayDir.overlayRef.overlayElement.getBoundingClientRect(),i=this._viewportRuler.getViewportSize(),o=this._isRtl(),a=this.multiple?56:32;let l;if(this.multiple)l=40;else if(this.disableOptionCentering)l=16;else{let f=this._selectionModel.selected[0]||this.options.first;l=f&&f.group?32:16}o||(l*=-1);const u=0-(e.left+l-(o?a:0)),p=e.right+l-i.width+(o?0:a);u>0?l+=u+8:p>0&&(l-=p+8),this._overlayDir.offsetX=Math.round(l),this._overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(e,i,o){const a=this._getItemHeight(),l=(a-this._triggerRect.height)/2,u=Math.floor(256/a);let p;return this.disableOptionCentering?0:(p=0===this._scrollTop?e*a:this._scrollTop===o?(e-(this._getItemCount()-u))*a+(a-(this._getItemCount()*a-256)%a):i-a/2,Math.round(-1*p-l))}_checkOverlayWithinViewport(e){const i=this._getItemHeight(),o=this._viewportRuler.getViewportSize(),a=this._triggerRect.top-8,l=o.height-this._triggerRect.bottom-8,u=Math.abs(this._offsetY),f=Math.min(this._getItemCount()*i,256)-u-this._triggerRect.height;f>l?this._adjustPanelUp(f,l):u>a?this._adjustPanelDown(u,a,e):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(e,i){const o=Math.round(e-i);this._scrollTop-=o,this._offsetY-=o,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(e,i,o){const a=Math.round(e-i);if(this._scrollTop+=a,this._offsetY+=a,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=o)return this._scrollTop=o,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_calculateOverlayPosition(){const e=this._getItemHeight(),i=this._getItemCount(),o=Math.min(i*e,256),l=i*e-o;let u;u=this.empty?0:Math.max(this.options.toArray().indexOf(this._selectionModel.selected[0]),0),u+=ay(u,this.options,this.optionGroups);const p=o/2;this._scrollTop=this._calculateOverlayScroll(u,p,l),this._offsetY=this._calculateOverlayOffsetY(u,p,l),this._checkOverlayWithinViewport(l)}_getOriginBasedOnOption(){const e=this._getItemHeight(),i=(e-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-i+e/2}px 0px`}_getItemHeight(){return 3*this._triggerFontSize}_getItemCount(){return this.options.length+this.optionGroups.length}}return t.\u0275fac=function(){let r;return function(i){return(r||(r=n.n5z(t)))(i||t)}}(),t.\u0275cmp=n.Xpm({type:t,selectors:[["mat-select"]],contentQueries:function(e,i,o){if(1&e&&(n.Suo(o,YR,5),n.Suo(o,oy,5),n.Suo(o,$E,5)),2&e){let a;n.iGM(a=n.CRH())&&(i.customTrigger=a.first),n.iGM(a=n.CRH())&&(i.options=a),n.iGM(a=n.CRH())&&(i.optionGroups=a)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","true",1,"mat-select"],hostVars:19,hostBindings:function(e,i){1&e&&n.NdJ("keydown",function(a){return i._handleKeydown(a)})("focus",function(){return i._onFocus()})("blur",function(){return i._onBlur()}),2&e&&(n.uIk("id",i.id)("tabindex",i.tabIndex)("aria-controls",i.panelOpen?i.id+"-panel":null)("aria-expanded",i.panelOpen)("aria-label",i.ariaLabel||null)("aria-required",i.required.toString())("aria-disabled",i.disabled.toString())("aria-invalid",i.errorState)("aria-activedescendant",i._getAriaActiveDescendant()),n.ekj("mat-select-disabled",i.disabled)("mat-select-invalid",i.errorState)("mat-select-required",i.required)("mat-select-empty",i.empty)("mat-select-multiple",i.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matSelect"],features:[n._Bn([{provide:$y,useExisting:t},{provide:iy,useExisting:t}]),n.qOj],ngContentSelectors:F7,decls:9,vars:12,consts:[["cdk-overlay-origin","",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder mat-select-min-line",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder","mat-select-min-line"],[1,"mat-select-value-text",3,"ngSwitch"],["class","mat-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-min-line"],[1,"mat-select-panel-wrap"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(e,i){if(1&e&&(n.F$t(k7),n.TgZ(0,"div",0,1),n.NdJ("click",function(){return i.toggle()}),n.TgZ(3,"div",2),n.YNc(4,E7,2,1,"span",3),n.YNc(5,T7,3,2,"span",4),n.qZA(),n.TgZ(6,"div",5),n._UZ(7,"div",6),n.qZA()(),n.YNc(8,I7,4,14,"ng-template",7),n.NdJ("backdropClick",function(){return i.close()})("attach",function(){return i._onAttached()})("detach",function(){return i.close()})),2&e){const o=n.MAs(1);n.uIk("aria-owns",i.panelOpen?i.id+"-panel":null),n.xp6(3),n.Q6J("ngSwitch",i.empty),n.uIk("id",i._valueId),n.xp6(1),n.Q6J("ngSwitchCase",!0),n.xp6(1),n.Q6J("ngSwitchCase",!1),n.xp6(3),n.Q6J("cdkConnectedOverlayPanelClass",i._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",i._scrollStrategy)("cdkConnectedOverlayOrigin",o)("cdkConnectedOverlayOpen",i.panelOpen)("cdkConnectedOverlayPositions",i._positions)("cdkConnectedOverlayMinWidth",null==i._triggerRect?null:i._triggerRect.width)("cdkConnectedOverlayOffsetY",i._offsetY)}},dependencies:[An,qa,Qs,Ec,xd,Ay],styles:['.mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{height:16px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;margin:0 4px}.mat-form-field.mat-focused .mat-select-arrow{transform:translateX(0)}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px;outline:0}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}'],encapsulation:2,data:{animation:[HR.transformPanelWrap,HR.transformPanel]},changeDetection:0}),t})(),HP=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({providers:[U7],imports:[Zr,Aa,Yx,Xn,ad,Wy,Yx,Xn]}),t})();const q7=["*",[["mat-toolbar-row"]]],Z7=["*","mat-toolbar-row"],Y7=gl(class{constructor(t){this._elementRef=t}});let G7=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=n.lG2({type:t,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),t})(),$R=(()=>{class t extends Y7{constructor(e,i,o){super(e),this._platform=i,this._document=o}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(n.SBq),n.Y36(Di),n.Y36(I))},t.\u0275cmp=n.Xpm({type:t,selectors:[["mat-toolbar"]],contentQueries:function(e,i,o){if(1&e&&n.Suo(o,G7,5),2&e){let a;n.iGM(a=n.CRH())&&(i._toolbarRows=a)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(e,i){2&e&&n.ekj("mat-toolbar-multiple-rows",i._toolbarRows.length>0)("mat-toolbar-single-row",0===i._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[n.qOj],ngContentSelectors:Z7,decls:2,vars:0,template:function(e,i){1&e&&(n.F$t(q7),n.Hsn(0),n.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}"],encapsulation:2,changeDetection:0}),t})(),$7=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[Xn,Xn]}),t})();const W7=["sliderWrapper"],Ns=nc({passive:!1}),eY={provide:Ci,useExisting:(0,n.Gpc)(()=>WR),multi:!0};class tY{}const nY=xf(gl(km(class{constructor(t){this._elementRef=t}}),"accent"));let WR=(()=>{class t extends nY{constructor(e,i,o,a,l,u,p,f){super(e),this._focusMonitor=i,this._changeDetectorRef=o,this._dir=a,this._ngZone=u,this._animationMode=f,this._invert=!1,this._max=100,this._min=0,this._step=1,this._thumbLabel=!1,this._tickInterval=0,this._value=null,this._vertical=!1,this.change=new n.vpe,this.input=new n.vpe,this.valueChange=new n.vpe,this.onTouched=()=>{},this._percent=0,this._isSliding=null,this._isActive=!1,this._tickIntervalPercent=0,this._sliderDimensions=null,this._controlValueAccessorChangeFn=()=>{},this._dirChangeSubscription=Yr.w0.EMPTY,this._pointerDown=h=>{this.disabled||this._isSliding||!Jy(h)&&0!==h.button||this._ngZone.run(()=>{this._touchId=Jy(h)?function rY(t,r){for(let e=0;e<t.touches.length;e++){const i=t.touches[e].target;if(r===i||r.contains(i))return t.touches[e].identifier}}(h,this._elementRef.nativeElement):void 0;const y=JR(h,this._touchId);if(y){const D=this.value;this._isSliding="pointer",this._lastPointerEvent=h,this._focusHostElement(),this._onMouseenter(),this._bindGlobalEvents(h),this._focusHostElement(),this._updateValueFromPosition(y),this._valueOnSlideStart=D,h.cancelable&&h.preventDefault(),D!=this.value&&this._emitInputEvent()}})},this._pointerMove=h=>{if("pointer"===this._isSliding){const y=JR(h,this._touchId);if(y){h.cancelable&&h.preventDefault();const D=this.value;this._lastPointerEvent=h,this._updateValueFromPosition(y),D!=this.value&&this._emitInputEvent()}}},this._pointerUp=h=>{"pointer"===this._isSliding&&(!Jy(h)||"number"!=typeof this._touchId||jP(h.changedTouches,this._touchId))&&(h.cancelable&&h.preventDefault(),this._removeGlobalEvents(),this._isSliding=null,this._touchId=void 0,this._valueOnSlideStart!=this.value&&!this.disabled&&this._emitChangeEvent(),this._valueOnSlideStart=this._lastPointerEvent=null)},this._windowBlur=()=>{this._lastPointerEvent&&this._pointerUp(this._lastPointerEvent)},this._document=p,this.tabIndex=parseInt(l)||0,u.runOutsideAngular(()=>{const h=e.nativeElement;h.addEventListener("mousedown",this._pointerDown,Ns),h.addEventListener("touchstart",this._pointerDown,Ns)})}get invert(){return this._invert}set invert(e){this._invert=Cn(e)}get max(){return this._max}set max(e){this._max=Sa(e,this._max),this._percent=this._calculatePercentage(this._value),this._changeDetectorRef.markForCheck()}get min(){return this._min}set min(e){this._min=Sa(e,this._min),this._percent=this._calculatePercentage(this._value),this._changeDetectorRef.markForCheck()}get step(){return this._step}set step(e){this._step=Sa(e,this._step),this._step%1!=0&&(this._roundToDecimal=this._step.toString().split(".").pop().length),this._changeDetectorRef.markForCheck()}get thumbLabel(){return this._thumbLabel}set thumbLabel(e){this._thumbLabel=Cn(e)}get tickInterval(){return this._tickInterval}set tickInterval(e){this._tickInterval="auto"===e?"auto":"number"==typeof e||"string"==typeof e?Sa(e,this._tickInterval):0}get value(){return null===this._value&&(this.value=this._min),this._value}set value(e){if(e!==this._value){let i=Sa(e,0);this._roundToDecimal&&i!==this.min&&i!==this.max&&(i=parseFloat(i.toFixed(this._roundToDecimal))),this._value=i,this._percent=this._calculatePercentage(this._value),this._changeDetectorRef.markForCheck()}}get vertical(){return this._vertical}set vertical(e){this._vertical=Cn(e)}get displayValue(){return this.displayWith?this.displayWith(this.value):this._roundToDecimal&&this.value&&this.value%1!=0?this.value.toFixed(this._roundToDecimal):this.value||0}focus(e){this._focusHostElement(e)}blur(){this._blurHostElement()}get percent(){return this._clamp(this._percent)}_shouldInvertAxis(){return this.vertical?!this.invert:this.invert}_isMinValue(){return 0===this.percent}_getThumbGap(){return this.disabled?7:this._isMinValue()&&!this.thumbLabel?this._isActive?10:7:0}_getTrackBackgroundStyles(){const i=this.vertical?`1, ${1-this.percent}, 1`:1-this.percent+", 1, 1";return{transform:`translate${this.vertical?"Y":"X"}(${this._shouldInvertMouseCoords()?"-":""}${this._getThumbGap()}px) scale3d(${i})`}}_getTrackFillStyles(){const e=this.percent,o=this.vertical?`1, ${e}, 1`:`${e}, 1, 1`;return{transform:`translate${this.vertical?"Y":"X"}(${this._shouldInvertMouseCoords()?"":"-"}${this._getThumbGap()}px) scale3d(${o})`,display:0===e?"none":""}}_getTicksContainerStyles(){return{transform:`translate${this.vertical?"Y":"X"}(${this.vertical||"rtl"!=this._getDirection()?"-":""}${this._tickIntervalPercent/2*100}%)`}}_getTicksStyles(){let e=100*this._tickIntervalPercent,u={backgroundSize:this.vertical?`2px ${e}%`:`${e}% 2px`,transform:`translateZ(0) translate${this.vertical?"Y":"X"}(${this.vertical||"rtl"!=this._getDirection()?"":"-"}${e/2}%)${this.vertical||"rtl"!=this._getDirection()?"":" rotate(180deg)"}`};if(this._isMinValue()&&this._getThumbGap()){const p=this._shouldInvertAxis();let f;f=this.vertical?p?"Bottom":"Top":p?"Right":"Left",u[`padding${f}`]=`${this._getThumbGap()}px`}return u}_getThumbContainerStyles(){const e=this._shouldInvertAxis();return{transform:`translate${this.vertical?"Y":"X"}(-${100*(("rtl"!=this._getDirection()||this.vertical?e:!e)?this.percent:1-this.percent)}%)`}}_shouldInvertMouseCoords(){const e=this._shouldInvertAxis();return"rtl"!=this._getDirection()||this.vertical?e:!e}_getDirection(){return this._dir&&"rtl"==this._dir.value?"rtl":"ltr"}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{this._isActive=!!e&&"keyboard"!==e,this._changeDetectorRef.detectChanges()}),this._dir&&(this._dirChangeSubscription=this._dir.change.subscribe(()=>{this._changeDetectorRef.markForCheck()}))}ngOnDestroy(){const e=this._elementRef.nativeElement;e.removeEventListener("mousedown",this._pointerDown,Ns),e.removeEventListener("touchstart",this._pointerDown,Ns),this._lastPointerEvent=null,this._removeGlobalEvents(),this._focusMonitor.stopMonitoring(this._elementRef),this._dirChangeSubscription.unsubscribe()}_onMouseenter(){this.disabled||(this._sliderDimensions=this._getSliderDimensions(),this._updateTickIntervalPercent())}_onFocus(){this._sliderDimensions=this._getSliderDimensions(),this._updateTickIntervalPercent()}_onBlur(){this.onTouched()}_onKeydown(e){if(this.disabled||ml(e)||this._isSliding&&"keyboard"!==this._isSliding)return;const i=this.value;switch(e.keyCode){case 33:this._increment(10);break;case 34:this._increment(-10);break;case 35:this.value=this.max;break;case 36:this.value=this.min;break;case 37:this._increment("rtl"==this._getDirection()?1:-1);break;case 38:this._increment(1);break;case 39:this._increment("rtl"==this._getDirection()?-1:1);break;case 40:this._increment(-1);break;default:return}i!=this.value&&(this._emitInputEvent(),this._emitChangeEvent()),this._isSliding="keyboard",e.preventDefault()}_onKeyup(){"keyboard"===this._isSliding&&(this._isSliding=null)}_getWindow(){return this._document.defaultView||window}_bindGlobalEvents(e){const i=this._document,o=Jy(e),l=o?"touchend":"mouseup";i.addEventListener(o?"touchmove":"mousemove",this._pointerMove,Ns),i.addEventListener(l,this._pointerUp,Ns),o&&i.addEventListener("touchcancel",this._pointerUp,Ns);const u=this._getWindow();typeof u<"u"&&u&&u.addEventListener("blur",this._windowBlur)}_removeGlobalEvents(){const e=this._document;e.removeEventListener("mousemove",this._pointerMove,Ns),e.removeEventListener("mouseup",this._pointerUp,Ns),e.removeEventListener("touchmove",this._pointerMove,Ns),e.removeEventListener("touchend",this._pointerUp,Ns),e.removeEventListener("touchcancel",this._pointerUp,Ns);const i=this._getWindow();typeof i<"u"&&i&&i.removeEventListener("blur",this._windowBlur)}_increment(e){const i=this._clamp(this.value||0,this.min,this.max);this.value=this._clamp(i+this.step*e,this.min,this.max)}_updateValueFromPosition(e){if(!this._sliderDimensions)return;let l=this._clamp(((this.vertical?e.y:e.x)-(this.vertical?this._sliderDimensions.top:this._sliderDimensions.left))/(this.vertical?this._sliderDimensions.height:this._sliderDimensions.width));if(this._shouldInvertMouseCoords()&&(l=1-l),0===l)this.value=this.min;else if(1===l)this.value=this.max;else{const u=this._calculateValue(l),p=Math.round((u-this.min)/this.step)*this.step+this.min;this.value=this._clamp(p,this.min,this.max)}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.value),this.valueChange.emit(this.value),this.change.emit(this._createChangeEvent())}_emitInputEvent(){this.input.emit(this._createChangeEvent())}_updateTickIntervalPercent(){if(!this.tickInterval||!this._sliderDimensions)return;let e;if("auto"==this.tickInterval){let i=this.vertical?this._sliderDimensions.height:this._sliderDimensions.width;e=Math.ceil(30/(i*this.step/(this.max-this.min)))*this.step/i}else e=this.tickInterval*this.step/(this.max-this.min);this._tickIntervalPercent=QR(e)?e:0}_createChangeEvent(e=this.value){let i=new tY;return i.source=this,i.value=e,i}_calculatePercentage(e){const i=((e||0)-this.min)/(this.max-this.min);return QR(i)?i:0}_calculateValue(e){return this.min+e*(this.max-this.min)}_clamp(e,i=0,o=1){return Math.max(i,Math.min(e,o))}_getSliderDimensions(){return this._sliderWrapper?this._sliderWrapper.nativeElement.getBoundingClientRect():null}_focusHostElement(e){this._elementRef.nativeElement.focus(e)}_blurHostElement(){this._elementRef.nativeElement.blur()}writeValue(e){this.value=e}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.disabled=e}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(n.SBq),n.Y36(Ka),n.Y36(n.sBO),n.Y36(So,8),n.$8M("tabindex"),n.Y36(n.R0b),n.Y36(I),n.Y36(n.QbO,8))},t.\u0275cmp=n.Xpm({type:t,selectors:[["mat-slider"]],viewQuery:function(e,i){if(1&e&&n.Gf(W7,5),2&e){let o;n.iGM(o=n.CRH())&&(i._sliderWrapper=o.first)}},hostAttrs:["role","slider",1,"mat-slider","mat-focus-indicator"],hostVars:29,hostBindings:function(e,i){1&e&&n.NdJ("focus",function(){return i._onFocus()})("blur",function(){return i._onBlur()})("keydown",function(a){return i._onKeydown(a)})("keyup",function(){return i._onKeyup()})("mouseenter",function(){return i._onMouseenter()})("selectstart",function(a){return a.preventDefault()}),2&e&&(n.Ikx("tabIndex",i.tabIndex),n.uIk("aria-disabled",i.disabled)("aria-valuemax",i.max)("aria-valuemin",i.min)("aria-valuenow",i.value)("aria-valuetext",i.valueText??i.displayValue)("aria-orientation",i.vertical?"vertical":"horizontal"),n.ekj("mat-slider-disabled",i.disabled)("mat-slider-has-ticks",i.tickInterval)("mat-slider-horizontal",!i.vertical)("mat-slider-axis-inverted",i._shouldInvertAxis())("mat-slider-invert-mouse-coords",i._shouldInvertMouseCoords())("mat-slider-sliding",i._isSliding)("mat-slider-thumb-label-showing",i.thumbLabel)("mat-slider-vertical",i.vertical)("mat-slider-min-value",i._isMinValue())("mat-slider-hide-last-tick",i.disabled||i._isMinValue()&&i._getThumbGap()&&i._shouldInvertAxis())("_mat-animation-noopable","NoopAnimations"===i._animationMode))},inputs:{disabled:"disabled",color:"color",tabIndex:"tabIndex",invert:"invert",max:"max",min:"min",step:"step",thumbLabel:"thumbLabel",tickInterval:"tickInterval",value:"value",displayWith:"displayWith",valueText:"valueText",vertical:"vertical"},outputs:{change:"change",input:"input",valueChange:"valueChange"},exportAs:["matSlider"],features:[n._Bn([eY]),n.qOj],decls:13,vars:6,consts:[[1,"mat-slider-wrapper"],["sliderWrapper",""],[1,"mat-slider-track-wrapper"],[1,"mat-slider-track-background",3,"ngStyle"],[1,"mat-slider-track-fill",3,"ngStyle"],[1,"mat-slider-ticks-container",3,"ngStyle"],[1,"mat-slider-ticks",3,"ngStyle"],[1,"mat-slider-thumb-container",3,"ngStyle"],[1,"mat-slider-focus-ring"],[1,"mat-slider-thumb"],[1,"mat-slider-thumb-label"],[1,"mat-slider-thumb-label-text"]],template:function(e,i){1&e&&(n.TgZ(0,"div",0,1)(2,"div",2),n._UZ(3,"div",3)(4,"div",4),n.qZA(),n.TgZ(5,"div",5),n._UZ(6,"div",6),n.qZA(),n.TgZ(7,"div",7),n._UZ(8,"div",8)(9,"div",9),n.TgZ(10,"div",10)(11,"span",11),n._uU(12),n.qZA()()()()),2&e&&(n.xp6(3),n.Q6J("ngStyle",i._getTrackBackgroundStyles()),n.xp6(1),n.Q6J("ngStyle",i._getTrackFillStyles()),n.xp6(1),n.Q6J("ngStyle",i._getTicksContainerStyles()),n.xp6(1),n.Q6J("ngStyle",i._getTicksStyles()),n.xp6(1),n.Q6J("ngStyle",i._getThumbContainerStyles()),n.xp6(5),n.Oqu(i.displayValue))},dependencies:[rt],styles:['.mat-slider{display:inline-block;position:relative;box-sizing:border-box;padding:8px;outline:none;vertical-align:middle}.mat-slider:not(.mat-slider-disabled):active,.mat-slider.mat-slider-sliding:not(.mat-slider-disabled){cursor:grabbing}.mat-slider-wrapper{-webkit-print-color-adjust:exact;color-adjust:exact;position:absolute}.mat-slider-track-wrapper{position:absolute;top:0;left:0;overflow:hidden}.mat-slider-track-fill{position:absolute;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-track-background{position:absolute;transform-origin:100% 100%;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-ticks-container{position:absolute;left:0;top:0;overflow:hidden}.mat-slider-ticks{-webkit-background-clip:content-box;background-clip:content-box;background-repeat:repeat;box-sizing:border-box;opacity:0;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-thumb-container{position:absolute;z-index:1;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-focus-ring{position:absolute;width:30px;height:30px;border-radius:50%;transform:scale(0);opacity:0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider.cdk-keyboard-focused .mat-slider-focus-ring,.mat-slider.cdk-program-focused .mat-slider-focus-ring{transform:scale(1);opacity:1}.mat-slider:not(.mat-slider-disabled):not(.mat-slider-sliding) .mat-slider-thumb-label,.mat-slider:not(.mat-slider-disabled):not(.mat-slider-sliding) .mat-slider-thumb{cursor:grab}.mat-slider-thumb{position:absolute;right:-10px;bottom:-10px;box-sizing:border-box;width:20px;height:20px;border:3px solid rgba(0,0,0,0);border-radius:50%;transform:scale(0.7);transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),border-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-thumb-label{display:none;align-items:center;justify-content:center;position:absolute;width:28px;height:28px;border-radius:50%;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),border-radius 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.cdk-high-contrast-active .mat-slider-thumb-label{outline:solid 1px}.mat-slider-thumb-label-text{z-index:1;opacity:0;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-sliding .mat-slider-track-fill,.mat-slider-sliding .mat-slider-track-background,.mat-slider-sliding .mat-slider-thumb-container{transition-duration:0ms}.mat-slider-has-ticks .mat-slider-wrapper::after{content:"";position:absolute;border-width:0;border-style:solid;opacity:0;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-has-ticks.cdk-focused:not(.mat-slider-hide-last-tick) .mat-slider-wrapper::after,.mat-slider-has-ticks:hover:not(.mat-slider-hide-last-tick) .mat-slider-wrapper::after{opacity:1}.mat-slider-has-ticks.cdk-focused:not(.mat-slider-disabled) .mat-slider-ticks,.mat-slider-has-ticks:hover:not(.mat-slider-disabled) .mat-slider-ticks{opacity:1}.mat-slider-thumb-label-showing .mat-slider-focus-ring{display:none}.mat-slider-thumb-label-showing .mat-slider-thumb-label{display:flex}.mat-slider-axis-inverted .mat-slider-track-fill{transform-origin:100% 100%}.mat-slider-axis-inverted .mat-slider-track-background{transform-origin:0 0}.mat-slider:not(.mat-slider-disabled).cdk-focused.mat-slider-thumb-label-showing .mat-slider-thumb{transform:scale(0)}.mat-slider:not(.mat-slider-disabled).cdk-focused .mat-slider-thumb-label{border-radius:50% 50% 0}.mat-slider:not(.mat-slider-disabled).cdk-focused .mat-slider-thumb-label-text{opacity:1}.mat-slider:not(.mat-slider-disabled).cdk-mouse-focused .mat-slider-thumb,.mat-slider:not(.mat-slider-disabled).cdk-touch-focused .mat-slider-thumb,.mat-slider:not(.mat-slider-disabled).cdk-program-focused .mat-slider-thumb{border-width:2px;transform:scale(1)}.mat-slider-disabled .mat-slider-focus-ring{transform:scale(0);opacity:0}.mat-slider-disabled .mat-slider-thumb{border-width:4px;transform:scale(0.5)}.mat-slider-disabled .mat-slider-thumb-label{display:none}.mat-slider-horizontal{height:48px;min-width:128px}.mat-slider-horizontal .mat-slider-wrapper{height:2px;top:23px;left:8px;right:8px}.mat-slider-horizontal .mat-slider-wrapper::after{height:2px;border-left-width:2px;right:0;top:0}.mat-slider-horizontal .mat-slider-track-wrapper{height:2px;width:100%}.mat-slider-horizontal .mat-slider-track-fill{height:2px;width:100%;transform:scaleX(0)}.mat-slider-horizontal .mat-slider-track-background{height:2px;width:100%;transform:scaleX(1)}.mat-slider-horizontal .mat-slider-ticks-container{height:2px;width:100%}.cdk-high-contrast-active .mat-slider-horizontal .mat-slider-ticks-container{height:0;outline:solid 2px;top:1px}.mat-slider-horizontal .mat-slider-ticks{height:2px;width:100%}.mat-slider-horizontal .mat-slider-thumb-container{width:100%;height:0;top:50%}.mat-slider-horizontal .mat-slider-focus-ring{top:-15px;right:-15px}.mat-slider-horizontal .mat-slider-thumb-label{right:-14px;top:-40px;transform:translateY(26px) scale(0.01) rotate(45deg)}.mat-slider-horizontal .mat-slider-thumb-label-text{transform:rotate(-45deg)}.mat-slider-horizontal.cdk-focused .mat-slider-thumb-label{transform:rotate(45deg)}.cdk-high-contrast-active .mat-slider-horizontal.cdk-focused .mat-slider-thumb-label,.cdk-high-contrast-active .mat-slider-horizontal.cdk-focused .mat-slider-thumb-label-text{transform:none}.mat-slider-vertical{width:48px;min-height:128px}.mat-slider-vertical .mat-slider-wrapper{width:2px;top:8px;bottom:8px;left:23px}.mat-slider-vertical .mat-slider-wrapper::after{width:2px;border-top-width:2px;bottom:0;left:0}.mat-slider-vertical .mat-slider-track-wrapper{height:100%;width:2px}.mat-slider-vertical .mat-slider-track-fill{height:100%;width:2px;transform:scaleY(0)}.mat-slider-vertical .mat-slider-track-background{height:100%;width:2px;transform:scaleY(1)}.mat-slider-vertical .mat-slider-ticks-container{width:2px;height:100%}.cdk-high-contrast-active .mat-slider-vertical .mat-slider-ticks-container{width:0;outline:solid 2px;left:1px}.mat-slider-vertical .mat-slider-focus-ring{bottom:-15px;left:-15px}.mat-slider-vertical .mat-slider-ticks{width:2px;height:100%}.mat-slider-vertical .mat-slider-thumb-container{height:100%;width:0;left:50%}.mat-slider-vertical .mat-slider-thumb{-webkit-backface-visibility:hidden;backface-visibility:hidden}.mat-slider-vertical .mat-slider-thumb-label{bottom:-14px;left:-40px;transform:translateX(26px) scale(0.01) rotate(-45deg)}.mat-slider-vertical .mat-slider-thumb-label-text{transform:rotate(45deg)}.mat-slider-vertical.cdk-focused .mat-slider-thumb-label{transform:rotate(-45deg)}[dir=rtl] .mat-slider-wrapper::after{left:0;right:auto}[dir=rtl] .mat-slider-horizontal .mat-slider-track-fill{transform-origin:100% 100%}[dir=rtl] .mat-slider-horizontal .mat-slider-track-background{transform-origin:0 0}[dir=rtl] .mat-slider-horizontal.mat-slider-axis-inverted .mat-slider-track-fill{transform-origin:0 0}[dir=rtl] .mat-slider-horizontal.mat-slider-axis-inverted .mat-slider-track-background{transform-origin:100% 100%}.mat-slider._mat-animation-noopable .mat-slider-track-fill,.mat-slider._mat-animation-noopable .mat-slider-track-background,.mat-slider._mat-animation-noopable .mat-slider-ticks,.mat-slider._mat-animation-noopable .mat-slider-thumb-container,.mat-slider._mat-animation-noopable .mat-slider-focus-ring,.mat-slider._mat-animation-noopable .mat-slider-thumb,.mat-slider._mat-animation-noopable .mat-slider-thumb-label,.mat-slider._mat-animation-noopable .mat-slider-thumb-label-text,.mat-slider._mat-animation-noopable .mat-slider-has-ticks .mat-slider-wrapper::after{transition:none}'],encapsulation:2,changeDetection:0}),t})();function QR(t){return!isNaN(t)&&isFinite(t)}function Jy(t){return"t"===t.type[0]}function JR(t,r){let e;return e=Jy(t)?"number"==typeof r?jP(t.touches,r)||jP(t.changedTouches,r):t.touches[0]||t.changedTouches[0]:t,e?{x:e.clientX,y:e.clientY}:void 0}function jP(t,r){for(let e=0;e<t.length;e++)if(t[e].identifier===r)return t[e]}let XR=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[Zr,Xn,Xn]}),t})(),qP=(()=>{class t{constructor(){}static registerRoutes(e){for(let i=0;i<e.length;i++)t.registerRoute(e[i].route,e[i].priority)}static registerRoute(e,i){let o=null;for(let a=0;a<t.routes.length;a++)if(t.routes[a].route.path===e.path){o=a;break}null===o?t.routes.push({route:e,priority:i}):t.routes[o].priority<=i&&(t.routes[o].route=e,t.routes[o].priority=i)}static getRoutes(){let e=[];for(let i=0;i<t.routes.length;i++)e.push(t.routes[i].route);return e}}return t.routes=[],t})(),iY=(()=>{class t{constructor(e){this.view=e,this.slot="",this.componentRefs=[],this.changes=null}ngOnInit(){this.view.clear();const e=Fa.getComponents(this.slot);for(let i=0;i<e.length;i++){let o=this.view.createComponent(e[i]);this.componentRefs.push(o),null!==this.changes&&o.instance.onPropsChanged(this.changes)}}ngOnChanges(e){this.changes=e;for(let i=0;i<this.componentRefs.length;i++)this.componentRefs[i].instance.onPropsChanged(this.changes)}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(n.s_b))},t.\u0275dir=n.lG2({type:t,selectors:[["","template-slot",""]],inputs:{slot:"slot"},features:[n.TTD]}),t})();const oY=[{route:{path:"",component:(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Xpm({type:t,selectors:[["apto-home"]],decls:1,vars:0,consts:[["template-slot","","slot","frontend-content"]],template:function(e,i){1&e&&n.GkF(0,0)},dependencies:[iY]}),t})()},priority:100}];var Oo=se(1365);let KR=(()=>{class t{constructor(e,i){this.messageBus=e,this.http=i}getConnectorState(e){return this.http.post(e,{data:{query:"GetState",arguments:[]},encode:"json"},{withCredentials:!0}).pipe((0,xt.U)(i=>({...i.result,configured:!0})))}deleteBasketItem(e,i){return this.http.post(e,{data:{query:"RemoveFromBasket",arguments:[i]},encode:"json"},{withCredentials:!0}).pipe((0,xt.U)(o=>({...o.result,configured:!0})))}findShopContext(){return this.messageBus.query("FindShopContext",[window.location.host]).pipe((0,xt.U)(e=>this.responseToShop(e.result)))}responseToShop(e){let i=yn.defaultLocale;e.languages.length>0&&(i=e.languages[0].isocode);const o=[];e.languages.forEach(l=>{l.isocode===yn.defaultLocale&&(i=l.isocode),o.push({id:l.id,name:l.name,locale:l.isocode})});let a=[];return e.customProperties.forEach(l=>{a.push({key:l.key,value:l.value,translatable:l.translatable})}),window.AptoFrontendLocale&&(i=window.AptoFrontendLocale),{shop:{id:e.id,domain:e.domain,currency:e.currency,name:e.name,connectorUrl:e.connectorUrl,description:e.description,customProperties:a},languages:o,locale:i}}}return t.\u0275fac=function(e){return new(e||t)(n.LFG(Pd),n.LFG(fn))},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac}),t})(),e3=(()=>{class t{constructor(e){this.messageBus=e}findContentSnippetTree(){return this.messageBus.query("FindContentSnippetTree",[!0,!0]).pipe((0,xt.U)(e=>this.responseToContentSnippet(e.result)))}responseToContentSnippet(e){let i=[];return e.forEach(o=>{i.push({name:o.name,content:o.content,children:o.children})}),i}}return t.\u0275fac=function(e){return new(e||t)(n.LFG(Pd))},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac}),t})(),sY=(()=>{class t{constructor(e,i,o,a){this.actions$=e,this.shopRepository=i,this.contentSnippetRepository=o,this.store$=a,this.loadShops$=br(()=>this.actions$.pipe(Yn(ec),(0,Qn.w)(()=>eu([this.shopRepository.findShopContext(),this.contentSnippetRepository.findContentSnippetTree()])),(0,Qn.w)(l=>function aY(t,r,e){return tl(()=>t()?r:e)}(()=>!!l[0].shop.connectorUrl[l[0].locale],this.shopRepository.getConnectorState(l[0].shop.connectorUrl[l[0].locale]).pipe((0,xt.U)(u=>({...l[0],contentSnippets:l[1],connector:u}))),(0,pn.of)({...l[0],contentSnippets:l[1],connector:Jp.connector}))),(0,xt.U)(l=>Qa({payload:{shop:l.shop,languages:l.languages,locale:l.locale,contentSnippets:l.contentSnippets,connector:l.connector}})))),this.deleteBasketItem$=br(()=>this.actions$.pipe(Yn(Qp),(0,Oo.M)(this.store$.select(Xu),this.store$.select(lr)),(0,Qn.w)(([l,u,p])=>this.shopRepository.deleteBasketItem(Pn(u.connectorUrl,p),l.payload.basketItemId)),(0,Qn.w)(l=>[yv(),ec()]))),this.deleteBasketAllItems$=br(()=>this.actions$.pipe(Yn(OC),(0,Oo.M)(this.store$.select(Xu),this.store$.select(lr)),(0,Qn.w)(([l,u,p])=>eu(l.payload.basketItemIds.map(h=>this.shopRepository.deleteBasketItem(Pn(u.connectorUrl,p),h)))),(0,Qn.w)(l=>[yv(),ec()])))}}return t.\u0275fac=function(e){return new(e||t)(n.LFG(eo),n.LFG(KR),n.LFG(e3),n.LFG(Oe.yh))},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac}),t})(),t3=(()=>{class t{constructor(e,i){this.messageBusService=e,this.store=i}resetPassword(e){return this.command("ResetPassword",[{email:e}])}updatePassword(e,i,o){return this.command("ChangePasswordWithToken",[{password:e,repeatPassword:i,token:o}])}command(e,i){return this.messageBusService.command(e,i).pipe((0,pr.h)(o=>(o.message.error&&this.store.dispatch(lc({message:o.message})),!o.message.error)),(0,xt.U)(o=>o.result))}}return t.\u0275fac=function(e){return new(e||t)(n.LFG(Pd),n.LFG(Oe.yh))},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac}),t})(),n3=(()=>{class t{constructor(e,i){this.authMessageBus=e,this.http=i,this.api=yn.api}login(e,i){return this.http.post(this.api.root+"/login",{username:e,password:i}).pipe((0,xt.U)(o=>o.user?{isLoggedIn:!0,id:o.user.id,userName:o.user.username,email:o.user.email,customerGroup:o.user.customerGroup,customerNumber:o.user.customerNumber}:null))}resetPassword(e){return this.authMessageBus.resetPassword(e)}updatePassword(e,i,o){return this.authMessageBus.updatePassword(e,i,o)}logout(){return this.http.post(this.api.root+"/logout",null).pipe((0,xt.U)(e=>null))}status(){return this.http.post(this.api.root+"/current-user",null).pipe((0,xt.U)(e=>e.user?{isLoggedIn:!0,id:e.user.id,userName:e.user.username,email:e.user.email,customerGroup:e.user.customerGroup,customerNumber:e.user.customerNumber}:null))}}return t.\u0275fac=function(e){return new(e||t)(n.LFG(t3),n.LFG(fn))},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac}),t})(),lY=(()=>{class t{constructor(e,i,o,a){this.actions$=e,this.frontendUserRepository=i,this.dialogService=o,this.store$=a,this.login$=br(()=>this.actions$.pipe(Yn(pm),(0,Qn.w)(l=>this.frontendUserRepository.login(l.payload.username,l.payload.password).pipe((0,xt.U)(u=>fm({payload:{currentUser:u}})),(0,ys.K)(u=>(0,pn.of)(hm())))))),this.resetPassword$=br(()=>this.actions$.pipe(Yn(FC),(0,Qn.w)(l=>this.frontendUserRepository.resetPassword(l.payload.email).pipe((0,xt.U)(()=>mm()))))),this.resetPasswordSuccess$=br(()=>this.actions$.pipe(Yn(mm),(0,Oo.M)(this.store$.select(lr).pipe((0,xt.U)(l=>l||yn.defaultLocale)),this.store$.select(un("plugins.frontendUsers.resetSuccess"))),(0,xt.U)(([l,u,p])=>{this.dialogService.openCustomDialog(_c,Ur.md,{type:ts.CONFIRM,hideIcon:!0,descriptionText:Pn(p.content,u)})})),{dispatch:!1}),this.updatePassword$=br(()=>this.actions$.pipe(Yn(wv),(0,Qn.w)(l=>this.frontendUserRepository.updatePassword(l.payload.password,l.payload.repeatPassword,l.payload.token)),(0,xt.U)(()=>Mv()))),this.updatePasswordSuccess$=br(()=>this.actions$.pipe(Yn(Mv),(0,Oo.M)(this.store$.select(lr).pipe((0,xt.U)(l=>l||yn.defaultLocale)),this.store$.select(un("plugins.frontendUsers.updatePasswordSuccess"))),(0,xt.U)(([l,u,p])=>{this.dialogService.openCustomDialog(_c,Ur.md,{type:ts.CONFIRM,hideIcon:!0,descriptionText:Pn(p.content,u)})})),{dispatch:!1}),this.logout$=br(()=>this.actions$.pipe(Yn(TC),(0,Qn.w)(l=>this.frontendUserRepository.logout()),(0,xt.U)(l=>IC()))),this.checkLoginStatus$=br(()=>this.actions$.pipe(Yn(kC),(0,Qn.w)(l=>this.frontendUserRepository.status()),(0,xt.U)(l=>xv({payload:{currentUser:l}}))))}}return t.\u0275fac=function(e){return new(e||t)(n.LFG(eo),n.LFG(n3),n.LFG(Do),n.LFG(Oe.yh))},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac}),t})();function cY(t,r){if(1&t&&(n.TgZ(0,"div")(1,"a",5),n.ALo(2,"contentSnippet"),n._uU(3),n.ALo(4,"contentSnippet"),n.qZA()()),2&t){const e=r.$implicit;n.xp6(1),n.Q6J("href",n.xi3(2,2,e,"link"),n.LSH),n.xp6(2),n.Oqu(n.xi3(4,5,e,"text"))}}function uY(t,r){if(1&t&&(n.ynx(0),n.YNc(1,cY,5,8,"div",4),n.BQk()),2&t){const e=r.ngIf;n.xp6(1),n.Q6J("ngForOf",e.children)}}function dY(t,r){if(1&t&&(n.TgZ(0,"div",6),n._UZ(1,"img",7),n.ALo(2,"contentSnippet"),n.ALo(3,"async"),n.qZA()),2&t){const e=n.oxw();n.xp6(1),n.Q6J("src",e.mediaUrl+n.xi3(2,1,n.lcZ(3,4,e.contentSnippetPayment$),"paymentImage"),n.LSH)}}function pY(t,r){if(1&t&&(n.TgZ(0,"div",8),n._uU(1),n.ALo(2,"contentSnippet"),n.ALo(3,"async"),n.qZA()),2&t){const e=n.oxw();n.xp6(1),n.AsE("Copyright \xa9 ",e.currentYear," ",n.xi3(2,2,n.lcZ(3,5,e.contentSnippetFooterInfo$),"copyright")," ")}}let fY=(()=>{class t{constructor(e){this.store=e,this.links$=this.store.select(un("aptoFooterNav.menu")),this.contentSnippetPayment$=this.store.select(un("aptoFooterPaymentProvider")),this.contentSnippetFooterInfo$=this.store.select(un("aptoFooterInfo")),this.mediaUrl=yn.api.media,this.currentYear=(new Date).getFullYear()}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(Oe.yh))},t.\u0275cmp=n.Xpm({type:t,selectors:[["apto-footer"]],decls:10,vars:15,consts:[[1,"entries"],[4,"ngIf"],["class","paymentOptions",4,"ngIf"],["class","copyright",4,"ngIf"],[4,"ngFor","ngForOf"],["target","_blank",3,"href"],[1,"paymentOptions"],[3,"src"],[1,"copyright"]],template:function(e,i){1&e&&(n.TgZ(0,"mat-toolbar")(1,"div",0),n.YNc(2,uY,2,1,"ng-container",1),n.ALo(3,"async"),n.qZA(),n.YNc(4,dY,4,6,"div",2),n.ALo(5,"contentSnippet"),n.ALo(6,"async"),n.YNc(7,pY,4,7,"div",3),n.ALo(8,"contentSnippet"),n.ALo(9,"async"),n.qZA()),2&e&&(n.xp6(2),n.Q6J("ngIf",n.lcZ(3,3,i.links$)),n.xp6(2),n.Q6J("ngIf",n.xi3(5,5,n.lcZ(6,8,i.contentSnippetPayment$),"paymentImage")),n.xp6(3),n.Q6J("ngIf",n.xi3(8,10,n.lcZ(9,13,i.contentSnippetFooterInfo$),"copyright")))},dependencies:[Ar,rn,$R,hn,ur],styles:["[_nghost-%COMP%]{display:block;position:relative;border-top:3px solid var(--color-optic-lines);background-color:var(--color-background-footer);box-shadow:var(--box-shadow)}a[_ngcontent-%COMP%]{text-decoration:none;font-size:medium;font-weight:700}a[_ngcontent-%COMP%]:hover{cursor:pointer;text-decoration:underline}.paymentOptions[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;padding:30px 0}.copyright[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;color:var(--color-text);font-size:small;font-weight:700;text-align:center;white-space:pre-wrap;border-top:2px solid #e1e0e5;padding:20px 0;opacity:.7}.entries[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:10px;justify-content:space-evenly;flex-wrap:wrap}mat-toolbar[_ngcontent-%COMP%]{padding:0 40px}@media only screen and (max-width: 767px){.paymentOptions[_ngcontent-%COMP%]{padding:15px 0}.paymentOptions[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.copyright[_ngcontent-%COMP%]{padding:15px 0}mat-toolbar[_ngcontent-%COMP%]{width:100%;display:grid;grid-template-columns:1fr;height:-moz-fit-content;height:fit-content;background-color:var(--color-background-footer);position:relative;justify-content:center}.entries[_ngcontent-%COMP%]{padding:10px}img[_ngcontent-%COMP%]{width:auto}}@media only screen and (min-width: 767px){mat-toolbar[_ngcontent-%COMP%]{width:100%;max-width:var(--layout-max-with);margin:0 auto;display:grid;grid-template-rows:100px;grid-template-columns:1fr;height:-moz-fit-content;height:fit-content;background-color:var(--color-background-footer);position:relative;justify-content:center}img[_ngcontent-%COMP%]{height:36px;width:auto}}"]}),t})(),qf=class{constructor(r,e,i){this.store=r,this.dialogRef=e,this.actions$=i,this.contentSnippets$=this.store.select(un("plugins.frontendUsers")),this.formGroup=new mo({email:new Ln(null,[Dr.required,Dr.email])})}save(){!this.formGroup.valid||(this.closeModalOnSuccess(),this.store.dispatch(FC({payload:{email:this.formGroup.get("email").getRawValue()}})))}closeModalOnSuccess(){this.dialogRef?.id&&this.actions$.pipe(Yn(mm),ki(this)).subscribe(r=>{this.dialogRef.close()})}};qf.\u0275fac=function(r){return new(r||qf)(n.Y36(Oe.yh),n.Y36(Pa),n.Y36(eo))},qf.\u0275cmp=n.Xpm({type:qf,selectors:[["apto-forgot-password"]],decls:17,vars:25,consts:[[1,"save-dialog"],[3,"mat-dialog-close","inner"],[3,"formGroup","ngSubmit"],["formControlName","email",3,"fullWidth","name","type"],["mat-flat-button","","color","primary","type","submit",3,"disabled"]],template:function(r,e){1&r&&(n.TgZ(0,"div",0),n._UZ(1,"apto-login-close-button",1),n.TgZ(2,"h3"),n._uU(3),n.ALo(4,"contentSnippet"),n.ALo(5,"async"),n.qZA(),n._UZ(6,"mat-divider"),n.TgZ(7,"form",2),n.NdJ("ngSubmit",function(){return e.save()}),n.TgZ(8,"mat-dialog-content"),n._UZ(9,"apto-input-field",3),n.ALo(10,"contentSnippet"),n.ALo(11,"async"),n.qZA(),n.TgZ(12,"mat-dialog-actions")(13,"button",4),n._uU(14),n.ALo(15,"contentSnippet"),n.ALo(16,"async"),n.qZA()()()()),2&r&&(n.uIk("type","custom"),n.xp6(1),n.Q6J("mat-dialog-close",!0)("inner",!0),n.xp6(2),n.Oqu(n.xi3(4,10,n.lcZ(5,13,e.contentSnippets$),"resetPasswordTitle")),n.xp6(4),n.Q6J("formGroup",e.formGroup),n.xp6(2),n.Q6J("fullWidth",!0)("name",n.xi3(10,15,n.lcZ(11,18,e.contentSnippets$),"email"))("type","text"),n.xp6(4),n.Q6J("disabled",!e.formGroup.valid),n.xp6(1),n.Oqu(n.xi3(15,20,n.lcZ(16,23,e.contentSnippets$),"resetPassword")))},dependencies:[Or,oa,oi,ia,qi,Bo,is,Xc,Kc,vc,io,$N,hn,ur],styles:[".save-dialog[_ngcontent-%COMP%]{position:relative;border-radius:var(--border-radius-card);display:flex;flex-direction:column;border-top-width:3px;border-top-style:solid;padding:var(--element-gap)}.save-dialog[type=confirm][_ngcontent-%COMP%], .save-dialog[type=info][_ngcontent-%COMP%], .save-dialog[type=custom][_ngcontent-%COMP%]{border-color:var(--color-optic-lines-popup)}.save-dialog[type=error][_ngcontent-%COMP%]{border-color:var(--color-optic-lines-popup-error)}.save-dialog[type=warning][_ngcontent-%COMP%]{border-color:var(--color-optic-lines-popup-warning)}.save-dialog[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:var(--element-gap) 0;margin:0;font-size:18px;font-weight:400;text-align:left;gap:var(--element-gap)}.save-dialog[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .forgot-password[_ngcontent-%COMP%]{text-align:right;font-size:1rem;cursor:pointer}.save-dialog[_ngcontent-%COMP%]   mat-dialog-actions[_ngcontent-%COMP%]{display:flex;justify-content:center;justify-items:center;align-items:center;gap:var(--button-gap);width:100%;padding:0;margin:calc(1.5 * var(--element-gap)) 0 0 0;flex-wrap:nowrap;flex-direction:column}.save-dialog[_ngcontent-%COMP%]   mat-dialog-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;margin:0;display:flex;align-items:center;justify-content:center;height:var(--button-mobile-height)}.error-message[_ngcontent-%COMP%]{color:red}@media only screen and (min-width: 767px){.save-dialog[_ngcontent-%COMP%]{position:relative;border-radius:var(--border-radius-card);display:flex;flex-direction:column;border-top-width:3px;border-top-style:solid;padding:34px 72px}.save-dialog[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:var(--element-gap) 0;margin:0;font-size:18px;font-weight:400;text-align:left}.save-dialog[_ngcontent-%COMP%]   mat-dialog-actions[_ngcontent-%COMP%]{display:flex;justify-content:center;justify-items:center;align-items:center;gap:var(--button-gap);width:100%;padding:0;margin:calc(1.5 * var(--element-gap)) 0 0 0;flex-wrap:nowrap;flex-direction:row}.save-dialog[_ngcontent-%COMP%]   mat-dialog-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;margin:0;display:flex;align-items:center;justify-content:center;height:var(--button-tablet-height);max-width:50%}}"]}),qf=(0,Ei.gn)([Ii()],qf);let Tr=class{constructor(r){this.store=r,this.default=yn.defaultLocale,this.locale=this.default,r.select(lr).pipe(ki(this)).subscribe(e=>{this.locale=null===e?this.default:e})}transform(r){return Pn(r,this.locale)}};function hY(t,r){if(1&t){const e=n.EpF();n.TgZ(0,"div",6),n.NdJ("click",function(){n.CHM(e);const o=n.oxw();return n.KtG(o.login())}),n._uU(1),n.ALo(2,"contentSnippet"),n.ALo(3,"async"),n.qZA()}if(2&t){const e=n.oxw();n.xp6(1),n.hij(" ",n.xi3(2,1,n.lcZ(3,4,e.csLogin$),"login")," ")}}function mY(t,r){if(1&t){const e=n.EpF();n.TgZ(0,"div",6),n.NdJ("click",function(){n.CHM(e);const o=n.oxw();return n.KtG(o.logout())}),n._uU(1),n.ALo(2,"contentSnippet"),n.ALo(3,"async"),n.qZA()}if(2&t){const e=n.oxw();n.xp6(1),n.hij(" ",n.xi3(2,1,n.lcZ(3,4,e.csLogin$),"logout")," ")}}function gY(t,r){1&t&&n._UZ(0,"div")}function _Y(t,r){if(1&t&&(n.TgZ(0,"mat-option",12),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&t){const e=r.$implicit;n.Q6J("value",e.locale),n.uIk("data-locale",e.locale),n.xp6(1),n.hij(" ",n.lcZ(2,3,e.name)," ")}}function vY(t,r){if(1&t){const e=n.EpF();n.TgZ(0,"mat-select",9,10),n.NdJ("selectionChange",function(){n.CHM(e);const o=n.MAs(1),a=n.oxw(2);return n.KtG(a.onChangeLanguage(o.value))}),n.ALo(2,"async"),n.YNc(3,_Y,3,5,"mat-option",11),n.qZA()}if(2&t){const e=n.oxw().ngIf,i=n.oxw();n.Q6J("value",n.lcZ(2,2,i.locale$)),n.xp6(3),n.Q6J("ngForOf",e)}}function yY(t,r){if(1&t&&(n.ynx(0),n.TgZ(1,"div",7),n.YNc(2,gY,1,0,"div",2),n.YNc(3,vY,4,4,"mat-select",8),n.qZA(),n.BQk()),2&t){const e=r.ngIf;n.xp6(2),n.Q6J("ngIf",1===e.length),n.xp6(1),n.Q6J("ngIf",e.length>1)}}function bY(t,r){if(1&t&&(n._UZ(0,"img",17),n.ALo(1,"contentSnippet"),n.ALo(2,"async")),2&t){const e=n.oxw(2);n.Q6J("src",e.mediaUrl+n.xi3(1,1,n.lcZ(2,4,e.contentSnippets$),"logoImg"),n.LSH)}}function CY(t,r){if(1&t&&(n._UZ(0,"img",18),n.ALo(1,"contentSnippet"),n.ALo(2,"async")),2&t){const e=n.oxw(2);n.Q6J("src",e.mediaUrl+n.xi3(1,1,n.lcZ(2,4,e.contentSnippets$),"logoImgMobile"),n.LSH)}}function xY(t,r){if(1&t&&(n.TgZ(0,"div",13)(1,"a",14),n.ALo(2,"contentSnippet"),n.ALo(3,"async"),n.ALo(4,"contentSnippet"),n.ALo(5,"async"),n.YNc(6,bY,3,6,"img",15),n.ALo(7,"contentSnippet"),n.ALo(8,"async"),n.YNc(9,CY,3,6,"img",16),n.ALo(10,"contentSnippet"),n.ALo(11,"async"),n.qZA()()),2&t){const e=n.oxw();n.xp6(1),n.Q6J("href",n.xi3(2,4,n.lcZ(3,7,e.contentSnippets$),"link"),n.LSH)("target","active"===n.xi3(4,9,n.lcZ(5,12,e.contentSnippets$),"openInNewTab")?"_blank":"_self"),n.xp6(5),n.Q6J("ngIf",n.xi3(7,14,n.lcZ(8,17,e.contentSnippets$),"logoImg")),n.xp6(3),n.Q6J("ngIf",n.xi3(10,19,n.lcZ(11,22,e.contentSnippets$),"logoImgMobile"))}}function wY(t,r){if(1&t){const e=n.EpF();n.TgZ(0,"div",19)(1,"div",20),n.NdJ("click",function(){n.CHM(e);const o=n.oxw();return n.KtG(o.toggleSideBar())}),n._UZ(2,"span",21),n._uU(3),n.ALo(4,"contentSnippet"),n.ALo(5,"async"),n.qZA()()}if(2&t){const e=n.oxw();n.xp6(3),n.AsE(" ",n.xi3(4,2,n.lcZ(5,5,e.csLinksToShop$),"basket")," (",e.totalQuantity,") ")}}function MY(t,r){1&t&&n._UZ(0,"div")}function SY(t,r){if(1&t&&(n.TgZ(0,"mat-option",12),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&t){const e=r.$implicit;n.Q6J("value",e.locale),n.xp6(1),n.hij(" ",n.lcZ(2,2,e.name)," ")}}function DY(t,r){if(1&t){const e=n.EpF();n.TgZ(0,"mat-select",24,25),n.NdJ("selectionChange",function(){n.CHM(e);const o=n.MAs(1),a=n.oxw(2);return n.KtG(a.onChangeLanguage(o.value))}),n.ALo(2,"async"),n.TgZ(3,"mat-select-trigger")(4,"span",26),n._uU(5,"language"),n.qZA()(),n.YNc(6,SY,3,4,"mat-option",11),n.qZA()}if(2&t){const e=n.oxw().ngIf,i=n.oxw();n.Q6J("value",n.lcZ(2,2,i.locale$)),n.xp6(6),n.Q6J("ngForOf",e)}}function OY(t,r){if(1&t&&(n.ynx(0),n.TgZ(1,"div",22),n.YNc(2,MY,1,0,"div",2),n.YNc(3,DY,7,4,"mat-select",23),n.qZA(),n.BQk()),2&t){const e=r.ngIf;n.xp6(2),n.Q6J("ngIf",1===e.length),n.xp6(1),n.Q6J("ngIf",e.length>1)}}Tr.\u0275fac=function(r){return new(r||Tr)(n.Y36(Oe.yh,16))},Tr.\u0275pipe=n.Yjl({name:"translate",type:Tr,pure:!1}),Tr=(0,Ei.gn)([Ii()],Tr);let EY=(()=>{class t{constructor(e,i,o,a){this.store=e,this.dialogService=i,this.basketService=o,this.messageBusService=a,this.locale=yn.defaultLocale,this.locale$=this.store.select(lr),this.languages$=this.store.select(pO),this.contentSnippets$=this.store.select(un("aptoLogo")),this.csLogin$=this.store.select(un("plugins.frontendUsers")),this.csLinksToShop$=this.store.select(un("aptoLinksToShop")),this.mediaUrl=yn.api.media+"/",this.store.select(lr).subscribe(l=>{null!==l&&(this.locale=l)}),this.store.select(qc).subscribe(l=>{this.connector=l}),this.store.select(LC).subscribe(l=>{this.totalQuantity=l}),this.store.select(Dv).subscribe(l=>{this.isLoggedIn=l}),this.store.select(un("plugins.frontendUsers.loginActive")).subscribe(l=>{this.loginActive=!!l&&"active"===Pn(l.content,this.locale)})}onChangeLanguage(e){this.messageBusService.setLocale(e).pipe((0,ar.q)(1)).subscribe(i=>{i.currentLocale&&this.store.dispatch(jc({payload:i.currentLocale}))})}showLoginButton(){return!(this.connector&&!0===this.connector.configured||!1===this.loginActive||this.isLoggedIn)}showLogoutButton(){return!(this.connector&&!0===this.connector.configured||!1===this.loginActive)&&this.isLoggedIn}login(){this.dialogService.openCustomDialog(Ad,Ur.md).afterClosed().subscribe(e=>{e?.openForgotModal&&this.dialogService.openCustomDialog(qf,Ur.md)})}logout(){this.store.dispatch(TC())}toggleSideBar(){this.basketService.sideBar?.toggle()}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(Oe.yh),n.Y36(Do),n.Y36(gm),n.Y36(Pd))},t.\u0275cmp=n.Xpm({type:t,selectors:[["apto-header"]],decls:12,vars:12,consts:[["identifier","header-top"],["class","login-button",3,"click",4,"ngIf"],[4,"ngIf"],["class","logo",4,"ngIf"],["class","basket-wrapper",4,"ngIf"],["identifier","header-bottom"],[1,"login-button",3,"click"],[1,"language-desktop"],["class","selector",3,"value","selectionChange",4,"ngIf"],[1,"selector",3,"value","selectionChange"],["selectLanguage",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"logo"],[3,"href","target"],["class","visible-desktop",3,"src",4,"ngIf"],["class","visible-mobile",3,"src",4,"ngIf"],[1,"visible-desktop",3,"src"],[1,"visible-mobile",3,"src"],[1,"basket-wrapper"],[1,"basket2",3,"click"],[1,"fa","fa-shopping-cart"],[1,"language-mobile"],["class","selector","disableOptionCentering","","panelClass","language-mobile-popup",3,"value","selectionChange",4,"ngIf"],["disableOptionCentering","","panelClass","language-mobile-popup",1,"selector",3,"value","selectionChange"],["selectLanguageMobile",""],[1,"material-icons","language-icon"]],template:function(e,i){1&e&&(n.TgZ(0,"mat-toolbar"),n._UZ(1,"apto-slot-outlet",0),n.YNc(2,hY,4,6,"div",1),n.YNc(3,mY,4,6,"div",1),n.YNc(4,yY,4,2,"ng-container",2),n.ALo(5,"async"),n.YNc(6,xY,12,24,"div",3),n.ALo(7,"async"),n.YNc(8,wY,6,7,"div",4),n.YNc(9,OY,4,2,"ng-container",2),n.ALo(10,"async"),n._UZ(11,"apto-slot-outlet",5),n.qZA()),2&e&&(n.xp6(2),n.Q6J("ngIf",i.showLoginButton()),n.xp6(1),n.Q6J("ngIf",i.showLogoutButton()),n.xp6(1),n.Q6J("ngIf",n.lcZ(5,6,i.languages$)),n.xp6(2),n.Q6J("ngIf",n.lcZ(7,8,i.contentSnippets$)),n.xp6(2),n.Q6J("ngIf",i.connector.configured),n.xp6(1),n.Q6J("ngIf",n.lcZ(10,10,i.languages$)))},dependencies:[Ar,rn,fo,$R,GR,H7,oy,hn,Tr,ur],styles:['[_nghost-%COMP%]{display:block;position:relative;border-bottom:3px solid var(--color-optic-lines);background-color:var(--color-background-header);box-shadow:var(--box-shadow)}mat-toolbar[_ngcontent-%COMP%]{display:grid;grid-template-rows:100px;grid-template-columns:1fr 1fr 1fr;align-content:stretch;grid-template-areas:"language-desktop logo language-mobile";max-width:var(--layout-max-with);margin:0 auto;padding:5px 40px;position:relative;background-color:var(--color-background-header);height:auto}mat-toolbar[_ngcontent-%COMP%]   .language-desktop[_ngcontent-%COMP%]{grid-area:language-desktop;display:flex;justify-content:flex-start;align-items:flex-start;font-size:1rem}mat-toolbar[_ngcontent-%COMP%]   .language-desktop[_ngcontent-%COMP%]   mat-select[_ngcontent-%COMP%]{width:110px;color:var(--color-text);font-weight:600}mat-toolbar[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{grid-area:logo;display:flex;align-content:center;justify-content:center}mat-toolbar[_ngcontent-%COMP%]   .language-mobile[_ngcontent-%COMP%]{grid-area:language-mobile;display:none;justify-content:flex-end;align-items:flex-end;font-size:1rem}mat-toolbar[_ngcontent-%COMP%]   .language-mobile[_ngcontent-%COMP%]   mat-select[_ngcontent-%COMP%]{width:auto;color:var(--color-text);font-weight:600;padding-bottom:0;display:flex}mat-toolbar[_ngcontent-%COMP%]   .language-mobile[_ngcontent-%COMP%]   mat-select[_ngcontent-%COMP%]     .mat-select-arrow-wrapper{display:none}mat-toolbar[_ngcontent-%COMP%]   .language-mobile[_ngcontent-%COMP%]   mat-select[_ngcontent-%COMP%]   .language-icon[_ngcontent-%COMP%]{display:flex}  .language-mobile-popup{min-width:calc(100% + 12px)!important}.visible-mobile[_ngcontent-%COMP%]{display:none}.visible-desktop[_ngcontent-%COMP%]{display:block}.login-button[_ngcontent-%COMP%]{position:absolute;right:40px;top:0;font-size:16px;color:#fff;padding:2px 10px;cursor:pointer;border-radius:0 0 5px 5px;background-color:var(--color-primary)}.login-button[_ngcontent-%COMP%]:hover{background-color:var(--color-primary-hover)}.basket-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-self:flex-end;font-size:16px;color:var(--color-text);cursor:pointer}@media (max-width: 767px){.visible-mobile[_ngcontent-%COMP%]{display:block}.visible-desktop[_ngcontent-%COMP%]{display:none}mat-toolbar[_ngcontent-%COMP%]{grid-template-rows:60px}mat-toolbar[_ngcontent-%COMP%]   .language-mobile[_ngcontent-%COMP%]{display:flex}mat-toolbar[_ngcontent-%COMP%]   .language-desktop[_ngcontent-%COMP%]{display:none}.basket-wrapper[_ngcontent-%COMP%]{justify-self:flex-start}}']}),t})(),r3=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({}),t})();qP.registerRoutes(oY);let ss=(()=>{class t{constructor(){to.components.set("header",EY),to.components.set("footer",fY)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({providers:[e3,KR,n3,{provide:pc,useClass:F1},t3],imports:[Zr,Jo,Na,Oe.Aw.forFeature(sO,Sv),dm.forFeature([sY,lY]),$7,HP,IR,zm,Ia,na,Aa,_l,ka,aa,Aw,rs,Ta,pw,XR,r3,r3]}),t})(),o3=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[Xn,Xn]}),t})(),AY=0;const ZP=new n.OlP("CdkAccordion");let PY=(()=>{class t{constructor(){this._stateChanges=new dn.x,this._openCloseAllActions=new dn.x,this.id="cdk-accordion-"+AY++,this._multi=!1}get multi(){return this._multi}set multi(e){this._multi=Cn(e)}openAll(){this._multi&&this._openCloseAllActions.next(!0)}closeAll(){this._openCloseAllActions.next(!1)}ngOnChanges(e){this._stateChanges.next(e)}ngOnDestroy(){this._stateChanges.complete(),this._openCloseAllActions.complete()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=n.lG2({type:t,selectors:[["cdk-accordion"],["","cdkAccordion",""]],inputs:{multi:"multi"},exportAs:["cdkAccordion"],features:[n._Bn([{provide:ZP,useExisting:t}]),n.TTD]}),t})(),TY=0,IY=(()=>{class t{constructor(e,i,o){this.accordion=e,this._changeDetectorRef=i,this._expansionDispatcher=o,this._openCloseAllSubscription=Yr.w0.EMPTY,this.closed=new n.vpe,this.opened=new n.vpe,this.destroyed=new n.vpe,this.expandedChange=new n.vpe,this.id="cdk-accordion-child-"+TY++,this._expanded=!1,this._disabled=!1,this._removeUniqueSelectionListener=()=>{},this._removeUniqueSelectionListener=o.listen((a,l)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===l&&this.id!==a&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}get expanded(){return this._expanded}set expanded(e){e=Cn(e),this._expanded!==e&&(this._expanded=e,this.expandedChange.emit(e),e?(this.opened.emit(),this._expansionDispatcher.notify(this.id,this.accordion?this.accordion.id:this.id)):this.closed.emit(),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(e){this._disabled=Cn(e)}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(e=>{this.disabled||(this.expanded=e)})}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(ZP,12),n.Y36(n.sBO),n.Y36(zP))},t.\u0275dir=n.lG2({type:t,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:"expanded",disabled:"disabled"},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],features:[n._Bn([{provide:ZP,useValue:void 0}])]}),t})(),kY=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({}),t})();const FY=["body"];function NY(t,r){}const RY=[[["mat-expansion-panel-header"]],"*",[["mat-action-row"]]],LY=["mat-expansion-panel-header","*","mat-action-row"];function BY(t,r){if(1&t&&n._UZ(0,"span",2),2&t){const e=n.oxw();n.Q6J("@indicatorRotate",e._getExpandedState())}}const UY=[[["mat-panel-title"]],[["mat-panel-description"]],"*"],VY=["mat-panel-title","mat-panel-description","*"],YP=new n.OlP("MAT_ACCORDION"),a3="225ms cubic-bezier(0.4,0.0,0.2,1)",s3={indicatorRotate:ta("indicatorRotate",[$r("collapsed, void",Gn({transform:"rotate(0deg)"})),$r("expanded",Gn({transform:"rotate(180deg)"})),bi("expanded <=> collapsed, void => collapsed",ri(a3))]),bodyExpansion:ta("bodyExpansion",[$r("collapsed, void",Gn({height:"0px",visibility:"hidden"})),$r("expanded",Gn({height:"*",visibility:"visible"})),bi("expanded <=> collapsed, void => collapsed",ri(a3))])},l3=new n.OlP("MAT_EXPANSION_PANEL");let zY=(()=>{class t{constructor(e,i){this._template=e,this._expansionPanel=i}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(n.Rgc),n.Y36(l3,8))},t.\u0275dir=n.lG2({type:t,selectors:[["ng-template","matExpansionPanelContent",""]]}),t})(),HY=0;const c3=new n.OlP("MAT_EXPANSION_PANEL_DEFAULT_OPTIONS");let GP=(()=>{class t extends IY{constructor(e,i,o,a,l,u,p){super(e,i,o),this._viewContainerRef=a,this._animationMode=u,this._hideToggle=!1,this.afterExpand=new n.vpe,this.afterCollapse=new n.vpe,this._inputChanges=new dn.x,this._headerId="mat-expansion-panel-header-"+HY++,this._bodyAnimationDone=new dn.x,this.accordion=e,this._document=l,this._bodyAnimationDone.pipe((0,Xa.x)((f,h)=>f.fromState===h.fromState&&f.toState===h.toState)).subscribe(f=>{"void"!==f.fromState&&("expanded"===f.toState?this.afterExpand.emit():"collapsed"===f.toState&&this.afterCollapse.emit())}),p&&(this.hideToggle=p.hideToggle)}get hideToggle(){return this._hideToggle||this.accordion&&this.accordion.hideToggle}set hideToggle(e){this._hideToggle=Cn(e)}get togglePosition(){return this._togglePosition||this.accordion&&this.accordion.togglePosition}set togglePosition(e){this._togglePosition=e}_hasSpacing(){return!!this.accordion&&this.expanded&&"default"===this.accordion.displayMode}_getExpandedState(){return this.expanded?"expanded":"collapsed"}toggle(){this.expanded=!this.expanded}close(){this.expanded=!1}open(){this.expanded=!0}ngAfterContentInit(){this._lazyContent&&this._lazyContent._expansionPanel===this&&this.opened.pipe(Fo(null),(0,pr.h)(()=>this.expanded&&!this._portal),(0,ar.q)(1)).subscribe(()=>{this._portal=new bd(this._lazyContent._template,this._viewContainerRef)})}ngOnChanges(e){this._inputChanges.next(e)}ngOnDestroy(){super.ngOnDestroy(),this._bodyAnimationDone.complete(),this._inputChanges.complete()}_containsFocus(){if(this._body){const e=this._document.activeElement,i=this._body.nativeElement;return e===i||i.contains(e)}return!1}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(YP,12),n.Y36(n.sBO),n.Y36(zP),n.Y36(n.s_b),n.Y36(I),n.Y36(n.QbO,8),n.Y36(c3,8))},t.\u0275cmp=n.Xpm({type:t,selectors:[["mat-expansion-panel"]],contentQueries:function(e,i,o){if(1&e&&n.Suo(o,zY,5),2&e){let a;n.iGM(a=n.CRH())&&(i._lazyContent=a.first)}},viewQuery:function(e,i){if(1&e&&n.Gf(FY,5),2&e){let o;n.iGM(o=n.CRH())&&(i._body=o.first)}},hostAttrs:[1,"mat-expansion-panel"],hostVars:6,hostBindings:function(e,i){2&e&&n.ekj("mat-expanded",i.expanded)("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-expansion-panel-spacing",i._hasSpacing())},inputs:{disabled:"disabled",expanded:"expanded",hideToggle:"hideToggle",togglePosition:"togglePosition"},outputs:{opened:"opened",closed:"closed",expandedChange:"expandedChange",afterExpand:"afterExpand",afterCollapse:"afterCollapse"},exportAs:["matExpansionPanel"],features:[n._Bn([{provide:YP,useValue:void 0},{provide:l3,useExisting:t}]),n.qOj,n.TTD],ngContentSelectors:LY,decls:7,vars:4,consts:[["role","region",1,"mat-expansion-panel-content",3,"id"],["body",""],[1,"mat-expansion-panel-body"],[3,"cdkPortalOutlet"]],template:function(e,i){1&e&&(n.F$t(RY),n.Hsn(0),n.TgZ(1,"div",0,1),n.NdJ("@bodyExpansion.done",function(a){return i._bodyAnimationDone.next(a)}),n.TgZ(3,"div",2),n.Hsn(4,1),n.YNc(5,NY,0,0,"ng-template",3),n.qZA(),n.Hsn(6,2),n.qZA()),2&e&&(n.xp6(1),n.Q6J("@bodyExpansion",i._getExpandedState())("id",i.id),n.uIk("aria-labelledby",i._headerId),n.xp6(4),n.Q6J("cdkPortalOutlet",i._portal))},dependencies:[dc],styles:['.mat-expansion-panel{box-sizing:content-box;display:block;margin:0;border-radius:4px;overflow:hidden;transition:margin 225ms cubic-bezier(0.4, 0, 0.2, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);position:relative}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:4px;border-top-left-radius:4px}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:4px;border-bottom-left-radius:4px}.cdk-high-contrast-active .mat-expansion-panel{outline:solid 1px}.mat-expansion-panel.ng-animate-disabled,.ng-animate-disabled .mat-expansion-panel,.mat-expansion-panel._mat-animation-noopable{transition:none}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible}.mat-expansion-panel-content[style*="visibility: hidden"] *{visibility:hidden !important}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>*:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>*:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px}.mat-action-row .mat-button-base,.mat-action-row .mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-action-row .mat-button-base,[dir=rtl] .mat-action-row .mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2,data:{animation:[s3.bodyExpansion]},changeDetection:0}),t})();class jY{}const qY=xf(jY);let $P=(()=>{class t extends qY{constructor(e,i,o,a,l,u,p){super(),this.panel=e,this._element=i,this._focusMonitor=o,this._changeDetectorRef=a,this._animationMode=u,this._parentChangeSubscription=Yr.w0.EMPTY;const f=e.accordion?e.accordion._stateChanges.pipe((0,pr.h)(h=>!(!h.hideToggle&&!h.togglePosition))):Ji.E;this.tabIndex=parseInt(p||"")||0,this._parentChangeSubscription=(0,Mo.T)(e.opened,e.closed,f,e._inputChanges.pipe((0,pr.h)(h=>!!(h.hideToggle||h.disabled||h.togglePosition)))).subscribe(()=>this._changeDetectorRef.markForCheck()),e.closed.pipe((0,pr.h)(()=>e._containsFocus())).subscribe(()=>o.focusVia(i,"program")),l&&(this.expandedHeight=l.expandedHeight,this.collapsedHeight=l.collapsedHeight)}get disabled(){return this.panel.disabled}_toggle(){this.disabled||this.panel.toggle()}_isExpanded(){return this.panel.expanded}_getExpandedState(){return this.panel._getExpandedState()}_getPanelId(){return this.panel.id}_getTogglePosition(){return this.panel.togglePosition}_showToggle(){return!this.panel.hideToggle&&!this.panel.disabled}_getHeaderHeight(){const e=this._isExpanded();return e&&this.expandedHeight?this.expandedHeight:!e&&this.collapsedHeight?this.collapsedHeight:null}_keydown(e){switch(e.keyCode){case 32:case 13:ml(e)||(e.preventDefault(),this._toggle());break;default:return void(this.panel.accordion&&this.panel.accordion._handleHeaderKeydown(e))}}focus(e,i){e?this._focusMonitor.focusVia(this._element,e,i):this._element.nativeElement.focus(i)}ngAfterViewInit(){this._focusMonitor.monitor(this._element).subscribe(e=>{e&&this.panel.accordion&&this.panel.accordion._handleHeaderFocus(this)})}ngOnDestroy(){this._parentChangeSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element)}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(GP,1),n.Y36(n.SBq),n.Y36(Ka),n.Y36(n.sBO),n.Y36(c3,8),n.Y36(n.QbO,8),n.$8M("tabindex"))},t.\u0275cmp=n.Xpm({type:t,selectors:[["mat-expansion-panel-header"]],hostAttrs:["role","button",1,"mat-expansion-panel-header","mat-focus-indicator"],hostVars:15,hostBindings:function(e,i){1&e&&n.NdJ("click",function(){return i._toggle()})("keydown",function(a){return i._keydown(a)}),2&e&&(n.uIk("id",i.panel._headerId)("tabindex",i.tabIndex)("aria-controls",i._getPanelId())("aria-expanded",i._isExpanded())("aria-disabled",i.panel.disabled),n.Udp("height",i._getHeaderHeight()),n.ekj("mat-expanded",i._isExpanded())("mat-expansion-toggle-indicator-after","after"===i._getTogglePosition())("mat-expansion-toggle-indicator-before","before"===i._getTogglePosition())("_mat-animation-noopable","NoopAnimations"===i._animationMode))},inputs:{tabIndex:"tabIndex",expandedHeight:"expandedHeight",collapsedHeight:"collapsedHeight"},features:[n.qOj],ngContentSelectors:VY,decls:5,vars:3,consts:[[1,"mat-content"],["class","mat-expansion-indicator",4,"ngIf"],[1,"mat-expansion-indicator"]],template:function(e,i){1&e&&(n.F$t(UY),n.TgZ(0,"span",0),n.Hsn(1),n.Hsn(2,1),n.Hsn(3,2),n.qZA(),n.YNc(4,BY,1,1,"span",1)),2&e&&(n.ekj("mat-content-hide-toggle",!i._showToggle()),n.xp6(4),n.Q6J("ngIf",i._showToggle()))},dependencies:[rn],styles:['.mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px;border-radius:inherit;transition:height 225ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-expansion-panel-header._mat-animation-noopable{transition:none}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:none}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before{flex-direction:row-reverse}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 16px 0 0}[dir=rtl] .mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 0 0 16px}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-content.mat-content-hide-toggle{margin-right:8px}[dir=rtl] .mat-content.mat-content-hide-toggle{margin-right:0;margin-left:8px}.mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-left:24px;margin-right:0}[dir=rtl] .mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-right:24px;margin-left:0}.mat-expansion-panel-header-title,.mat-expansion-panel-header-description{display:flex;flex-grow:1;flex-basis:0;margin-right:16px;align-items:center}[dir=rtl] .mat-expansion-panel-header-title,[dir=rtl] .mat-expansion-panel-header-description{margin-right:0;margin-left:16px}.mat-expansion-panel-header-description{flex-grow:2}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:"";display:inline-block;padding:3px;transform:rotate(45deg);vertical-align:middle}.cdk-high-contrast-active .mat-expansion-panel-content{border-top:1px solid;border-top-left-radius:0;border-top-right-radius:0}'],encapsulation:2,data:{animation:[s3.indicatorRotate]},changeDetection:0}),t})(),u3=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=n.lG2({type:t,selectors:[["mat-panel-title"]],hostAttrs:[1,"mat-expansion-panel-header-title"]}),t})(),d3=(()=>{class t extends PY{constructor(){super(...arguments),this._ownHeaders=new n.n_E,this._hideToggle=!1,this.displayMode="default",this.togglePosition="after"}get hideToggle(){return this._hideToggle}set hideToggle(e){this._hideToggle=Cn(e)}ngAfterContentInit(){this._headers.changes.pipe(Fo(this._headers)).subscribe(e=>{this._ownHeaders.reset(e.filter(i=>i.panel.accordion===this)),this._ownHeaders.notifyOnChanges()}),this._keyManager=new gf(this._ownHeaders).withWrap().withHomeAndEnd()}_handleHeaderKeydown(e){this._keyManager.onKeydown(e)}_handleHeaderFocus(e){this._keyManager.updateActiveItem(e)}ngOnDestroy(){super.ngOnDestroy(),this._ownHeaders.destroy()}}return t.\u0275fac=function(){let r;return function(i){return(r||(r=n.n5z(t)))(i||t)}}(),t.\u0275dir=n.lG2({type:t,selectors:[["mat-accordion"]],contentQueries:function(e,i,o){if(1&e&&n.Suo(o,$P,5),2&e){let a;n.iGM(a=n.CRH())&&(i._headers=a)}},hostAttrs:[1,"mat-accordion"],hostVars:2,hostBindings:function(e,i){2&e&&n.ekj("mat-accordion-multi",i.multi)},inputs:{multi:"multi",hideToggle:"hideToggle",displayMode:"displayMode",togglePosition:"togglePosition"},exportAs:["matAccordion"],features:[n._Bn([{provide:YP,useExisting:t}]),n.qOj]}),t})(),ZY=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[Zr,Xn,kY,rs]}),t})();const p3=nc({passive:!0});let YY=(()=>{class t{constructor(e,i){this._platform=e,this._ngZone=i,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return Ji.E;const i=dl(e),o=this._monitoredElements.get(i);if(o)return o.subject;const a=new dn.x,l="cdk-text-field-autofilled",u=p=>{"cdk-text-field-autofill-start"!==p.animationName||i.classList.contains(l)?"cdk-text-field-autofill-end"===p.animationName&&i.classList.contains(l)&&(i.classList.remove(l),this._ngZone.run(()=>a.next({target:p.target,isAutofilled:!1}))):(i.classList.add(l),this._ngZone.run(()=>a.next({target:p.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",u,p3),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:a,unlisten:()=>{i.removeEventListener("animationstart",u,p3)}}),a}stopMonitoring(e){const i=dl(e),o=this._monitoredElements.get(i);o&&(o.unlisten(),o.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((e,i)=>this.stopMonitoring(i))}}return t.\u0275fac=function(e){return new(e||t)(n.LFG(Di),n.LFG(n.R0b))},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),f3=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({}),t})();const WP=new n.OlP("MAT_INPUT_VALUE_ACCESSOR"),GY=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let $Y=0;const WY=Kv(class{constructor(t,r,e,i){this._defaultErrorStateMatcher=t,this._parentForm=r,this._parentFormGroup=e,this.ngControl=i,this.stateChanges=new dn.x}});let QY=(()=>{class t extends WY{constructor(e,i,o,a,l,u,p,f,h,y){super(u,a,l,o),this._elementRef=e,this._platform=i,this._autofillMonitor=f,this._formField=y,this._uid="mat-input-"+$Y++,this.focused=!1,this.stateChanges=new dn.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(k=>ed().has(k)),this._iOSKeyupListener=k=>{const T=k.target;!T.value&&0===T.selectionStart&&0===T.selectionEnd&&(T.setSelectionRange(1,1),T.setSelectionRange(0,0))};const D=this._elementRef.nativeElement,E=D.nodeName.toLowerCase();this._inputValueAccessor=p||D,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&h.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===E,this._isTextarea="textarea"===E,this._isInFormField=!!y,this._isNativeSelect&&(this.controlType=D.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(e){this._disabled=Cn(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(Dr.required)??!1}set required(e){this._required=Cn(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&ed().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=Cn(e)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){const e=this._formField,i=e&&"legacy"===e.appearance&&!e._hasLabel?.()?null:this.placeholder;if(i!==this._previousPlaceholder){const o=this._elementRef.nativeElement;this._previousPlaceholder=i,i?o.setAttribute("placeholder",i):o.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_validateType(){GY.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,i=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(n.SBq),n.Y36(Di),n.Y36(bl,10),n.Y36(ig,8),n.Y36(qi,8),n.Y36(Fm),n.Y36(WP,10),n.Y36(YY),n.Y36(n.R0b),n.Y36(Pw,8))},t.\u0275dir=n.lG2({type:t,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(e,i){1&e&&n.NdJ("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),2&e&&(n.Ikx("disabled",i.disabled)("required",i.required),n.uIk("id",i.id)("data-placeholder",i.placeholder)("name",i.name||null)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required),n.ekj("mat-input-server",i._isServer)("mat-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[n._Bn([{provide:$y,useExisting:t}]),n.qOj,n.TTD]}),t})(),QP=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({providers:[Fm],imports:[f3,Wy,Xn,f3,Wy]}),t})();function JY(t,r){if(1&t){const e=n.EpF();n.TgZ(0,"div",2)(1,"button",3),n.NdJ("click",function(){n.CHM(e);const o=n.oxw();return n.KtG(o.action())}),n._uU(2),n.qZA()()}if(2&t){const e=n.oxw();n.xp6(2),n.Oqu(e.data.action)}}function XY(t,r){}const h3=new n.OlP("MatSnackBarData");class Iw{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}const KY=Math.pow(2,31)-1;class JP{constructor(r,e){this._overlayRef=e,this._afterDismissed=new dn.x,this._afterOpened=new dn.x,this._onAction=new dn.x,this._dismissedByAction=!1,this.containerInstance=r,r._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(r){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(r,KY))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}let eG=(()=>{class t{constructor(e,i){this.snackBarRef=e,this.data=i}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(JP),n.Y36(h3))},t.\u0275cmp=n.Xpm({type:t,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-simple-snackbar"],decls:3,vars:2,consts:[[1,"mat-simple-snack-bar-content"],["class","mat-simple-snackbar-action",4,"ngIf"],[1,"mat-simple-snackbar-action"],["mat-button","",3,"click"]],template:function(e,i){1&e&&(n.TgZ(0,"span",0),n._uU(1),n.qZA(),n.YNc(2,JY,3,1,"div",1)),2&e&&(n.xp6(1),n.Oqu(i.data.message),n.xp6(1),n.Q6J("ngIf",i.hasAction))},dependencies:[rn,Or],styles:[".mat-simple-snackbar{display:flex;justify-content:space-between;align-items:center;line-height:20px;opacity:1}.mat-simple-snackbar-action{flex-shrink:0;margin:-8px -8px -8px 8px}.mat-simple-snackbar-action button{max-height:36px;min-width:0}[dir=rtl] .mat-simple-snackbar-action{margin-left:-8px;margin-right:8px}.mat-simple-snack-bar-content{overflow:hidden;text-overflow:ellipsis}"],encapsulation:2,changeDetection:0}),t})();const tG={snackBarState:ta("state",[$r("void, hidden",Gn({transform:"scale(0.8)",opacity:0})),$r("visible",Gn({transform:"scale(1)",opacity:1})),bi("* => visible",ri("150ms cubic-bezier(0, 0, 0.2, 1)")),bi("* => void, * => hidden",ri("75ms cubic-bezier(0.4, 0.0, 1, 1)",Gn({opacity:0})))])};let nG=(()=>{class t extends Xm{constructor(e,i,o,a,l){super(),this._ngZone=e,this._elementRef=i,this._changeDetectorRef=o,this._platform=a,this.snackBarConfig=l,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new dn.x,this._onExit=new dn.x,this._onEnter=new dn.x,this._animationState="void",this.attachDomPortal=u=>{this._assertNotAttached();const p=this._portalOutlet.attachDomPortal(u);return this._afterPortalAttached(),p},this._live="assertive"!==l.politeness||l.announcementMessage?"off"===l.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(e){this._assertNotAttached();const i=this._portalOutlet.attachComponentPortal(e);return this._afterPortalAttached(),i}attachTemplatePortal(e){this._assertNotAttached();const i=this._portalOutlet.attachTemplatePortal(e);return this._afterPortalAttached(),i}onAnimationEnd(e){const{fromState:i,toState:o}=e;if(("void"===o&&"void"!==i||"hidden"===o)&&this._completeExit(),"visible"===o){const a=this._onEnter;this._ngZone.run(()=>{a.next(),a.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe((0,ar.q)(1)).subscribe(()=>{this._ngZone.run(()=>{this._onExit.next(),this._onExit.complete()})})}_afterPortalAttached(){const e=this._elementRef.nativeElement,i=this.snackBarConfig.panelClass;i&&(Array.isArray(i)?i.forEach(o=>e.classList.add(o)):e.classList.add(i))}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const e=this._elementRef.nativeElement.querySelector("[aria-hidden]"),i=this._elementRef.nativeElement.querySelector("[aria-live]");if(e&&i){let o=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&e.contains(document.activeElement)&&(o=document.activeElement),e.removeAttribute("aria-hidden"),i.appendChild(e),o?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(n.R0b),n.Y36(n.SBq),n.Y36(n.sBO),n.Y36(Di),n.Y36(Iw))},t.\u0275dir=n.lG2({type:t,viewQuery:function(e,i){if(1&e&&n.Gf(dc,7),2&e){let o;n.iGM(o=n.CRH())&&(i._portalOutlet=o.first)}},features:[n.qOj]}),t})(),rG=(()=>{class t extends nG{_afterPortalAttached(){super._afterPortalAttached(),"center"===this.snackBarConfig.horizontalPosition&&this._elementRef.nativeElement.classList.add("mat-snack-bar-center"),"top"===this.snackBarConfig.verticalPosition&&this._elementRef.nativeElement.classList.add("mat-snack-bar-top")}}return t.\u0275fac=function(){let r;return function(i){return(r||(r=n.n5z(t)))(i||t)}}(),t.\u0275cmp=n.Xpm({type:t,selectors:[["snack-bar-container"]],hostAttrs:[1,"mat-snack-bar-container"],hostVars:1,hostBindings:function(e,i){1&e&&n.WFA("@state.done",function(a){return i.onAnimationEnd(a)}),2&e&&n.d8E("@state",i._animationState)},features:[n.qOj],decls:3,vars:2,consts:[["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(e,i){1&e&&(n.TgZ(0,"div",0),n.YNc(1,XY,0,0,"ng-template",1),n.qZA(),n._UZ(2,"div")),2&e&&(n.xp6(2),n.uIk("aria-live",i._live)("role",i._role))},dependencies:[dc],styles:[".mat-snack-bar-container{border-radius:4px;box-sizing:border-box;display:block;margin:24px;max-width:33vw;min-width:344px;padding:14px 16px;min-height:48px;transform-origin:center}.cdk-high-contrast-active .mat-snack-bar-container{border:solid 1px}.mat-snack-bar-handset{width:100%}.mat-snack-bar-handset .mat-snack-bar-container{margin:8px;max-width:100%;min-width:0;width:100%}"],encapsulation:2,data:{animation:[tG.snackBarState]}}),t})(),m3=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[Aa,rs,Zr,Ia,Xn,Xn]}),t})();const g3=new n.OlP("mat-snack-bar-default-options",{providedIn:"root",factory:function iG(){return new Iw}});let oG=(()=>{class t{constructor(e,i,o,a,l,u){this._overlay=e,this._live=i,this._injector=o,this._breakpointObserver=a,this._parentSnackBar=l,this._defaultConfig=u,this._snackBarRefAtThisLevel=null}get _openedSnackBarRef(){const e=this._parentSnackBar;return e?e._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(e){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=e:this._snackBarRefAtThisLevel=e}openFromComponent(e,i){return this._attach(e,i)}openFromTemplate(e,i){return this._attach(e,i)}open(e,i="",o){const a={...this._defaultConfig,...o};return a.data={message:e,action:i},a.announcementMessage===e&&(a.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,a)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(e,i){const a=n.zs3.create({parent:i&&i.viewContainerRef&&i.viewContainerRef.injector||this._injector,providers:[{provide:Iw,useValue:i}]}),l=new uc(this.snackBarContainerComponent,i.viewContainerRef,a),u=e.attach(l);return u.instance.snackBarConfig=i,u.instance}_attach(e,i){const o={...new Iw,...this._defaultConfig,...i},a=this._createOverlay(o),l=this._attachSnackBarContainer(a,o),u=new JP(l,a);if(e instanceof n.Rgc){const p=new bd(e,null,{$implicit:o.data,snackBarRef:u});u.instance=l.attachTemplatePortal(p)}else{const p=this._createInjector(o,u),f=new uc(e,void 0,p),h=l.attachComponentPortal(f);u.instance=h.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe((0,Zn.R)(a.detachments())).subscribe(p=>{a.overlayElement.classList.toggle(this.handsetCssClass,p.matches)}),o.announcementMessage&&l._onAnnounce.subscribe(()=>{this._live.announce(o.announcementMessage,o.politeness)}),this._animateSnackBar(u,o),this._openedSnackBarRef=u,this._openedSnackBarRef}_animateSnackBar(e,i){e.afterDismissed().subscribe(()=>{this._openedSnackBarRef==e&&(this._openedSnackBarRef=null),i.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{e.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):e.containerInstance.enter(),i.duration&&i.duration>0&&e.afterOpened().subscribe(()=>e._dismissAfter(i.duration))}_createOverlay(e){const i=new Cd;i.direction=e.direction;let o=this._overlay.position().global();const a="rtl"===e.direction,l="left"===e.horizontalPosition||"start"===e.horizontalPosition&&!a||"end"===e.horizontalPosition&&a,u=!l&&"center"!==e.horizontalPosition;return l?o.left("0"):u?o.right("0"):o.centerHorizontally(),"top"===e.verticalPosition?o.top("0"):o.bottom("0"),i.positionStrategy=o,this._overlay.create(i)}_createInjector(e,i){return n.zs3.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:JP,useValue:i},{provide:h3,useValue:e.data}]})}}return t.\u0275fac=function(e){return new(e||t)(n.LFG(Ro),n.LFG(Jv),n.LFG(n.zs3),n.LFG(mf),n.LFG(t,12),n.LFG(g3))},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac}),t})(),_3=(()=>{class t extends oG{constructor(e,i,o,a,l,u){super(e,i,o,a,l,u),this.simpleSnackBarComponent=eG,this.snackBarContainerComponent=rG,this.handsetCssClass="mat-snack-bar-handset"}}return t.\u0275fac=function(e){return new(e||t)(n.LFG(Ro),n.LFG(Jv),n.LFG(n.zs3),n.LFG(mf),n.LFG(t,12),n.LFG(g3))},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac,providedIn:m3}),t})(),aG=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[Ja]}),t})(),XP=(()=>{class t{constructor(){this.changes=new dn.x,this.optionalLabel="Optional",this.completedLabel="Completed",this.editableLabel="Editable"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const _G={provide:XP,deps:[[new n.FiY,new n.tp0,XP]],useFactory:function gG(t){return t||new XP}};let vG=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({providers:[_G,Fm],imports:[Xn,Zr,rs,Ia,aG,na,_l,Xn]}),t})();const ls=(0,Oe.P1)(jn,t=>t.product.product),yG=(0,Oe.P1)(jn,t=>t.product.productList),bG=(0,Oe.P1)(jn,t=>t.product.loading),CG=(0,Oe.P1)(jn,t=>{let r=null;return t.product.product?(t.product.product.customProperties.every(e=>"ruleRepairSettings"!==e.key||!1!==e.translatable||"string"!=typeof e.value||(r=JSON.parse(e.value),!1)),r):null});function C3(t,r,e,i,o,a,l){try{var u=t[a](l),p=u.value}catch(f){return void e(f)}u.done?r(p):Promise.resolve(p).then(i,o)}function bc(t){return function(){var r=this,e=arguments;return new Promise(function(i,o){var a=t.apply(r,e);function l(p){C3(a,i,o,l,u,"next",p)}function u(p){C3(a,i,o,l,u,"throw",p)}l(void 0)})}}const x3=t=>r=>{t.remove&&t.remove.forEach(e=>{Fa.removeComponent(t.slot,e)}),t.replace?t.replace.forEach(e=>{Fa.replaceComponent(t.slot,e,r)}):Fa.addComponent(t.slot,r)};let kd=(()=>{class t{constructor(e){this.store=e,this.scale=1,this.renderImages=[],this.outputImageSrc="",this.mediaUrl=yn.api.media}drawImageForPerspective(e,i){return new Promise(o=>{this.store.select((t=>(0,Oe.P1)(jn,r=>r.configuration.renderImages[t]??[]))(e)).pipe((0,ar.q)(1)).subscribe(a=>{if(this.renderImages=i?a.filter(i):a,!(this.renderImages.length>0&&this.firstImageWidth&&this.firstImageHeight))return o(null);this.canvas=document.createElement("canvas"),this.ctx=this.canvas.getContext("2d"),this.clearCanvas(),this.adjustCanvasSize(),this.loadImages().then(l=>{this.drawImagesOnCanvas(l),setTimeout(()=>(this.adjustImageSize(),o(this.generateImageFromCanvas("image/png"))),0)})})})}resize(e,i){const o=document.createElement("canvas"),a=o.getContext("2d"),l=Math.floor(i/(e.width/e.height));return o.width=i,o.height=l,new Promise(u=>{const p=new Image;p.onload=function(){a.drawImage(p,0,0,i,l),u({src:o.toDataURL(),height:l,width:i})},p.src=e.src})}clearCanvas(){this.canvas.width&&this.canvas.height&&this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height)}adjustCanvasSize(){this.canvas.width=this.firstImageWidth,this.canvas.height=this.firstImageHeight,this.scale=1}loadImages(){var e=this;return bc(function*(){try{return yield Promise.all(e.renderImages.map(i=>e.createHtmlImage(i)))}catch(i){throw console.error("Error loading images:",i),i}})()}drawImagesOnCanvas(e){var i=this;return bc(function*(){const o=yield i.findAllCustomPropertiesValues("overlayProductColor");for(const a of e)i.drawImageByRepeating(a.imageHtml,a.imgObj,o)})()}findAllCustomPropertiesValues(e){return new Promise(i=>{this.store.select(_1).pipe((0,ar.q)(1)).subscribe(o=>{const a=[];for(const l of o){const u=l.customProperties.find(p=>p.key===e);if(u){const p=u.value.split(","),f=a.find(h=>h.search===p[0]);f?f.replace=p[1]:a.push({search:p[0],replace:p[1]})}}return i(a)})})}hexToRgb(e){return e=e.replace(/^#/,""),[parseInt(e.substring(0,2),16),parseInt(e.substring(2,4),16),parseInt(e.substring(4,6),16)]}drawImageWithColorReplacement(e,i,o){const a=e.width,l=e.height,u=document.createElement("canvas");u.width=a,u.height=l;const p=u.getContext("2d");p.drawImage(e,0,0,a,l);const f=p.getImageData(0,0,a,l),h=f.data,y=this.hexToRgb(i),D=this.hexToRgb(o);for(let E=0;E<h.length;E+=4)h[E]===y[0]&&h[E+1]===y[1]&&h[E+2]===y[2]&&(h[E]=D[0],h[E+1]=D[1],h[E+2]=D[2],h[E+3]=255);return p.putImageData(f,0,0),u}drawImageByRepeating(e,i,o){this.store.select((t=>(0,Oe.P1)(jn,r=>{const e=r.configuration.state.elements.filter(i=>i.id===t);return e.length>0?e[0]:null}))(i.elementId)).pipe((0,ar.q)(1)).subscribe(a=>{let l=null;const u=e.width,p=e.height,f=i.realWidth,h=i.realHeight,y=i.realOffsetX,D=i.realOffsetY,E=a?.customProperties.find(k=>"overlayColor"===k.key);if(E){const k=E.value.split(",");o.push({search:k[0],replace:k[1]})}for(const k of o)l=this.drawImageWithColorReplacement(e,k.search,k.replace);if("wiederholbar"===i.renderImageOptions?.renderImageOptions?.type.toLowerCase()){let k=D;do{let T=y;do{this.ctx.drawImage(l||e,T,k),T+=u}while(T<f+y);k+=p}while(k<h+D)}else this.ctx.drawImage(l||e,y,D)})}drawImageByScaling(e,i){const o=e.width,a=e.height,l=i.realWidth,u=i.realHeight,p=i.realOffsetX;let f=l;l!==o&&(f=Math.max(o,l));const h=i.realOffsetY;let y=u;u!==a&&(y=Math.max(a,u)),this.ctx.drawImage(e,0,0,o,a,p,h,f,y)}drawImageByScalingAndRepeating(e,i){const o=e.width,a=e.height,l=i.realWidth,u=i.realHeight,p=i.realOffsetX,f=i.realOffsetY;if("wiederholbar"===i.renderImageOptions?.renderImageOptions?.type.toLowerCase()){let h=f;do{let y=p;do{1!==this.scale?this.ctx.drawImage(e,0,0,o,a,y*this.scale,h*this.scale,o*this.scale,a*this.scale):this.ctx.drawImage(e,y,h),y+=o}while(y<l+p*this.scale);h+=a}while(h<u+f*this.scale)}else 1!==this.scale?this.ctx.drawImage(e,0,0,o,a,p*this.scale,f*this.scale,o*this.scale,a*this.scale):this.ctx.drawImage(e,p,f)}adjustImageSize(){const{firstImageWidth:e,firstImageHeight:i,availableWidth:o,availableHeight:a}=this,l=e/i,u=0===o||0===a?l:o/a;0!==o&&0!==a&&(o<e||a<i)?(this.scale=l>u?o/e:a/i,this.imageWidth=Math.min(e*this.scale,o),this.imageHeight=Math.min(i*this.scale,a)):0===o||0===a?(this.scale=l>u?o/e:a/i,0===o?(this.imageHeight=Math.min(a,i),this.imageWidth=l>1?this.imageHeight*l:this.imageHeight/l):0===a&&(this.imageWidth=Math.min(o,e),this.imageHeight=l>1?this.imageWidth*l:this.imageWidth/l)):(this.imageWidth=e,this.imageHeight=i)}generateImageFromCanvas(e="image/png"){return this.outputImageSrc=this.canvas.toDataURL(e),this.renderImages.length>0&&this.firstImageWidth&&this.firstImageHeight?{src:this.outputImageSrc,width:this.firstImageWidth,height:this.firstImageHeight}:null}createHtmlImage(e){return new Promise((i,o)=>{const a=new Image;a.src=`${this.mediaUrl+e.path}/${e.filename}.${e.extension}`,a.onload=()=>i({imageHtml:a,imgObj:e}),a.onerror=o})}get firstImageWidth(){return this.renderImages[0].realWidth}get firstImageHeight(){return this.renderImages[0].realHeight}get availableWidth(){return this.canvas.clientWidth}get availableHeight(){return this.canvas.clientHeight}}return t.\u0275fac=function(e){return new(e||t)(n.LFG(Oe.yh))},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function xG(t,r){if(1&t&&(n.ynx(0),n.TgZ(1,"div")(2,"h4"),n._uU(3),n.ALo(4,"contentSnippet"),n.ALo(5,"async"),n.qZA(),n.TgZ(6,"p"),n._uU(7),n.ALo(8,"contentSnippet"),n.ALo(9,"async"),n.qZA()(),n.BQk()),2&t){const e=n.oxw(2);n.xp6(3),n.hij(" ",n.xi3(4,2,n.lcZ(5,5,e.summaryProgress$),"progress=0.headline")," "),n.xp6(4),n.hij(" ",n.xi3(8,7,n.lcZ(9,10,e.summaryProgress$),"progress=0.text")," ")}}function wG(t,r){if(1&t&&(n.ynx(0),n.TgZ(1,"div")(2,"h4"),n._uU(3),n.ALo(4,"contentSnippet"),n.ALo(5,"async"),n.qZA(),n.TgZ(6,"p"),n._uU(7),n.ALo(8,"contentSnippet"),n.ALo(9,"async"),n.qZA()(),n.BQk()),2&t){const e=n.oxw(2);n.xp6(3),n.hij(" ",n.xi3(4,2,n.lcZ(5,5,e.summaryProgress$),"progress1to49.headline")," "),n.xp6(4),n.hij(" ",n.xi3(8,7,n.lcZ(9,10,e.summaryProgress$),"progress1to49.text")," ")}}function MG(t,r){if(1&t&&(n.ynx(0),n.TgZ(1,"div")(2,"h4"),n._uU(3),n.ALo(4,"contentSnippet"),n.ALo(5,"async"),n.qZA(),n.TgZ(6,"p"),n._uU(7),n.ALo(8,"contentSnippet"),n.ALo(9,"async"),n.qZA()(),n.BQk()),2&t){const e=n.oxw(2);n.xp6(3),n.hij(" ",n.xi3(4,2,n.lcZ(5,5,e.summaryProgress$),"progress50to74.headline")," "),n.xp6(4),n.hij(" ",n.xi3(8,7,n.lcZ(9,10,e.summaryProgress$),"progress50to74.text")," ")}}function SG(t,r){if(1&t&&(n.ynx(0),n.TgZ(1,"div")(2,"h4"),n._uU(3),n.ALo(4,"contentSnippet"),n.ALo(5,"async"),n.qZA(),n.TgZ(6,"p"),n._uU(7),n.ALo(8,"contentSnippet"),n.ALo(9,"async"),n.qZA()(),n.BQk()),2&t){const e=n.oxw(2);n.xp6(3),n.hij(" ",n.xi3(4,2,n.lcZ(5,5,e.summaryProgress$),"progress75to99.headline")," "),n.xp6(4),n.hij(" ",n.xi3(8,7,n.lcZ(9,10,e.summaryProgress$),"progress75to99.text")," ")}}function DG(t,r){if(1&t&&(n.ynx(0),n.TgZ(1,"div")(2,"h4"),n._uU(3),n.ALo(4,"contentSnippet"),n.ALo(5,"async"),n.qZA(),n.TgZ(6,"p"),n._uU(7),n.ALo(8,"contentSnippet"),n.ALo(9,"async"),n.qZA()(),n.BQk()),2&t){const e=n.oxw(2);n.xp6(3),n.hij(" ",n.xi3(4,2,n.lcZ(5,5,e.summaryProgress$),"progress=100.headline")," "),n.xp6(4),n.hij(" ",n.xi3(8,7,n.lcZ(9,10,e.summaryProgress$),"progress=100.text")," ")}}function OG(t,r){if(1&t&&(n.TgZ(0,"div",1)(1,"div",2),n._UZ(2,"mat-progress-spinner",3)(3,"mat-spinner",4),n.TgZ(4,"div",5)(5,"div",6),n._uU(6),n.ALo(7,"number"),n.qZA()()(),n.TgZ(8,"div",7),n.YNc(9,xG,10,12,"ng-container",8),n.YNc(10,wG,10,12,"ng-container",8),n.YNc(11,MG,10,12,"ng-container",8),n.YNc(12,SG,10,12,"ng-container",8),n.YNc(13,DG,10,12,"ng-container",8),n.qZA()()),2&t){const e=n.oxw();n.xp6(3),n.Q6J("mode","determinate")("value",e.progress),n.xp6(3),n.hij("",n.xi3(7,8,e.progress,"1.0-0"),"%"),n.xp6(3),n.Q6J("ngIf",0==e.progress),n.xp6(1),n.Q6J("ngIf",e.progress>0&&e.progress<50),n.xp6(1),n.Q6J("ngIf",e.progress>=50&&e.progress<=74),n.xp6(1),n.Q6J("ngIf",e.progress>=75&&e.progress<100),n.xp6(1),n.Q6J("ngIf",100==e.progress)}}let EG=(()=>{class t{constructor(e){this.store=e,this.summaryProgress$=this.store.select(un("summaryProgress"))}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(Oe.yh))},t.\u0275cmp=n.Xpm({type:t,selectors:[["apto-sidebar-summary-progress"]],inputs:{progress:"progress"},decls:1,vars:1,consts:[["class","flex gap-2 card-elem",4,"ngIf"],[1,"flex","gap-2","card-elem"],[1,"progress-content"],["color","accent","mode","determinate","value","100","diameter","70","strokeWidth","5"],["color","primary","diameter","70","strokeWidth","5",3,"mode","value"],[1,"number"],[1,"progress-number"],[1,"info"],[4,"ngIf"]],template:function(e,i){1&e&&n.YNc(0,OG,14,11,"div",0),2&e&&n.Q6J("ngIf",null!=i.progress)},dependencies:[rn,es,hn,x0,ur],styles:[".card-elem[_ngcontent-%COMP%]{background-color:var(--color-background-card);border-radius:var(--border-radius-card);box-shadow:var(--box-shadow);padding:20px}.card-elem[_ngcontent-%COMP%]   .progress-content[_ngcontent-%COMP%]{position:relative;height:70px;width:auto}.card-elem[_ngcontent-%COMP%]   .progress-content[_ngcontent-%COMP%]   mat-progress-spinner[_ngcontent-%COMP%]{display:inline;position:absolute}.card-elem[_ngcontent-%COMP%]   .progress-content[_ngcontent-%COMP%]   .number[_ngcontent-%COMP%]{display:flex;justify-content:center;top:50%;transform:translateY(-50%);position:absolute;width:100%}.card-elem[_ngcontent-%COMP%]   .progress-content[_ngcontent-%COMP%]   .number[_ngcontent-%COMP%]   .progress-number[_ngcontent-%COMP%]{position:relative;color:var(--color-primary);font-weight:700;font-size:17px}.card-elem[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{display:flex;align-items:center}.card-elem[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:var(--color-primary);font-weight:600;font-size:18px;margin-bottom:5px}.card-elem[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:500;font-size:15px}"]}),t})();const AG=["inputRef"];function PG(t,r){if(1&t){const e=n.EpF();n.TgZ(0,"div",2)(1,"input",3,4),n.NdJ("ngModelChange",function(o){n.CHM(e);const a=n.oxw();return n.KtG(a.inputValue=o)})("keyup",function(o){n.CHM(e);const a=n.oxw();return n.KtG(a.onKeyUp(o))})("keydown",function(o){n.CHM(e);const a=n.oxw();return n.KtG(a.onKeyDown(o))}),n.qZA(),n.TgZ(3,"span",5),n._uU(4,"St."),n.qZA(),n.TgZ(5,"div",6)(6,"div",7),n.NdJ("click",function(){const a=n.CHM(e).ngIf,l=n.oxw();return n.KtG(l.setQuantity(a+l.step))}),n.TgZ(7,"mat-icon"),n._uU(8,"arrow_drop_up"),n.qZA()(),n.TgZ(9,"div",7),n.NdJ("click",function(){const a=n.CHM(e).ngIf,l=n.oxw();return n.KtG(l.setQuantity(a-l.step))}),n.TgZ(10,"mat-icon"),n._uU(11,"arrow_drop_down"),n.qZA()()()()}if(2&t){const e=n.oxw();n.Tol(e.size),n.Udp("width",e.width),n.xp6(1),n.Q6J("ngModel",e.inputValue)}}let kw=(()=>{class t{constructor(e,i){this.store=e,this.matSnackBar=i,this.name="",this.step=1,this.width="",this.size="small",this.minValue=1,this.quantity$=this.store.select(rF),this.userInput$=new dn.x,this.inputValue=1}ngOnChanges(e){}writeValue(e){}registerOnChange(e){}registerOnTouched(e){}setDisabledState(e){}ngOnInit(){this.quantity$.subscribe(e=>{this.inputValue=e}),this.userInput$.pipe((0,_n.b)(300)).subscribe(e=>{this.store.dispatch(Ef({quantity:e}))})}onKeyDown(e){if(!this.isAllowedCharacter(e.key))return void e.preventDefault();const i=this.inputRef.nativeElement.value,{selectionStart:o,selectionEnd:a}=this.inputRef.nativeElement;if(this.isNumericCharacter(e.key)){const l=i.substring(0,o)+e.key+i.substring(a),u=parseInt(l,10);this.isQuantityInRange(u)||(this.isQuantityValid(u)&&(u<this.minValue&&this.isQuantityValid(this.minValue)?(this.userInput$.next(this.minValue),this.inputRef.nativeElement.value=this.minValue):u>this.maxValue&&this.isQuantityValid(this.maxValue)&&(this.userInput$.next(this.maxValue),this.inputRef.nativeElement.value=this.maxValue)),this.handleErrorCase(u),e.preventDefault())}}onKeyUp(e){const o=parseInt(this.inputRef.nativeElement.value,10);this.isQuantityValid(o)&&this.isQuantityInRange(o)&&this.userInput$.next(o)}setQuantity(e){this.isQuantityInRange(e)&&this.isQuantityValid(e)&&(this.store.dispatch(Ef({quantity:e})),this.store.dispatch(di({updates:{parameters:[{name:fd.QUANTITY,value:e}]}}))),!this.isQuantityInRange(e)&&"number"==typeof e&&this.handleErrorCase(e)}isQuantityValid(e){return!isNaN(e)&&"number"==typeof e&&e>0}isQuantityInRange(e){return(e<=this.maxValue||0===this.maxValue)&&e>=this.minValue}isAllowedCharacter(e){return/^[0-9]$/.test(e)||"Backspace"===e||"Delete"===e||"ArrowLeft"===e||"ArrowRight"===e}isNumericCharacter(e){return/^[0-9]$/.test(e)}handleErrorCase(e){let i="";e>this.maxValue&&(i=`Der maximal zul\xe4ssige Wert betr\xe4gt ${this.maxValue}.`),e<this.minValue&&(i=`Der minimal zul\xe4ssige Wert ist ${this.minValue}.`),this.matSnackBar.open(i,void 0,{duration:5e3})}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(Oe.yh),n.Y36(_3))},t.\u0275cmp=n.Xpm({type:t,selectors:[["apto-quantity-input-editable"]],viewQuery:function(e,i){if(1&e&&n.Gf(AG,5),2&e){let o;n.iGM(o=n.CRH())&&(i.inputRef=o.first)}},inputs:{name:"name",step:"step",width:"width",size:"size",minValue:"minValue",maxValue:"maxValue"},features:[n._Bn([{provide:Ci,useExisting:(0,n.Gpc)(()=>t),multi:!0}]),n.TTD],decls:3,vars:3,consts:[[1,"quantity-input-editable"],["class","container-elem",3,"width","class",4,"ngIf"],[1,"container-elem"],[3,"ngModel","ngModelChange","keyup","keydown"],["inputRef",""],[1,"quantity-text"],[1,"ripple-controls"],["mat-ripple","",1,"control",3,"click"]],template:function(e,i){1&e&&(n.TgZ(0,"div",0),n.YNc(1,PG,12,5,"div",1),n.ALo(2,"async"),n.qZA()),2&e&&(n.xp6(1),n.Q6J("ngIf",n.lcZ(2,1,i.quantity$)))},dependencies:[rn,Dd,oi,aw,fr,Ea,hn],styles:['.quantity-input-editable[_ngcontent-%COMP%]{display:grid;grid-template-rows:auto;grid-template-columns:auto;grid-template-areas:"container";width:max-content}.quantity-input-editable[_ngcontent-%COMP%]   .container-elem[_ngcontent-%COMP%]{grid-area:container}.quantity-input-editable[_ngcontent-%COMP%]   .container-elem.small[_ngcontent-%COMP%]{display:flex;overflow:hidden;background-color:#fff;border:1px solid var(--color-border-input);border-radius:var(--border-radius-card);height:var(--input-height);box-shadow:var(--box-shadow)}.quantity-input-editable[_ngcontent-%COMP%]   .container-elem.small.open-left[_ngcontent-%COMP%]{border-bottom-left-radius:0}.quantity-input-editable[_ngcontent-%COMP%]   .container-elem.small.open-right[_ngcontent-%COMP%]{border-bottom-right-radius:0}.quantity-input-editable[_ngcontent-%COMP%]   .container-elem.small[_ngcontent-%COMP%]   .ripple-controls[_ngcontent-%COMP%]{height:calc(var(--input-height))}.quantity-input-editable[_ngcontent-%COMP%]   .container-elem.small[_ngcontent-%COMP%]   .ripple-controls[_ngcontent-%COMP%]   .control[_ngcontent-%COMP%]{border-left:1px solid var(--color-border-input);border-bottom:1px solid var(--color-border-input);height:calc(var(--input-height) / 2);width:calc(var(--input-icon-width));cursor:pointer}.quantity-input-editable[_ngcontent-%COMP%]   .container-elem.small[_ngcontent-%COMP%]   .ripple-controls[_ngcontent-%COMP%]   .control.input-disabled[_ngcontent-%COMP%]{opacity:.6;cursor:default;pointer-events:none}.quantity-input-editable[_ngcontent-%COMP%]   .container-elem.small[_ngcontent-%COMP%]   .ripple-controls[_ngcontent-%COMP%]   .control[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;text-align:center;height:100%;width:calc(var(--input-icon-width));line-height:calc(var(--input-height) / 2);color:var(--color-ripple-control)}.quantity-input-editable[_ngcontent-%COMP%]   .container-elem.middle[_ngcontent-%COMP%]{display:flex;overflow:hidden;background-color:#fff;border:1px solid var(--color-border-input);border-radius:var(--border-radius-card);height:var(--button-tablet-height);box-shadow:var(--box-shadow)}.quantity-input-editable[_ngcontent-%COMP%]   .container-elem.middle.open-left[_ngcontent-%COMP%]{border-bottom-left-radius:0}.quantity-input-editable[_ngcontent-%COMP%]   .container-elem.middle.open-right[_ngcontent-%COMP%]{border-bottom-right-radius:0}.quantity-input-editable[_ngcontent-%COMP%]   .container-elem.middle[_ngcontent-%COMP%]   .ripple-controls[_ngcontent-%COMP%]{height:calc(var(--button-tablet-height))}.quantity-input-editable[_ngcontent-%COMP%]   .container-elem.middle[_ngcontent-%COMP%]   .ripple-controls[_ngcontent-%COMP%]   .control[_ngcontent-%COMP%]{border-left:1px solid var(--color-border-input);border-bottom:1px solid var(--color-border-input);height:calc(var(--button-tablet-height) / 2);width:calc(var(--input-icon-width));cursor:pointer}.quantity-input-editable[_ngcontent-%COMP%]   .container-elem.middle[_ngcontent-%COMP%]   .ripple-controls[_ngcontent-%COMP%]   .control.input-disabled[_ngcontent-%COMP%]{opacity:.6;cursor:default;pointer-events:none}.quantity-input-editable[_ngcontent-%COMP%]   .container-elem.middle[_ngcontent-%COMP%]   .ripple-controls[_ngcontent-%COMP%]   .control[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;text-align:center;height:100%;width:calc(var(--input-icon-width));line-height:calc(var(--button-tablet-height) / 2);color:var(--color-ripple-control)}.quantity-input-editable[_ngcontent-%COMP%]   .container-elem.big[_ngcontent-%COMP%]{display:flex;overflow:hidden;background-color:#fff;border:1px solid var(--color-border-input);border-radius:var(--border-radius-card);height:var(--input-big-height);box-shadow:var(--box-shadow)}.quantity-input-editable[_ngcontent-%COMP%]   .container-elem.big.open-left[_ngcontent-%COMP%]{border-bottom-left-radius:0}.quantity-input-editable[_ngcontent-%COMP%]   .container-elem.big.open-right[_ngcontent-%COMP%]{border-bottom-right-radius:0}.quantity-input-editable[_ngcontent-%COMP%]   .container-elem.big[_ngcontent-%COMP%]   .ripple-controls[_ngcontent-%COMP%]{height:calc(var(--input-big-height))}.quantity-input-editable[_ngcontent-%COMP%]   .container-elem.big[_ngcontent-%COMP%]   .ripple-controls[_ngcontent-%COMP%]   .control[_ngcontent-%COMP%]{border-left:1px solid var(--color-border-input);border-bottom:1px solid var(--color-border-input);height:calc(var(--input-big-height) / 2);width:calc(var(--input-icon-width));cursor:pointer}.quantity-input-editable[_ngcontent-%COMP%]   .container-elem.big[_ngcontent-%COMP%]   .ripple-controls[_ngcontent-%COMP%]   .control.input-disabled[_ngcontent-%COMP%]{opacity:.6;cursor:default;pointer-events:none}.quantity-input-editable[_ngcontent-%COMP%]   .container-elem.big[_ngcontent-%COMP%]   .ripple-controls[_ngcontent-%COMP%]   .control[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;text-align:center;height:100%;width:calc(var(--input-icon-width));line-height:calc(var(--input-big-height) / 2);color:var(--color-ripple-control)}.quantity-input-editable[_ngcontent-%COMP%]   .container-elem[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-family:var(--main-font-1);font-size:15px;color:var(--color-text);font-weight:600;width:100%;background-color:transparent;border:0;outline:none;padding-right:var(--input-elements-gap);text-align:right;padding-left:8px;padding-right:4px}.quantity-input-editable[_ngcontent-%COMP%]   .container-elem[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{opacity:1;font-weight:400}.quantity-input-editable[_ngcontent-%COMP%]   .container-elem[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-ms-input-placeholder{font-weight:400}.quantity-input-editable[_ngcontent-%COMP%]   .container-elem[_ngcontent-%COMP%]   .quantity-text[_ngcontent-%COMP%]{flex:1;font-weight:600;align-self:center;margin-right:6px}']}),t})();function TG(t,r){if(1&t&&(n.TgZ(0,"div",15)(1,"h4"),n._uU(2),n.qZA()()),2&t){const e=n.oxw(4);n.xp6(2),n.Oqu(e.sumPseudoPrice)}}function IG(t,r){if(1&t&&(n.TgZ(0,"a",16),n.ALo(1,"contentSnippet"),n.ALo(2,"async"),n._uU(3),n.ALo(4,"contentSnippet"),n.ALo(5,"async"),n.qZA()),2&t){const e=n.oxw(4);n.s9C("href",n.xi3(1,2,n.lcZ(2,5,e.sidebarSummary$),"shippingCostsLink"),n.LSH),n.xp6(3),n.hij(" ",n.xi3(4,7,n.lcZ(5,10,e.sidebarSummary$),"shippingCosts")," ")}}function kG(t,r){if(1&t&&(n.TgZ(0,"p"),n._uU(1),n.ALo(2,"contentSnippet"),n.ALo(3,"async"),n.qZA()),2&t){const e=n.oxw(4);n.xp6(1),n.Oqu(n.xi3(2,1,n.lcZ(3,4,e.sidebarSummary$),"shippingCosts"))}}function FG(t,r){if(1&t&&(n.TgZ(0,"div",9)(1,"div",10),n.YNc(2,TG,3,1,"div",11),n.TgZ(3,"h3",12),n._uU(4),n.qZA(),n.TgZ(5,"span",13),n._uU(6),n.ALo(7,"contentSnippet"),n.ALo(8,"async"),n.TgZ(9,"span"),n.YNc(10,IG,6,12,"a",14),n.ALo(11,"contentSnippet"),n.ALo(12,"async"),n.qZA(),n.TgZ(13,"span"),n.YNc(14,kG,4,6,"p",0),n.ALo(15,"contentSnippet"),n.ALo(16,"async"),n.qZA()()()()),2&t){const e=n.oxw(3);n.xp6(2),n.Q6J("ngIf",e.sumPrice!=e.sumPseudoPrice),n.xp6(2),n.Oqu(e.sumPrice),n.xp6(2),n.hij(" ",n.xi3(7,5,n.lcZ(8,8,e.contentSnippets$),"tax.withTax")," "),n.xp6(4),n.Q6J("ngIf",n.xi3(11,10,n.lcZ(12,13,e.sidebarSummary$),"shippingCostsLink")),n.xp6(4),n.Q6J("ngIf",!n.xi3(15,15,n.lcZ(16,18,e.sidebarSummary$),"shippingCostsLink"))}}function NG(t,r){if(1&t&&(n.TgZ(0,"button",17),n.ALo(1,"async"),n._uU(2),n.ALo(3,"contentSnippet"),n.ALo(4,"async"),n.qZA()),2&t){const e=n.oxw(3);n.Q6J("disabled",!n.lcZ(1,2,e.configurationIsValid$)),n.xp6(2),n.hij(" ",n.xi3(3,4,n.lcZ(4,7,e.sidebarSummary$),"cart")," ")}}function RG(t,r){if(1&t){const e=n.EpF();n.TgZ(0,"button",18),n.NdJ("click",function(){n.CHM(e);const o=n.oxw(3);return n.KtG(o.openShopware6Cart())}),n.ALo(1,"async"),n._uU(2),n.ALo(3,"contentSnippet"),n.ALo(4,"async"),n.qZA()}if(2&t){const e=n.oxw(3);n.Q6J("disabled",!n.lcZ(1,2,e.configurationIsValid$)||e.sw6CartButtonDisabled),n.xp6(2),n.hij(" ",n.xi3(3,4,n.lcZ(4,7,e.sidebarSummary$),"cart")," ")}}function LG(t,r){if(1&t&&(n.TgZ(0,"div",19)(1,"div")(2,"mat-icon"),n._uU(3,"info"),n.qZA()(),n.TgZ(4,"p"),n._uU(5),n.ALo(6,"contentSnippet"),n.ALo(7,"async"),n.qZA()()),2&t){const e=n.oxw(3);n.xp6(5),n.Oqu(n.xi3(6,1,n.lcZ(7,4,e.sidebarSummary$),"basketNotification"))}}function BG(t,r){if(1&t&&(n.ynx(0),n.TgZ(1,"form",1)(2,"div",2),n.YNc(3,FG,17,20,"div",3),n.TgZ(4,"div",4),n._UZ(5,"apto-quantity-input-editable",5),n.YNc(6,NG,5,9,"button",6),n.YNc(7,RG,5,9,"button",7),n.qZA(),n.YNc(8,LG,8,6,"div",8),n.ALo(9,"contentSnippet"),n.ALo(10,"async"),n.qZA()(),n.BQk()),2&t){const e=n.oxw(2);n.xp6(1),n.Q6J("formGroup",e.quantityInputGroup),n.xp6(2),n.Q6J("ngIf",e.showPrices),n.xp6(2),n.Q6J("minValue",e.product.minPurchase)("maxValue",e.product.maxPurchase)("name","quantityInput")("size","small")("width","100px"),n.xp6(1),n.Q6J("ngIf",!e.isInline),n.xp6(1),n.Q6J("ngIf",e.isInline),n.xp6(1),n.Q6J("ngIf",n.xi3(9,10,n.lcZ(10,13,e.sidebarSummary$),"basketNotification"))}}function UG(t,r){if(1&t&&(n.TgZ(0,"div",15)(1,"h4",24),n._uU(2),n.qZA()()),2&t){const e=n.oxw(4);n.xp6(2),n.Oqu(e.sumPseudoPrice)}}function VG(t,r){if(1&t&&(n.TgZ(0,"a",16),n.ALo(1,"contentSnippet"),n.ALo(2,"async"),n._uU(3),n.ALo(4,"contentSnippet"),n.ALo(5,"async"),n.qZA()),2&t){const e=n.oxw(4);n.s9C("href",n.xi3(1,2,n.lcZ(2,5,e.sidebarSummary$),"shippingCostsLink"),n.LSH),n.xp6(3),n.hij(" ",n.xi3(4,7,n.lcZ(5,10,e.sidebarSummary$),"shippingCosts")," ")}}function zG(t,r){if(1&t&&(n.TgZ(0,"p"),n._uU(1),n.ALo(2,"contentSnippet"),n.ALo(3,"async"),n.qZA()),2&t){const e=n.oxw(4);n.xp6(1),n.Oqu(n.xi3(2,1,n.lcZ(3,4,e.sidebarSummary$),"shippingCosts"))}}function HG(t,r){if(1&t&&(n.TgZ(0,"div",9)(1,"div",23),n.YNc(2,UG,3,1,"div",11),n.TgZ(3,"h3",12),n._uU(4),n.qZA(),n.TgZ(5,"span",13),n._uU(6),n.ALo(7,"contentSnippet"),n.ALo(8,"async"),n.TgZ(9,"span"),n.YNc(10,VG,6,12,"a",14),n.ALo(11,"contentSnippet"),n.ALo(12,"async"),n.qZA(),n.TgZ(13,"span"),n.YNc(14,zG,4,6,"p",0),n.ALo(15,"contentSnippet"),n.ALo(16,"async"),n.qZA()()()()),2&t){const e=n.oxw(3);n.xp6(2),n.Q6J("ngIf",e.sumPrice!=e.sumPseudoPrice),n.xp6(2),n.Oqu(e.sumPrice),n.xp6(2),n.hij("",n.xi3(7,5,n.lcZ(8,8,e.contentSnippets$),"tax.withTax")," "),n.xp6(4),n.Q6J("ngIf",n.xi3(11,10,n.lcZ(12,13,e.sidebarSummary$),"shippingCostsLink")),n.xp6(4),n.Q6J("ngIf",!n.xi3(15,15,n.lcZ(16,18,e.sidebarSummary$),"shippingCostsLink"))}}function jG(t,r){if(1&t&&(n.TgZ(0,"button",25),n.ALo(1,"async"),n._uU(2),n.ALo(3,"contentSnippet"),n.ALo(4,"async"),n.qZA()),2&t){const e=n.oxw(3);n.Q6J("disabled",!n.lcZ(1,2,e.configurationIsValid$)),n.xp6(2),n.hij(" ",n.xi3(3,4,n.lcZ(4,7,e.sidebarSummary$),"cart")," ")}}function qG(t,r){if(1&t){const e=n.EpF();n.TgZ(0,"button",26),n.NdJ("click",function(){n.CHM(e);const o=n.oxw(3);return n.KtG(o.openShopware6Cart())}),n.ALo(1,"async"),n._uU(2),n.ALo(3,"contentSnippet"),n.ALo(4,"async"),n.qZA()}if(2&t){const e=n.oxw(3);n.Q6J("disabled",!n.lcZ(1,2,e.configurationIsValid$)||e.sw6CartButtonDisabled),n.xp6(2),n.hij(" ",n.xi3(3,4,n.lcZ(4,7,e.sidebarSummary$),"cart")," ")}}function ZG(t,r){if(1&t&&(n.ynx(0),n.TgZ(1,"form",1)(2,"div",20),n.YNc(3,HG,17,20,"div",3),n.TgZ(4,"div",4),n._UZ(5,"apto-quantity-input-editable",5),n.YNc(6,jG,5,9,"button",21),n.YNc(7,qG,5,9,"button",22),n.qZA()()(),n.BQk()),2&t){const e=n.oxw(2);n.xp6(1),n.Q6J("formGroup",e.quantityInputGroup),n.xp6(2),n.Q6J("ngIf",e.showPrices),n.xp6(2),n.Q6J("minValue",e.product.minPurchase)("maxValue",e.product.maxPurchase)("name","quantityInput")("size","middle")("width","120px"),n.xp6(1),n.Q6J("ngIf",!e.isInline),n.xp6(1),n.Q6J("ngIf",e.isInline)}}function YG(t,r){if(1&t&&(n.ynx(0),n.YNc(1,BG,11,15,"ng-container",0),n.YNc(2,ZG,8,9,"ng-container",0),n.BQk()),2&t){const e=n.oxw();n.xp6(1),n.Q6J("ngIf",e.product.useStepByStep),n.xp6(1),n.Q6J("ngIf",!e.product.useStepByStep)}}let Zf=class{constructor(r,e,i,o){var a=this;this.store=r,this.renderImageService=e,this.activatedRoute=i,this.actions$=o,this.renderImage=null,this.sw6CartButtonDisabled=!1,this.quantityInputGroup=new mo({quantityInput:new Ln(1)}),this.contentSnippets$=this.store.select(un("aptoSummary")),this.sidebarSummary$=this.store.select(un("aptoStepByStep.sidebarSummary")),this.configurationIsValid$=this.store.select(v1),this.isInline=!!yn.aptoInline,this.store.select(Wc).pipe(ki(this)).subscribe(function(){var l=bc(function*(u){a.renderImage=yield a.renderImageService.drawImageForPerspective(u)});return function(u){return l.apply(this,arguments)}}())}get configurationId(){return this.activatedRoute.snapshot.params.configurationId}get configurationType(){return this.activatedRoute.snapshot.params.configurationType}get showPrices(){return yn.showPrices}openShopware6Cart(){this.sw6CartButtonDisabled=!0,this.actions$.pipe(Yn(md),ki(this),(0,ar.q)(1)).subscribe(r=>{const e=window.PluginManager.getPluginInstances("OffCanvasCart");for(let i=0;i<e.length;i++)e[i].openOffCanvas(window.router["frontend.cart.offcanvas"],!1);this.sw6CartButtonDisabled=!1}),this.renderImage?this.renderImageService.resize(this.renderImage,800).then(r=>{this.store.dispatch(Ps({payload:{type:"ADD_TO_BASKET",productImage:r.src,configurationId:this.configurationId,configurationType:this.configurationType}}))}):this.store.dispatch(Ps({payload:{type:"ADD_TO_BASKET",productImage:null,configurationId:this.configurationId,configurationType:this.configurationType}}))}};function GG(t,r){if(1&t){const e=n.EpF();n.TgZ(0,"div",5)(1,"mat-icon",6),n.NdJ("click",function(){n.CHM(e);const o=n.oxw(4);return n.KtG(o.prevRenderImage())}),n._uU(2,"chevron_left"),n.qZA(),n.TgZ(3,"mat-icon",7),n.NdJ("click",function(){n.CHM(e);const o=n.oxw(4);return n.KtG(o.nextRenderImage())}),n._uU(4,"chevron_right"),n.qZA()()}}function $G(t,r){if(1&t&&(n.ynx(0),n.YNc(1,GG,5,0,"div",4),n.BQk()),2&t){const e=n.oxw(3);n.xp6(1),n.Q6J("ngIf",e.perspectives.length>1)}}function WG(t,r){if(1&t&&(n.TgZ(0,"div",2),n._UZ(1,"img",3),n.YNc(2,$G,2,1,"ng-container",0),n.qZA()),2&t){const e=n.oxw(2);n.xp6(1),n.Q6J("src",e.renderImage.src,n.LSH),n.xp6(1),n.Q6J("ngIf",e.perspectives)}}function QG(t,r){if(1&t&&(n.ynx(0),n.YNc(1,WG,3,2,"div",1),n.BQk()),2&t){const e=n.oxw();n.xp6(1),n.Q6J("ngIf",e.renderImage)}}function JG(t,r){if(1&t){const e=n.EpF();n.TgZ(0,"div",5)(1,"mat-icon",6),n.NdJ("click",function(){n.CHM(e);const o=n.oxw(3);return n.KtG(o.prevRenderImage())}),n._uU(2,"arrow_back_ios"),n.qZA(),n.TgZ(3,"mat-icon",7),n.NdJ("click",function(){n.CHM(e);const o=n.oxw(3);return n.KtG(o.nextRenderImage())}),n._uU(4,"arrow_forward_ios"),n.qZA()()}}function XG(t,r){if(1&t&&(n.ynx(0),n.TgZ(1,"div",8)(2,"div",9),n._UZ(3,"img",10),n.qZA(),n.YNc(4,JG,5,0,"div",4),n.qZA(),n.BQk()),2&t){const e=n.oxw(2);n.xp6(3),n.Q6J("src",e.renderImage.src,n.LSH),n.xp6(1),n.Q6J("ngIf",e.perspectives.length>1)}}function KG(t,r){if(1&t&&(n.ynx(0),n.YNc(1,XG,5,2,"ng-container",0),n.BQk()),2&t){const e=n.oxw();n.xp6(1),n.Q6J("ngIf",e.perspectives)}}Zf.\u0275fac=function(r){return new(r||Zf)(n.Y36(Oe.yh),n.Y36(kd),n.Y36(zi),n.Y36(eo))},Zf.\u0275cmp=n.Xpm({type:Zf,selectors:[["apto-sidebar-summary-price"]],inputs:{sumPrice:"sumPrice",progress:"progress",product:"product",sumPseudoPrice:"sumPseudoPrice",discount:"discount"},decls:1,vars:1,consts:[[4,"ngIf"],[3,"formGroup"],[1,"step-by-step-summary"],["class","select-basket",4,"ngIf"],[1,"add-basket"],["formControlName","quantityInput",3,"minValue","maxValue","name","size","width"],["class","sbs-button add-to-basket","color","primary","routerLink","summary","mat-flat-button","",3,"disabled",4,"ngIf"],["class","sbs-button add-to-basket","color","primary","mat-flat-button","",3,"disabled","click",4,"ngIf"],["class","info",4,"ngIf"],[1,"select-basket"],[1,"basket-discount-price"],["class","discount",4,"ngIf"],[1,"sum-amount"],[1,"mwst-info"],["target","_blank",3,"href",4,"ngIf"],[1,"discount"],["target","_blank",3,"href"],["color","primary","routerLink","summary","mat-flat-button","",1,"sbs-button","add-to-basket",3,"disabled"],["color","primary","mat-flat-button","",1,"sbs-button","add-to-basket",3,"disabled","click"],[1,"info"],[1,"one-page-summary"],["class","one-page-button add-to-basket","color","primary","routerLink","summary","mat-flat-button","",3,"disabled",4,"ngIf"],["class","one-page-button add-to-basket","color","primary","mat-flat-button","",3,"disabled","click",4,"ngIf"],[1,"line-content"],[1,"discount-amount"],["color","primary","routerLink","summary","mat-flat-button","",1,"one-page-button","add-to-basket",3,"disabled"],["color","primary","mat-flat-button","",1,"one-page-button","add-to-basket",3,"disabled","click"]],template:function(r,e){1&r&&n.YNc(0,YG,3,2,"ng-container",0),2&r&&n.Q6J("ngIf",e.product&&void 0!==e.sumPrice)},dependencies:[sl,rn,oa,oi,ia,qi,Bo,fr,Or,kw,hn,ur],styles:[".one-page-summary[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-top:15px;gap:15px}.one-page-summary[_ngcontent-%COMP%]   .select-basket[_ngcontent-%COMP%]{background-color:var(--color-background-card);border-radius:var(--border-radius-card);box-shadow:var(--box-shadow);overflow:hidden;height:64px}.one-page-summary[_ngcontent-%COMP%]   .select-basket[_ngcontent-%COMP%]   .line-content[_ngcontent-%COMP%]{border-top:3px solid var(--color-optic-lines);display:flex;align-items:center;gap:15px;padding-left:30px;padding-right:30px;color:var(--color-text);height:100%}.one-page-summary[_ngcontent-%COMP%]   .select-basket[_ngcontent-%COMP%]   .line-content[_ngcontent-%COMP%]   .discount[_ngcontent-%COMP%]{display:flex;align-items:center;position:relative}.one-page-summary[_ngcontent-%COMP%]   .select-basket[_ngcontent-%COMP%]   .line-content[_ngcontent-%COMP%]   .discount[_ngcontent-%COMP%]   h4.discount-amount[_ngcontent-%COMP%]{text-decoration:line-through;text-align:left;font-size:12px;color:var(--color-info-text);white-space:nowrap}.one-page-summary[_ngcontent-%COMP%]   .select-basket[_ngcontent-%COMP%]   .line-content[_ngcontent-%COMP%]   h3.sum-amount[_ngcontent-%COMP%]{display:flex;font-size:24px;justify-content:flex-end;margin:0}.one-page-summary[_ngcontent-%COMP%]   .select-basket[_ngcontent-%COMP%]   .line-content[_ngcontent-%COMP%]   .mwst-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;font-size:x-small;font-weight:500;text-align:left}.one-page-summary[_ngcontent-%COMP%]   .add-basket[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:20px}.one-page-summary[_ngcontent-%COMP%]   .add-basket[_ngcontent-%COMP%]   .one-page-button[_ngcontent-%COMP%]{width:100%}.step-by-step-summary[_ngcontent-%COMP%]{padding:20px}.step-by-step-summary[_ngcontent-%COMP%]   .select-basket[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:15px;align-items:center;justify-content:center;padding:0;color:var(--color-text);height:100%;margin-bottom:20px}.step-by-step-summary[_ngcontent-%COMP%]   .select-basket[_ngcontent-%COMP%]   .discount[_ngcontent-%COMP%]{display:flex;align-items:center;position:relative}.step-by-step-summary[_ngcontent-%COMP%]   .select-basket[_ngcontent-%COMP%]   .discount[_ngcontent-%COMP%]   h4.discount-amount[_ngcontent-%COMP%]{text-decoration:line-through;text-align:left;font-size:12px;color:var(--color-info-text);white-space:nowrap}.step-by-step-summary[_ngcontent-%COMP%]   .select-basket[_ngcontent-%COMP%]   h3.sum-amount[_ngcontent-%COMP%]{display:flex;font-size:24px;justify-content:flex-end;margin:0}.step-by-step-summary[_ngcontent-%COMP%]   .select-basket[_ngcontent-%COMP%]   .mwst-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;font-size:x-small;font-weight:500;text-align:left}.step-by-step-summary[_ngcontent-%COMP%]   .select-basket[_ngcontent-%COMP%]   .basket-discount-price[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.step-by-step-summary[_ngcontent-%COMP%]   .select-basket[_ngcontent-%COMP%]   .basket-discount-price[_ngcontent-%COMP%]   .discount[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{text-decoration:line-through;text-decoration-thickness:2px;color:#a9a9a9;font-weight:400}.step-by-step-summary[_ngcontent-%COMP%]   .add-basket[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;gap:15px;flex-wrap:wrap;align-items:center;margin-bottom:20px}.step-by-step-summary[_ngcontent-%COMP%]   .add-basket[_ngcontent-%COMP%]   .sbs-button[_ngcontent-%COMP%]{display:flex;align-items:center;height:44px;flex-grow:1;justify-items:center;justify-content:center}.step-by-step-summary[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{display:flex;gap:10px}.step-by-step-summary[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:var(--color-text)}.step-by-step-summary[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--color-info-text);font-size:14px}@media (min-width: 767px){.step-by-step-summary[_ngcontent-%COMP%]   .add-basket[_ngcontent-%COMP%]{justify-content:center}.step-by-step-summary[_ngcontent-%COMP%]   .add-basket[_ngcontent-%COMP%]   .mat-flat-button[_ngcontent-%COMP%]{width:auto;flex-grow:0}}"]}),Zf=(0,Ei.gn)([Ii()],Zf);let Fd=class{constructor(r){this.store=r,this.renderImage=null}prevRenderImage(){this.store.dispatch(Zm())}nextRenderImage(){this.store.dispatch($c())}};Fd.\u0275fac=function(r){return new(r||Fd)(n.Y36(Oe.yh))},Fd.\u0275cmp=n.Xpm({type:Fd,selectors:[["apto-sidebar-summary-render-image"]],inputs:{perspectives:"perspectives",product:"product",renderImage:"renderImage"},decls:2,vars:2,consts:[[4,"ngIf"],["class","divider-line element-content",4,"ngIf"],[1,"divider-line","element-content"],[1,"image",3,"src"],["class","arrows",4,"ngIf"],[1,"arrows"],[1,"previous-image",3,"click"],[1,"next-image",3,"click"],[1,"img-content"],[1,"image-wrapper"],[1,"one-page","img",3,"src"]],template:function(r,e){1&r&&(n.YNc(0,QG,2,1,"ng-container",0),n.YNc(1,KG,2,1,"ng-container",0)),2&r&&(n.Q6J("ngIf",null==e.product?null:e.product.useStepByStep),n.xp6(1),n.Q6J("ngIf",!(null!=e.product&&e.product.useStepByStep)&&e.renderImage))},dependencies:[rn,fr],styles:[".divider-line[_ngcontent-%COMP%]{border-bottom:2px solid #f3f3f3}.element-content[_ngcontent-%COMP%]{padding:20px;display:flex;flex-direction:column;align-items:center;position:relative}.element-content[_ngcontent-%COMP%]   .arrows[_ngcontent-%COMP%]{color:#999;position:absolute;inset:0 15px;height:1.875rem;margin:auto}.element-content[_ngcontent-%COMP%]   .arrows[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:35px;width:30px;height:-moz-fit-content;height:fit-content;display:flex;align-items:center;font-weight:700}.element-content[_ngcontent-%COMP%]   .arrows[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]:hover{cursor:pointer}.element-content[_ngcontent-%COMP%]   .arrows[_ngcontent-%COMP%]   mat-icon.previous-image[_ngcontent-%COMP%]{float:left}.element-content[_ngcontent-%COMP%]   .arrows[_ngcontent-%COMP%]   mat-icon.next-image[_ngcontent-%COMP%]{float:right}.element-content[_ngcontent-%COMP%]   img.image[_ngcontent-%COMP%]{height:auto;width:auto;max-width:100%}.img-content[_ngcontent-%COMP%]{display:block;width:100%;position:relative}.img-content[_ngcontent-%COMP%]   .arrows[_ngcontent-%COMP%]{color:#999;position:absolute;inset:0 15px;height:1.875rem;margin:auto}.img-content[_ngcontent-%COMP%]   .arrows[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:35px;width:30px;height:-moz-fit-content;height:fit-content;display:flex;align-items:center;font-weight:700}.img-content[_ngcontent-%COMP%]   .arrows[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]:hover{cursor:pointer}.img-content[_ngcontent-%COMP%]   .arrows[_ngcontent-%COMP%]   mat-icon.previous-image[_ngcontent-%COMP%]{float:left}.img-content[_ngcontent-%COMP%]   .arrows[_ngcontent-%COMP%]   mat-icon.next-image[_ngcontent-%COMP%]{float:right}.img-content[_ngcontent-%COMP%]   .image-wrapper[_ngcontent-%COMP%]{width:100%;height:100%;position:relative}.img-content[_ngcontent-%COMP%]   .image-wrapper[_ngcontent-%COMP%]   .one-page.img[_ngcontent-%COMP%]{max-width:100%;max-height:100%;display:block;position:absolute;margin:auto;inset:0;padding-right:4rem;padding-left:4rem;box-sizing:border-box}@media (max-width: 1023px){.img-content[_ngcontent-%COMP%]   .image-wrapper[_ngcontent-%COMP%]   .one-page.img[_ngcontent-%COMP%]{padding-right:2rem;padding-left:2rem;position:relative}.img-content[_ngcontent-%COMP%]   .arrows[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{width:auto}}"]}),Fd=(0,Ei.gn)([Ii()],Fd);let w3=(()=>{class t{constructor(e,i){this.dialogRef=e,this.store=i,this.formGroup=new mo({email:new Ln("",{nonNullable:!0}),name:new Ln("",{nonNullable:!0})}),this.contentSnippets$=this.store.select(un("AptoGuestConfigurationDialog"))}onSubmit(){this.store.dispatch(c1({payload:this.formGroup.getRawValue()})),this.dialogRef.close()}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(Pa),n.Y36(Oe.yh))},t.\u0275cmp=n.Xpm({type:t,selectors:[["apto-save-dialog"]],decls:24,vars:39,consts:[[1,"save-dialog"],[3,"mat-dialog-close","inner"],["mat-dialog-title",""],[3,"formGroup","ngSubmit"],["formControlName","email",3,"fullWidth","name","type"],["formControlName","name",3,"fullWidth","name","type"],["mat-flat-button","","color","accent","type","button",3,"mat-dialog-close"],["mat-flat-button","","color","primary","type","submit"]],template:function(e,i){1&e&&(n.TgZ(0,"div",0),n._UZ(1,"apto-close-button",1),n.TgZ(2,"h1",2),n._uU(3),n.ALo(4,"contentSnippet"),n.ALo(5,"async"),n.qZA(),n._UZ(6,"mat-divider"),n.TgZ(7,"form",3),n.NdJ("ngSubmit",function(){return i.onSubmit()}),n.TgZ(8,"mat-dialog-content"),n._UZ(9,"apto-input-field",4),n.ALo(10,"contentSnippet"),n.ALo(11,"async"),n._UZ(12,"apto-input-field",5),n.ALo(13,"contentSnippet"),n.ALo(14,"async"),n.qZA(),n.TgZ(15,"mat-dialog-actions")(16,"button",6),n._uU(17),n.ALo(18,"contentSnippet"),n.ALo(19,"async"),n.qZA(),n.TgZ(20,"button",7),n._uU(21),n.ALo(22,"contentSnippet"),n.ALo(23,"async"),n.qZA()()()()),2&e&&(n.uIk("type","custom"),n.xp6(1),n.Q6J("mat-dialog-close",!0)("inner",!0),n.xp6(2),n.Oqu(n.xi3(4,14,n.lcZ(5,17,i.contentSnippets$),"beforeSave.header")),n.xp6(4),n.Q6J("formGroup",i.formGroup),n.xp6(2),n.Q6J("fullWidth",!0)("name",n.xi3(10,19,n.lcZ(11,22,i.contentSnippets$),"form.mail"))("type","text"),n.xp6(3),n.Q6J("fullWidth",!0)("name",n.xi3(13,24,n.lcZ(14,27,i.contentSnippets$),"form.name"))("type","text"),n.xp6(4),n.Q6J("mat-dialog-close",!0),n.xp6(1),n.Oqu(n.xi3(18,29,n.lcZ(19,32,i.contentSnippets$),"form.cancel")),n.xp6(4),n.Oqu(n.xi3(22,34,n.lcZ(23,37,i.contentSnippets$),"form.submit")))},dependencies:[io,oa,oi,ia,qi,Bo,Or,is,Rf,Xc,Kc,vc,gc,hn,ur],styles:[".save-dialog[_ngcontent-%COMP%]{position:relative;border-radius:var(--border-radius-card);display:flex;flex-direction:column;border-top-width:3px;border-top-style:solid;padding:var(--element-gap)}.save-dialog[type=confirm][_ngcontent-%COMP%], .save-dialog[type=info][_ngcontent-%COMP%], .save-dialog[type=custom][_ngcontent-%COMP%]{border-color:var(--color-optic-lines-popup)}.save-dialog[type=error][_ngcontent-%COMP%]{border-color:var(--color-optic-lines-popup-error)}.save-dialog[type=warning][_ngcontent-%COMP%]{border-color:var(--color-optic-lines-popup-warning)}.save-dialog[_ngcontent-%COMP%]   h1.mat-dialog-title[_ngcontent-%COMP%]{display:flex;color:var(--color-text);font-size:28px;font-weight:700}.save-dialog[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:var(--element-gap) 0;margin:0;font-size:18px;font-weight:400;text-align:left;gap:var(--element-gap)}.save-dialog[_ngcontent-%COMP%]   mat-dialog-actions[_ngcontent-%COMP%]{display:flex;justify-content:center;justify-items:center;align-items:center;gap:var(--button-gap);width:100%;padding:0;margin:calc(1.5 * var(--element-gap)) 0 0 0;flex-wrap:nowrap;flex-direction:column}.save-dialog[_ngcontent-%COMP%]   mat-dialog-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;margin:0;display:flex;align-items:center;justify-content:center;height:var(--button-mobile-height)}@media only screen and (min-width: 767px){.save-dialog[_ngcontent-%COMP%]{position:relative;border-radius:var(--border-radius-card);display:flex;flex-direction:column;border-top-width:3px;border-top-style:solid;padding:34px 72px}.save-dialog[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:var(--element-gap) 0;margin:0;font-size:18px;font-weight:400;text-align:left}.save-dialog[_ngcontent-%COMP%]   mat-dialog-actions[_ngcontent-%COMP%]{display:flex;justify-content:center;justify-items:center;align-items:center;gap:var(--button-gap);width:100%;padding:0;margin:calc(1.5 * var(--element-gap)) 0 0 0;flex-wrap:nowrap;flex-direction:row}.save-dialog[_ngcontent-%COMP%]   mat-dialog-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;margin:0;display:flex;align-items:center;justify-content:center;height:var(--button-tablet-height);max-width:50%}}"]}),t})();function e$(t,r){if(1&t&&(n.TgZ(0,"div",6)(1,"a",7),n._UZ(2,"i"),n.qZA()()),2&t){const e=r.$implicit;n.xp6(1),n.Q6J("mat-dialog-close",!0)("href",e.link,n.LSH)("target",e.target),n.xp6(1),n.Tol("fa "+e.iconClass)}}let M3=(()=>{class t{constructor(e){this.store=e,this.links$=uo([this.store.select(un("aptoSliderAction.shareLinks")),this.store.select(lr),this.store.select(ls)]).pipe((0,xt.U)(([i,o,a])=>{if(!i||!o||!i.children)return[];const l=encodeURIComponent(window.location.href),u=[];for(const p of i.children)p.children&&u.push({iconClass:p.children.find(f=>"iconClass"===f.name)?.content?.[o],link:p.children.find(f=>"link"===f.name)?.content?.[o]?.replace("{_currentUrl_}",l).replace("{_productName_}",a?.name?.[o]||""),target:p.children.find(f=>"target"===f.name)?.content?.[o]});return u}))}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(Oe.yh))},t.\u0275cmp=n.Xpm({type:t,selectors:[["apto-share-dialog"]],decls:15,vars:7,consts:[[1,"share-dialog"],[3,"mat-dialog-close","inner"],["mat-dialog-title",""],[1,"links"],["class","link",4,"ngFor","ngForOf"],["mat-flat-button","","color","accent","type","button",3,"mat-dialog-close"],[1,"link"],[3,"mat-dialog-close","href","target"]],template:function(e,i){1&e&&(n.TgZ(0,"div",0),n._UZ(1,"apto-close-button",1),n.TgZ(2,"h1",2),n._uU(3,"Konfiguration teilen"),n.qZA(),n._UZ(4,"mat-divider"),n.TgZ(5,"mat-dialog-content")(6,"p"),n._uU(7,"Teilen Via"),n.qZA(),n.TgZ(8,"div",3),n.YNc(9,e$,3,5,"div",4),n.ALo(10,"async"),n.qZA()(),n._UZ(11,"mat-divider"),n.TgZ(12,"mat-dialog-actions")(13,"button",5),n._uU(14,"Abbrechen"),n.qZA()()()),2&e&&(n.uIk("type","custom"),n.xp6(1),n.Q6J("mat-dialog-close",!0)("inner",!0),n.xp6(8),n.Q6J("ngForOf",n.lcZ(10,5,i.links$)),n.xp6(4),n.Q6J("mat-dialog-close",!0))},dependencies:[Ar,Or,is,Rf,Xc,Kc,vc,gc,hn],styles:[".share-dialog[_ngcontent-%COMP%]{position:relative;border-radius:var(--border-radius-card);display:flex;flex-direction:column;border-top-width:3px;border-top-style:solid;padding:var(--element-gap)}.share-dialog[type=confirm][_ngcontent-%COMP%], .share-dialog[type=info][_ngcontent-%COMP%], .share-dialog[type=custom][_ngcontent-%COMP%]{border-color:var(--color-optic-lines-popup)}.share-dialog[type=error][_ngcontent-%COMP%]{border-color:var(--color-optic-lines-popup-error)}.share-dialog[type=warning][_ngcontent-%COMP%]{border-color:var(--color-optic-lines-popup-warning)}.share-dialog[_ngcontent-%COMP%]   h1.mat-dialog-title[_ngcontent-%COMP%]{display:flex;color:var(--color-text);font-size:28px;font-weight:700}.share-dialog[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:var(--element-gap) 0;margin:0;font-size:18px;font-weight:400;text-align:left}.share-dialog[_ngcontent-%COMP%]   mat-dialog-actions[_ngcontent-%COMP%]{display:flex;justify-content:center;justify-items:center;align-items:center;gap:var(--button-gap);width:100%;padding:0;margin:calc(1.5 * var(--element-gap)) 0 0 0;flex-wrap:nowrap;flex-direction:column}.share-dialog[_ngcontent-%COMP%]   mat-dialog-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;margin:0;display:flex;align-items:center;justify-content:center;height:var(--button-mobile-height)}.share-dialog[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:18px;margin:0;font-weight:600;margin-bottom:var(--element-gap)}.share-dialog[_ngcontent-%COMP%]   .links[_ngcontent-%COMP%]{width:100%;display:flex}.share-dialog[_ngcontent-%COMP%]   .links[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]{border-radius:var(--border-radius-card);display:flex;color:var(--color-text);background-color:var(--color-accent);width:50px;height:50px;align-items:center;justify-content:center;margin-right:var(--button-gap);cursor:pointer}.share-dialog[_ngcontent-%COMP%]   .links[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:35px;text-align:center}.share-dialog[_ngcontent-%COMP%]   .links[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]:hover{background-color:#cccad4}@media only screen and (min-width: 767px){.share-dialog[_ngcontent-%COMP%]{position:relative;border-radius:var(--border-radius-card);display:flex;flex-direction:column;border-top-width:3px;border-top-style:solid;padding:34px 72px}.share-dialog[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:var(--element-gap) 0;margin:0;font-size:18px;font-weight:400;text-align:left}.share-dialog[_ngcontent-%COMP%]   mat-dialog-actions[_ngcontent-%COMP%]{display:flex;justify-content:center;justify-items:center;align-items:center;gap:var(--button-gap);width:100%;padding:0;margin:calc(1.5 * var(--element-gap)) 0 0 0;flex-wrap:nowrap;flex-direction:row}.share-dialog[_ngcontent-%COMP%]   mat-dialog-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;margin:0;display:flex;align-items:center;justify-content:center;height:var(--button-tablet-height);max-width:50%}}"]}),t})();function t$(t,r){if(1&t){const e=n.EpF();n.TgZ(0,"button",2),n.NdJ("click",function(){n.CHM(e);const o=n.oxw();return n.KtG(o.save())}),n.TgZ(1,"mat-icon"),n._uU(2,"bookmark"),n.qZA(),n.TgZ(3,"span"),n._uU(4),n.ALo(5,"contentSnippet"),n.ALo(6,"async"),n.qZA()()}if(2&t){const e=n.oxw();n.xp6(4),n.Oqu(n.xi3(5,1,n.lcZ(6,4,e.aptoSliderAction$),"save"))}}let n$=(()=>{class t{constructor(e,i){this.dialogService=e,this.store=i,this.aptoSliderAction$=this.store.select(un("aptoSliderAction")),this.shareLinks$=this.store.select(un("aptoSliderAction.shareLinks")),this.socialLinksCount=0,this.shareLinks$.subscribe(o=>{this.socialLinksCount=0,null!==o&&(this.socialLinksCount=o.children.length)})}save(){this.dialogService.openCustomDialog(w3,Ur.md)}share(){this.dialogService.openCustomDialog(M3,Ur.md)}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(Do),n.Y36(Oe.yh))},t.\u0275cmp=n.Xpm({type:t,selectors:[["apto-sidebar-summary-button"]],decls:4,vars:6,consts:[[1,"buttons","gap-2"],["class","save-button","color","accent","mat-flat-button","",3,"click",4,"ngIf"],["color","accent","mat-flat-button","",1,"save-button",3,"click"]],template:function(e,i){1&e&&(n.TgZ(0,"div",0),n.YNc(1,t$,7,6,"button",1),n.ALo(2,"contentSnippet"),n.ALo(3,"async"),n.qZA()),2&e&&(n.xp6(1),n.Q6J("ngIf",n.xi3(2,1,n.lcZ(3,4,i.aptoSliderAction$),"save")))},dependencies:[rn,fr,Or,hn,ur],styles:[".buttons[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;gap:15px}.buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:flex;flex-grow:1;flex-basis:0;justify-content:center;align-content:center;align-items:center}.buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{margin-right:5px!important}@media only screen and (min-width: 767px){.buttons[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between}}"]}),t})(),r$=(()=>{class t{constructor(){this.emailValidator=e=>{const o=e.value.split("@");if(2!==o.length)return{invalidEmail:!0};const a=this.normalizeDomain(o[1]);return this.isValidEmail(`${o[0]}@${a}`)?null:{invalidEmail:!0}},this.normalizeDomain=e=>e.normalize("NFC").toLowerCase(),this.isValidEmail=e=>/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function S3(t,r){return r?e=>Eu(r.pipe((0,ar.q)(1),pC()),e.pipe(S3(t))):(0,ci.z)((e,i)=>t(e,i).pipe((0,ar.q)(1),Au(e)))}function i$(t,r=tf.z){const e=HC(t,r);return S3(()=>e)}var KP;function o$(t,r){if(1&t&&(n.TgZ(0,"div",5),n._uU(1),n.qZA()),2&t){const e=n.oxw();n.xp6(1),n.Oqu(e.name)}}function a$(t,r){if(1&t&&(n.TgZ(0,"div",6),n._uU(1),n.qZA()),2&t){const e=n.oxw();n.xp6(1),n.Oqu(e.hint)}}let nu=KP=class{constructor(){this.name="",this.hint="",this.placeholder="",this.width="",this.rows=4,this.formElement=new Ln}ngOnChanges(r){}writeValue(r){this.formElement.setValue(r?.toString())}registerOnChange(r){this.formElement.valueChanges.pipe(i$(0),(0,_n.b)(100)).subscribe(r)}registerOnTouched(r){}setDisabledState(r){}};function s$(t,r){if(1&t&&n._UZ(0,"apto-loading-indicator",10),2&t){const e=n.oxw(2);n.Q6J("type",e.loadingIndicatorTypes.ELEMENT)}}function l$(t,r){if(1&t&&(n.ynx(0),n._UZ(1,"apto-input-field",11),n.BQk()),2&t){const e=n.oxw().$implicit,i=n.oxw(2);n.xp6(1),n.Q6J("fullWidth",!0)("type","text")("name",i.labelAttr(e))("formControlName",i.nameAttr(e))("required",i.requiredAttr(e))}}function c$(t,r){if(1&t&&(n.ynx(0),n._UZ(1,"apto-text-input-field",12),n.BQk()),2&t){const e=n.oxw().$implicit,i=n.oxw(2);n.xp6(1),n.Q6J("name",i.labelAttr(e))("formControlName",i.nameAttr(e))("required",i.requiredAttr(e))("rows",2)}}function u$(t,r){if(1&t&&(n.ynx(0),n.YNc(1,l$,2,5,"ng-container",2),n.YNc(2,c$,2,4,"ng-container",2),n.BQk()),2&t){const e=r.$implicit,i=n.oxw(2);n.xp6(1),n.Q6J("ngIf","textarea"!==i.typeAttr(e)),n.xp6(1),n.Q6J("ngIf","textarea"===i.typeAttr(e))}}function d$(t,r){if(1&t){const e=n.EpF();n.ynx(0),n.TgZ(1,"h1"),n._uU(2),n.ALo(3,"contentSnippet"),n.ALo(4,"async"),n.qZA(),n._UZ(5,"mat-divider"),n.TgZ(6,"form",3),n.NdJ("ngSubmit",function(){n.CHM(e);const o=n.oxw();return n.KtG(o.onSubmit())}),n.TgZ(7,"mat-dialog-content"),n.YNc(8,s$,1,1,"apto-loading-indicator",4),n.ALo(9,"async"),n.TgZ(10,"p"),n._uU(11),n.ALo(12,"contentSnippet"),n.ALo(13,"async"),n.qZA(),n._UZ(14,"apto-input-field",5),n.ALo(15,"contentSnippet"),n.ALo(16,"async"),n._UZ(17,"apto-input-field",6),n.ALo(18,"contentSnippet"),n.ALo(19,"async"),n.YNc(20,u$,3,2,"ng-container",7),n.qZA(),n.TgZ(21,"mat-dialog-actions")(22,"button",8),n._uU(23),n.ALo(24,"contentSnippet"),n.ALo(25,"async"),n.qZA(),n.TgZ(26,"button",9),n._uU(27),n.ALo(28,"contentSnippet"),n.ALo(29,"async"),n.qZA()()(),n.BQk()}if(2&t){const e=n.oxw();n.xp6(2),n.Oqu(n.xi3(3,17,n.lcZ(4,20,e.AptoOfferConfigurationDialog$),"beforeSave.header")),n.xp6(4),n.Q6J("formGroup",e.formGroup),n.xp6(2),n.Q6J("ngIf",n.lcZ(9,22,e.selectLoading$)),n.xp6(3),n.Oqu(n.xi3(12,24,n.lcZ(13,27,e.AptoOfferConfigurationDialog$),"beforeSave.info")),n.xp6(3),n.ekj("invalid",!e.formGroup.get("email").valid&&e.formGroup.get("email").touched),n.Q6J("fullWidth",!0)("name",n.xi3(15,29,n.lcZ(16,32,e.AptoOfferConfigurationDialog$),"form.mail"))("type","text"),n.xp6(3),n.Q6J("fullWidth",!0)("name",n.xi3(18,34,n.lcZ(19,37,e.AptoOfferConfigurationDialog$),"form.name"))("type","text"),n.xp6(3),n.Q6J("ngForOf",e.extraFormFields.children),n.xp6(2),n.Q6J("mat-dialog-close",!0),n.xp6(1),n.Oqu(n.xi3(24,39,n.lcZ(25,42,e.AptoOfferConfigurationDialog$),"form.cancel")),n.xp6(3),n.Q6J("disabled",!e.isFormValid),n.xp6(1),n.Oqu(n.xi3(28,44,n.lcZ(29,47,e.AptoOfferConfigurationDialog$),"form.submit"))}}function p$(t,r){if(1&t&&(n.ynx(0),n.TgZ(1,"h1"),n._uU(2),n.ALo(3,"contentSnippet"),n.ALo(4,"async"),n.qZA(),n._UZ(5,"mat-divider"),n.TgZ(6,"mat-dialog-content")(7,"p"),n._uU(8),n.ALo(9,"contentSnippet"),n.ALo(10,"async"),n.qZA()(),n._UZ(11,"mat-divider"),n.TgZ(12,"mat-dialog-actions")(13,"button",8),n._uU(14),n.ALo(15,"contentSnippet"),n.ALo(16,"async"),n.qZA()(),n.BQk()),2&t){const e=n.oxw();n.xp6(2),n.Oqu(n.xi3(3,4,n.lcZ(4,7,e.AptoOfferConfigurationDialog$),"afterSave.header")),n.xp6(6),n.Oqu(n.xi3(9,9,n.lcZ(10,12,e.AptoOfferConfigurationDialog$),"afterSave.info")),n.xp6(5),n.Q6J("mat-dialog-close",!0),n.xp6(1),n.Oqu(n.xi3(15,14,n.lcZ(16,17,e.AptoOfferConfigurationDialog$),"afterSave.close"))}}nu.\u0275fac=function(r){return new(r||nu)},nu.\u0275cmp=n.Xpm({type:nu,selectors:[["apto-text-input-field"]],inputs:{name:"name",hint:"hint",placeholder:"placeholder",width:"width",rows:"rows"},features:[n._Bn([{provide:Ci,useExisting:(0,n.Gpc)(()=>KP),multi:!0}]),n.TTD],decls:5,vars:7,consts:[[1,"text-input-field"],["class","name",4,"ngIf"],[1,"container"],[3,"formControl","placeholder","rows"],["class","hint",4,"ngIf"],[1,"name"],[1,"hint"]],template:function(r,e){1&r&&(n.TgZ(0,"div",0),n.YNc(1,o$,2,1,"div",1),n.TgZ(2,"div",2),n._UZ(3,"textarea",3),n.qZA(),n.YNc(4,a$,2,1,"div",4),n.qZA()),2&r&&(n.Udp("width",e.width?e.width:"100%"),n.xp6(1),n.Q6J("ngIf",e.name),n.xp6(2),n.s9C("rows",e.rows),n.Q6J("formControl",e.formElement)("placeholder",e.placeholder),n.xp6(1),n.Q6J("ngIf",e.hint))},dependencies:[rn,Dd,oi,Cl],styles:['[_nghost-%COMP%]{width:100%;display:flex;justify-content:center}.ng-invalid.ng-dirty[_nghost-%COMP%]   .container[_ngcontent-%COMP%]{border:1px solid var(--color-warn)!important}.text-input-field[_ngcontent-%COMP%]{display:grid;grid-template-rows:auto;grid-template-columns:max-content auto max-content;grid-template-areas:"... name ..." "prefix container suffix" "... hint ..."}.text-input-field[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{grid-area:name;font-weight:500;height:min-content;color:var(--color-text);padding-bottom:var(--input-elements-gap);font-size:16px}.text-input-field[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{grid-area:container;display:flex;overflow:hidden;background-color:#fff;border:1px solid var(--color-border-input);border-radius:var(--border-radius-card);height:max-content;box-shadow:var(--box-shadow);padding:5px 5px 5px 20px}.text-input-field[_ngcontent-%COMP%]   .container.open-left[_ngcontent-%COMP%]{border-bottom-left-radius:0}.text-input-field[_ngcontent-%COMP%]   .container.open-right[_ngcontent-%COMP%]{border-bottom-right-radius:0}.text-input-field[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{background-color:transparent;border:0;outline:none;padding:5px 0;font-family:var(--main-font-1);font-size:15px;color:var(--color-text);font-weight:600;resize:vertical;width:calc(var(--input-mobile-width) - 30px);width:100%}.text-input-field[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::placeholder{opacity:1;font-weight:400}.text-input-field[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::-ms-input-placeholder{font-weight:400}.text-input-field[_ngcontent-%COMP%]   .hint[_ngcontent-%COMP%]{grid-area:hint;color:var(--color-text);font-size:12px;font-weight:600;padding-top:var(--input-elements-gap)}@media only screen and (min-width: 767px){.text-input-field[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-weight:500;height:min-content;color:var(--color-text);padding-bottom:var(--input-elements-gap);font-size:18px}.text-input-field[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{background-color:transparent;border:0;outline:none;padding:5px 0;font-family:var(--main-font-1);font-size:15px;color:var(--color-text);font-weight:600;resize:vertical;width:calc(var(--input-tablet-width) - 30px);width:100%}.text-input-field[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::placeholder{opacity:1;font-weight:400}.text-input-field[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::-ms-input-placeholder{font-weight:400}}']}),nu=KP=(0,Ei.gn)([Ii()],nu);var Fw=(()=>{return(t=Fw||(Fw={})).LABEL="label",t.POSITION="position",t.REQUIRED="required",t.TYPE="type",Fw;var t})();let f$=(()=>{class t{constructor(e,i,o,a,l){this.actions$=e,this.store=i,this.dialogRef=o,this.data=a,this.formValidations=l,this.AptoOfferConfigurationDialog$=this.store.select(un("AptoOfferConfigurationDialog")),this.selectLoading$=this.store.select(Gm),this.locale$=this.store.select(lr),this.humanReadableFullState$=this.store.select(Qm),this.extraFormFields=[],this.locale="de_DE",this.offerConfigurationSent=!1,this.loadingIndicatorTypes=Qc}ngOnInit(){this.locale$.subscribe(e=>{this.locale=e}),this.humanReadableFullState$.subscribe(e=>{this.humanReadableFullState=e}),this.formGroup=new mo({email:new Ln("",{validators:[Dr.required,this.formValidations.emailValidator]}),name:new Ln("",{nonNullable:!0})}),this.AptoOfferConfigurationDialog$.subscribe(e=>{e.children.forEach(i=>{"form"===i.name&&i.children.forEach(o=>{"fields"===o.name&&(this.sortExtraFormFields(o,Fw.POSITION),o.children.forEach(a=>{this.formGroup.addControl(a.name,new Ln("",{nonNullable:!0}))}))})})})}nameAttr(e){return e.name}labelAttr(e){const{label:i,required:o}=this.constructAttributes(e.children);return Pn(i.content,this.locale)+("required"===Pn(o.content,this.locale)?"*":"")}requiredAttr(e){const{required:i}=this.constructAttributes(e.children);return"required"===Pn(i.content,this.locale)}typeAttr(e){const{type:i}=this.constructAttributes(e.children);return i?Pn(i.content,this.locale):""}get isFormValid(){return"VALID"===this.formGroup.status}constructAttributes(e){const i={};return e.forEach(o=>{i[o.name]=o}),i}sortExtraFormFields(e,i){const o=e.children.map(a=>({...a,position:parseInt(a.children.find(l=>l.name===i)?.content.de_DE||0,10)}));o.sort((a,l)=>a.position-l.position),this.extraFormFields={...e,children:o}}generateFormData(){const e={};return this.extraFormFields.children.forEach(i=>{e[i.name]=this.formGroup.get(i.name).value}),e}onSubmit(){this.isFormValid&&(this.store.dispatch(Af({payload:{name:this.formGroup.get("name").value,email:this.formGroup.get("email").value,payload:{formData:this.generateFormData(),humanReadableState:this.humanReadableFullState}}})),this.dialogRef?.id&&this.actions$.pipe(Yn(Pf),(0,xt.U)(()=>this.dialogRef.close())).subscribe())}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(eo),n.Y36(Oe.yh),n.Y36(Pa),n.Y36(Fy),n.Y36(r$))},t.\u0275cmp=n.Xpm({type:t,selectors:[["apto-configuration-dialog"]],decls:4,vars:5,consts:[[1,"offer-configuration-dialog"],[3,"mat-dialog-close","inner"],[4,"ngIf"],[3,"formGroup","ngSubmit"],[3,"type",4,"ngIf"],["formControlName","email","required","",3,"fullWidth","name","type"],["formControlName","name",3,"fullWidth","name","type"],[4,"ngFor","ngForOf"],["mat-flat-button","","color","accent","type","button",3,"mat-dialog-close"],["mat-flat-button","","color","primary","type","submit",3,"disabled"],[3,"type"],[3,"fullWidth","type","name","formControlName","required"],[3,"name","formControlName","required","rows"]],template:function(e,i){1&e&&(n.TgZ(0,"div",0),n._UZ(1,"apto-close-button",1),n.YNc(2,d$,30,49,"ng-container",2),n.YNc(3,p$,17,19,"ng-container",2),n.qZA()),2&e&&(n.uIk("type","custom"),n.xp6(1),n.Q6J("mat-dialog-close",!0)("inner",!0),n.xp6(1),n.Q6J("ngIf",!i.offerConfigurationSent),n.xp6(1),n.Q6J("ngIf",i.offerConfigurationSent))},dependencies:[Ar,rn,No,io,nu,oa,oi,ia,dw,qi,Bo,Or,is,Xc,Kc,vc,gc,hn,ur],styles:[".offer-configuration-dialog[_ngcontent-%COMP%]{position:relative;border-radius:var(--border-radius-card);display:flex;flex-direction:column;border-top-width:3px;border-top-style:solid;padding:var(--element-gap)}.offer-configuration-dialog[type=confirm][_ngcontent-%COMP%], .offer-configuration-dialog[type=info][_ngcontent-%COMP%], .offer-configuration-dialog[type=custom][_ngcontent-%COMP%]{border-color:var(--color-optic-lines-popup)}.offer-configuration-dialog[type=error][_ngcontent-%COMP%]{border-color:var(--color-optic-lines-popup-error)}.offer-configuration-dialog[type=warning][_ngcontent-%COMP%]{border-color:var(--color-optic-lines-popup-warning)}.offer-configuration-dialog[_ngcontent-%COMP%]   h1.mat-dialog-title[_ngcontent-%COMP%]{display:flex;color:var(--color-text);font-size:28px;font-weight:700}.offer-configuration-dialog[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:var(--element-gap) 0;margin:0;font-size:18px;font-weight:400;text-align:left;gap:var(--element-gap)}.offer-configuration-dialog[_ngcontent-%COMP%]   mat-dialog-actions[_ngcontent-%COMP%]{display:flex;justify-content:center;justify-items:center;align-items:center;gap:var(--button-gap);width:100%;padding:0;margin:calc(1.5 * var(--element-gap)) 0 0 0;flex-wrap:nowrap;flex-direction:column}.offer-configuration-dialog[_ngcontent-%COMP%]   mat-dialog-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;margin:0;display:flex;align-items:center;justify-content:center;height:var(--button-mobile-height)}.offer-configuration-dialog[_ngcontent-%COMP%]   .links[_ngcontent-%COMP%]{width:100%;display:flex}.offer-configuration-dialog[_ngcontent-%COMP%]   .links[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]{border-radius:var(--border-radius-card);display:flex;color:var(--color-text);background-color:var(--color-accent);width:50px;height:50px;align-items:center;justify-content:center;margin-right:var(--button-gap);cursor:pointer}.offer-configuration-dialog[_ngcontent-%COMP%]   .links[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:35px;text-align:center}.offer-configuration-dialog[_ngcontent-%COMP%]   .links[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]:hover{background-color:#cccad4}@media only screen and (min-width: 767px){.offer-configuration-dialog[_ngcontent-%COMP%]{position:relative;border-radius:var(--border-radius-card);display:flex;flex-direction:column;border-top-width:3px;border-top-style:solid;padding:34px 72px}.offer-configuration-dialog[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:var(--element-gap) 0;margin:0;font-size:18px;font-weight:400;text-align:left}.offer-configuration-dialog[_ngcontent-%COMP%]   mat-dialog-actions[_ngcontent-%COMP%]{display:flex;justify-content:center;justify-items:center;align-items:center;gap:var(--button-gap);width:100%;padding:0;margin:calc(1.5 * var(--element-gap)) 0 0 0;flex-wrap:nowrap;flex-direction:row}.offer-configuration-dialog[_ngcontent-%COMP%]   mat-dialog-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;margin:0;display:flex;align-items:center;justify-content:center;height:var(--button-tablet-height);max-width:50%}}"]}),t})();function h$(t,r){if(1&t){const e=n.EpF();n.TgZ(0,"button",4),n.NdJ("click",function(){n.CHM(e);const o=n.oxw();return n.KtG(o.openModal())}),n.TgZ(1,"mat-icon"),n._uU(2,"bookmark"),n.qZA(),n.TgZ(3,"span"),n._uU(4),n.ALo(5,"contentSnippet"),n.ALo(6,"async"),n.qZA()()}if(2&t){const e=n.oxw();n.xp6(4),n.Oqu(n.xi3(5,1,n.lcZ(6,4,e.aptoSummary$),"requestOffer"))}}let D3=(()=>{class t{constructor(e,i){this.store=e,this.dialogService=i,this.aptoSummary$=this.store.select(un("aptoSummary")),this.sidebarSummary$=this.store.select(un("aptoStepByStep.sidebarSummary")),this.aptoSliderAction$=this.store.select(un("aptoSliderAction"))}openModal(){this.dialogService.openCustomDialog(f$,Ur.md,{productId:this.product.id})}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(Oe.yh),n.Y36(Do))},t.\u0275cmp=n.Xpm({type:t,selectors:[["apto-offer-configuration-button"]],inputs:{product:"product"},decls:13,vars:12,consts:[[1,"offer-configuration-button"],[1,"buttons"],["class","save-button","color","accent","mat-flat-button","",3,"click",4,"ngIf"],[1,"info"],["color","accent","mat-flat-button","",1,"save-button",3,"click"]],template:function(e,i){1&e&&(n.TgZ(0,"div",0)(1,"div",1),n.YNc(2,h$,7,6,"button",2),n.ALo(3,"contentSnippet"),n.ALo(4,"async"),n.qZA(),n.TgZ(5,"div",3)(6,"div")(7,"mat-icon"),n._uU(8,"info"),n.qZA()(),n.TgZ(9,"p"),n._uU(10),n.ALo(11,"contentSnippet"),n.ALo(12,"async"),n.qZA()()()),2&e&&(n.xp6(2),n.Q6J("ngIf",n.xi3(3,2,n.lcZ(4,5,i.aptoSliderAction$),"save")),n.xp6(8),n.Oqu(n.xi3(11,7,n.lcZ(12,10,i.sidebarSummary$),"offerNotification")))},dependencies:[rn,fr,Or,hn,ur],styles:[".offer-configuration-button[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;gap:15px}.offer-configuration-button[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:flex;flex-grow:1;flex-basis:0;justify-content:center;align-content:center;align-items:center}.offer-configuration-button[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{margin-right:5px!important}.offer-configuration-button[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{display:flex;gap:10px;margin-top:var(--input-elements-gap)}.offer-configuration-button[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:var(--color-text)}.offer-configuration-button[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--color-info-text);font-size:14px}@media only screen and (min-width: 767px){.offer-configuration-button[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between}}"]}),t})();function m$(t,r){if(1&t&&n._UZ(0,"apto-offer-configuration-button",10),2&t){const e=n.oxw(2).ngIf;n.Q6J("product",e)}}function g$(t,r){if(1&t&&(n.ynx(0),n.TgZ(1,"div",1),n._UZ(2,"apto-slot-outlet",2),n.TgZ(3,"div",3)(4,"div",4),n._UZ(5,"apto-sidebar-summary-render-image",5),n.ALo(6,"async"),n._UZ(7,"apto-sidebar-summary-price",6),n.ALo(8,"async"),n.ALo(9,"async"),n.ALo(10,"async"),n.ALo(11,"async"),n.qZA()(),n._UZ(12,"apto-sidebar-summary-progress",7),n.ALo(13,"async"),n._UZ(14,"apto-sidebar-summary-button"),n.YNc(15,m$,1,1,"apto-offer-configuration-button",8),n._UZ(16,"apto-slot-outlet",9),n.qZA(),n.BQk()),2&t){const e=n.oxw().ngIf,i=n.oxw();let o;n.xp6(5),n.Q6J("perspectives",n.lcZ(6,11,i.perspectives$))("renderImage",i.renderImage)("product",e),n.xp6(2),n.Q6J("product",e)("progress",n.lcZ(8,13,i.progress$))("sumPrice",n.lcZ(9,15,i.sumPrice$))("sumPseudoPrice",n.lcZ(10,17,i.sumPseudoPrice$))("discount",null==(o=n.lcZ(11,19,i.configuration$))||null==o.statePrice||null==o.statePrice.discount?null:o.statePrice.discount.discount),n.xp6(5),n.Q6J("progress",n.lcZ(13,21,i.progress$)),n.xp6(3),n.Q6J("ngIf",i.isOfferConfigurationEnabled),n.xp6(1),n.Q6J("product",e)}}function _$(t,r){if(1&t&&(n.ynx(0),n.TgZ(1,"div",11),n._UZ(2,"apto-slot-outlet",12)(3,"apto-sidebar-summary-price",6),n.ALo(4,"async"),n.ALo(5,"async"),n.ALo(6,"async"),n.ALo(7,"async"),n._UZ(8,"apto-slot-outlet",13),n.qZA(),n.BQk()),2&t){const e=n.oxw().ngIf,i=n.oxw();let o;n.xp6(3),n.Q6J("product",e)("progress",n.lcZ(4,6,i.progress$))("sumPrice",n.lcZ(5,8,i.sumPrice$))("sumPseudoPrice",n.lcZ(6,10,i.sumPseudoPrice$))("discount",null==(o=n.lcZ(7,12,i.configuration$))||null==o.statePrice||null==o.statePrice.discount?null:o.statePrice.discount.discount),n.xp6(5),n.Q6J("product",e)}}function v$(t,r){if(1&t&&(n.ynx(0),n.YNc(1,g$,17,23,"ng-container",0),n.YNc(2,_$,9,14,"ng-container",0),n.BQk()),2&t){const e=r.ngIf;n.xp6(1),n.Q6J("ngIf",e.useStepByStep),n.xp6(1),n.Q6J("ngIf",!e.useStepByStep)}}let Nd=class{constructor(r,e){var i=this;this.store=r,this.renderImageService=e,this.perspectives$=this.store.select(yd),this.sumPrice$=this.store.select($m),this.progress$=this.store.select(f1),this.product$=this.store.select(ls),this.sumPseudoPrice$=this.store.select(hA),this.configuration$=this.store.select(ji),this.contentSnippets$=this.store.select(un("aptoSummary")),this.AptoOfferConfigurationDialog$=this.store.select(un("AptoOfferConfigurationDialog")),this.locale$=this.store.select(lr),this.locale="de_DE",this.isOfferConfigurationEnabled=!1,this.renderImage=null,uo([this.store.select(Wc),this.store.select(by)]).pipe(ki(this)).subscribe(function(){var o=bc(function*(a){i.renderImage=yield i.renderImageService.drawImageForPerspective(a[0])});return function(a){return o.apply(this,arguments)}}())}ngOnInit(){this.locale$.subscribe(r=>{this.locale=r}),this.AptoOfferConfigurationDialog$.subscribe(r=>{r.children.forEach(e=>{"enabled"===e.name&&(this.isOfferConfigurationEnabled="true"===e.content[this.locale])})})}openShareDialog(){}};function y$(t,r){if(1&t&&(n.TgZ(0,"div",4)(1,"mat-icon"),n._uU(2,"done"),n.qZA()()),2&t){const e=n.oxw(2);n.ekj("selected",e.section.fulfilled)}}function b$(t,r){if(1&t&&n._UZ(0,"apto-slot-outlet",7),2&t){const e=n.oxw().ngIf,i=n.oxw(3);n.Q6J("identifier",e.element.definition.staticValues.aptoElementDefinitionId)("product",i.product)("section",i.section.section)("element",e)}}function C$(t,r){if(1&t&&(n.ynx(0),n.YNc(1,b$,1,4,"apto-slot-outlet",6),n.BQk()),2&t){const e=n.oxw().$implicit,i=n.oxw(2);n.xp6(1),n.Q6J("ngIf",!i.isElementDisabled(e.id,e.sectionRepetition)||!i.product.keepSectionOrder)}}function x$(t,r){if(1&t&&(n.TgZ(0,"div",5),n.YNc(1,C$,2,1,"ng-container",0),n.qZA()),2&t){const e=r.$implicit,i=n.oxw(2);n.ekj("element-is-disabled",i.isElementDisabled(e.id,e.sectionRepetition)),n.xp6(1),n.Q6J("ngIf",i.getProgressElement(e.id))}}function w$(t,r){if(1&t){const e=n.EpF();n.ynx(0),n.TgZ(1,"mat-expansion-panel",1),n.NdJ("opened",function(){n.CHM(e);const o=n.oxw();return n.KtG(o.panelOpenState=!0)})("closed",function(){n.CHM(e);const o=n.oxw();return n.KtG(o.panelOpenState=!1)}),n.TgZ(2,"mat-expansion-panel-header")(3,"div")(4,"mat-panel-title"),n._uU(5),n.ALo(6,"translate"),n.YNc(7,y$,3,2,"div",2),n.qZA()()(),n.TgZ(8,"div"),n.YNc(9,x$,2,3,"div",3),n.qZA()(),n.BQk()}if(2&t){const e=n.oxw();n.xp6(1),n.Q6J("id","id"+(null==e.index?null:e.index.toString()))("expanded",0===e.index),n.xp6(1),n.ekj("divider-line",e.panelOpenState),n.xp6(3),n.hij(" ",n.lcZ(6,10,e.section.section.name)," "),n.xp6(2),n.Q6J("ngIf",e.section.fulfilled&&e.section.active),n.xp6(1),n.Gre("one-page-elements section-",e.section.section.identifier,""),n.xp6(1),n.Q6J("ngForOf",e.sectionProductElements)}}Nd.\u0275fac=function(r){return new(r||Nd)(n.Y36(Oe.yh),n.Y36(kd))},Nd.\u0275cmp=n.Xpm({type:Nd,selectors:[["apto-sidebar-summary"]],decls:2,vars:3,consts:[[4,"ngIf"],[1,"list","sbs"],["identifier","sidebar-summary-sbs-top"],[1,"element"],[1,"divider"],[3,"perspectives","renderImage","product"],[3,"product","progress","sumPrice","sumPseudoPrice","discount"],[3,"progress"],[3,"product",4,"ngIf"],["identifier","sidebar-summary-sbs-bottom",3,"product"],[3,"product"],[1,"list","one-page"],["identifier","sidebar-summary-one-page-top"],["identifier","sidebar-summary-one-page-bottom",3,"product"]],template:function(r,e){1&r&&(n.YNc(0,v$,3,2,"ng-container",0),n.ALo(1,"async")),2&r&&n.Q6J("ngIf",n.lcZ(1,1,e.product$))},dependencies:[rn,fo,EG,Zf,Fd,n$,D3,hn],styles:[".list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.list.sbs[_ngcontent-%COMP%]{margin:0;padding:0}.list.one-page[_ngcontent-%COMP%]{margin:0}.list[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]{background-color:var(--color-background-card);border-radius:var(--border-radius-card);box-shadow:var(--box-shadow)}.list[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%}"]}),Nd=(0,Ei.gn)([Ii()],Nd);let M$=(()=>{class t{constructor(e,i){this.store=e,this.matDialog=i,this.panelOpenState=!1,this.sectionProductElements=[],this.sectionStateElements=null}ngOnInit(){this.store.select((t=>(0,Oe.P1)(jn,r=>r.product.elements.filter(e=>e.sectionId===t)))(this.section.section.id)).subscribe(e=>{this.sectionProductElements=e}),this.store.select((t=>(0,Oe.P1)(jn,r=>r.configuration.state.elements.filter(e=>e.sectionId===t)))(this.section.section.id)).subscribe(e=>{this.sectionStateElements=e})}isElementDisabled(e,i){const o=this.sectionStateElements.filter(a=>a.id===e);return o.length>0&&o[i].disabled}getProgressElement(e){const i=this.elements.filter(o=>o.element.id===e);return i.length>0?i[0]:null}togglePanel(){this.panelOpenState=!this.panelOpenState}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(Oe.yh),n.Y36(yl))},t.\u0275cmp=n.Xpm({type:t,selectors:[["apto-o-p-step"]],inputs:{section:"section",index:"index",status:"status",description:"description",last:"last",product:"product",elements:"elements"},decls:1,vars:1,consts:[[4,"ngIf"],[3,"id","expanded","opened","closed"],["class","circle-one-page",3,"selected",4,"ngIf"],["class","element-container",3,"element-is-disabled",4,"ngFor","ngForOf"],[1,"circle-one-page"],[1,"element-container"],[3,"identifier","product","section","element",4,"ngIf"],[3,"identifier","product","section","element"]],template:function(e,i){1&e&&n.YNc(0,w$,10,12,"ng-container",0),2&e&&n.Q6J("ngIf",i.section&&i.product&&i.elements)},dependencies:[Ar,rn,fo,fr,GP,$P,u3,Tr],styles:["mat-expansion-panel[_ngcontent-%COMP%]{border-radius:var(--border-radius-card)!important}mat-expansion-panel[_ngcontent-%COMP%]   .mat-expansion-panel-header.mat-expanded[_ngcontent-%COMP%]{height:64px}mat-expansion-panel[_ngcontent-%COMP%]:not([class*=mat-elevation-z]){box-shadow:var(--box-shadow)}mat-expansion-panel[_ngcontent-%COMP%]   .circle-one-page[_ngcontent-%COMP%]{border:2px solid transparent;border-radius:var(--border-radius-bubble);height:21px;width:21px;color:#fff;display:flex;justify-content:center;align-items:center;position:absolute;background-color:#fff;transition:background-color .25s ease,border-color .25s ease;top:0;right:0;position:relative;margin-left:var(--input-elements-gap)}mat-expansion-panel[_ngcontent-%COMP%]   .circle-one-page[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{display:none;text-align:center;height:16px;width:16px;overflow:hidden;line-height:16px;font-size:16px}mat-expansion-panel[_ngcontent-%COMP%]   .circle-one-page.selected[_ngcontent-%COMP%]{background-color:var(--color-border-selected);border:2px solid var(--color-border-selected)}mat-expansion-panel[_ngcontent-%COMP%]   .circle-one-page.selected[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{display:flex}.divider-line[_ngcontent-%COMP%]{border-bottom:2px solid var(--color-border);border-bottom-left-radius:0;border-bottom-right-radius:0}.one-page-elements[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;padding-top:30px;gap:30px;justify-content:flex-start}apto-slot-outlet[_ngcontent-%COMP%]{display:none}.element-container.element-is-disabled[_ngcontent-%COMP%]{opacity:.5}"]}),t})();function S$(t,r){if(1&t&&n._UZ(0,"apto-o-p-step",3),2&t){const e=r.$implicit,i=r.index,o=n.oxw(3).ngIf;n.Q6J("status",e.status)("section",e)("elements",e.elements)("description",e.description)("product",o)("index",i)}}function D$(t,r){if(1&t&&(n.TgZ(0,"div")(1,"mat-accordion",1),n.YNc(2,S$,1,6,"apto-o-p-step",2),n.qZA()()),2&t){const e=r.ngIf,i=n.oxw(3);n.xp6(2),n.Q6J("ngForOf",e.steps)("ngForTrackBy",i.stepTrackBy)}}function O$(t,r){if(1&t&&(n.ynx(0),n.YNc(1,D$,3,2,"div",0),n.ALo(2,"async"),n.BQk()),2&t){const e=n.oxw(2);n.xp6(1),n.Q6J("ngIf",n.lcZ(2,1,e.steps$))}}function E$(t,r){if(1&t&&(n.ynx(0),n.YNc(1,O$,3,3,"ng-container",0),n.BQk()),2&t){const e=r.ngIf;n.xp6(1),n.Q6J("ngIf",!e.useStepByStep)}}let A$=(()=>{class t{constructor(e){this.store=e,this.product$=this.store.select(ls),this.steps$=this.store.select(cc)}stepTrackBy(e,i){return i.section.id}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(Oe.yh))},t.\u0275cmp=n.Xpm({type:t,selectors:[["apto-o-p-steps"]],decls:2,vars:3,consts:[[4,"ngIf"],[1,"section-list"],[3,"status","section","elements","description","product","index",4,"ngFor","ngForOf","ngForTrackBy"],[3,"status","section","elements","description","product","index"]],template:function(e,i){1&e&&(n.YNc(0,E$,2,1,"ng-container",0),n.ALo(1,"async")),2&e&&n.Q6J("ngIf",n.lcZ(1,1,i.product$))},dependencies:[Ar,rn,d3,M$,hn],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column}.section-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:15px;padding-bottom:5px}"]}),t})(),P$=(()=>{class t{constructor(e,i){this.matDialog=e,this.dialogService=i}save(){this.dialogService.openCustomDialog(w3,Ur.md)}share(){this.dialogService.openCustomDialog(M3,Ur.md)}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(yl),n.Y36(Do))},t.\u0275cmp=n.Xpm({type:t,selectors:[["apto-o-p-button"]],decls:6,vars:0,consts:[[1,"buttons-one-page","gap-2"],["color","accent","mat-flat-button","",3,"click"]],template:function(e,i){1&e&&(n.TgZ(0,"div",0)(1,"button",1),n.NdJ("click",function(){return i.save()}),n.TgZ(2,"mat-icon"),n._uU(3,"bookmark"),n.qZA(),n.TgZ(4,"span"),n._uU(5,"Speichern"),n.qZA()()())},dependencies:[fr,Or],styles:[".buttons-one-page[_ngcontent-%COMP%]{margin:0;display:flex;flex-direction:row;gap:20px}@media only screen and (max-width: 767px){.buttons-one-page[_ngcontent-%COMP%]{margin:0}}"]}),t})();function T$(t,r){if(1&t){const e=n.EpF();n.TgZ(0,"div",9)(1,"mat-icon",10),n.NdJ("click",function(){n.CHM(e);const o=n.oxw(3);return n.KtG(o.prevRenderImage())}),n._uU(2,"arrow_back_ios"),n.qZA()()}}function I$(t,r){if(1&t){const e=n.EpF();n.TgZ(0,"div",11)(1,"mat-icon",10),n.NdJ("click",function(){n.CHM(e);const o=n.oxw(3);return n.KtG(o.nextRenderImage())}),n._uU(2,"arrow_forward_ios"),n.qZA()()}}const k$=function(t){return{background:t}};function F$(t,r){if(1&t){const e=n.EpF();n.TgZ(0,"div",3),n.YNc(1,T$,3,0,"div",4),n.TgZ(2,"div",5)(3,"img",6),n.NdJ("click",function(){n.CHM(e);const o=n.oxw(2);return n.KtG(o.isOpen=!o.isOpen)}),n.qZA(),n.TgZ(4,"apto-close-button",7),n.NdJ("clicked",function(){n.CHM(e);const o=n.oxw(2);return n.KtG(o.isOpen=!o.isOpen)}),n.qZA()(),n.YNc(5,I$,3,0,"div",8),n.qZA()}if(2&t){const e=n.oxw(2);n.xp6(1),n.Q6J("ngIf",e.perspectives&&e.perspectives.length>1),n.xp6(1),n.Akn(n.VKq(6,k$,e.imageWrapperBgColor)),n.xp6(1),n.Q6J("src",e.renderImage.src,n.LSH),n.xp6(1),n.Q6J("mat-dialog-close",!0),n.xp6(1),n.Q6J("ngIf",e.perspectives&&e.perspectives.length>1)}}function N$(t,r){if(1&t){const e=n.EpF();n.ynx(0),n.TgZ(1,"button",1),n.NdJ("click",function(){n.CHM(e);const o=n.oxw();return n.KtG(o.isOpen=!o.isOpen)}),n.TgZ(2,"mat-icon"),n._uU(3,"fullscreen"),n.qZA()(),n.YNc(4,F$,6,8,"ng-template",2),n.BQk()}if(2&t){const e=n.oxw();n.xp6(4),n.Q6J("cdkConnectedOverlayOpen",e.isOpen)}}let eT=(()=>{class t{constructor(e){this.store=e,this.renderImage=null,this.imageWrapperBgColor="transparent",this.isOpen=!1}prevRenderImage(){this.store.dispatch(Zm())}nextRenderImage(){this.store.dispatch($c())}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(Oe.yh))},t.\u0275cmp=n.Xpm({type:t,selectors:[["apto-o-p-full-screen"]],inputs:{product:"product",perspectives:"perspectives",renderImage:"renderImage",imageWrapperBgColor:"imageWrapperBgColor"},decls:1,vars:1,consts:[[4,"ngIf"],["color","accent","mat-flat-button","",1,"full-screen-button",3,"click"],["cdkConnectedOverlay","",3,"cdkConnectedOverlayOpen"],[1,"full-screen"],["class","arrows left",4,"ngIf"],[1,"image-wrapper"],[3,"src","click"],[3,"mat-dialog-close","clicked"],["class","arrows right",4,"ngIf"],[1,"arrows","left"],[3,"click"],[1,"arrows","right"]],template:function(e,i){1&e&&n.YNc(0,N$,5,1,"ng-container",0),2&e&&n.Q6J("ngIf",i.renderImage)},dependencies:[rn,fr,Or,is,xd,gc],styles:[".full-screen-button[_ngcontent-%COMP%]:hover{background-color:#0000001a}.full-screen[_ngcontent-%COMP%]{-webkit-backdrop-filter:blur(6px);backdrop-filter:blur(6px);background-color:#00000080;position:fixed;display:flex;justify-content:center;align-items:center;height:100%;width:100%}.full-screen[_ngcontent-%COMP%]   .arrows[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;color:#999;z-index:4}.full-screen[_ngcontent-%COMP%]   .arrows[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:80px;height:100%;width:100%}.full-screen[_ngcontent-%COMP%]   .arrows[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]:hover{cursor:pointer}.full-screen[_ngcontent-%COMP%]   .image-wrapper[_ngcontent-%COMP%]{position:relative}.full-screen[_ngcontent-%COMP%]   .image-wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{cursor:pointer}@media only screen and (max-width: 767px){.arrows[_ngcontent-%COMP%]{position:absolute}.arrows.left[_ngcontent-%COMP%]{left:5px}.arrows.right[_ngcontent-%COMP%]{right:-16px}.image-wrapper[_ngcontent-%COMP%]{margin:0 20px}.image-wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%}}@media only screen and (min-width: 767px){img[_ngcontent-%COMP%]{max-width:calc(100vw - 100px);max-height:calc(100vh - 100px)}}"]}),t})();function R$(t,r){if(1&t&&n._UZ(0,"apto-loading-indicator",17),2&t){const e=n.oxw(2);n.Q6J("type",e.loadingIndicatorTypes.ELEMENT)}}function L$(t,r){1&t&&(n.TgZ(0,"div",18),n._uU(1,"Nicht gen\xfcgend konfiguriert um eine Demo darzustellen!"),n.qZA())}function B$(t,r){if(1&t&&(n._UZ(0,"apto-sidebar-summary-render-image",19),n.ALo(1,"async")),2&t){const e=n.oxw().ngIf,i=n.oxw();n.Q6J("perspectives",n.lcZ(1,3,i.perspectives$))("renderImage",i.renderImage)("product",e)}}function U$(t,r){1&t&&n._UZ(0,"apto-slot-outlet",20)}function V$(t,r){if(1&t&&(n.TgZ(0,"h2"),n._uU(1),n.ALo(2,"contentSnippet"),n.ALo(3,"async"),n.qZA()),2&t){const e=n.oxw(2);n.xp6(1),n.Oqu(n.xi3(2,1,n.lcZ(3,4,e.contentSnippet$),"productDetail.title"))}}const z$=function(t){return{hidden:t}},H$=function(t){return{"hidden-fullscreen":t}};function j$(t,r){if(1&t&&(n.ynx(0),n.TgZ(1,"div")(2,"div",1),n.YNc(3,R$,1,1,"apto-loading-indicator",2),n.ALo(4,"async"),n.TgZ(5,"div",3),n._UZ(6,"apto-o-p-full-screen",4),n.ALo(7,"async"),n.YNc(8,L$,2,0,"div",5),n.ALo(9,"async"),n.YNc(10,B$,2,5,"apto-sidebar-summary-render-image",6),n._UZ(11,"apto-o-p-button"),n.qZA(),n.TgZ(12,"div",7)(13,"div",8)(14,"div",9)(15,"h1"),n._uU(16),n.ALo(17,"translate"),n.qZA()()(),n.TgZ(18,"div",10)(19,"div",11),n._UZ(20,"apto-o-p-steps"),n.qZA()(),n._UZ(21,"apto-sidebar-summary"),n.qZA()(),n.YNc(22,U$,1,0,"apto-slot-outlet",12),n.TgZ(23,"div",13),n.YNc(24,V$,4,6,"h2",0),n.ALo(25,"contentSnippet"),n.ALo(26,"async"),n._UZ(27,"apto-slot-outlet",14)(28,"div",15),n.ALo(29,"safeHtml"),n.ALo(30,"translate"),n._UZ(31,"apto-slot-outlet",16),n.qZA()(),n.BQk()),2&t){const e=r.ngIf,i=n.oxw();n.xp6(1),n.Gre("one-page ",e.identifier,""),n.xp6(1),n.Q6J("ngClass",n.VKq(32,z$,i.hideOnePage)),n.xp6(1),n.Q6J("ngIf",n.lcZ(4,15,i.configurationLoading$)),n.xp6(3),n.Q6J("ngClass",n.VKq(34,H$,!i.renderImage))("perspectives",n.lcZ(7,17,i.perspectives$))("product",e)("renderImage",i.renderImage),n.xp6(2),n.Q6J("ngIf",!i.renderImage&&!n.lcZ(9,19,i.configurationLoading$)),n.xp6(2),n.Q6J("ngIf",i.renderImage),n.xp6(6),n.Oqu(n.lcZ(17,21,e.name)),n.xp6(6),n.Q6J("ngIf",i.hideOnePage),n.xp6(2),n.Q6J("ngIf",n.xi3(25,23,n.lcZ(26,26,i.contentSnippet$),"productDetail.title")),n.xp6(4),n.Q6J("innerHTML",n.lcZ(29,28,n.lcZ(30,30,e.description)),n.oJD)}}let Yf=class{constructor(r,e){var i=this;this.store=r,this.renderImageService=e,this.product$=this.store.select(ls),this.perspectives$=this.store.select(yd),this.configurationLoading$=this.store.select(Gm),this.loadingIndicatorTypes=Qc,this.contentSnippet$=this.store.select(un("aptoOnePage")),this.hideOnePage=!1,this.renderImage=null,uo([this.store.select(cA),this.store.select(Wc),this.store.select(by)]).pipe(ki(this)).subscribe(function(){var o=bc(function*(a){i.hideOnePage=a[0],a[0]||(i.renderImage=yield i.renderImageService.drawImageForPerspective(a[1]))});return function(a){return o.apply(this,arguments)}}())}onPropsChanged(r){}};Yf.\u0275fac=function(r){return new(r||Yf)(n.Y36(Oe.yh),n.Y36(kd))},Yf.\u0275cmp=n.Xpm({type:Yf,selectors:[["apto-one-page"]],decls:2,vars:3,consts:[[4,"ngIf"],[1,"content",3,"ngClass"],[3,"type",4,"ngIf"],[1,"render-img-menu"],[3,"ngClass","perspectives","product","renderImage"],["class","no-render-image",4,"ngIf"],[3,"perspectives","renderImage","product",4,"ngIf"],[1,"section-list-menu"],[1,"title"],[1,"headline"],[1,"section-list"],[1,"section-list-content"],["identifier","one-page-designer",4,"ngIf"],[1,"description"],["identifier","before-product-description"],[3,"innerHTML"],["identifier","after-product-description"],[3,"type"],[1,"no-render-image"],[3,"perspectives","renderImage","product"],["identifier","one-page-designer"]],template:function(r,e){1&r&&(n.YNc(0,j$,32,36,"ng-container",0),n.ALo(1,"async")),2&r&&n.Q6J("ngIf",n.lcZ(1,1,e.product$))},dependencies:[An,rn,fo,No,Nd,Fd,A$,P$,eT,hn,Tr,Lo,ur],styles:['[_nghost-%COMP%]{background-color:var(--color-background)}.title[_ngcontent-%COMP%]{background-color:var(--color-background-card);border-radius:var(--border-radius-card);overflow:auto;margin-bottom:15px;flex:0 0 auto;min-height:64px}.headline[_ngcontent-%COMP%]{padding:15px 30px;border-bottom:3px solid var(--color-optic-lines)}h1[_ngcontent-%COMP%]{margin:0!important;color:var(--color-primary);font-size:25px;font-weight:700}.one-page[_ngcontent-%COMP%]{margin:50px 40px 30px;background-color:var(--color-background);display:flex;flex-direction:column}.description[_ngcontent-%COMP%]{background-color:var(--color-background-card);border-radius:var(--border-radius-card);box-shadow:var(--box-shadow);padding:20px}.description[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:var(--color-title)}.description[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin-top:30px;color:var(--color-text)}.hidden-fullscreen[_ngcontent-%COMP%]{visibility:hidden}.content[_ngcontent-%COMP%]{display:grid;position:relative;grid-template-columns:6fr 4fr;gap:5%;background-color:var(--color-background);margin-bottom:40px;grid-template-rows:calc(100vh - 360px);grid-template-areas:"render-img section-list"}.content[_ngcontent-%COMP%]   .render-img-menu[_ngcontent-%COMP%]{grid-area:render-img;z-index:1;display:grid;grid-template-rows:60px calc(100% - 180px) 60px;gap:30px;grid-template-columns:100%}.content[_ngcontent-%COMP%]   .render-img-menu[_ngcontent-%COMP%]   apto-sidebar-summary-render-image[_ngcontent-%COMP%]{display:flex;justify-content:center}.content[_ngcontent-%COMP%]   .no-render-image[_ngcontent-%COMP%]{height:200px;width:250px;border-radius:var(--border-radius-card);background-color:var(--color-background-card);text-align:center;padding:20px;box-shadow:var(--box-shadow);align-self:center;justify-self:center;display:flex;justify-content:center;align-content:center;flex-direction:column;margin:20px}.content[_ngcontent-%COMP%]   .section-list-menu[_ngcontent-%COMP%]{grid-area:section-list;z-index:1;display:flex;flex-direction:column;height:calc(100vh - 360px);justify-content:space-between;min-width:0}.content[_ngcontent-%COMP%]   .section-list-menu[_ngcontent-%COMP%]   .section-list[_ngcontent-%COMP%]{overflow-y:scroll;padding-right:15px;padding-left:15px;height:100%}.content.hidden[_ngcontent-%COMP%]{display:none}@media (max-width: 1023px){.content[_ngcontent-%COMP%]{display:flex;flex-direction:column}.content[_ngcontent-%COMP%]   .render-img-menu[_ngcontent-%COMP%]{gap:30px;display:flex;flex-direction:column;margin-bottom:30px}.content[_ngcontent-%COMP%]   .section-list-menu[_ngcontent-%COMP%]{height:auto}.content[_ngcontent-%COMP%]   .section-list-menu[_ngcontent-%COMP%]   .section-list[_ngcontent-%COMP%]{padding-right:0;padding-left:0;height:auto;overflow-y:auto}}@media only screen and (max-width: 767px){.content[_ngcontent-%COMP%]   .render-img-menu[_ngcontent-%COMP%]{gap:15px;margin-bottom:30px}.one-page[_ngcontent-%COMP%]{margin:10px}.one-page[_ngcontent-%COMP%]   .render-img-menu[_ngcontent-%COMP%]{margin-bottom:30px}}']}),Yf=(0,Ei.gn)([Ii(),x3({slot:"frontend-content"})],Yf);var Gf=(()=>{return(t=Gf||(Gf={}))[t.mobile=768]="mobile",t[t.tablet=1024]="tablet",t[t.desktop=1279]="desktop",Gf;var t})();const q$={mobile:`(max-width: ${Gf.mobile}px)`,tablet:`(min-width: ${Gf.mobile+1}px) and (max-width: ${Gf.tablet}px)`,desktop:`(min-width: ${Gf.desktop+1}px)`};function Z$(t,r){if(1&t&&(n.TgZ(0,"div",7),n._uU(1),n.qZA()),2&t){const e=n.oxw(3);n.xp6(1),n.hij(" ",e.index," ")}}function Y$(t,r){1&t&&(n.TgZ(0,"div",7)(1,"mat-icon"),n._uU(2,"done"),n.qZA()())}function G$(t,r){1&t&&n._UZ(0,"div",8)}function $$(t,r){if(1&t&&(n.TgZ(0,"div",13),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&t){const e=r.$implicit;n.xp6(1),n.hij("",n.lcZ(2,1,e)," ")}}function W$(t,r){if(1&t&&(n.TgZ(0,"div",10)(1,"span",11),n._uU(2),n.ALo(3,"translate"),n.qZA(),n.YNc(4,$$,3,3,"div",12),n.ALo(5,"async"),n.qZA()),2&t){const e=n.oxw().$implicit,i=n.oxw(3);n.xp6(2),n.hij(" ",n.lcZ(3,2,e.element.name)," "),n.xp6(2),n.Q6J("ngForOf",n.lcZ(5,4,i.getElementValues(e.element,i.section)))}}function Q$(t,r){if(1&t&&(n.TgZ(0,"div"),n.YNc(1,W$,6,6,"div",9),n.qZA()),2&t){const e=r.$implicit;n.xp6(1),n.Q6J("ngIf",e.state.active)}}function J$(t,r){if(1&t){const e=n.EpF();n.ynx(0),n.TgZ(1,"div",1),n.YNc(2,Z$,2,1,"div",2),n.YNc(3,Y$,3,0,"div",2),n.YNc(4,G$,1,0,"div",3),n.TgZ(5,"div",4),n.NdJ("click",function(){n.CHM(e);const o=n.oxw(2);return n.KtG(o.setStep(o.section,o.product.seoUrl,o.product.useStepByStep))}),n.TgZ(6,"div",5),n._uU(7),n.ALo(8,"translate"),n.qZA(),n.YNc(9,Q$,2,1,"div",6),n.qZA()(),n.BQk()}if(2&t){const e=n.oxw(2);n.xp6(1),n.ekj("keep-section-order",e.product.keepSectionOrder)("dont-keep-section-order",!e.product.keepSectionOrder)("section-valid",e.sectionIsValid)("section-not-valid",!e.sectionIsValid)("section-touched",e.isSectionTouched(e.section.section.id,e.section.section.repetition))("section-not-touched",!e.isSectionTouched(e.section.section.id,e.section.section.repetition)),n.Q6J("ngClass",e.status||""),n.xp6(1),n.Q6J("ngIf",!e.sectionIsValid||e.sectionIsValid&&!e.isSectionTouched(e.section.section.id,e.section.section.repetition)),n.xp6(1),n.Q6J("ngIf",e.sectionIsValid&&e.isSectionTouched(e.section.section.id,e.section.section.repetition)),n.xp6(1),n.Q6J("ngIf",e.last),n.xp6(1),n.ekj("select",e.isSectionSelectable()),n.xp6(2),n.AsE(" ",n.lcZ(8,21,e.section.section.name)," ",e.sectionIndex,""),n.xp6(2),n.Q6J("ngForOf",e.section.elements)}}function X$(t,r){if(1&t&&(n.ynx(0),n.YNc(1,J$,10,23,"ng-container",0),n.BQk()),2&t){const e=n.oxw();n.xp6(1),n.Q6J("ngIf",null==e.product?null:e.product.useStepByStep)}}let K$=(()=>{class t{constructor(e,i,o,a){this.store=e,this.activatedRoute=i,this.dialogService=o,this.router=a,this.popUp$=this.store.select(un("confirmSelectSectionDialog")),this.panelOpenState=!1,this.isActive=!1,this.sectionIsValid=!1,this.SectionTypes=oc,this.destroy$=new dn.x,this.csPopUp=null,this.locale=yn.defaultLocale}ngOnInit(){this.store.select(lr).subscribe(e=>{this.onLocalChange(e)}),this.popUp$.pipe((0,Zn.R)(this.destroy$)).subscribe(e=>{this.onCsPopUpChange(e)}),this.store.select(((t,r)=>(0,Oe.P1)(jn,e=>{const i=e.configuration.state.sections.find(a=>a.id===t&&a.repetition===r);if(!i)return!1;const o=e.configuration.state.elements.filter(a=>a.sectionId===i.id&&a.sectionRepetition===r);return wy(i,o)}))(this.section.section.id,this.section.section.repetition)).pipe((0,Zn.R)(this.destroy$)).subscribe(e=>this.sectionIsValid=e),this.store.select(yy).pipe((0,Zn.R)(this.destroy$)).subscribe(e=>{this.tempState=e})}isSectionTouched(e,i){return this.tempState.find(a=>a.sectionId===e&&a.repetition===i)?.touched??!1}setStep(e,i,o){if(this.product.keepSectionOrder){if(e&&!this.state?.afterSteps.includes(e)){if(!1===o)return;if(!this.csPopUp.title||!this.csPopUp.message)return void this.updateStore(e);this.openPopUp().pipe((0,Zn.R)(this.destroy$)).subscribe(a=>{!0===a&&this.updateStore(e)})}}else e&&o&&this.updateStore(e)}updateStore(e){this.store.dispatch(hd({payload:{id:e.section.id,repetition:e.section.repetition}})),this.store.dispatch(_d({payload:{sectionId:e.section.id,repetition:e.section.repetition,touched:!0}}))}isSectionSelectable(){return!this.product.keepSectionOrder||this.status===ic.COMPLETED||this.status===ic.CURRENT}get sectionIndex(){return this.section.section.repeatableType===oc.WIEDERHOLBAR?`${this.section.section.repetition+1}`:""}getElementValues(e,i){const o={...e,sectionRepetition:i.section.repetition};return this.store.select((t=>(0,Oe.P1)(jn,r=>{if(!r.configuration.humanReadableState)return[];const e=r.configuration.humanReadableState.find(i=>i.elementId===t.id&&i.repetition===t.sectionRepetition);return e?[].concat(...Object.values(e.values)):[]}))(o))}togglePanel(){this.panelOpenState=!this.panelOpenState}isActiveSection(){this.isActive=!0}openPopUp(){return this.dialogService.openWarningDialog(Ur.md,this.csPopUp.title,this.csPopUp.message,this.csPopUp.button.cancel,this.csPopUp.button.accept).afterClosed()}onLocalChange(e){this.locale=null===e?yn.defaultLocale:e}onCsPopUpChange(e){this.csPopUp={title:"",message:"",button:{cancel:"",accept:""}},null!==e&&e.children.forEach(i=>{"title"===i.name&&(this.csPopUp.title=Pn(i.content,this.locale)),"message"===i.name&&(this.csPopUp.message=Pn(i.content,this.locale)),"buttonCancel"===i.name&&(this.csPopUp.button.cancel=Pn(i.content,this.locale)),"buttonAccept"===i.name&&(this.csPopUp.button.accept=Pn(i.content,this.locale))})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(Oe.yh),n.Y36(zi),n.Y36(Do),n.Y36(ti))},t.\u0275cmp=n.Xpm({type:t,selectors:[["apto-sbs-step"]],inputs:{section:"section",index:"index",status:"status",description:"description",last:"last",product:"product",elements:"elements",active:"active",state:"state"},decls:1,vars:1,consts:[[4,"ngIf"],[1,"section",3,"ngClass"],["class","circle",4,"ngIf"],["class","white-overlay",4,"ngIf"],[1,"step",3,"click"],[1,"title"],[4,"ngFor","ngForOf"],[1,"circle"],[1,"white-overlay"],["class","elements",4,"ngIf"],[1,"elements"],[1,"element-title"],["class","element-value",4,"ngFor","ngForOf"],[1,"element-value"]],template:function(e,i){1&e&&n.YNc(0,X$,2,1,"ng-container",0),2&e&&n.Q6J("ngIf",i.section)},dependencies:[An,Ar,rn,fr,hn,Tr],styles:[".keep-section-order[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%], .dont-keep-section-order[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]{border-radius:var(--border-radius-bubble);height:41px;width:41px;font-size:x-large;display:flex;justify-content:center;align-items:center;flex-shrink:0;z-index:10}.keep-section-order.CURRENT[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%], .dont-keep-section-order.CURRENT[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-weight:700}.keep-section-order.CURRENT[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%], .dont-keep-section-order.CURRENT[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]{border:2px solid var(--color-primary);background-color:var(--color-primary);color:var(--color-background-sidebar)}.keep-section-order.REMAINING[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%], .keep-section-order.COMPLETED[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%], .dont-keep-section-order.REMAINING[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%], .dont-keep-section-order.COMPLETED[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]{background-color:var(--color-background-sidebar);color:var(--color-primary);border:2px solid var(--color-primary)}.keep-section-order.REMAINING.section-valid.section-touched[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%], .keep-section-order.COMPLETED.section-valid.section-touched[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%], .dont-keep-section-order.REMAINING.section-valid.section-touched[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%], .dont-keep-section-order.COMPLETED.section-valid.section-touched[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]{border:2px solid var(--color-background-completed);background-color:var(--color-background-completed);color:var(--color-completed)}.section[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:left;color:var(--color-primary);font-weight:600;position:relative}mat-icon[_ngcontent-%COMP%]{font-size:30px;line-height:30px;width:30px;height:30px}.elements[_ngcontent-%COMP%]{font-size:small;color:var(--color-text);font-weight:600;margin-bottom:4px}.step[_ngcontent-%COMP%]{border-radius:10px;margin-left:10px;padding:5px 10px;display:flex;flex-direction:column;justify-content:center}.step.select[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#0000000d}.step[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:18px;margin-bottom:4px}.step[_ngcontent-%COMP%]   .element-title[_ngcontent-%COMP%], .step[_ngcontent-%COMP%]   .element-value[_ngcontent-%COMP%]{font-size:14px;font-weight:500;color:var(--color-text);opacity:.64}.step[_ngcontent-%COMP%]   .element-value[_ngcontent-%COMP%]{font-weight:300}.white-overlay[_ngcontent-%COMP%]{background-color:var(--color-background-sidebar);position:absolute;height:100%;width:50px}"]}),t})();function e9(t,r){if(1&t&&n._UZ(0,"apto-sbs-step",8),2&t){const e=r.$implicit,i=r.index,o=r.last,a=n.oxw().ngIf,l=n.oxw(2).ngIf;n.Q6J("index",i+1)("status",e.status)("section",e)("description",e.description)("last",o)("product",l)("state",a)}}function t9(t,r){if(1&t&&(n.TgZ(0,"div",5),n._UZ(1,"div",6),n.YNc(2,e9,1,7,"apto-sbs-step",7),n.qZA()),2&t){const e=r.ngIf;n.xp6(2),n.Q6J("ngForOf",e.steps)}}function n9(t,r){if(1&t){const e=n.EpF();n.ynx(0),n.TgZ(1,"mat-accordion")(2,"mat-expansion-panel",1),n.NdJ("expandedChange",function(o){n.CHM(e);const a=n.oxw(2);return n.KtG(a.isExpanded=o)}),n.TgZ(3,"mat-expansion-panel-header")(4,"mat-panel-title")(5,"h1",2),n._uU(6),n.ALo(7,"translate"),n.qZA()()(),n.TgZ(8,"div",3),n.YNc(9,t9,3,1,"div",4),n.ALo(10,"async"),n.qZA()()(),n.BQk()}if(2&t){const e=n.oxw().ngIf,i=n.oxw();n.xp6(2),n.Q6J("hideToggle",i.hideToggle)("expanded",i.isExpanded)("disabled",i.isDisabled),n.xp6(4),n.hij(" ",n.lcZ(7,5,e.name)," "),n.xp6(3),n.Q6J("ngIf",n.lcZ(10,7,i.steps$))}}function r9(t,r){if(1&t&&(n.ynx(0),n.YNc(1,n9,11,9,"ng-container",0),n.BQk()),2&t){const e=r.ngIf;n.xp6(1),n.Q6J("ngIf",e.useStepByStep)}}let o9=(()=>{class t{constructor(e,i,o){this.store=e,this.screenBreakPoints=i,this.breakpointObserver=o,this.product$=this.store.select(ls),this.steps$=this.store.select(cc),this.isExpanded=!0,this.isDisabled=!1,this.hideToggle=!1}ngOnInit(){this.breakpointObserver.observe([...Object.values(this.screenBreakPoints)]).subscribe(e=>{this.isExpanded=e.matches&&e.breakpoints[this.screenBreakPoints.desktop],this.isDisabled=e.matches&&e.breakpoints[this.screenBreakPoints.desktop],this.hideToggle=e.matches&&e.breakpoints[this.screenBreakPoints.desktop]})}stepTrackBy(e,i){return i.section.id}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(Oe.yh),n.Y36("BREAKPOINTS"),n.Y36(mf))},t.\u0275cmp=n.Xpm({type:t,selectors:[["apto-sbs-steps"]],features:[n._Bn([{provide:"BREAKPOINTS",useValue:q$}])],decls:2,vars:3,consts:[[4,"ngIf"],[3,"hideToggle","expanded","disabled","expandedChange"],[1,"headline"],[1,"scroll"],["class","steps",4,"ngIf"],[1,"steps"],[1,"vLine"],[3,"index","status","section","description","last","product","state",4,"ngFor","ngForOf"],[3,"index","status","section","description","last","product","state"]],template:function(e,i){1&e&&(n.YNc(0,r9,2,1,"ng-container",0),n.ALo(1,"async")),2&e&&n.Q6J("ngIf",n.lcZ(1,1,i.product$))},dependencies:[Ar,rn,d3,GP,$P,u3,K$,hn,Tr],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;background-color:#fff}[_ngcontent-%COMP%]::-webkit-scrollbar{background-color:var(--color-background-card)!important}.mat-expansion-panel[_ngcontent-%COMP%]   .mat-expansion-panel-header[_ngcontent-%COMP%]{padding:20px;height:auto}.mat-expansion-panel[_ngcontent-%COMP%]   .mat-expansion-panel-header[_ngcontent-%COMP%]     .mat-content{margin-right:0}.mat-expansion-panel[_ngcontent-%COMP%]   .mat-expansion-panel-header[_ngcontent-%COMP%]     .mat-content mat-panel-title{margin-right:0}.mat-expansion-panel[_ngcontent-%COMP%]   .mat-expansion-panel-header[_ngcontent-%COMP%]     .mat-content mat-panel-title h1.headline{width:100%;border:none;font-size:1.8125rem;font-weight:600;color:var(--color-title);margin:0}.mat-expansion-panel[_ngcontent-%COMP%]     .mat-expansion-panel-content .mat-expansion-panel-body{padding:0 20px}.mat-expansion-panel.mat-expanded[_ngcontent-%COMP%]   .mat-expansion-panel-header[_ngcontent-%COMP%]     .mat-content mat-panel-title h1.headline{border-bottom:2px solid var(--color-details);padding-bottom:20px}.scroll[_ngcontent-%COMP%]{margin:25px 0;width:100%}.scroll[_ngcontent-%COMP%]   .steps[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:40px;position:relative;z-index:1;margin:0}.scroll[_ngcontent-%COMP%]   .steps[_ngcontent-%COMP%]   .vLine[_ngcontent-%COMP%]{width:2px;height:100%;background-color:var(--color-details);position:absolute;top:0;left:19px;z-index:-1}@media only screen and (min-width: 1280px){[_nghost-%COMP%]{height:100%}.mat-expansion-panel[_ngcontent-%COMP%]:not([class*=mat-elevation-z]){box-shadow:none}}@media only screen and (max-width: 767px){.mat-expansion-panel[_ngcontent-%COMP%]   .mat-expansion-panel-header[_ngcontent-%COMP%]{padding:15px}.mat-expansion-panel[_ngcontent-%COMP%]   .mat-expansion-panel-header[_ngcontent-%COMP%]     .mat-content mat-panel-title h1.headline{font-size:22px}}"]}),t})();var Nw=(()=>{return(t=Nw||(Nw={})).MINIMUM="Minimum",t.MAXIMUM="Maximum",Nw;var t})(),$f=(()=>{return(t=$f||($f={})).DEACTIVATED="deactivated",t.IMAGE_PREVIEW="image_preview",t.GALLERY="gallery",$f;var t})(),sg=(()=>{return(t=sg||(sg={})).INPUT="input",t.SLIDER="slider",t.INPUT_SLIDER="input_slider",sg;var t})();function a9(t,r){if(1&t){const e=n.EpF();n.TgZ(0,"div",5),n.NdJ("click",function(o){n.CHM(e);const a=n.oxw(2);return n.KtG(a.zoom(o))}),n.TgZ(1,"mat-icon"),n._uU(2,"zoom_in"),n.qZA()()}}function s9(t,r){if(1&t&&(n.TgZ(0,"div",2),n._UZ(1,"img",3),n.YNc(2,a9,3,0,"div",4),n.qZA()),2&t){const e=n.oxw();n.ekj("is-zoomable",e.isZoomEnabled()),n.xp6(1),n.Akn(e.imgStyles),n.Q6J("src",e.previewImage,n.LSH),n.xp6(1),n.Q6J("ngIf",e.isZoomEnabled())}}function l9(t,r){if(1&t){const e=n.EpF();n.TgZ(0,"div",6)(1,"div",7)(2,"img",8),n.NdJ("click",function(){n.CHM(e);const o=n.oxw();return n.KtG(o.isOpen=!o.isOpen)}),n.qZA(),n.TgZ(3,"apto-close-button",9),n.NdJ("clicked",function(){n.CHM(e);const o=n.oxw();return n.KtG(o.isOpen=!o.isOpen)}),n.qZA()()()}if(2&t){const e=n.oxw();n.xp6(2),n.Q6J("src",e.previewImage,n.LSH),n.xp6(1),n.Q6J("mat-dialog-close",!0)}}let c9=(()=>{class t{constructor(){this.imgStyles="",this.isOpen=!1}ngOnInit(){this.width&&this.calculateImgStyle()}calculateImgStyle(){this.imgStyles=["min-width: calc("+this.width+"/4)","min-height: calc("+this.width+"/4)","max-width: "+this.width,"max-height: calc("+this.width+" + "+this.width+"/2)"].join(";")}zoom(e){this.isOpen=!this.isOpen,e.stopPropagation()}isZoomEnabled(){return this.isZoomable}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Xpm({type:t,selectors:[["apto-section-picture"]],inputs:{previewImage:"previewImage",width:"width",isZoomable:"isZoomable"},decls:2,vars:2,consts:[["class","element-picture",3,"is-zoomable",4,"ngIf"],["cdkConnectedOverlay","",3,"cdkConnectedOverlayOpen"],[1,"element-picture"],[3,"src"],["class","zoom-icon",3,"click",4,"ngIf"],[1,"zoom-icon",3,"click"],[1,"zoomed-in"],[1,"image-wrapper"],[3,"src","click"],[3,"mat-dialog-close","clicked"]],template:function(e,i){1&e&&(n.YNc(0,s9,3,6,"div",0),n.YNc(1,l9,4,2,"ng-template",1)),2&e&&(n.Q6J("ngIf",i.previewImage),n.xp6(1),n.Q6J("cdkConnectedOverlayOpen",i.isOpen))},dependencies:[rn,fr,is,xd,gc],styles:[".element-picture[_ngcontent-%COMP%]{position:relative}.element-picture.is-zoomable[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:calc(var(--image-tablet-width) - 22px)}.element-picture[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.element-picture[_ngcontent-%COMP%]   .zoom-icon[_ngcontent-%COMP%]{position:absolute;top:-2px;right:0;cursor:pointer}.element-picture[_ngcontent-%COMP%]   .zoom-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{width:26px;height:26px;font-size:26px}.zoomed-in[_ngcontent-%COMP%]{-webkit-backdrop-filter:blur(6px);backdrop-filter:blur(6px);background-color:#00000080;position:fixed;display:flex;justify-content:center;align-items:center;height:100%;width:100%}.zoomed-in[_ngcontent-%COMP%]   .image-wrapper[_ngcontent-%COMP%]{position:relative}.zoomed-in[_ngcontent-%COMP%]   .image-wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:calc(100vw - 100px);max-height:calc(100vh - 100px)}@media only screen and (max-width: 767px){.element-picture.is-zoomable[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:calc(var(--image-mobile-width) - 22px)}}"]}),t})();function u9(t,r){if(1&t&&n._UZ(0,"apto-section-picture",13),2&t){const e=n.oxw(2).ngIf;n.Q6J("previewImage",e.currentStep.section.previewImage)("isZoomable",e.currentStep.section.isZoomable)}}function d9(t,r){if(1&t&&(n._UZ(0,"apto-slot-outlet",18),n.ALo(1,"async")),2&t){const e=n.oxw(2).ngIf,i=n.oxw(3).ngIf,o=n.oxw();n.Q6J("identifier",e.element.definition.staticValues.aptoElementDefinitionId)("product",n.lcZ(1,4,o.product$))("section",i.currentStep.section)("element",e)}}function p9(t,r){if(1&t&&(n.ynx(0),n.YNc(1,d9,2,6,"apto-slot-outlet",17),n.BQk()),2&t){const e=r.ngIf,i=n.oxw(2).$implicit,o=n.oxw(3);n.xp6(1),n.Q6J("ngIf",!o.isElementDisabled(i.id,i.sectionRepetition)||!e.keepSectionOrder)}}function f9(t,r){if(1&t&&(n.TgZ(0,"div",15)(1,"div",16),n.YNc(2,p9,2,1,"ng-container",0),n.ALo(3,"async"),n.qZA()()),2&t){const e=n.oxw().$implicit,i=n.oxw(3);n.ekj("element-is-disabled",i.isElementDisabled(e.id,e.sectionRepetition)),n.xp6(2),n.Q6J("ngIf",n.lcZ(3,3,i.product$))}}function h9(t,r){if(1&t&&(n.ynx(0),n.YNc(1,f9,4,5,"div",14),n.BQk()),2&t){const e=r.$implicit,i=n.oxw(3);n.xp6(1),n.Q6J("ngIf",i.getProgressElement(e.id))}}function m9(t,r){if(1&t){const e=n.EpF();n.TgZ(0,"button",19),n.NdJ("click",function(){n.CHM(e);const o=n.oxw(2).ngIf,a=n.oxw();return n.KtG(a.prevStep(o))}),n.TgZ(1,"mat-icon"),n._uU(2,"undo"),n.qZA(),n.TgZ(3,"span"),n._uU(4),n.ALo(5,"contentSnippet"),n.ALo(6,"async"),n.qZA()()}if(2&t){const e=n.oxw(3);n.xp6(4),n.Oqu(n.xi3(5,1,n.lcZ(6,4,e.contentSnippets$),"prevStep"))}}function g9(t,r){if(1&t){const e=n.EpF();n.TgZ(0,"button",20),n.NdJ("click",function(){n.CHM(e),n.oxw();const o=n.MAs(2),a=n.oxw().ngIf,l=n.oxw();return n.KtG(l.nextStep(a,o))}),n.TgZ(1,"mat-icon"),n._uU(2,"done"),n.qZA(),n.TgZ(3,"span"),n._uU(4),n.ALo(5,"contentSnippet"),n.ALo(6,"async"),n.qZA()()}if(2&t){const e=n.oxw(2).ngIf,i=n.oxw();n.Q6J("disabled",e.currentStep.section.isMandatory&&!e.currentStep.fulfilled),n.xp6(4),n.Oqu(n.xi3(5,2,n.lcZ(6,5,i.contentSnippets$),"nextStep"))}}function _9(t,r){if(1&t&&(n.TgZ(0,"button",21),n.ALo(1,"async"),n.TgZ(2,"mat-icon"),n._uU(3,"done"),n.qZA(),n.TgZ(4,"span"),n._uU(5),n.ALo(6,"contentSnippet"),n.ALo(7,"async"),n.qZA()()),2&t){const e=n.oxw(3);n.Q6J("disabled",!n.lcZ(1,2,e.configurationIsValid$)),n.xp6(5),n.Oqu(n.xi3(6,4,n.lcZ(7,7,e.contentSnippets$),"finishSteps"))}}function v9(t,r){if(1&t){const e=n.EpF();n.TgZ(0,"button",20),n.NdJ("click",function(){n.CHM(e);const o=n.oxw(3);return n.KtG(o.openShopware6Cart())}),n.ALo(1,"async"),n.TgZ(2,"mat-icon"),n._uU(3,"done"),n.qZA(),n.TgZ(4,"span"),n._uU(5),n.ALo(6,"contentSnippet"),n.ALo(7,"async"),n.qZA()()}if(2&t){const e=n.oxw(3);n.Q6J("disabled",!n.lcZ(1,2,e.configurationIsValid$)||e.sw6CartButtonDisabled),n.xp6(5),n.Oqu(n.xi3(6,4,n.lcZ(7,7,e.contentSnippets$),"finishSteps"))}}function y9(t,r){if(1&t&&(n.ynx(0),n.TgZ(1,"div",1,2),n.YNc(3,u9,1,2,"apto-section-picture",3),n.TgZ(4,"h2",4),n._uU(5),n.ALo(6,"translate"),n.qZA(),n._UZ(7,"div",5),n.ALo(8,"safeHtml"),n.ALo(9,"translate"),n.qZA(),n.TgZ(10,"div"),n.YNc(11,h9,2,1,"ng-container",6),n.ALo(12,"async"),n.qZA(),n.TgZ(13,"div",7),n._UZ(14,"apto-slot-outlet",8),n.YNc(15,m9,7,6,"button",9),n.YNc(16,g9,7,7,"button",10),n.YNc(17,_9,8,9,"button",11),n.YNc(18,v9,8,9,"button",10),n._UZ(19,"apto-slot-outlet",12),n.qZA(),n.BQk()),2&t){const e=n.oxw().ngIf,i=n.oxw();n.xp6(1),n.ekj("no-image",!e.currentStep.section.previewImage),n.xp6(2),n.Q6J("ngIf",e.currentStep.section.previewImage),n.xp6(2),n.AsE("",n.lcZ(6,14,e.currentStep.section.name)," ",i.sectionIndex,""),n.xp6(2),n.Q6J("innerHTML",n.lcZ(8,16,n.lcZ(9,18,e.currentStep.section.description)),n.oJD),n.xp6(3),n.Gre("element-list section-",e.currentStep.section.identifier,""),n.xp6(1),n.Q6J("ngForOf",n.lcZ(12,20,i.currentProductElements$)),n.xp6(4),n.Q6J("ngIf",i.currentPosition!==i.minStepPosition),n.xp6(1),n.Q6J("ngIf",!i.lastSection(e)),n.xp6(1),n.Q6J("ngIf",i.lastSection(e)&&!i.isInline),n.xp6(1),n.Q6J("ngIf",i.lastSection(e)&&i.isInline)}}function b9(t,r){if(1&t&&(n.ynx(0),n.YNc(1,y9,20,22,"ng-container",0),n.BQk()),2&t){const e=r.ngIf;n.xp6(1),n.Q6J("ngIf",e.currentStep)}}let Wf=class{constructor(r,e,i,o){var a=this;this.store=r,this.renderImageService=e,this.activatedRoute=i,this.actions$=o,this.progressState$=this.store.select(cc),this.product$=this.store.select(ls),this.currentProductElements$=this.store.select(h1),this.currentStateElements$=this.store.select(m1),this.configurationIsValid$=this.store.select(v1),this.contentSnippets$=this.store.select(un("aptoStepByStep.elementsContainer")),this.currentStateElements=null,this.progressState=null,this.stepPositions=[],this.isInline=!!yn.aptoInline,this.renderImage=null,this.sw6CartButtonDisabled=!1,this.store.select(Wc).pipe(ki(this)).subscribe(function(){var l=bc(function*(u){a.renderImage=yield a.renderImageService.drawImageForPerspective(u)});return function(u){return l.apply(this,arguments)}}())}ngOnInit(){this.currentStateElements$.subscribe(r=>{this.currentStateElements=r}),this.progressState$.pipe((0,Xa.x)()).subscribe(r=>{this.progressState=r,this.stepPositions=[];for(const e of this.progressState.steps)this.stepPositions.push(e.section.position)}),this.store.dispatch(_d({payload:{sectionId:this.progressState.steps[0].section.id,repetition:this.progressState.steps[0].section.repetition,touched:!0}}))}get currentPosition(){return this.progressState.currentStep.section.position}get minStepPosition(){return Math.min(...this.stepPositions)||0}isElementDisabled(r,e){const i=this.currentStateElements.filter(o=>o.id===r);return i.length>0&&i[e].disabled}getProgressElement(r){const e=this.progressState.currentStep.elements.filter(i=>i.element.id===r);return e.length>0?e[0]:null}lastSection(r){return 0===r.afterSteps.length}prevStep(r){const e=r.beforeSteps.length?r.beforeSteps[r.beforeSteps.length-1]:r.currentStep;this.store.dispatch(hd({payload:{id:e.section.id,repetition:e.section.repetition}})),this.store.dispatch(_d({payload:{sectionId:e.section.id,repetition:e.section.repetition,touched:!0}}))}nextStep(r,e){e&&e.scrollIntoView({behavior:"smooth"});const i=r.afterSteps.length?r.afterSteps[0]:r.currentStep;this.store.dispatch(hd({payload:{id:i.section.id,repetition:i.section.repetition}})),this.store.dispatch(_d({payload:{sectionId:i.section.id,repetition:i.section.repetition,touched:!0}}))}openShopware6Cart(){this.sw6CartButtonDisabled=!0,this.actions$.pipe(Yn(md),ki(this),(0,ar.q)(1)).subscribe(r=>{const e=window.PluginManager.getPluginInstances("OffCanvasCart");for(let i=0;i<e.length;i++)e[i].openOffCanvas(window.router["frontend.cart.offcanvas"],!1);this.sw6CartButtonDisabled=!1}),this.renderImage?this.renderImageService.resize(this.renderImage,800).then(r=>{this.store.dispatch(Ps({payload:{type:"ADD_TO_BASKET",productImage:r.src,configurationId:this.configurationId,configurationType:this.configurationType}}))}):this.store.dispatch(Ps({payload:{type:"ADD_TO_BASKET",productImage:null,configurationId:this.configurationId,configurationType:this.configurationType}}))}get sectionIndex(){return this.progressState.currentStep.section.repeatableType===oc.WIEDERHOLBAR?`${this.progressState.currentStep.section.repetition+1}`:""}get configurationId(){return this.activatedRoute.snapshot.params.configurationId}get configurationType(){return this.activatedRoute.snapshot.params.configurationType}getZoomFunction(r){return!0===r?$f.IMAGE_PREVIEW:$f.DEACTIVATED}};function C9(t,r){1&t&&(n.TgZ(0,"div"),n._UZ(1,"apto-sbs-steps")(2,"apto-sbs-elements")(3,"apto-sidebar-summary"),n.qZA()),2&t&&n.Gre("step-by-step-container ",r.ngIf.identifier,"")}Wf.\u0275fac=function(r){return new(r||Wf)(n.Y36(Oe.yh),n.Y36(kd),n.Y36(zi),n.Y36(eo))},Wf.\u0275cmp=n.Xpm({type:Wf,selectors:[["apto-sbs-elements"]],decls:2,vars:3,consts:[[4,"ngIf"],[1,"headline"],["nextStepScrollTarget",""],["class","image",3,"previewImage","isZoomable",4,"ngIf"],[1,"title"],[1,"description",3,"innerHTML"],[4,"ngFor","ngForOf"],[1,"step-navigation-container"],["identifier","sbs-elements-step-navigation-container-top"],["color","accent","mat-flat-button","",3,"click",4,"ngIf"],["color","primary","mat-flat-button","",3,"disabled","click",4,"ngIf"],["color","primary","routerLink","summary","mat-flat-button","",3,"disabled",4,"ngIf"],["identifier","sbs-elements-step-navigation-container-bottom"],[1,"image",3,"previewImage","isZoomable"],["class","element",3,"element-is-disabled",4,"ngIf"],[1,"element"],[1,"element-inner"],[3,"identifier","product","section","element",4,"ngIf"],[3,"identifier","product","section","element"],["color","accent","mat-flat-button","",3,"click"],["color","primary","mat-flat-button","",3,"disabled","click"],["color","primary","routerLink","summary","mat-flat-button","",3,"disabled"]],template:function(r,e){1&r&&(n.YNc(0,b9,2,1,"ng-container",0),n.ALo(1,"async")),2&r&&n.Q6J("ngIf",n.lcZ(1,1,e.progressState$))},dependencies:[sl,Ar,rn,fo,fr,Or,c9,hn,Tr,Lo,ur],styles:['[_nghost-%COMP%]{margin:0 15px}[_nghost-%COMP%]   .headline[_ngcontent-%COMP%]{display:grid;gap:var(--element-gap);margin-bottom:50px;grid-template-columns:1fr;justify-items:center;grid-template-areas:"title" "image" "description"}[_nghost-%COMP%]   .headline[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{grid-area:title;color:var(--color-text);margin:0}[_nghost-%COMP%]   .headline[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]{grid-area:image;width:var(--image-mobile-width)}[_nghost-%COMP%]   .headline[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:29px;font-weight:600}[_nghost-%COMP%]   .headline.no-image[_ngcontent-%COMP%]{grid-template-areas:"title" "description"}[_nghost-%COMP%]   .headline[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{grid-area:description;font-size:18px;font-weight:500;color:var(--color-text)}[_nghost-%COMP%]   .element-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--element-gap);margin-bottom:var(--element-gap)}[_nghost-%COMP%]   .element-list[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]{color:var(--color-text);background-color:var(--color-background-card);box-shadow:var(--box-shadow);border-radius:var(--border-radius-card);max-width:calc(100vw - var(--element-gap));overflow:visible}[_nghost-%COMP%]   .element-list[_ngcontent-%COMP%]   .element.element-is-disabled[_ngcontent-%COMP%]   .element-inner[_ngcontent-%COMP%]{opacity:.25}[_nghost-%COMP%]   .step-navigation-container[_ngcontent-%COMP%]{justify-content:flex-end;flex-wrap:wrap-reverse;margin-top:1rem;display:flex;gap:var(--button-gap);flex-direction:row;position:sticky;bottom:0;padding:10px 0;background-image:linear-gradient(to top,rgb(247,248,250) 0%,rgba(247,248,250,.75) 100%)}@media only screen and (min-width: 767px){[_nghost-%COMP%]   .headline[_ngcontent-%COMP%]{display:grid;gap:var(--element-gap);margin-bottom:50px;grid-template-areas:"title title" "image description";justify-content:space-between;justify-items:flex-start;grid-template-columns:auto 1fr}[_nghost-%COMP%]   .headline[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{grid-area:title;color:var(--color-text);margin:0}[_nghost-%COMP%]   .headline[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]{grid-area:image;width:var(--image-tablet-width)}[_nghost-%COMP%]   .headline[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:35px;font-weight:700}[_nghost-%COMP%]   .headline.no-image[_ngcontent-%COMP%]{grid-template-areas:"title" "description"}[_nghost-%COMP%]   .headline[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{grid-area:description;font-size:18px;font-weight:500;color:var(--color-text)}[_nghost-%COMP%]   .step-navigation-container[_ngcontent-%COMP%]{flex-direction:row}[_nghost-%COMP%]   .element-list[_ngcontent-%COMP%]{gap:40px}}@media only screen and (min-width: 1280px){[_nghost-%COMP%]{margin:0 0 50px}[_nghost-%COMP%]   .headline[_ngcontent-%COMP%]{padding-top:50px}}@media only screen and (max-width: 767px){[_nghost-%COMP%]   .headline[_ngcontent-%COMP%]{margin-bottom:30px}[_nghost-%COMP%]   .headline[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:20px}[_nghost-%COMP%]   .headline[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{font-size:16px}}']}),Wf=(0,Ei.gn)([Ii()],Wf);let Qf=class{constructor(r){this.store=r,this.configuration$=this.store.select(ji),this.product$=this.store.select(ls)}};function x9(t,r){1&t&&n._UZ(0,"apto-one-page")}function w9(t,r){1&t&&n._UZ(0,"apto-step-by-step")}function M9(t,r){if(1&t&&(n.ynx(0),n.YNc(1,x9,1,0,"apto-one-page",0),n.YNc(2,w9,1,0,"apto-step-by-step",0),n.BQk()),2&t){const e=r.ngIf;n.xp6(1),n.Q6J("ngIf",!e.useStepByStep),n.xp6(1),n.Q6J("ngIf",e.useStepByStep)}}Qf.\u0275fac=function(r){return new(r||Qf)(n.Y36(Oe.yh))},Qf.\u0275cmp=n.Xpm({type:Qf,selectors:[["apto-step-by-step"]],decls:3,vars:3,consts:[["identifier","step-by-step-container-top"],[3,"class",4,"ngIf"]],template:function(r,e){1&r&&(n._UZ(0,"apto-slot-outlet",0),n.YNc(1,C9,4,3,"div",1),n.ALo(2,"async")),2&r&&(n.xp6(1),n.Q6J("ngIf",n.lcZ(2,1,e.product$)))},dependencies:[rn,fo,o9,Nd,Wf,hn],styles:[".step-by-step-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;grid-template-rows:min-content min-content min-content;margin:0 0 50px;gap:50px}.step-by-step-container[_ngcontent-%COMP%]   apto-sidebar-summary[_ngcontent-%COMP%]{margin:0 15px}@media only screen and (min-width: 1280px){.step-by-step-container[_ngcontent-%COMP%]{grid-template-columns:320px 1fr 300px;margin:0;grid-template-rows:auto}.step-by-step-container[_ngcontent-%COMP%]   apto-sidebar-summary[_ngcontent-%COMP%]{margin:50px 0}}@media only screen and (max-width: 767px){.step-by-step-container[_ngcontent-%COMP%]{gap:30px;margin:0 0 16px}}"]}),Qf=(0,Ei.gn)([x3({slot:"frontend-content"})],Qf);let O3=(()=>{class t{constructor(e,i,o,a){this.route=e,this.store=i,this.titleService=o,this.metaService=a,this.product$=this.store.select(ls),this.configuration$=this.store.select(ji),this.destroy$=new dn.x,this.locale$=this.store.select(lr),this.locale=yn.defaultLocale}ngOnInit(){this.locale=yn.defaultLocale,this.locale$.pipe((0,Zn.R)(this.destroy$)).subscribe(a=>{this.locale=a}),this.product$.pipe((0,Zn.R)(this.destroy$)).subscribe(a=>{a&&a.metaTitle[this.locale]&&this.titleService.setTitle(a.metaTitle[this.locale]),a&&a.metaDescription[this.locale]&&this.metaService.updateTag({name:"description",content:a.metaDescription[this.locale]})});const e=this.route.snapshot.paramMap.get("productId"),i=this.route.snapshot.paramMap.get("configurationId"),o=this.route.snapshot.paramMap.get("configurationType");e&&this.store.dispatch(qm({payload:{id:e,type:null}})),i&&o&&this.store.dispatch(qm({payload:{id:i,type:o}}))}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(zi),n.Y36(Oe.yh),n.Y36($0),n.Y36(PS))},t.\u0275cmp=n.Xpm({type:t,selectors:[["apto-configuration"]],decls:2,vars:3,consts:[[4,"ngIf"]],template:function(e,i){1&e&&(n.YNc(0,M9,3,2,"ng-container",0),n.ALo(1,"async")),2&e&&n.Q6J("ngIf",n.lcZ(1,1,i.product$))},dependencies:[rn,Yf,Qf,hn],styles:["[_nghost-%COMP%]{display:block;max-width:var(--layout-max-with);margin:0 auto}"]}),t})(),S9=(()=>{class t{constructor(e){this.store=e,this.width="",this.csProductList$=this.store.select(un("aptoProductList")),this.formElement=new Ln({value:void 0,disabled:!1}),this.disabled=!1}ngOnInit(){}writeValue(e){this.formElement.setValue(e)}registerOnTouched(e){}registerOnChange(e){this.formElement.valueChanges.pipe((0,Xa.x)(),(0,_n.b)(500),(0,xt.U)(i=>i)).subscribe(e)}setDisabledState(e){this.disabled=e,this.disabled?this.formElement.disable():this.formElement.enable()}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(Oe.yh))},t.\u0275cmp=n.Xpm({type:t,selectors:[["apto-search"]],inputs:{width:"width"},features:[n._Bn([{provide:Ci,useExisting:(0,n.Gpc)(()=>t),multi:!0}])],decls:9,vars:19,consts:[[1,"search-field"],["type","text",3,"formControl","placeholder"],[1,"fa","fa-search","search-icon"]],template:function(e,i){1&e&&(n.TgZ(0,"div",0)(1,"label"),n._uU(2),n.ALo(3,"contentSnippet"),n.ALo(4,"async"),n.qZA(),n._UZ(5,"input",1),n.ALo(6,"contentSnippet"),n.ALo(7,"async"),n._UZ(8,"i",2),n.qZA()),2&e&&(n.Udp("width",i.width?i.width:"100%"),n.ekj("input-disabled",i.disabled),n.xp6(2),n.Oqu(n.xi3(3,9,n.lcZ(4,12,i.csProductList$),"search")),n.xp6(3),n.ekj("input-disabled",i.disabled),n.Q6J("formControl",i.formElement)("placeholder",n.xi3(6,14,n.lcZ(7,17,i.csProductList$),"searchPlaceholder")))},dependencies:[Dd,oi,Cl,hn,ur],styles:["[_nghost-%COMP%]{width:100%;display:flex;justify-content:center;flex-direction:column}.search-field[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;justify-content:space-between;gap:10px}.search-field[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:18px;color:var(--color-text);font-weight:500;text-align:left}.search-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-family:var(--main-font-1);font-size:15px;color:var(--color-text);font-weight:600;width:100%;background-color:transparent;border:0;outline:none;padding-right:var(--input-elements-gap);padding-left:20px;display:flex;overflow:hidden;background-color:#fff;border:1px solid var(--color-border-input);border-radius:var(--border-radius-card);height:var(--input-height);box-shadow:var(--box-shadow);padding-right:30px}.search-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{opacity:1;font-weight:400}.search-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-ms-input-placeholder{font-weight:400}.search-field[_ngcontent-%COMP%]   input.open-left[_ngcontent-%COMP%]{border-bottom-left-radius:0}.search-field[_ngcontent-%COMP%]   input.open-right[_ngcontent-%COMP%]{border-bottom-right-radius:0}.search-field[_ngcontent-%COMP%]   input.input-disabled[_ngcontent-%COMP%]{opacity:.6;cursor:default;pointer-events:none}.search-field[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%]{font-size:18px;color:var(--color-border-input);font-weight:500;position:absolute;right:10px}"]}),t})();function D9(t,r){if(1&t&&n._UZ(0,"apto-loading-indicator",5),2&t){const e=n.oxw();n.Q6J("type",e.loadingIndicatorTypes.ELEMENT)}}function O9(t,r){if(1&t&&n._UZ(0,"img",14),2&t){const e=n.oxw(2).$implicit;n.Q6J("src",e.previewImage,n.LSH)}}function E9(t,r){if(1&t&&(n._UZ(0,"div",15),n.ALo(1,"safeHtml"),n.ALo(2,"translate")),2&t){const e=n.oxw(2).$implicit;n.Q6J("innerHTML",n.lcZ(1,1,n.lcZ(2,3,e.description)),n.oJD)}}const E3=function(t){return["/product",t]},A9=function(t){return{"no-image":t}};function P9(t,r){if(1&t&&(n.TgZ(0,"div",7)(1,"div",8)(2,"div",9),n.YNc(3,O9,1,1,"img",10),n.qZA(),n.TgZ(4,"div",11)(5,"h3"),n._uU(6),n.ALo(7,"translate"),n.qZA(),n.YNc(8,E9,3,5,"div",12),n.ALo(9,"translate"),n.TgZ(10,"button",13),n._uU(11),n.ALo(12,"contentSnippet"),n.ALo(13,"async"),n.qZA()()()()),2&t){const e=n.oxw().$implicit,i=n.oxw();let o,a;n.uIk("data-id",e.id),n.xp6(1),n.Q6J("routerLink",n.VKq(18,E3,e.seoUrl)),n.xp6(1),n.Q6J("ngClass",n.VKq(20,A9,!e.previewImage)),n.xp6(1),n.Q6J("ngIf",e.previewImage),n.xp6(3),n.Oqu(n.lcZ(7,9,e.name)),n.xp6(2),n.Q6J("ngIf",""!==n.lcZ(9,11,e.description)),n.xp6(2),n.Q6J("routerLink",n.VKq(22,E3,null!==(o=e.seoUrl)&&void 0!==o?o:e.id)),n.uIk("data-link","/product/"+(null!==(a=e.seoUrl)&&void 0!==a?a:e.id)),n.xp6(1),n.hij(" ",n.xi3(12,13,n.lcZ(13,16,i.contentSnippets$),"button")," ")}}function T9(t,r){if(1&t&&(n.ynx(0),n.YNc(1,P9,14,24,"div",6),n.BQk()),2&t){const e=r.$implicit;n.xp6(1),n.Q6J("ngIf",!e.hidden)}}let I9=(()=>{class t{constructor(e,i){this.store=e,this.router=i,this.selectProductListLoading$=this.store.select(bG),this.loadingIndicatorTypes=Qc,this.formElement=new Ln,this.productList$=this.store.select(yG),this.contentSnippets$=this.store.select(un("aptoProductList")),this.store.dispatch(If({payload:{searchString:this.formElement.value||""}}))}ngOnInit(){yn.aptoInline&&this.router.navigate(["product",yn.aptoInline.productId]),this.formElement.valueChanges.subscribe(e=>{this.store.dispatch(If({payload:{searchString:e}}))})}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(Oe.yh),n.Y36(ti))},t.\u0275cmp=n.Xpm({type:t,selectors:[["apto-product-list"]],decls:7,vars:7,consts:[[1,"product-list-wrapper"],[3,"formControl"],[1,"product-list"],[3,"type",4,"ngIf"],[4,"ngFor","ngForOf"],[3,"type"],["class","product-wrapper",4,"ngIf"],[1,"product-wrapper"],[1,"product",3,"routerLink"],[1,"image",3,"ngClass"],[3,"src",4,"ngIf"],[1,"product-description"],["class","description",3,"innerHTML",4,"ngIf"],["mat-flat-button","","color","primary",3,"routerLink"],[3,"src"],[1,"description",3,"innerHTML"]],template:function(e,i){1&e&&(n.TgZ(0,"div",0),n._UZ(1,"apto-search",1),n.TgZ(2,"div",2),n.YNc(3,D9,1,1,"apto-loading-indicator",3),n.ALo(4,"async"),n.YNc(5,T9,2,1,"ng-container",4),n.ALo(6,"async"),n.qZA()()),2&e&&(n.xp6(1),n.Q6J("formControl",i.formElement),n.xp6(2),n.Q6J("ngIf",n.lcZ(4,3,i.selectProductListLoading$)),n.xp6(2),n.Q6J("ngForOf",n.lcZ(6,5,i.productList$)))},dependencies:[sl,An,Ar,rn,No,oi,Cl,Or,S9,hn,Tr,Lo,ur],styles:[".image[_ngcontent-%COMP%]{padding-top:10px;height:210px;display:flex;align-items:center;flex:none}.image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:200px;max-width:250px}.product-list-wrapper[_ngcontent-%COMP%]{background-color:var(--color-background);display:flex;flex-direction:row;flex-wrap:wrap;margin:0 auto;gap:40px;justify-content:center;max-width:var(--layout-max-with);padding:50px 40px}.product-list-wrapper[_ngcontent-%COMP%]   .product-list[_ngcontent-%COMP%]{display:flex;position:relative;flex-direction:row;flex-wrap:wrap;gap:40px;justify-content:center;min-height:200px;min-width:100%}.product[_ngcontent-%COMP%]{width:310px;max-height:600px;background-color:#fff;border-radius:var(--border-radius-card);display:flex;flex-direction:column;align-items:center;box-shadow:var(--box-shadow);cursor:pointer;overflow:hidden;gap:10px}.product-description[_ngcontent-%COMP%]{padding:20px 10px;overflow:auto;border-top:2px solid var(--color-border);width:290px;display:flex;flex-direction:column;justify-content:space-between;gap:30px;height:100%}.product-description[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{color:var(--color-text);flex-grow:1;max-height:193px;overflow:auto}.product-description[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:var(--color-title);display:flex;margin:0}.product-description[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:-moz-fit-content;width:fit-content;align-self:center;flex-grow:0}.image.no-image[_ngcontent-%COMP%]{height:0}.image.no-image[_ngcontent-%COMP%] + .product-description[_ngcontent-%COMP%]{border:none}.image.no-image[_ngcontent-%COMP%] + .product-description[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{max-height:395px}[_ngcontent-%COMP%]::-webkit-scrollbar{background-color:var(--color-background-card)!important}@media only screen and (max-width: 1023px){.product-list[_ngcontent-%COMP%]{padding:10px}}"]}),t})(),Jf=class{constructor(r,e,i,o){this.store=r,this.activatedRoute=e,this.router=i,this.actions$=o,this.contentSnippets$=this.store.select(un("plugins.frontendUsers")),this.formGroup=new mo({password:new Ln(null,[Dr.required]),repeatPassword:new Ln(null,[Dr.required]),token:new Ln(null,[Dr.required])})}ngOnInit(){this.activatedRoute.params.subscribe(r=>{this.formGroup.patchValue({token:r.token})})}save(){!this.formGroup.valid||(this.goToMainPageOnSuccess(),this.store.dispatch(wv({payload:{password:this.formGroup.get("password").getRawValue(),repeatPassword:this.formGroup.get("repeatPassword").getRawValue(),token:this.formGroup.get("token").getRawValue()}})))}goToMainPageOnSuccess(){this.actions$.pipe(Yn(Mv),ki(this)).subscribe(()=>{this.router.navigateByUrl("/")})}};Jf.\u0275fac=function(r){return new(r||Jf)(n.Y36(Oe.yh),n.Y36(zi),n.Y36(ti),n.Y36(eo))},Jf.\u0275cmp=n.Xpm({type:Jf,selectors:[["apto-update-password"]],decls:19,vars:30,consts:[[1,"password-container"],[1,"password-update"],[3,"formGroup","ngSubmit"],["formControlName","password",3,"fullWidth","name","type"],["formControlName","repeatPassword",3,"fullWidth","name","type"],[1,"actions"],["mat-flat-button","","color","primary","type","submit",3,"disabled"]],template:function(r,e){1&r&&(n.TgZ(0,"div",0)(1,"div",1)(2,"h1"),n._uU(3),n.ALo(4,"contentSnippet"),n.ALo(5,"async"),n.qZA(),n._UZ(6,"mat-divider"),n.TgZ(7,"form",2),n.NdJ("ngSubmit",function(){return e.save()}),n._UZ(8,"apto-input-field",3),n.ALo(9,"contentSnippet"),n.ALo(10,"async"),n._UZ(11,"apto-input-field",4),n.ALo(12,"contentSnippet"),n.ALo(13,"async"),n.TgZ(14,"div",5)(15,"button",6),n._uU(16),n.ALo(17,"contentSnippet"),n.ALo(18,"async"),n.qZA()()()()()),2&r&&(n.xp6(3),n.Oqu(n.xi3(4,10,n.lcZ(5,13,e.contentSnippets$),"changePasswordTitle")),n.xp6(4),n.Q6J("formGroup",e.formGroup),n.xp6(1),n.Q6J("fullWidth",!0)("name",n.xi3(9,15,n.lcZ(10,18,e.contentSnippets$),"Password"))("type","password"),n.xp6(3),n.Q6J("fullWidth",!0)("name",n.xi3(12,20,n.lcZ(13,23,e.contentSnippets$),"repeatPassword"))("type","password"),n.xp6(4),n.Q6J("disabled",!e.formGroup.valid),n.xp6(1),n.Oqu(n.xi3(17,25,n.lcZ(18,28,e.contentSnippets$),"changePassword")))},dependencies:[io,oa,oi,ia,qi,Bo,Or,vc,hn,ur],styles:[".password-container[_ngcontent-%COMP%]{display:flex;justify-content:center;margin:20px 0}.password-container[_ngcontent-%COMP%]   .password-update[_ngcontent-%COMP%]{width:100%;max-width:500px}.password-container[_ngcontent-%COMP%]   .password-update[type=confirm][_ngcontent-%COMP%], .password-container[_ngcontent-%COMP%]   .password-update[type=info][_ngcontent-%COMP%], .password-container[_ngcontent-%COMP%]   .password-update[type=custom][_ngcontent-%COMP%]{border-color:var(--color-optic-lines-popup)}.password-container[_ngcontent-%COMP%]   .password-update[type=error][_ngcontent-%COMP%]{border-color:var(--color-optic-lines-popup-error)}.password-container[_ngcontent-%COMP%]   .password-update[type=warning][_ngcontent-%COMP%]{border-color:var(--color-optic-lines-popup-warning)}.password-container[_ngcontent-%COMP%]   .password-update[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{display:flex;color:var(--color-text);font-size:28px;font-weight:700}.password-container[_ngcontent-%COMP%]   .password-update[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:var(--element-gap) 0;margin:0;font-size:18px;font-weight:400;text-align:left;gap:var(--element-gap)}.password-container[_ngcontent-%COMP%]   .password-update[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .forgot-password[_ngcontent-%COMP%]{text-align:right;font-size:1rem;cursor:pointer}.password-container[_ngcontent-%COMP%]   .password-update[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{display:flex;justify-content:center;justify-items:center;align-items:center;gap:var(--button-gap);width:100%;padding:0;margin:calc(1.5 * var(--element-gap)) 0 0 0;flex-wrap:nowrap;flex-direction:column}.password-container[_ngcontent-%COMP%]   .password-update[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;margin:0;display:flex;align-items:center;justify-content:center;height:var(--button-mobile-height)}"]}),Jf=(0,Ei.gn)([Ii()],Jf);let A3=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Xpm({type:t,selectors:[["apto-summary-wrapper"]],decls:1,vars:0,consts:[["identifier","summary"]],template:function(e,i){1&e&&n._UZ(0,"apto-slot-outlet",0)},dependencies:[fo]}),t})();const k9=[{route:{path:"",component:I9},priority:100},{route:{path:"product/:productId",component:O3},priority:1e3},{route:{path:"configuration/:configurationType/:configurationId",component:O3},priority:1e3},{route:{path:"product/:productId/summary",component:A3},priority:2e3},{route:{path:"configuration/:configurationType/:configurationId/summary",component:A3},priority:2e3},{route:{path:"auth/password/:token",component:Jf},priority:2e3},{route:{path:"*",redirectTo:""},priority:2e3}];let Rw=(()=>{class t{constructor(e,i){this.messageBusService=e,this.store=i}query(e,i){return this.messageBusService.query(e,i).pipe((0,pr.h)(o=>(o.message.error&&(this.store.dispatch(lc({message:o.message})),this.store.dispatch(jm())),!o.message.error)),(0,xt.U)(o=>o.result))}command(e,i){return this.messageBusService.command(e,i).pipe((0,pr.h)(o=>(o.message.error&&(this.store.dispatch(lc({message:o.message})),this.store.dispatch(jm())),!o.message.error)),(0,xt.U)(o=>o.result))}findRenderImageByState(e,i,o){return this.query("FindRenderImageByState",[e,i,o])}findRenderImagesByState(e,i,o){return this.query("FindRenderImagesByState",[e,i,o])}findPriceByState(e,i,o,a){let l=o.customerGroup.id;return null!==a&&!1===o.configured&&(l=a.customerGroup.externalId),this.query("FindPriceByState",[e,i,o.shopCurrency,o.displayCurrency,l,o.locale,o.sessionCookies,o.taxState,o.user])}getPerspectives(e,i){return this.query("FindPerspectivesByState",[e,i])}findProductComputedValuesCalculated(e,i){return this.query("FindProductComputedValuesCalculated",[e,i])}findSelectBoxItems(e){return this.query("FindSelectBoxItems",[e])}getConfigurationState(e,i,o){return this.query("GetConfigurationState",[e,i,o])}findHumanReadableState(e,i){return this.query("FindHumanReadableState",[e,i])}findMaterialPickerPoolItemsFiltered(e,i,o,a,l,u){return this.query("FindMaterialPickerPoolItemsFiltered",[e,i,o,a,l,u])}findMaterialPickerPoolPriceGroups(e){return this.query("FindMaterialPickerPoolPriceGroups",[e])}findMaterialPickerPoolPropertyGroups(e){return this.query("FindMaterialPickerPoolPropertyGroups",[e])}findMaterialPickerPoolColors(e,i){return this.query("FindMaterialPickerPoolColors",[e,i])}findElementComputableValues(e,i,o,a){return this.query("FindElementComputableValues",[e,i,o,a])}incrementMaterialPickerMaterialClicks(e){return this.command("IncrementMaterialPickerMaterialClicks",[e])}addBasketConfiguration(e,i,o,a,l,u,p){return this.command("AddBasketConfiguration",[e,i,o,a,l,u,p])}updateBasketConfiguration(e,i,o,a,l,u,p,f){return this.command("UpdateBasketConfiguration",[e,i,o,a,l,u,p,f])}addGuestConfiguration(e,i,o,a,l,u,p){return this.command("AddGuestConfiguration",[e,i,o,a,l,u,p])}fetchPartsList(e,i,o,a){return this.query("AptoPartsListFindPartsList",[e,i,o,a])}addOfferConfiguration(e,i,o,a,l){return a||(a=""),l||(l=[]),this.command("AddOfferConfiguration",[e,i,o,a,l])}}return t.\u0275fac=function(e){return new(e||t)(n.LFG(Pd),n.LFG(Oe.yh))},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),P3=(()=>{class t{constructor(e){this.catalogMessageBusService=e}getStatePrice(e,i,o,a){return this.catalogMessageBusService.findPriceByState(e,i,o,a)}getRenderImages(e,i,o){return this.catalogMessageBusService.findRenderImagesByState(o,i,e)}getPerspectives(e,i){return this.catalogMessageBusService.getPerspectives(i,e)}getRenderImage(e,i,o){return this.catalogMessageBusService.findRenderImageByState(o,i,e).pipe((0,xt.U)(a=>`${window.location.protocol}//${window.location.hostname}${a}`))}getComputedValues(e,i){return this.catalogMessageBusService.findProductComputedValuesCalculated(e,i)}getConfigurationState(e){return this.catalogMessageBusService.getConfigurationState(e.productId,e.compressedState,e.updates).pipe((0,xt.U)(i=>this.responseToConfigurationState(i)))}addToBasket(e){return this.catalogMessageBusService.addBasketConfiguration(e.productId,e.compressedState,e.sessionCookies,e.locale,e.quantity,e.perspectives,e.additionalData)}updateBasket(e){return this.catalogMessageBusService.updateBasketConfiguration(e.productId,e.configurationId,e.compressedState,e.sessionCookies,e.locale,e.quantity,e.perspectives,e.additionalData)}addGuestConfiguration(e){return this.catalogMessageBusService.addGuestConfiguration(e.productId,e.compressedState,e.email,e.name,e.sendMail,e.id,e.payload)}addOfferConfiguration(e){return this.catalogMessageBusService.addOfferConfiguration(e.productId,e.compressedState,e.email,e.name,e.payload)}fetchPartsList(e){return this.catalogMessageBusService.fetchPartsList(e.productId,e.compressedState,e.currency,e.customerGroupExternalId)}responseToConfigurationState(e){const i={compressedState:e.compressedState||[],sections:[],elements:[],failedRules:e.failedRules||[]},o=e.configurationState;for(const a of o.sections)i.sections.push({id:a.id,identifier:a.identifier,active:a.state.active,disabled:a.state.disabled,multiple:a.allowMultiple,mandatory:a.isMandatory,hidden:a.isHidden,repetition:a.repetition,repeatableCalculatedValueName:a.repeatableCalculatedValueName,repeatableType:a.repeatableType,customProperties:a.customProperties});for(const a of o.elements)i.elements.push({id:a.id,identifier:a.identifier,sectionId:a.sectionId,sectionRepetition:a.sectionRepetition,sectionIdentifier:a.identifier,active:a.state.active,disabled:a.state.disabled,mandatory:a.isMandatory,values:a.state.values,customProperties:a.customProperties});return{state:i,renderImages:e.renderImages,updates:e.intention}}}return t.\u0275fac=function(e){return new(e||t)(n.LFG(Rw))},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac}),t})(),tT=(()=>{class t{constructor(e){this.messageBus=e,this.mediaUrl=yn.api.media+"/"}findProductsByFilter(e){return this.messageBus.query("FindProductsByFilter",[e.payload||{}]).pipe((0,xt.U)(o=>this.responseToProducts(o)))}findConfigurableProduct(e,i){return this.messageBus.query("FindProductConfiguration",[e,i]).pipe((0,xt.U)(o=>this.responseToConfigurableProduct(o.result)))}responseToProduct(e){let{previewImage:i}=e;return e.previewImage||(i=null),e.previewImageMediaFile&&(i=this.mediaFileToMediaPath(e.previewImageMediaFile)),{id:e.id,identifier:e.identifier,seoUrl:e.seoUrl,name:e.name,description:e.description,previewImage:i?this.mediaUrl+i:null,useStepByStep:e.useStepByStep,keepSectionOrder:e.keepSectionOrder,position:e.position,customProperties:e.customProperties,hidden:e.hidden,active:e.active,minPurchase:e.minPurchase,maxPurchase:e.maxPurchase,metaDescription:e.metaDescription,metaTitle:e.metaTitle}}responseToProducts(e){const i=[];return e.result.data.forEach(o=>{i.push(this.responseToProduct(o))}),i}responseToConfigurableProduct(e){const i=e.product,o=e.configuration,a=[],l=[],u=[],p=[];return i.sections.forEach(f=>{let h=f.group.length>0?f.group[0]:null;null!==h&&(h={id:h.id,identifier:h.identifier,name:h.name,position:h.position},p.includes(h.id)||(a.push(h),p.push(h.id)));let y=null;f.previewImage&&(y=this.mediaFileToMediaPath(f.previewImage.mediaFile)),l.push({id:f.id,identifier:f.identifier,groupId:h?h.id:null,groupIdentifier:h?h.identifier:null,name:f.name,description:f.description,allowMultiple:f.allowMultiple,isHidden:f.isHidden,isMandatory:f.isMandatory,position:f.position,previewImage:y?this.mediaUrl+y.substring(1):null,isZoomable:f.isZoomable,repeatableType:f.repeatableType,repeatableCalculatedValueName:f.repeatableCalculatedValueName}),f.elements.forEach(D=>{let E=null;D.previewImage&&(E=this.mediaFileToMediaPath(D.previewImage.mediaFile)),u.push({id:D.id,identifier:D.identifier,sectionId:f.id,sectionIdentifier:f.identifier,name:D.name,description:D.description,definition:D.definition,errorMessage:D.errorMessage,previewImage:E?this.mediaUrl+E:null,isMandatory:D.isMandatory,position:D.position,attachments:D.attachments,zoomFunction:D.zoomFunction,sectionRepetition:0,gallery:D.gallery})})}),{product:this.responseToProduct(i),groups:a,sections:l,elements:u,configuration:o}}mediaFileToMediaPath(e){return e.filename?`${e.path}/${e.filename}.${e.extension}`:null}}return t.\u0275fac=function(e){return new(e||t)(n.LFG(Pd))},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac}),t})(),F9=(()=>{class t{constructor(e,i,o,a,l,u,p){this.actions$=e,this.configurationRepository=i,this.productRepository=o,this.store$=a,this.catalogMessageBusService=l,this.matSnackBar=u,this.dialogService=p,this.initConfiguration$=br(()=>this.actions$.pipe(Yn(qm),(0,Oo.M)(this.store$.select(qc),this.store$.select(Wc),this.store$.select(ji),this.store$.select(Ku)),(0,Qn.w)(([f,h,y,D,E])=>this.productRepository.findConfigurableProduct(f.payload.id,f.payload.type).pipe((0,Qn.w)(k=>{if(D.productId===k.product.id)return Ji.E;const T={productId:k.product.id,compressedState:[],updates:{init:!0}};return k.configuration&&(T.updates.init=!1,T.compressedState=k.configuration.state),this.configurationRepository.getConfigurationState(T).pipe((0,xt.U)(L=>({connector:h,product:k,configuration:L.state,renderImages:L.renderImages,currentPerspective:y,currentUser:E,action:f})))}))),(0,Qn.w)(f=>eu([this.configurationRepository.getComputedValues(f.product.product.id,f.configuration.compressedState),this.configurationRepository.getPerspectives(f.product.product.id,f.configuration.compressedState),this.configurationRepository.getStatePrice(f.product.product.id,f.configuration.compressedState,f.connector,f.currentUser)]).pipe((0,xt.U)(h=>({...f,computedValues:h[0],perspectives:h[1],currentPerspective:this.getCurrentPerspective(h[1],f.currentPerspective),statePrice:h[2]})))),(0,xt.U)(f=>{let h=[];return h=f.configuration.sections.filter(!1===f.product.product.keepSectionOrder&&null===f.action.payload.type?D=>!D.disabled&&!D.hidden:D=>!D.disabled&&!D.hidden&&!D.active),Of({payload:{connector:f.connector,product:f.product.product,groups:f.product.groups,sections:f.product.sections,elements:f.product.elements,currentStep:h.length>0?{id:h[0].id,repetition:h[0].repetition}:null,productId:f.product.product.id,configuration:f.configuration,computedValues:f.computedValues,perspectives:f.perspectives,currentPerspective:f.currentPerspective,statePrice:f.statePrice,renderImages:f.renderImages}})}))),this.updateConfiguration$=br(()=>this.actions$.pipe(Yn(di),(0,Oo.M)(this.store$.select(ji),this.store$.select(Ku),this.store$.select(qc)),(0,xt.U)(([f,h,y,D])=>hy({payload:{productId:h.productId,compressedState:h.state.compressedState,connector:D,updates:f.updates,currentPerspective:h.currentPerspective,currentUser:y}})))),this.getConfigurationState$=br(()=>this.actions$.pipe(Yn(hy),(0,Oo.M)(this.store$.select(CG)),(0,Qn.w)(([f,h])=>{const y={...f.payload,updates:{...f.payload.updates}};return null!==h&&(y.updates.repair=h),this.configurationRepository.getConfigurationState(y).pipe((0,pr.h)(D=>null!==D),(0,xt.U)(D=>({connector:f.payload.connector,productId:f.payload.productId,configuration:D.state,renderImages:D.renderImages,currentPerspective:f.payload.currentPerspective,currentUser:f.payload.currentUser,updates:D.updates})))}),(0,Qn.w)(f=>eu([this.configurationRepository.getComputedValues(f.productId,f.configuration.compressedState),this.configurationRepository.getPerspectives(f.productId,f.configuration.compressedState),this.configurationRepository.getStatePrice(f.productId,f.configuration.compressedState,f.connector,f.currentUser)]).pipe((0,xt.U)(h=>({productId:f.productId,configuration:f.configuration,renderImages:f.renderImages,computedValues:h[0],perspectives:h[1],currentPerspective:this.getCurrentPerspective(h[1],f.currentPerspective),statePrice:h[2],updates:f.updates})))),(0,xt.U)(f=>ac({payload:{productId:f.productId,configuration:f.configuration,renderImages:f.renderImages,computedValues:f.computedValues,perspectives:f.perspectives,currentPerspective:f.currentPerspective,statePrice:f.statePrice,updates:f.updates}})))),this.loginStatusChanged$=br(()=>this.actions$.pipe(Yn(fm,IC),(0,Oo.M)(this.store$.select(ji),this.store$.select(Ku),this.store$.select(qc)),(0,xt.U)(([f,h,y,D])=>hy({payload:{productId:h.productId,compressedState:h.state.compressedState,connector:D,updates:{},currentPerspective:h.currentPerspective,currentUser:y}})))),this.addGuestConfiguration$=br(()=>this.actions$.pipe(Yn(c1),(0,Oo.M)(this.store$.select(ji)),(0,Qn.w)(([f,h])=>this.configurationRepository.addGuestConfiguration({productId:h.productId,compressedState:h.state.compressedState,email:f.payload.email,name:f.payload.name,sendMail:!0,id:"",payload:{}})),(0,xt.U)(()=>u1()))),this.addGuestConfigurationSuccess$=br(()=>this.actions$.pipe(Yn(u1),(0,xt.U)(()=>{this.matSnackBar.open("Ihre Konfiguration wurde gespeichert. Sie erhalten in K\xfcrze eine E-Mail mit dem Link zur Konfiguration.",void 0,{duration:3e3})})),{dispatch:!1}),this.addOfferConfiguration$=br(()=>this.actions$.pipe(Yn(Af),(0,Oo.M)(this.store$.select(ji)),(0,Qn.w)(([f,h])=>this.configurationRepository.addOfferConfiguration({productId:h.productId,compressedState:h.state.compressedState,email:f.payload.email,name:f.payload.name,payload:f.payload.payload})),(0,xt.U)(()=>Pf()))),this.addOfferConfigurationSuccess$=br(()=>this.actions$.pipe(Yn(Pf),(0,xt.U)(()=>{this.matSnackBar.open("Ihre Konfiguration wurde gespeichert. Sie erhalten in K\xfcrze eine E-Mail mit dem Link zur Konfiguration.",void 0,{duration:3e3})})),{dispatch:!1}),this.onError$=br(()=>this.actions$.pipe(Yn(lc),(0,Oo.M)(this.store$.select(lr).pipe((0,xt.U)(f=>f||yn.defaultLocale)),this.store$.select(un("aptoRules.defaultErrorMessage")),this.store$.select(un("auth.errors"))),(0,xt.U)(([{message:f},h,y,D])=>{let E=Pn(y.content,h),k=!0,T="";if(Array.isArray(f.errorPayload))for(const L of f.errorPayload){const U=Pn(L.errorMessage,h);U&&(k=!1,T+=`${U} <br />`)}if(f.errorPayload&&f.errorPayload.errorMessage){const L=Pn(f.errorPayload.errorMessage,h);L&&(k=!1,T+=`${L} <br />`)}if(k){const L=D.children.find(U=>U.name===f.errorType);E=L?Pn(L.content,h):E}this.dialogService.openCustomDialog(_c,Ur.md,{type:ts.ERROR,hideIcon:!0,descriptionText:k?E:T})})),{dispatch:!1}),this.getHumanReadableState$=br(()=>this.actions$.pipe(Yn(Of,ac),(0,Qn.w)(f=>this.catalogMessageBusService.findHumanReadableState(f.payload.productId,f.payload.configuration.compressedState)),(0,xt.U)(f=>s1({payload:f})))),this.getRenderImages$=br(()=>this.actions$.pipe(Yn(o1),(0,Qn.w)(f=>this.configurationRepository.getRenderImages(f.payload.productId,f.payload.perspectives,f.payload.compressedState).pipe((0,xt.U)(h=>({...f,renderImages:h})))),(0,xt.U)(f=>no({payload:f})))),this.getElementComputableValues$=br(()=>this.actions$.pipe(Yn(t1),(0,Qn.w)(f=>this.catalogMessageBusService.findElementComputableValues(f.payload.compressedState,f.payload.sectionId,f.payload.elementId,f.payload.repetition).pipe((0,xt.U)(h=>Hm({payload:h})))))),this.setPrevStep$=br(()=>this.actions$.pipe(Yn(sc),(0,xt.U)(()=>a1()))),this.setStep$=br(()=>this.actions$.pipe(Yn(hd),(0,xt.U)(()=>my()))),this.resetSteps$=br(()=>this.actions$.pipe(Yn(my,a1),(0,Oo.M)(this.store$.select(ji),this.store$.select(cc),this.store$.select(vy)),(0,xt.U)(([f,h,y,D])=>{const E=[];if(D.product.keepSectionOrder){for(const k of h.state.sections)k.active&&y.afterSteps.some(T=>T.section.id===k.id&&T.section.repetition===k.repetition)&&h.state.elements.filter(T=>T.sectionId===k.id&&T.sectionRepetition===k.repetition&&T.active).forEach(T=>E.push({sectionId:k.id,elementId:T.id,sectionRepetition:T.sectionRepetition,property:"",value:""}));return di({updates:{remove:E}})}return fy()}))),this.addToBasket$=br(()=>this.actions$.pipe(Yn(Ps),(0,Oo.M)(this.store$.select(ji),this.store$.select(Ku),this.store$.select(qc)),(0,Qn.w)(([{payload:f},h,y,D])=>{if(!h.productId)return Ji.E;let E={productImages:f.productImage?[f.productImage]:[]};if("REQUEST_FORM"===f.type){let k=D?.customerGroup;y&&(k={id:y.customerGroup.externalId,name:y.customerGroup.name,inputGross:y.customerGroup.inputGross,showGross:y.customerGroup.showGross}),E={formData:{customer:f.formData,quantity:{value:{name:`${h.quantity} St\xfcck`,value:h.quantity}}},humanReadableState:f.humanReadableState,locale:D?.locale,compressedState:h.state.compressedState,shopCurrency:D?.shopCurrency,displayCurrency:D?.displayCurrency,customerGroup:k,customerGroupExternalId:k.id,productId:h.productId}}return f.configurationId&&"basket"===f.configurationType?this.configurationRepository.updateBasket({productId:h.productId,configurationId:f.configurationId,locale:D?.locale,compressedState:h.state.compressedState,quantity:h.quantity,perspectives:h.perspectives,sessionCookies:D?.sessionCookies,additionalData:E}):this.configurationRepository.addToBasket({productId:h.productId,locale:D?.locale,compressedState:h.state.compressedState,quantity:h.quantity,perspectives:h.perspectives,sessionCookies:D?.sessionCookies,additionalData:E})}),(0,Qn.w)(f=>[md(),ec()]))),this.fetchPartsList$=br(()=>this.actions$.pipe(Yn(gy),(0,Oo.M)(this.store$.select(ji),this.store$.select(qc)),(0,Qn.w)(([f,h,y])=>this.configurationRepository.fetchPartsList({productId:h.productId,compressedState:h.state.compressedState,currency:y?.displayCurrency.currency,customerGroupExternalId:y?.customerGroup.id})),(0,xt.U)(f=>oA({payload:f}))))}getCurrentPerspective(e,i){return 0===e.length?null:this.hasRenderImagesPerspective(e,i)?i:e[0]}hasRenderImagesPerspective(e,i){let o=!1;return e.every(a=>a!==i||(o=!0,!1)),o}}return t.\u0275fac=function(e){return new(e||t)(n.LFG(eo),n.LFG(P3),n.LFG(tT),n.LFG(Oe.yh),n.LFG(Rw),n.LFG(_3),n.LFG(Do))},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac}),t})(),N9=(()=>{class t{constructor(e,i){this.actions$=e,this.productRepository=i,this.loadProductList$=br(()=>this.actions$.pipe(Yn(If),(0,Qn.w)(o=>this.productRepository.findProductsByFilter(o)),(0,xt.U)(o=>Ym({payload:o}))))}}return t.\u0275fac=function(e){return new(e||t)(n.LFG(eo),n.LFG(tT))},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac}),t})(),R9=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Xpm({type:t,selectors:[["apto-discount-tag"]],inputs:{label:"label"},decls:5,vars:3,consts:[["viewBox","0 0 10 30"],["d","M 1 19 L 1 11 L 10 0 L 50 0 L 50 30 L 10 30 Z","stroke","#20538C","stroke-width","1","fill","none"],[1,"text"]],template:function(e,i){1&e&&(n.O4$(),n.TgZ(0,"svg",0),n._UZ(1,"path",1),n.qZA(),n.kcU(),n.TgZ(2,"span",2),n._uU(3),n.ALo(4,"translate"),n.qZA()),2&e&&(n.xp6(3),n.Oqu(n.lcZ(4,1,i.label)))},dependencies:[Tr],styles:['[_nghost-%COMP%]{display:inline-flex;align-items:center;position:relative;vertical-align:middle}[_nghost-%COMP%]   svg[_ngcontent-%COMP%]{height:22px;flex-shrink:0}[_nghost-%COMP%]   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{stroke:var(--color-primary);stroke-width:1px}[_nghost-%COMP%]   .text[_ngcontent-%COMP%]{height:22px;line-height:22px;font-family:Montserrat,Arial,sans-serif;font-size:11px;font-weight:500;box-sizing:border-box;padding-right:10px;padding-left:0;border:1px solid var(--color-primary);border-left:none;border-radius:0 6px 6px 0;margin-left:0;color:var(--color-primary);display:flex;align-items:center}[_nghost-%COMP%]   .text[_ngcontent-%COMP%]:before{content:"";display:inline-block;width:4px;height:4px;border:1px solid var(--color-primary);border-radius:50%;margin-right:4px;vertical-align:middle}']}),t})();function L9(t,r){if(1&t&&(n.TgZ(0,"span"),n._uU(1),n.ALo(2,"contentSnippet"),n.qZA()),2&t){const e=n.oxw(2).ngIf;n.xp6(1),n.hij(" ",n.xi3(2,1,e,"basePrice")," ")}}function B9(t,r){if(1&t&&(n.TgZ(0,"span"),n._uU(1),n.ALo(2,"contentSnippet"),n.qZA()),2&t){const e=n.oxw(2).ngIf;n.xp6(1),n.hij(" ",n.xi3(2,1,e,"sectionDiscount")," ")}}function U9(t,r){if(1&t&&(n.TgZ(0,"span"),n._uU(1),n.ALo(2,"contentSnippet"),n.qZA()),2&t){const e=n.oxw(2).ngIf;n.xp6(1),n.hij(" ",n.xi3(2,1,e,"elementDiscount")," ")}}function V9(t,r){if(1&t&&(n.ynx(0),n.TgZ(1,"div",8)(2,"div"),n.YNc(3,L9,3,4,"span",0),n.ALo(4,"contentSnippet"),n.YNc(5,B9,3,4,"span",0),n.ALo(6,"contentSnippet"),n.YNc(7,U9,3,4,"span",0),n.ALo(8,"contentSnippet"),n._uU(9),n.ALo(10,"translate"),n.qZA(),n._UZ(11,"div",6),n.TgZ(12,"div",7),n._uU(13),n.qZA()(),n.BQk()),2&t){const e=r.$implicit,i=n.oxw().ngIf;n.xp6(1),n.ekj("section-row",!e.elementId&&!e.isDiscount)("discount-row",e.isDiscount),n.xp6(2),n.Q6J("ngIf",n.xi3(4,9,!e.elementId&&!e.isDiscount&&i,"basePrice")),n.xp6(2),n.Q6J("ngIf",n.xi3(6,12,!e.elementId&&e.isDiscount&&i,"sectionDiscount")),n.xp6(2),n.Q6J("ngIf",n.xi3(8,15,e.elementId&&e.isDiscount&&i,"elementDiscount")),n.xp6(2),n.hij(" ",n.lcZ(10,18,e.name)," "),n.xp6(4),n.Oqu(e.value)}}function z9(t,r){if(1&t&&(n.TgZ(0,"span"),n._uU(1),n.ALo(2,"contentSnippet"),n.qZA()),2&t){const e=n.oxw().ngIf;n.xp6(1),n.Oqu(n.xi3(2,1,e,"sumPrice"))}}function H9(t,r){if(1&t&&(n.ynx(0),n.TgZ(1,"div",1)(2,"div",2),n.YNc(3,V9,14,20,"ng-container",3),n.qZA(),n._UZ(4,"div",4),n.TgZ(5,"div",5)(6,"div"),n.YNc(7,z9,3,4,"span",0),n.ALo(8,"contentSnippet"),n._uU(9),n.ALo(10,"translate"),n.qZA(),n._UZ(11,"div",6),n.TgZ(12,"div",7),n._uU(13),n.qZA()()(),n.BQk()),2&t){const e=r.ngIf,i=n.oxw();n.xp6(3),n.Q6J("ngForOf",i.priceTable),n.xp6(4),n.Q6J("ngIf",n.xi3(8,4,e,"sumPrice")),n.xp6(2),n.hij(" ",n.lcZ(10,7,i.section.name)," "),n.xp6(4),n.Oqu(i.sectionPrice)}}let j9=(()=>{class t{constructor(e,i){this.viewRef=e,this.store=i,this.section=null,this.expanded=!0,this.classExpanded=!1,this.contentSnippets$=this.store.select(un("aptoSummary.sectionPrices")),this.priceTable=[],this.sectionPrice=null,this.onTransitionEnd=()=>{this.viewRef.element.nativeElement.removeEventListener("transitionend",this.onTransitionEnd),this.viewRef.element.nativeElement.style.height=null}}ngOnInit(){this.store.select(gA(this.section)).subscribe(e=>{this.priceTable=e}),this.store.select(mA(this.section)).subscribe(e=>{this.sectionPrice=e})}ngOnChanges(e){for(const i in e)"expanded"===i&&(this.classExpanded=e[i].currentValue,!0===this.expanded?this.showElement():this.hideElement())}showElement(){this.viewRef.element.nativeElement.style.height=this.viewRef.element.nativeElement.scrollHeight+"px",this.viewRef.element.nativeElement.addEventListener("transitionend",this.onTransitionEnd)}hideElement(){this.viewRef.element.nativeElement.removeEventListener("transitionend",this.onTransitionEnd);const e=this.viewRef.element.nativeElement.scrollHeight,i=this.viewRef.element.nativeElement.style.transition;this.viewRef.element.nativeElement.style.transition="",requestAnimationFrame(()=>{this.viewRef.element.nativeElement.style.height=e+"px",this.viewRef.element.nativeElement.style.transition=i,requestAnimationFrame(()=>{this.viewRef.element.nativeElement.style.height="0px"})})}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(n.s_b),n.Y36(Oe.yh))},t.\u0275cmp=n.Xpm({type:t,selectors:[["apto-summary-section-price"]],hostVars:2,hostBindings:function(e,i){2&e&&n.ekj("expanded",i.classExpanded)},inputs:{section:"section",expanded:"expanded"},features:[n.TTD],decls:2,vars:3,consts:[[4,"ngIf"],[1,"price-table-container"],[1,"price-table"],[4,"ngFor","ngForOf"],[1,"price-table-divider"],[1,"price-table-row","summary-row"],[1,"row-filler"],[1,"row-price"],[1,"price-table-row"]],template:function(e,i){1&e&&(n.YNc(0,H9,14,9,"ng-container",0),n.ALo(1,"async")),2&e&&n.Q6J("ngIf",n.lcZ(1,1,i.contentSnippets$))},dependencies:[Ar,rn,hn,Tr,ur],styles:["[_nghost-%COMP%]{width:100%;background:#F7F8FA;border-radius:0 0 var(--border-radius-card) var(--border-radius-card);font-size:13px;color:#6d6d6d;margin-top:-5px;z-index:0;transition:height .3s ease-out,padding .3s ease-out;overflow:hidden}.price-table-container[_ngcontent-%COMP%]{padding:25px 20px 20px}.price-table-row[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:10px;padding:4px 0}.price-table-row.section-row[_ngcontent-%COMP%]{font-weight:500}.price-table-row.discount-row[_ngcontent-%COMP%]{color:#20538c}.price-table-row.summary-row[_ngcontent-%COMP%]{font-size:16px;font-weight:600}.row-filler[_ngcontent-%COMP%]{flex-grow:1;height:1px;background:repeating-linear-gradient(90deg,transparent,transparent 4px,#707070 1px,#707070 5px)}.row-price[_ngcontent-%COMP%]{width:75px;text-align:right;white-space:nowrap}.price-table-divider[_ngcontent-%COMP%]{height:1px;width:100%;border-top:1px solid #D6D6D6;margin:10px 0}"]}),t})();function q9(t,r){if(1&t){const e=n.EpF();n.TgZ(0,"div",7),n.NdJ("click",function(o){n.CHM(e);const a=n.oxw();return n.KtG(a.previousImage(o))}),n.TgZ(1,"mat-icon"),n._uU(2,"arrow_back_ios"),n.qZA()()}}function Z9(t,r){if(1&t){const e=n.EpF();n.TgZ(0,"div",8),n.NdJ("click",function(o){n.CHM(e);const a=n.oxw();return n.KtG(a.zoom(o))}),n.TgZ(1,"mat-icon"),n._uU(2,"zoom_in"),n.qZA()()}}function Y9(t,r){if(1&t){const e=n.EpF();n.TgZ(0,"div",9),n.NdJ("click",function(o){n.CHM(e);const a=n.oxw();return n.KtG(a.nextImage(o))}),n.TgZ(1,"mat-icon"),n._uU(2,"arrow_forward_ios"),n.qZA()()}}function G9(t,r){if(1&t){const e=n.EpF();n.TgZ(0,"div",7),n.NdJ("click",function(o){n.CHM(e);const a=n.oxw(2);return n.KtG(a.previousImage(o))}),n.TgZ(1,"mat-icon"),n._uU(2,"arrow_back_ios"),n.qZA()()}}function $9(t,r){if(1&t){const e=n.EpF();n.TgZ(0,"div",9),n.NdJ("click",function(o){n.CHM(e);const a=n.oxw(2);return n.KtG(a.nextImage(o))}),n.TgZ(1,"mat-icon"),n._uU(2,"arrow_forward_ios"),n.qZA()()}}function W9(t,r){if(1&t){const e=n.EpF();n.TgZ(0,"div",10),n.YNc(1,G9,3,0,"div",1),n.TgZ(2,"div",11)(3,"img",12),n.NdJ("click",function(){n.CHM(e);const o=n.oxw();return n.KtG(o.isOpen=!o.isOpen)}),n.qZA(),n.TgZ(4,"apto-close-button",13),n.NdJ("clicked",function(){n.CHM(e);const o=n.oxw();return n.KtG(o.isOpen=!o.isOpen)}),n.qZA()(),n.YNc(5,$9,3,0,"div",5),n.qZA()}if(2&t){const e=n.oxw();n.xp6(1),n.Q6J("ngIf",e.gallery.length>1&&"gallery"===e.zoomFunction),n.xp6(2),n.Q6J("src",e.previewImage,n.LSH),n.xp6(1),n.Q6J("mat-dialog-close",!0),n.xp6(1),n.Q6J("ngIf",e.gallery.length>1&&"gallery"===e.zoomFunction)}}let Rd=(()=>{class t{constructor(){this.gallery=[],this.imgStyles="",this.isOpen=!1,this.currentImageIndex=0,this.mediaUrl=yn.api.media}ngOnInit(){this.previewImage&&this.gallery.length>0&&this.initializeGallery(),this.width&&this.calculateImgStyle()}get currentImagePath(){return this.updatePreviewImage()}initializeGallery(){this.previewImage&&this.gallery&&(this.gallery=[{path:this.previewImage},...this.gallery])}calculateImgStyle(){this.imgStyles=["min-width: calc("+this.width+"/4)","min-height: calc("+this.width+"/4)","max-width: "+this.width,"max-height: calc("+this.width+" + "+this.width+"/2)"].join(";")}zoom(e){this.isOpen=!this.isOpen,e.stopPropagation()}isZoomEnabled(){return this.zoomFunction===$f.IMAGE_PREVIEW||this.zoomFunction===$f.GALLERY}nextImage(e){e.stopPropagation(),0!==this.gallery.length&&(this.currentImageIndex=(this.currentImageIndex+1)%this.gallery.length,this.previewImage=this.updatePreviewImage())}previousImage(e){e.stopPropagation(),0!==this.gallery.length&&(this.currentImageIndex=(this.currentImageIndex-1+this.gallery.length)%this.gallery.length,this.previewImage=this.updatePreviewImage())}updatePreviewImage(){const e=this.gallery[this.currentImageIndex];let i=e.path||"";const o=i.startsWith(this.mediaUrl);if(e.mediaFile&&e.mediaFile.length>0){const a=e.mediaFile[0];i=a.filename&&a.extension?o?`${a.path}/${a.filename}.${a.extension}`:`${this.mediaUrl}${a.path}/${a.filename}.${a.extension}`:o?i:this.mediaUrl+i}else i=o?i:this.mediaUrl+i;return i}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Xpm({type:t,selectors:[["apto-element-picture"]],inputs:{previewImage:"previewImage",width:"width",zoomFunction:"zoomFunction",gallery:"gallery"},decls:7,vars:7,consts:[[1,"element-picture"],["class","arrows left",3,"click",4,"ngIf"],[1,"image-container"],[3,"src"],["class","zoom-icon",3,"click",4,"ngIf"],["class","arrows right",3,"click",4,"ngIf"],["cdkConnectedOverlay","",3,"cdkConnectedOverlayOpen"],[1,"arrows","left",3,"click"],[1,"zoom-icon",3,"click"],[1,"arrows","right",3,"click"],[1,"zoomed-in"],[1,"image-wrapper"],[3,"src","click"],[3,"mat-dialog-close","clicked"]],template:function(e,i){1&e&&(n.TgZ(0,"div",0),n.YNc(1,q9,3,0,"div",1),n.TgZ(2,"div",2),n._UZ(3,"img",3),n.YNc(4,Z9,3,0,"div",4),n.qZA(),n.YNc(5,Y9,3,0,"div",5),n.qZA(),n.YNc(6,W9,6,4,"ng-template",6)),2&e&&(n.xp6(1),n.Q6J("ngIf",i.gallery.length>1&&"gallery"===i.zoomFunction),n.xp6(2),n.Akn(i.imgStyles),n.Q6J("src",i.previewImage,n.LSH),n.xp6(1),n.Q6J("ngIf",i.isZoomEnabled()),n.xp6(1),n.Q6J("ngIf",i.gallery.length>1&&"gallery"===i.zoomFunction),n.xp6(1),n.Q6J("cdkConnectedOverlayOpen",i.isOpen))},dependencies:[rn,fr,is,xd,gc],styles:[".element-picture[_ngcontent-%COMP%]{display:flex;align-items:center;position:relative;margin-right:10px}.element-picture[_ngcontent-%COMP%]   .arrows[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;position:absolute;top:50%;transform:translateY(-50%);cursor:pointer;color:var(--color-text);border:none;padding:10px;box-sizing:border-box}.element-picture[_ngcontent-%COMP%]   .arrows[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:2vh}.element-picture[_ngcontent-%COMP%]   .arrows.left[_ngcontent-%COMP%]{left:-2.5vh}.element-picture[_ngcontent-%COMP%]   .arrows.right[_ngcontent-%COMP%]{right:-3.5vh}.element-picture[_ngcontent-%COMP%]   .arrows[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]:hover{cursor:pointer}.element-picture.is-zoomable[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.element-picture[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;object-fit:cover}.element-picture[_ngcontent-%COMP%]   .zoom-icon[_ngcontent-%COMP%]{position:absolute;top:2px;right:2px;cursor:pointer}.element-picture[_ngcontent-%COMP%]   .zoom-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{width:26px;height:26px;font-size:26px}.zoomed-in[_ngcontent-%COMP%]{-webkit-backdrop-filter:blur(6px);backdrop-filter:blur(6px);background-color:#00000080;position:fixed;display:flex;justify-content:center;align-items:center;height:100%;width:100%}.zoomed-in[_ngcontent-%COMP%]   .image-wrapper[_ngcontent-%COMP%]{position:relative}.zoomed-in[_ngcontent-%COMP%]   .image-wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:calc(100vw - 100px);max-height:calc(100vh - 100px)}.zoomed-in[_ngcontent-%COMP%]   .arrows[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:32px;color:var(--color-accent);cursor:pointer;height:32px;width:32px;padding:3px}@media only screen and (max-width: 767px){.element-picture[_ngcontent-%COMP%]   .arrows.left[_ngcontent-%COMP%], .element-picture[_ngcontent-%COMP%]   .arrows.right[_ngcontent-%COMP%]{position:absolute;top:50%}.element-picture[_ngcontent-%COMP%]   .arrows[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:5.5vh;height:auto;width:auto}.element-picture[_ngcontent-%COMP%]   .arrows.left[_ngcontent-%COMP%]{left:-8.75vh}.element-picture[_ngcontent-%COMP%]   .arrows.right[_ngcontent-%COMP%]{right:-10vh}}"]}),t})();function Q9(t,r){if(1&t&&(n.TgZ(0,"div",8)(1,"div",9)(2,"div",10)(3,"div")(4,"div",11),n._uU(5),n.ALo(6,"contentSnippet"),n.ALo(7,"async"),n.qZA()()(),n._UZ(8,"div",12),n.TgZ(9,"div",13),n._uU(10),n.ALo(11,"async"),n.qZA()()()),2&t){const e=n.oxw(5);n.xp6(5),n.Oqu(n.xi3(6,2,n.lcZ(7,5,e.contentSnippet$),"basicPrice")),n.xp6(5),n.hij(" ",n.lcZ(11,7,e.basicPseudoPrice$)," ")}}function J9(t,r){1&t&&n._UZ(0,"apto-discount-tag",22),2&t&&n.Q6J("label",r.ngIf.name)}function X9(t,r){if(1&t&&n._UZ(0,"apto-element-picture",27),2&t){const e=n.oxw(2).$implicit;n.Q6J("previewImage",e.element.previewImage)}}function K9(t,r){if(1&t&&(n.TgZ(0,"span"),n._uU(1),n.qZA()),2&t){const e=r.ngIf;n.xp6(1),n.hij("(",e,")")}}function eW(t,r){1&t&&n._UZ(0,"apto-discount-tag",22),2&t&&n.Q6J("label",r.ngIf.name)}function tW(t,r){if(1&t&&(n.TgZ(0,"div",24),n.YNc(1,X9,1,1,"apto-element-picture",25),n.TgZ(2,"div",26),n._uU(3),n.ALo(4,"translate"),n.YNc(5,K9,2,1,"span",0),n.YNc(6,eW,1,1,"apto-discount-tag",18),n.qZA()()),2&t){const e=n.oxw().$implicit,i=n.oxw().ngIf,o=n.oxw(6);n.xp6(1),n.Q6J("ngIf",e.element.previewImage),n.xp6(2),n.hij(" ",n.lcZ(4,4,e.element.name)," "),n.xp6(2),n.Q6J("ngIf",o.getElementHumanReadableState(e.element.id,e.state.sectionRepetition)),n.xp6(1),n.Q6J("ngIf",o.getPriceTableElementDiscount(i,e.element.id))}}function nW(t,r){if(1&t&&(n.ynx(0),n.YNc(1,tW,7,6,"div",20),n._UZ(2,"apto-slot-outlet",23),n.BQk()),2&t){const e=r.$implicit,i=n.oxw(2).$implicit;n.xp6(1),n.Q6J("ngIf",e.state.active),n.xp6(1),n.Q6J("section",i.section)("element",e)}}function rW(t,r){if(1&t&&(n.TgZ(0,"div",24),n._uU(1),n.ALo(2,"contentSnippet"),n.ALo(3,"async"),n.qZA()),2&t){const e=n.oxw(7);n.xp6(1),n.Oqu(n.xi3(2,1,n.lcZ(3,4,e.contentSnippet$),"notSelected"))}}function iW(t,r){1&t&&n._UZ(0,"div",12)}function oW(t,r){if(1&t&&(n.TgZ(0,"div",32),n._uU(1),n.qZA()),2&t){const e=n.oxw(3).ngIf;n.xp6(1),n.hij(" ",e," ")}}function aW(t,r){1&t&&(n.TgZ(0,"mat-icon"),n._uU(1,"expand_less"),n.qZA())}function sW(t,r){1&t&&(n.TgZ(0,"mat-icon"),n._uU(1,"expand_more"),n.qZA())}function lW(t,r){if(1&t&&(n.TgZ(0,"div",13),n.YNc(1,oW,2,1,"div",30),n.TgZ(2,"span",31),n.YNc(3,aW,2,0,"mat-icon",0),n.YNc(4,sW,2,0,"mat-icon",0),n._uU(5),n.qZA()()),2&t){const e=n.oxw().ngIf,i=n.oxw().ngIf,o=n.oxw().ngIf,a=n.oxw().$implicit,l=n.oxw(5);n.xp6(1),n.Q6J("ngIf",e!==i),n.xp6(2),n.Q6J("ngIf",l.expandedSectionPrices.includes(l.getSectionExpandIdentifier(a.section))&&o.length>0),n.xp6(1),n.Q6J("ngIf",!l.expandedSectionPrices.includes(l.getSectionExpandIdentifier(a.section))&&o.length>0),n.xp6(1),n.hij(" ",e," ")}}function cW(t,r){if(1&t&&(n.ynx(0),n.YNc(1,iW,1,0,"div",28),n.YNc(2,lW,6,4,"div",29),n.BQk()),2&t){const e=n.oxw(8);n.xp6(1),n.Q6J("ngIf",e.showPrices),n.xp6(1),n.Q6J("ngIf",e.showPrices)}}function uW(t,r){if(1&t&&(n.ynx(0),n.YNc(1,cW,3,2,"ng-container",0),n.ALo(2,"async"),n.BQk()),2&t){const e=n.oxw(2).$implicit,i=n.oxw(5);n.xp6(1),n.Q6J("ngIf",n.lcZ(2,1,i.getSectionPrice(e.section)))}}function dW(t,r){if(1&t&&n._UZ(0,"apto-summary-section-price",33),2&t){const e=n.oxw(2).$implicit,i=n.oxw(5);n.Q6J("section",e.section)("expanded",i.expandedSectionPrices.includes(i.getSectionExpandIdentifier(e.section)))}}function pW(t,r){if(1&t){const e=n.EpF();n.ynx(0),n.TgZ(1,"div",14),n.NdJ("click",function(o){const l=n.CHM(e).ngIf,u=n.oxw().$implicit,p=n.oxw(5);return n.KtG(p.togglePriceTable(o,u.section,l))}),n.TgZ(2,"div",15),n.NdJ("click",function(o){n.CHM(e);const a=n.oxw().$implicit,l=n.oxw(5);return n.KtG(l.onSectionClick(o,a.section,l.product.seoUrl,l.product.useStepByStep))}),n.TgZ(3,"div",16),n._uU(4),n.qZA(),n.TgZ(5,"div")(6,"div",17),n._uU(7),n.ALo(8,"translate"),n.YNc(9,J9,1,1,"apto-discount-tag",18),n.qZA(),n.YNc(10,nW,3,3,"ng-container",19),n.YNc(11,rW,4,6,"div",20),n.qZA()(),n.YNc(12,uW,3,3,"ng-container",0),n.ALo(13,"async"),n.qZA(),n.YNc(14,dW,1,2,"apto-summary-section-price",21),n.BQk()}if(2&t){const e=r.ngIf,i=n.oxw(),o=i.index,a=i.$implicit,l=n.oxw(5);n.xp6(4),n.Oqu(o+1),n.xp6(3),n.AsE(" ",n.lcZ(8,8,a.section.name)," ",a.section.repeatableType===l.SectionTypes.WIEDERHOLBAR?a.section.repetition+1:""," "),n.xp6(2),n.Q6J("ngIf",l.getPriceTableSectionDiscount(e)),n.xp6(1),n.Q6J("ngForOf",a.elements),n.xp6(1),n.Q6J("ngIf",!a.active),n.xp6(1),n.Q6J("ngIf",n.lcZ(13,10,l.getSectionPseudoPrice(a.section))),n.xp6(2),n.Q6J("ngIf",l.showPrices&&e.length>0)}}function fW(t,r){if(1&t&&(n.TgZ(0,"div",8),n.YNc(1,pW,15,12,"ng-container",0),n.ALo(2,"async"),n.qZA()),2&t){const e=r.$implicit,i=n.oxw(5);n.xp6(1),n.Q6J("ngIf",n.lcZ(2,1,i.getSectionPriceTable(e.section)))}}function hW(t,r){if(1&t&&n._UZ(0,"apto-discount-tag",22),2&t){const e=n.oxw(5).ngIf;n.Q6J("label",e.statePrice.discount.name)}}function mW(t,r){if(1&t&&(n.TgZ(0,"div",32),n._uU(1),n.qZA()),2&t){const e=n.oxw().ngIf;n.xp6(1),n.hij(" ",e," ")}}function gW(t,r){if(1&t&&(n.ynx(0),n.YNc(1,mW,2,1,"div",30),n._uU(2),n.BQk()),2&t){const e=r.ngIf,i=n.oxw(3).ngIf;n.xp6(1),n.Q6J("ngIf",i!=e),n.xp6(1),n.hij(" ",i," ")}}const _W=function(t){return{"total-price":!0,"font-smaller":t}};function vW(t,r){if(1&t&&(n.TgZ(0,"div",8)(1,"div",34)(2,"div",10)(3,"div")(4,"div",35),n._uU(5),n.ALo(6,"contentSnippet"),n.ALo(7,"async"),n.YNc(8,hW,1,1,"apto-discount-tag",18),n.qZA(),n.TgZ(9,"div",36),n._uU(10),n.ALo(11,"contentSnippet"),n.ALo(12,"async"),n.qZA(),n._UZ(13,"apto-slot-outlet",37),n.qZA()(),n._UZ(14,"div",12),n.TgZ(15,"div",38),n.YNc(16,gW,3,2,"ng-container",0),n.ALo(17,"async"),n.qZA()()()),2&t){const e=n.oxw(4).ngIf,i=n.oxw();n.xp6(5),n.hij(" ",n.xi3(6,5,n.lcZ(7,8,i.contentSnippet$),"totalPrice")," "),n.xp6(3),n.Q6J("ngIf",null==e||null==e.statePrice||null==e.statePrice.discount?null:e.statePrice.discount.discount),n.xp6(2),n.Oqu(n.xi3(11,10,n.lcZ(12,13,i.contentSnippet$),"tax.withTax")),n.xp6(5),n.Q6J("ngClass",n.VKq(17,_W,e.statePrice.sum.price.amount>9999)),n.xp6(1),n.Q6J("ngIf",n.lcZ(17,15,i.sumPseudoPrice$))}}function yW(t,r){if(1&t&&(n.ynx(0),n.TgZ(1,"div",1)(2,"div",2)(3,"h5"),n._uU(4),n.ALo(5,"translate"),n.qZA(),n.TgZ(6,"p",3),n._uU(7),n.ALo(8,"contentSnippet"),n.ALo(9,"async"),n.qZA(),n.TgZ(10,"p"),n._uU(11),n.ALo(12,"contentSnippet"),n.ALo(13,"async"),n.qZA()(),n._UZ(14,"apto-slot-outlet",4),n.YNc(15,Q9,12,9,"div",5),n.YNc(16,fW,3,3,"div",6),n.TgZ(17,"div",7),n._UZ(18,"div"),n.qZA(),n.YNc(19,vW,18,19,"div",5),n.qZA(),n.BQk()),2&t){const e=r.ngIf,i=n.oxw(4);n.xp6(4),n.Oqu(n.lcZ(5,6,i.product.name)),n.xp6(3),n.Oqu(n.xi3(8,8,n.lcZ(9,11,i.contentSnippet$),"headline")),n.xp6(4),n.Oqu(n.xi3(12,13,n.lcZ(13,16,i.contentSnippet$),"subline")),n.xp6(4),n.Q6J("ngIf",i.showPrices),n.xp6(1),n.Q6J("ngForOf",e.steps),n.xp6(3),n.Q6J("ngIf",i.showPrices)}}function bW(t,r){if(1&t&&(n.ynx(0),n.YNc(1,yW,20,18,"ng-container",0),n.ALo(2,"async"),n.BQk()),2&t){const e=n.oxw(3);n.xp6(1),n.Q6J("ngIf",n.lcZ(2,1,e.steps$))}}function CW(t,r){if(1&t&&(n.ynx(0),n.YNc(1,bW,3,3,"ng-container",0),n.ALo(2,"async"),n.BQk()),2&t){const e=n.oxw(2);n.xp6(1),n.Q6J("ngIf",n.lcZ(2,1,e.sumPrice$))}}function xW(t,r){if(1&t&&(n.ynx(0),n.YNc(1,CW,3,3,"ng-container",0),n.ALo(2,"async"),n.BQk()),2&t){const e=n.oxw();n.xp6(1),n.Q6J("ngIf",n.lcZ(2,1,e.basicPrice$))}}let T3=(()=>{class t{constructor(e,i,o,a){this.store=e,this.router=i,this.activatedRoute=o,this.dialogService=a,this.contentSnippet$=this.store.select(un("aptoSummary")),this.product$=this.store.select(ls),this.configuration$=this.store.select(ji),this.basicPseudoPrice$=this.store.select(tF),this.sumPseudoPrice$=this.store.select(hA),this.sumPrice$=this.store.select($m),this.steps$=this.store.select(cc),this.basicPrice$=this.store.select(eF),this.popUp$=this.store.select(un("confirmSelectSectionDialog")),this.SectionTypes=oc,this.destroy$=new dn.x,this.humanReadableState={},this.expandedSectionPrices=[],this.csPopUp=null,this.showPrices=!0,this.locale=yn.defaultLocale}ngOnInit(){this.store.select(lr).pipe((0,Zn.R)(this.destroy$)).subscribe(e=>{this.onLocalChange(e)}),this.popUp$.pipe((0,Zn.R)(this.destroy$)).subscribe(e=>{this.onCsPopUpChange(e)}),this.product$.pipe((0,Zn.R)(this.destroy$)).subscribe(e=>{this.product=e}),this.store.select(Wm).pipe((0,Zn.R)(this.destroy$)).subscribe(e=>{this.humanReadableState=e||{}})}getElementHumanReadableState(e,i){const o=this.humanReadableState.find(u=>u.elementId===e&&u.repetition===i);if(!o)return null;let a=!0,l="";return Object.keys(o.values).forEach(u=>{a?(a=!1,l=Pn(o.values[u],this.locale)):l+=", "+Pn(o.values[u],this.locale)}),l}getSectionPriceTable(e){return this.store.select(gA(e))}getSectionPrice(e){return this.store.select(mA(e))}getSectionPseudoPrice(e){return this.store.select((t=>(0,Oe.P1)(jn,r=>null===r.configuration.statePrice?null:Object.entries(r.configuration.statePrice.sections).find(([e])=>e===t.id)?.[1][t.repetition].sum.pseudoPrice.formatted))(e))}getPriceTableSectionDiscount(e){return e.find(i=>!i.elementId&&i.isDiscount)}getPriceTableElementDiscount(e,i){return e.find(o=>o.elementId===i&&o.isDiscount)}onSectionClick(e,i,o,a){e.preventDefault(),e.stopPropagation(),this.setStep(i,o,a)}togglePriceTable(e,i,o){if(e.preventDefault(),e.stopPropagation(),o.length<=0)return;const a=this.expandedSectionPrices.indexOf(this.getSectionExpandIdentifier(i));-1!==a?this.expandedSectionPrices.splice(a,1):this.expandedSectionPrices.push(this.getSectionExpandIdentifier(i))}getSectionExpandIdentifier(e){return e.id+"_"+e.repetition}setStep(e,i,o){if(e)if(this.product.keepSectionOrder){if(!1===o)return void this.router.navigate([".."],{relativeTo:this.activatedRoute});if(!this.csPopUp.title||!this.csPopUp.message)return this.updateStore(e),void this.router.navigate([".."],{relativeTo:this.activatedRoute});this.openPopUp().pipe((0,Zn.R)(this.destroy$)).subscribe(a=>{!0===a&&(this.updateStore(e),this.router.navigate([".."],{relativeTo:this.activatedRoute}))})}else this.updateStore(e),this.router.navigate([".."],{relativeTo:this.activatedRoute})}openPopUp(){return this.dialogService.openWarningDialog(Ur.md,this.csPopUp.title,this.csPopUp.message,this.csPopUp.button.cancel,this.csPopUp.button.accept).afterClosed()}onLocalChange(e){this.locale=null===e?yn.defaultLocale:e}updateStore(e){this.store.dispatch(hd({payload:{id:e.id,repetition:e.repetition}}))}onCsPopUpChange(e){this.csPopUp={title:"",message:"",button:{cancel:"",accept:""}},null!==e&&e.children.forEach(i=>{"title"===i.name&&(this.csPopUp.title=Pn(i.content,this.locale)),"message"===i.name&&(this.csPopUp.message=Pn(i.content,this.locale)),"buttonCancel"===i.name&&(this.csPopUp.button.cancel=Pn(i.content,this.locale)),"buttonAccept"===i.name&&(this.csPopUp.button.accept=Pn(i.content,this.locale))})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(Oe.yh),n.Y36(ti),n.Y36(zi),n.Y36(Do))},t.\u0275cmp=n.Xpm({type:t,selectors:[["apto-summary-configuration"]],inputs:{showPrices:"showPrices"},decls:2,vars:3,consts:[[4,"ngIf"],[1,"summary","bottom"],[1,"title"],[1,"subtitle"],["identifier","before-summary-configuration"],["class","summary configuration",4,"ngIf"],["class","summary configuration",4,"ngFor","ngForOf"],[1,"summary-configuration-divider"],[1,"summary","configuration"],[1,"single-section","default"],[1,"finished-message","section"],[1,"section-name","base-price"],[1,"summary-section-divider"],[1,"section-right"],[1,"single-section",3,"click"],[1,"finished-message","section",3,"click"],[1,"circle","list"],[1,"section-name"],[3,"label",4,"ngIf"],[4,"ngFor","ngForOf"],["class","element-summary",4,"ngIf"],[3,"section","expanded",4,"ngIf"],[3,"label"],["identifier","after-summary-configuration-element",3,"section","element"],[1,"element-summary"],[3,"previewImage",4,"ngIf"],[1,"element-name"],[3,"previewImage"],["class","summary-section-divider",4,"ngIf"],["class","section-right",4,"ngIf"],["class","basic-discount-price",4,"ngIf"],[1,"section-price"],[1,"basic-discount-price"],[3,"section","expanded"],[1,"single-section","default","price"],[1,"section-name","price"],[1,"discount-name"],["identifier","after-summary-tax"],[1,"section-right",3,"ngClass"]],template:function(e,i){1&e&&(n.YNc(0,xW,3,3,"ng-container",0),n.ALo(1,"async")),2&e&&n.Q6J("ngIf",n.lcZ(1,1,i.configuration$))},dependencies:[An,Ar,rn,fo,fr,R9,j9,Rd,hn,Tr,ur],styles:["p[_ngcontent-%COMP%]{font-weight:600}.circle[_ngcontent-%COMP%]{border-radius:var(--border-radius-bubble);height:28px;width:28px;font-size:13px;font-weight:700;display:flex;justify-content:center;align-items:center;flex-shrink:0;margin-right:1rem}.circle.list[_ngcontent-%COMP%]{box-shadow:var(--box-shadow);border:1px solid var(--color-border-input);background-color:var(--color-background-card);color:#6d6d6d}.circle[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-weight:700}.finished-message[_ngcontent-%COMP%]{display:flex;align-items:flex-start;flex-grow:1}.finished-message.section[_ngcontent-%COMP%]{padding:15px}.summary-section-divider[_ngcontent-%COMP%]{border-left:2px solid var(--color-border);margin:15px 0}.summary[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:40px 130px}.summary.top[_ngcontent-%COMP%]{border-bottom:1px solid #dcdcdc}.summary.basket[_ngcontent-%COMP%]{gap:20px}.summary.configuration[_ngcontent-%COMP%]{padding:10px}.summary[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:var(--input-elements-gap)}.summary-configuration-divider[_ngcontent-%COMP%]{width:100%;padding:15px 10px}.summary-configuration-divider[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{height:2px;border-top:2px solid var(--color-border)}.title[_ngcontent-%COMP%]{text-align:center;padding:0 20px 40px}.title[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:29px;font-weight:600;color:var(--color-title)}.title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:small;font-weight:500;margin-top:8px;color:var(--color-text);opacity:.64}.title[_ngcontent-%COMP%]   p.subtitle[_ngcontent-%COMP%]{opacity:1;font-size:18px;margin-top:18px}.single-section[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;width:700px;z-index:1;border-radius:var(--border-radius-card);box-shadow:var(--box-shadow);background-color:var(--color-background-card);cursor:pointer}.single-section[_ngcontent-%COMP%]:hover{background-color:var(--color-background-card-hover)}.single-section.default[_ngcontent-%COMP%]{cursor:default}.single-section.default[_ngcontent-%COMP%]   .finished-message[_ngcontent-%COMP%]{line-height:30px}.single-section.default[_ngcontent-%COMP%]   .section-right[_ngcontent-%COMP%]{align-self:center}.single-section.price[_ngcontent-%COMP%]{background-color:#20538c1a}.section-name[_ngcontent-%COMP%]{font-weight:600;font-size:20px;color:var(--color-primary);margin-bottom:8px;line-height:27px}.section-name.base-price[_ngcontent-%COMP%]{margin-bottom:0}.element-summary[_ngcontent-%COMP%]{line-height:19px;font-size:15px;margin-bottom:8px;display:flex;align-items:center;gap:10px}.element-summary[_ngcontent-%COMP%]:last-child{margin-bottom:0}.element-summary[_ngcontent-%COMP%]   apto-element-picture[_ngcontent-%COMP%]{max-width:82px;margin-bottom:5px}.section-right[_ngcontent-%COMP%]{padding:15px;align-items:flex-end;display:flex;flex-direction:column;width:125px;min-width:125px;max-width:125px;justify-content:center;font-weight:500;color:var(--color-text);align-self:flex-end}.section-right.total-price[_ngcontent-%COMP%]{font-weight:600;color:var(--color-primary);font-size:20px}.section-right.font-smaller[_ngcontent-%COMP%]{font-size:16px}.section-price[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}.section-price[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#b3b3b3}.basic-discount-price[_ngcontent-%COMP%]{text-decoration:line-through;text-decoration-thickness:2px;color:#a9a9a9;font-weight:400;font-size:13px}.discount-name[_ngcontent-%COMP%]{color:var(--color-text);font-size:15px;line-height:19px}@media only screen and (max-width: 766px){.summary[_ngcontent-%COMP%]{padding:0}.single-section[_ngcontent-%COMP%]{width:300px;flex-direction:column}.section-right[_ngcontent-%COMP%]{border-top:2px solid var(--color-border);justify-content:center;border-left:0px;width:auto}}"]}),t})(),I3=(()=>{class t{constructor(e){this.store=e,this.contentSnippet$=this.store.select(un("aptoSummary"))}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(Oe.yh))},t.\u0275cmp=n.Xpm({type:t,selectors:[["apto-summary-finish-message"]],decls:14,vars:14,consts:[[1,"finished-message"],[1,"circle","finished"],[1,"subline",3,"innerHTML"]],template:function(e,i){1&e&&(n.TgZ(0,"div",0)(1,"div")(2,"div",1)(3,"mat-icon"),n._uU(4,"done"),n.qZA()()(),n.TgZ(5,"div")(6,"h4"),n._uU(7),n.ALo(8,"contentSnippet"),n.ALo(9,"async"),n.qZA(),n._UZ(10,"div",2),n.ALo(11,"safeHtml"),n.ALo(12,"contentSnippet"),n.ALo(13,"async"),n.qZA()()),2&e&&(n.xp6(7),n.Oqu(n.xi3(8,2,n.lcZ(9,5,i.contentSnippet$),"finishMessage.title")),n.xp6(3),n.Q6J("innerHTML",n.lcZ(11,7,n.xi3(12,9,n.lcZ(13,12,i.contentSnippet$),"finishMessage.subline")),n.oJD))},dependencies:[fr,hn,Lo,ur],styles:["h4[_ngcontent-%COMP%]{font-weight:600;font-size:31px;color:var(--color-text)}.subline[_ngcontent-%COMP%]{font-weight:500}.finished-message[_ngcontent-%COMP%]{display:flex;align-items:center}.circle[_ngcontent-%COMP%]{border-radius:var(--border-radius-bubble);height:41px;width:41px;font-size:x-large;font-weight:700;display:flex;justify-content:center;align-items:center;flex-shrink:0;margin-right:1rem}.circle.finished[_ngcontent-%COMP%]{border:2px solid var(--color-background-completed);background-color:var(--color-background-completed);color:var(--color-completed)}.circle[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-weight:700}"]}),t})();function wW(t,r){if(1&t&&n._UZ(0,"img",19),2&t){const e=n.oxw(3);n.Q6J("src",e.renderImage.src,n.LSH)}}function MW(t,r){if(1&t&&(n.TgZ(0,"div",20)(1,"h4"),n._uU(2),n.qZA(),n.TgZ(3,"span"),n._uU(4),n.ALo(5,"contentSnippet"),n.ALo(6,"async"),n._UZ(7,"br"),n._uU(8),n.ALo(9,"contentSnippet"),n.ALo(10,"async"),n.qZA()()),2&t){const e=n.oxw().ngIf,i=n.oxw(2);n.xp6(2),n.Oqu(e),n.xp6(2),n.Oqu(n.xi3(5,3,n.lcZ(6,6,i.contentSnippet$),"tax.withTax")),n.xp6(4),n.Oqu(n.xi3(9,8,n.lcZ(10,11,i.sidebarSummary$),"shippingCosts"))}}function SW(t,r){if(1&t&&n._UZ(0,"apto-offer-configuration-button",21),2&t){const e=n.oxw(2).ngIf;n.Q6J("product",e)}}const DW=function(t){return["/product",t]};function OW(t,r){if(1&t){const e=n.EpF();n.ynx(0),n._UZ(1,"apto-summary-finish-message")(2,"mat-divider"),n.TgZ(3,"form",1)(4,"div",2)(5,"div",3)(6,"div",4),n._UZ(7,"apto-o-p-full-screen",5),n.ALo(8,"async"),n.qZA(),n.YNc(9,wW,1,1,"img",6),n.TgZ(10,"div",7),n.YNc(11,MW,11,13,"div",8),n.TgZ(12,"div",9),n._UZ(13,"apto-quantity-input-editable",10),n.TgZ(14,"button",11),n.NdJ("click",function(){n.CHM(e);const o=n.oxw(2);return n.KtG(o.addBasket())}),n._uU(15),n.ALo(16,"contentSnippet"),n.ALo(17,"async"),n.qZA()()()(),n._UZ(18,"apto-summary-configuration",12),n.TgZ(19,"div",13)(20,"div",14)(21,"div",15)(22,"button",16)(23,"mat-icon"),n._uU(24,"undo"),n.qZA(),n._uU(25),n.ALo(26,"contentSnippet"),n.ALo(27,"async"),n.qZA()(),n._UZ(28,"apto-quantity-input-editable",17),n.TgZ(29,"button",11),n.NdJ("click",function(){n.CHM(e);const o=n.oxw(2);return n.KtG(o.addBasket())}),n._uU(30),n.ALo(31,"contentSnippet"),n.ALo(32,"async"),n.qZA()(),n.YNc(33,SW,1,1,"apto-offer-configuration-button",18),n.qZA()()(),n.BQk()}if(2&t){const e=n.oxw().ngIf,i=n.oxw();n.xp6(3),n.Q6J("formGroup",i.quantityInputGroup),n.xp6(4),n.Q6J("perspectives",n.lcZ(8,22,i.perspectives$))("product",e)("renderImage",i.renderImage),n.xp6(2),n.Q6J("ngIf",i.renderImage),n.xp6(2),n.Q6J("ngIf",i.showPrices),n.xp6(2),n.Q6J("minValue",e.minPurchase)("maxValue",e.maxPurchase)("name","quantityInput1")("size","big")("width","100px"),n.xp6(2),n.hij(" ",n.xi3(16,24,n.lcZ(17,27,i.contentSnippet$),"addToBasket")," "),n.xp6(3),n.Q6J("showPrices",i.showPrices),n.xp6(4),n.Q6J("routerLink",n.VKq(39,DW,e.seoUrl)),n.xp6(3),n.hij("",n.xi3(26,29,n.lcZ(27,32,i.contentSnippet$),"back")," "),n.xp6(3),n.Q6J("minValue",e.minPurchase)("maxValue",e.maxPurchase)("size","big")("width","100px")("name","quantityInput2"),n.xp6(2),n.hij(" ",n.xi3(31,34,n.lcZ(32,37,i.contentSnippet$),"addToBasket")," "),n.xp6(3),n.Q6J("ngIf",i.isOfferConfigurationEnabled)}}function EW(t,r){if(1&t&&(n.ynx(0),n.YNc(1,OW,34,41,"ng-container",0),n.ALo(2,"async"),n.BQk()),2&t){const e=n.oxw();n.xp6(1),n.Q6J("ngIf",n.lcZ(2,1,e.sumPrice$))}}let Xf=class{constructor(r,e,i,o,a){var l=this;this.store=r,this.router=e,this.activatedRoute=i,this.renderImageService=o,this.basketService=a,this.contentSnippet$=this.store.select(un("aptoSummary")),this.sidebarSummary$=this.store.select(un("aptoStepByStep.sidebarSummary")),this.AptoOfferConfigurationDialog$=this.store.select(un("AptoOfferConfigurationDialog")),this.locale$=this.store.select(lr),this.perspectives$=this.store.select(yd),this.locale="de_DE",this.isOfferConfigurationEnabled=!1,this.product$=this.store.select(ls),this.configuration$=this.store.select(ji),this.sumPrice$=this.store.select($m),this.quantityInputGroup=new mo({quantityInput:new Ln(1)}),this.renderImage=null,this.configuration$.subscribe(u=>{!u.loading&&0===u.state.sections.length&&e.navigate([".."],{relativeTo:i})}),this.locale$.subscribe(u=>{this.locale=u}),this.AptoOfferConfigurationDialog$.subscribe(u=>{u.children.forEach(p=>{"enabled"===p.name&&(this.isOfferConfigurationEnabled="true"===p.content[this.locale])})}),this.store.select(Wc).pipe(ki(this)).subscribe(function(){var u=bc(function*(p){l.renderImage=yield l.renderImageService.drawImageForPerspective(p)});return function(p){return u.apply(this,arguments)}}())}get configurationId(){return this.activatedRoute.snapshot.params.configurationId}get configurationType(){return this.activatedRoute.snapshot.params.configurationType}get showPrices(){return yn.showPrices}addBasket(){this.renderImage?this.renderImageService.resize(this.renderImage,800).then(r=>{this.store.dispatch(Ps({payload:{type:"ADD_TO_BASKET",productImage:r.src,configurationId:this.configurationId,configurationType:this.configurationType}}))}):this.store.dispatch(Ps({payload:{type:"ADD_TO_BASKET",productImage:null,configurationId:this.configurationId,configurationType:this.configurationType}})),this.basketService.sideBar?.toggle()}};Xf.\u0275fac=function(r){return new(r||Xf)(n.Y36(Oe.yh),n.Y36(ti),n.Y36(zi),n.Y36(kd),n.Y36(gm))},Xf.\u0275cmp=n.Xpm({type:Xf,selectors:[["apto-summary"]],decls:2,vars:3,consts:[[4,"ngIf"],[1,"quantity-form",3,"formGroup"],[1,"whole-summary"],[1,"summary","top"],[1,"zoom"],["imageWrapperBgColor","white",3,"perspectives","product","renderImage"],[3,"src",4,"ngIf"],[1,"summary","basket"],["class","basket price",4,"ngIf"],[1,"basket","buttons"],["formControlName","quantityInput",3,"minValue","maxValue","name","size","width"],["color","primary","mat-flat-button","",1,"add-to-basket",3,"click"],[3,"showPrices"],[1,"summary","bottom"],[1,"basket","bottom"],[1,"back-button-container"],["color","accent","mat-flat-button","",3,"routerLink"],["formControlName","quantityInput",3,"minValue","maxValue","size","width","name"],[3,"product",4,"ngIf"],[3,"src"],[1,"basket","price"],[3,"product"]],template:function(r,e){1&r&&(n.YNc(0,EW,3,3,"ng-container",0),n.ALo(1,"async")),2&r&&n.Q6J("ngIf",n.lcZ(1,1,e.product$))},dependencies:[sl,rn,oa,oi,ia,qi,Bo,fr,Or,vc,D3,kw,eT,T3,I3,hn,ur],styles:["[_nghost-%COMP%]{background-color:#f7f8fa;display:flex;flex-direction:column;align-items:center;margin:50px 0 80px}[_nghost-%COMP%]   span[_ngcontent-%COMP%]{font-size:x-small;font-weight:500}[_nghost-%COMP%]   h4[_ngcontent-%COMP%]{font-weight:600;font-size:31px;color:var(--color-text)}.quantity-form[_ngcontent-%COMP%]{max-width:100%}.whole-summary[_ngcontent-%COMP%]{display:flex;flex-direction:column;background-color:var(--color-background-card);border-radius:var(--border-radius-card);box-shadow:var(--box-shadow);max-width:980px;margin-top:50px}.whole-summary[_ngcontent-%COMP%]   .summary[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:40px 140px}.whole-summary[_ngcontent-%COMP%]   .summary.top[_ngcontent-%COMP%]{border-bottom:1px solid #dcdcdc;position:relative}.whole-summary[_ngcontent-%COMP%]   .summary.top[_ngcontent-%COMP%]   .zoom[_ngcontent-%COMP%]{position:absolute;left:calc(50% - 200px);top:10px}.whole-summary[_ngcontent-%COMP%]   .summary.top[_ngcontent-%COMP%]   .zoom[_ngcontent-%COMP%]     apto-o-p-full-screen .full-screen-button{width:50px;height:50px;padding:0!important}.whole-summary[_ngcontent-%COMP%]   .summary.top[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:auto;width:250px;padding:0 0 40px}.whole-summary[_ngcontent-%COMP%]   .summary.basket[_ngcontent-%COMP%]{gap:20px;padding-top:0;padding-bottom:0}.whole-summary[_ngcontent-%COMP%]   .summary[_ngcontent-%COMP%]   .basket.buttons[_ngcontent-%COMP%]{gap:30px}.whole-summary[_ngcontent-%COMP%]   .summary.configuration[_ngcontent-%COMP%]{padding:10px}.whole-summary[_ngcontent-%COMP%]   .summary.bottom[_ngcontent-%COMP%]{align-items:stretch;padding-top:0}.whole-summary[_ngcontent-%COMP%]   .summary[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:var(--input-elements-gap)}.basket[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;gap:10px}.basket.price[_ngcontent-%COMP%]{align-items:center}.basket.bottom[_ngcontent-%COMP%]{gap:30px}.back-button-container[_ngcontent-%COMP%]{flex-grow:1}@media only screen and (max-width: 766px){[_nghost-%COMP%]{margin:20px 0}[_nghost-%COMP%]   img[_ngcontent-%COMP%]{width:300px}.basket[_ngcontent-%COMP%]{flex-direction:column}.whole-summary[_ngcontent-%COMP%]{margin:10px}}"]}),Xf=(0,Ei.gn)([Ii()],Xf);let k3=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({}),t})();qP.registerRoutes(k9);let xl=(()=>{class t{constructor(){to.components.set("summary",Xf)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({providers:[tT,P3,Do],imports:[Jo,Zr,Is,Oe.Aw.forFeature(p1,lA),Na,ss,dm.forFeature([N9,F9]),vG,Wy,ka,aa,na,o3,Ia,Jm,Ta,QP,ZY,IR,zm,HP,m3,pw,Aa,_l,Aw,k3,k3]}),t})();const AW=["origin"],PW=["overlay"];function TW(t,r){if(1&t&&(n.TgZ(0,"div",14),n._uU(1),n.qZA()),2&t){const e=n.oxw();n.xp6(1),n.Oqu(e.prefix)}}function IW(t,r){if(1&t&&(n.TgZ(0,"div",15),n._uU(1),n.qZA()),2&t){const e=n.oxw();n.xp6(1),n.Oqu(e.name)}}function kW(t,r){if(1&t&&(n.TgZ(0,"div",16),n._uU(1),n.qZA()),2&t){const e=n.oxw();n.xp6(1),n.hij(" ",e.default," ")}}function FW(t,r){if(1&t&&(n.TgZ(0,"div",17),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&t){const e=n.oxw();n.xp6(1),n.Oqu(n.lcZ(2,1,e.item.name))}}function NW(t,r){if(1&t&&(n.TgZ(0,"div",18)(1,"mat-icon"),n._uU(2),n.qZA()()),2&t){const e=n.oxw();n.xp6(2),n.Oqu(e.isOverlayOpen?"arrow_drop_up":"arrow_drop_down")}}function RW(t,r){if(1&t){const e=n.EpF();n.TgZ(0,"div",19),n.NdJ("click",function(){n.CHM(e);const o=n.oxw();return n.KtG(o.clear())}),n.TgZ(1,"mat-icon"),n._uU(2,"close"),n.qZA()()}}function LW(t,r){if(1&t&&(n.TgZ(0,"div",20),n._uU(1),n.qZA()),2&t){const e=n.oxw();n.xp6(1),n.Oqu(e.hint)}}function BW(t,r){if(1&t&&(n.TgZ(0,"div",21),n._uU(1),n.qZA()),2&t){const e=n.oxw();n.xp6(1),n.Oqu(e.suffix)}}function UW(t,r){if(1&t){const e=n.EpF();n.TgZ(0,"div",25),n.NdJ("click",function(){const a=n.CHM(e).$implicit,l=n.oxw(2);return n.KtG(l.selectItem(a))}),n.TgZ(1,"div",26)(2,"span",27),n._uU(3),n.ALo(4,"translate"),n.qZA()()()}if(2&t){const e=r.$implicit;n.xp6(3),n.Oqu(n.lcZ(4,1,e.name))}}function VW(t,r){if(1&t&&(n.TgZ(0,"div",22,23),n.YNc(2,UW,5,3,"div",24),n.qZA()),2&t){const e=n.oxw();n.Udp("width",e.overlayWidth,"px"),n.xp6(2),n.Q6J("ngForOf",e._items)}}let Xy=(()=>{class t{constructor(){this.name="",this.hint="",this.enableClear=!0,this.disabled=!1,this.default="",this.asArray=!1,this.width="",this._items=[],this.value=null,this.inputCleared=new n.vpe,this.isOverlayOpen=!1}set items(e){this._items=e||[],this.updateValue()}setOverlayWidth(){if(this.origin&&this.overlay){const e=this.origin.elementRef.nativeElement.getBoundingClientRect().width,i=this.overlay.nativeElement.getBoundingClientRect().width;Math.ceil(i)<Math.ceil(e)&&(this.overlayWidth=e+2)}}writeValue(e){this.value=e,this.updateValue()}registerOnChange(e){this.onChange=e}registerOnTouched(e){}setDisabledState(e){}toggleOverlay(){this.isOverlayOpen=!this.isOverlayOpen,this.isOverlayOpen&&setTimeout(()=>{this.setOverlayWidth()})}updateValue(){this.item=this.value?this._items.find(e=>e.id===this.value):void 0}selectItem(e){this.value=e.id,this.updateValue(),this.onChange?.(this.asArray?[e.id]:e.id),this.isOverlayOpen=!1}clear(){this.value=null,this.updateValue(),this.onChange?.(this.asArray?[]:null),this.isOverlayOpen=!1,this.inputCleared.emit()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Xpm({type:t,selectors:[["apto-select-field"]],viewQuery:function(e,i){if(1&e&&(n.Gf(AW,5),n.Gf(PW,5)),2&e){let o;n.iGM(o=n.CRH())&&(i.origin=o.first),n.iGM(o=n.CRH())&&(i.overlay=o.first)}},inputs:{name:"name",prefix:"prefix",suffix:"suffix",hint:"hint",enableClear:"enableClear",disabled:"disabled",default:"default",asArray:"asArray",width:"width",items:"items"},outputs:{inputCleared:"inputCleared"},features:[n._Bn([{provide:Ci,useExisting:(0,n.Gpc)(()=>t),multi:!0}])],decls:16,vars:21,consts:[[1,"select-field"],["class","prefix",4,"ngIf"],["class","name",4,"ngIf"],[1,"container"],["mat-ripple","","cdkOverlayOrigin","",1,"select",3,"matRippleDisabled","click"],["overlayContent","cdkOverlayOrigin","outletContent","cdkOverlayOrigin","origin","cdkOverlayOrigin"],[1,"selected-value-wrapper"],["class","selected-value default",4,"ngIf"],["class","selected-value",4,"ngIf"],["class","dropdown",4,"ngIf"],["class","clear-input","mat-ripple","",3,"click",4,"ngIf"],["class","hint",4,"ngIf"],["class","suffix",4,"ngIf"],["cdkConnectedOverlay","",3,"cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","overlayOutsideClick","attach"],[1,"prefix"],[1,"name"],[1,"selected-value","default"],[1,"selected-value"],[1,"dropdown"],["mat-ripple","",1,"clear-input",3,"click"],[1,"hint"],[1,"suffix"],[1,"overlay"],["overlay",""],["class","items",3,"click",4,"ngFor","ngForOf"],[1,"items",3,"click"],["mat-ripple","",1,"item"],[1,"text"]],template:function(e,i){if(1&e&&(n.TgZ(0,"div",0),n.YNc(1,TW,2,1,"div",1),n.YNc(2,IW,2,1,"div",2),n.TgZ(3,"div",3)(4,"div",4,5),n.NdJ("click",function(){return i.disabled||i.toggleOverlay()}),n.TgZ(8,"div",6),n.YNc(9,kW,2,1,"div",7),n.YNc(10,FW,3,3,"div",8),n.qZA(),n.YNc(11,NW,3,1,"div",9),n.qZA(),n.YNc(12,RW,3,0,"div",10),n.qZA(),n.YNc(13,LW,2,1,"div",11),n.YNc(14,BW,2,1,"div",12),n.qZA(),n.YNc(15,VW,3,3,"ng-template",13),n.NdJ("overlayOutsideClick",function(a){return i.toggleOverlay(),a.stopPropagation()})("attach",function(){return i.setOverlayWidth()})),2&e){const o=n.MAs(6);n.Udp("width",i.width?"max-content":"100%"),n.xp6(1),n.Q6J("ngIf",i.prefix),n.xp6(1),n.Q6J("ngIf",i.name),n.xp6(1),n.Udp("width",i.width),n.ekj("open-left",i.isOverlayOpen)("open-right",i.isOverlayOpen&&!i.enableClear),n.xp6(1),n.Q6J("matRippleDisabled",i.disabled),n.xp6(4),n.ekj("value-disabled",!i.disabled),n.xp6(1),n.Q6J("ngIf",!i.item),n.xp6(1),n.Q6J("ngIf",i.item),n.xp6(1),n.Q6J("ngIf",!i.disabled),n.xp6(1),n.Q6J("ngIf",i.enableClear),n.xp6(1),n.Q6J("ngIf",i.hint),n.xp6(1),n.Q6J("ngIf",i.suffix),n.xp6(1),n.Q6J("cdkConnectedOverlayOrigin",o)("cdkConnectedOverlayOpen",i.isOverlayOpen)}},dependencies:[Ar,rn,fr,xd,Ay,Ea,Tr],styles:['[_nghost-%COMP%]{width:100%;display:flex;justify-content:center}.select-field[_ngcontent-%COMP%]{display:grid;grid-template-rows:auto;grid-template-columns:max-content auto max-content;grid-template-areas:"... name ..." "prefix container suffix" "... hint ..."}.select-field[_ngcontent-%COMP%]   .prefix[_ngcontent-%COMP%]{grid-area:prefix;font-size:14px;font-weight:600;color:var(--color-text);align-self:center;text-align:right}.select-field[_ngcontent-%COMP%]   .prefix[_ngcontent-%COMP%]:not(:empty){padding-right:var(--input-elements-gap)}.select-field[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{grid-area:name;font-weight:500;height:min-content;color:var(--color-text);padding-bottom:var(--input-elements-gap);font-size:16px}.select-field[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{grid-area:container;display:flex;overflow:hidden;background-color:#fff;border:1px solid var(--color-border-input);border-radius:var(--border-radius-card);height:var(--input-height);box-shadow:var(--box-shadow)}.select-field[_ngcontent-%COMP%]   .container.open-left[_ngcontent-%COMP%]{border-bottom-left-radius:0}.select-field[_ngcontent-%COMP%]   .container.open-right[_ngcontent-%COMP%]{border-bottom-right-radius:0}.select-field[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .select[_ngcontent-%COMP%]{display:flex;flex-grow:1;align-items:stretch}.select-field[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .select[_ngcontent-%COMP%]   .selected-value-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;flex-basis:calc(100% - var(--dropdown-icon-width));max-width:calc(100% - var(--dropdown-icon-width))}.select-field[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .select[_ngcontent-%COMP%]   .selected-value-wrapper.value-disabled[_ngcontent-%COMP%]{cursor:pointer}.select-field[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .select[_ngcontent-%COMP%]   .selected-value-wrapper[_ngcontent-%COMP%]   .selected-value[_ngcontent-%COMP%]{width:100%;padding-left:20px;font-size:15px;font-weight:600;font-family:var(--main-font-1);color:var(--color-text);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.select-field[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .select[_ngcontent-%COMP%]   .selected-value-wrapper[_ngcontent-%COMP%]   .selected-value.default[_ngcontent-%COMP%]{font-weight:400}.select-field[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .select[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]{height:calc(var(--input-height) - 2px);width:var(--dropdown-icon-width);cursor:pointer;display:flex}.select-field[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .select[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:var(--color-ripple-control);font-size:30px;width:100%;height:100%;line-height:var(--input-height);text-align:center}.select-field[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .clear-input[_ngcontent-%COMP%]{background-color:var(--color-background);border-left:1px solid var(--color-border-input);height:var(--input-height)-2px;width:var(--clear-icon-width);flex-basis:var(--clear-icon-width);min-width:var(--clear-icon-width);cursor:pointer;display:flex;justify-content:center;align-items:center}.select-field[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .clear-input[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:var(--color-text);font-size:20px;height:20px;width:20px;line-height:20px}.select-field[_ngcontent-%COMP%]   .suffix[_ngcontent-%COMP%]{grid-area:suffix;font-size:14px;font-weight:600;color:var(--color-text);align-self:center;text-align:left}.select-field[_ngcontent-%COMP%]   .suffix[_ngcontent-%COMP%]:not(:empty){padding-left:var(--input-elements-gap)}.select-field[_ngcontent-%COMP%]   .hint[_ngcontent-%COMP%]{grid-area:hint;color:var(--color-text);font-size:12px;font-weight:600;padding-top:var(--input-elements-gap)}.overlay[_ngcontent-%COMP%]{background-color:#fff;border-bottom:1px solid var(--color-border-input);border-top:1px solid var(--color-border-input);border-left:1px solid var(--color-border-input);border-right:1px solid var(--color-border-input);border-bottom-right-radius:var(--border-radius-card);border-bottom-left-radius:var(--border-radius-card);position:absolute;left:-1px;display:flex;flex-direction:column;max-height:50vh;overflow-x:hidden}.overlay[_ngcontent-%COMP%]   .items[_ngcontent-%COMP%]{width:100%;cursor:pointer;display:flex;align-items:center;height:calc(var(--input-height) - 6px);overflow:visible}.overlay[_ngcontent-%COMP%]   .items[_ngcontent-%COMP%]:hover{background-color:var(--color-details)}.overlay[_ngcontent-%COMP%]   .items[_ngcontent-%COMP%]:last-child{border-bottom-right-radius:var(--border-radius-card);border-bottom-left-radius:var(--border-radius-card)}.overlay[_ngcontent-%COMP%]   .items[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;justify-content:flex-start;align-items:center;padding-left:20px;padding-right:20px}.overlay[_ngcontent-%COMP%]   .items[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{font-family:var(--main-font-1);color:var(--color-text);text-align:left;font-size:15px;line-height:calc(var(--input-height) - 6px);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.overlay[_ngcontent-%COMP%]   .items[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]{display:flex;background-color:var(--color-border-selected);border-radius:var(--border-radius-bubble);position:relative;height:20px;width:20px;color:#fff;justify-content:center;align-items:center;margin-left:10px}.overlay[_ngcontent-%COMP%]   .items[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-weight:600;font-size:16px;text-align:center;line-height:24px}@media only screen and (min-width: 767px){.select-field[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-weight:500;height:min-content;color:var(--color-text);padding-bottom:var(--input-elements-gap);font-size:18px}}']}),t})();function zW(t,r){if(1&t&&(n.TgZ(0,"a",2),n.NdJ("click",function(i){return i.stopPropagation()}),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&t){const e=r.$implicit,i=n.oxw();n.Q6J("href",i.mediaUrl+e.fileUrl,n.LSH)("download",e.mediaFile.filename),n.xp6(1),n.hij(" ",n.lcZ(2,3,e.name)," ")}}let ru=(()=>{class t{constructor(){this.attachments=[],this.mediaUrl=yn.api.media}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Xpm({type:t,selectors:[["apto-element-attachment"]],inputs:{attachments:"attachments"},decls:2,vars:1,consts:[[1,"element-attachment-download-item","element"],["class","element-attachment-download",3,"href","download","click",4,"ngFor","ngForOf"],[1,"element-attachment-download",3,"href","download","click"]],template:function(e,i){1&e&&(n.TgZ(0,"div",0),n.YNc(1,zW,3,5,"a",1),n.qZA()),2&e&&(n.xp6(1),n.Q6J("ngForOf",i.attachments))},dependencies:[Ar,Tr],styles:["[_nghost-%COMP%]{grid-area:attachment}"]}),t})();function HW(t,r){if(1&t&&(n.TgZ(0,"div",17)(1,"mat-icon"),n._uU(2,"done"),n.qZA()()),2&t){const e=n.oxw(2);n.ekj("selected",e.element.state.active)}}function jW(t,r){if(1&t){const e=n.EpF();n.TgZ(0,"apto-close-button",18),n.NdJ("clicked",function(){n.CHM(e);const o=n.oxw(2);return n.KtG(o.closeModal())}),n.qZA()}2&t&&n.Q6J("inner",!0)}function qW(t,r){if(1&t&&n._UZ(0,"apto-element-picture",19),2&t){const e=n.oxw(2);n.Q6J("previewImage",e.element.element.previewImage)("zoomFunction",e.element.element.zoomFunction)("gallery",e.element.element.gallery)}}function ZW(t,r){if(1&t&&(n._UZ(0,"apto-input-field",26),n.ALo(1,"translate"),n.ALo(2,"translate")),2&t){const e=n.oxw(),i=e.$implicit,o=e.index,a=n.oxw(2);n.Q6J("formControlName",i.key)("type","numeric")("name",n.lcZ(1,9,null==a.element.element.definition.staticValues.fields||null==a.element.element.definition.staticValues.fields[o]?null:a.element.element.definition.staticValues.fields[o].prefix))("suffix",n.lcZ(2,11,null==a.element.element.definition.staticValues.fields||null==a.element.element.definition.staticValues.fields[o]?null:a.element.element.definition.staticValues.fields[o].suffix))("step",a.element.element.definition.properties["field_"+o][0].step)("min",a.element.element.definition.properties["field_"+o][0].minimum)("max",a.element.element.definition.properties["field_"+o][0].maximum)("increaseStep",a.increaseStep)("decreaseStep",a.decreaseStep)}}function YW(t,r){if(1&t&&(n._UZ(0,"apto-select-field",27),n.ALo(1,"translate"),n.ALo(2,"translate")),2&t){const e=n.oxw(),i=e.index,o=e.$implicit,a=n.oxw(2);n.Q6J("default",(null==a.element.element.definition.staticValues.fields||null==a.element.element.definition.staticValues.fields[i]?null:a.element.element.definition.staticValues.fields[i].default)+"")("enableClear",!1)("suffix",n.lcZ(1,6,null==a.element.element.definition.staticValues.fields||null==a.element.element.definition.staticValues.fields[i]?null:a.element.element.definition.staticValues.fields[i].suffix))("name",n.lcZ(2,8,null==a.element.element.definition.staticValues.fields||null==a.element.element.definition.staticValues.fields[i]?null:a.element.element.definition.staticValues.fields[i].prefix))("items",a.itemFieldList[i])("formControlName",o.key)}}function GW(t,r){1&t&&(n.TgZ(0,"div")(1,"b"),n._uU(2,"Summe aller felder"),n.qZA()())}function $W(t,r){if(1&t&&(n.TgZ(0,"div",28),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&t){const e=n.oxw().index,i=n.oxw(2);n.xp6(1),n.hij(" ",i.element.element.definition.properties["field_"+e][0].minimum+" - "+i.element.element.definition.properties["field_"+e][0].maximum+" "+n.lcZ(2,1,null==i.element.element.definition.staticValues.fields||null==i.element.element.definition.staticValues.fields[e]?null:i.element.element.definition.staticValues.fields[e].suffix)," ")}}function WW(t,r){if(1&t&&(n.TgZ(0,"div"),n._uU(1),n.qZA()),2&t){const e=n.oxw(4);n.xp6(1),n.Oqu(e.sumOfFieldValues)}}function QW(t,r){if(1&t&&(n.TgZ(0,"div",28),n.YNc(1,WW,2,1,"div",24),n._uU(2),n.qZA()),2&t){const e=n.oxw().$implicit,i=n.oxw(2);n.xp6(1),n.Q6J("ngIf","sumOfFieldValue"===e.key),n.xp6(1),n.hij(" ",i.element.element.definition.properties.sumOfFieldValue[0].minimum+" - "+i.element.element.definition.properties.sumOfFieldValue[0].maximum," ")}}function JW(t,r){if(1&t&&(n.TgZ(0,"div",20)(1,"div",21),n.YNc(2,ZW,3,13,"apto-input-field",22),n.YNc(3,YW,3,10,"apto-select-field",23),n.YNc(4,GW,3,0,"div",24),n.qZA(),n.YNc(5,$W,3,3,"div",25),n.YNc(6,QW,3,2,"div",25),n.qZA()),2&t){const e=r.$implicit,i=r.index,o=n.oxw(2);n.xp6(2),n.Q6J("ngIf","sumOfFieldValue"!==e.key&&"input"===(null==o.element.element.definition.staticValues.fields||null==o.element.element.definition.staticValues.fields[i]?null:o.element.element.definition.staticValues.fields[i].rendering)),n.xp6(1),n.Q6J("ngIf","sumOfFieldValue"!==e.key&&"select"===(null==o.element.element.definition.staticValues.fields||null==o.element.element.definition.staticValues.fields[i]?null:o.element.element.definition.staticValues.fields[i].rendering)),n.xp6(1),n.Q6J("ngIf","sumOfFieldValue"===e.key),n.xp6(1),n.Q6J("ngIf","sumOfFieldValue"!==e.key&&"select"!==(null==o.element.element.definition.staticValues.fields||null==o.element.element.definition.staticValues.fields[i]?null:o.element.element.definition.staticValues.fields[i].rendering)),n.xp6(1),n.Q6J("ngIf","sumOfFieldValue"===e.key&&"select"!==(null==o.element.element.definition.staticValues.fields||null==o.element.element.definition.staticValues.fields[i]?null:o.element.element.definition.staticValues.fields[i].rendering))}}function XW(t,r){if(1&t&&(n.TgZ(0,"div",29),n._UZ(1,"div",30),n.ALo(2,"safeHtml"),n.ALo(3,"translate"),n._UZ(4,"apto-slot-outlet",31),n.qZA()),2&t){const e=n.oxw(2);n.xp6(1),n.Q6J("innerHTML",n.lcZ(2,4,n.lcZ(3,6,e.element.element.description)),n.oJD),n.xp6(3),n.Q6J("product",e.product)("section",e.section)("element",e.element)}}function KW(t,r){if(1&t&&n._UZ(0,"apto-element-attachment",32),2&t){const e=n.oxw(2);n.Q6J("attachments",e.element.element.attachments)}}function eQ(t,r){if(1&t){const e=n.EpF();n.TgZ(0,"button",37),n.NdJ("click",function(){n.CHM(e);const o=n.oxw(3);return n.KtG(o.saveInput())}),n._uU(1),n.ALo(2,"contentSnippet"),n.ALo(3,"async"),n.ALo(4,"contentSnippet"),n.ALo(5,"async"),n.qZA()}if(2&t){const e=n.oxw(3);n.xp6(1),n.hij(" ",e.element.state.active?n.xi3(2,1,n.lcZ(3,4,e.contentSnippet$),"buttons.update"):n.xi3(4,6,n.lcZ(5,9,e.contentSnippet$),"buttons.select")," ")}}function tQ(t,r){if(1&t){const e=n.EpF();n.TgZ(0,"button",37),n.NdJ("click",function(){n.CHM(e);const o=n.oxw(3);return n.KtG(o.saveInput())}),n._uU(1),n.ALo(2,"contentSnippet"),n.ALo(3,"async"),n.ALo(4,"contentSnippet"),n.ALo(5,"async"),n.qZA()}if(2&t){const e=n.oxw(3);n.xp6(1),n.hij(" ",e.element.state.active?n.xi3(2,1,n.lcZ(3,4,e.contentSnippet$),"buttons.update"):n.xi3(4,6,n.lcZ(5,9,e.contentSnippet$),"buttons.select")," ")}}function nQ(t,r){if(1&t){const e=n.EpF();n.TgZ(0,"button",38),n.NdJ("click",function(){n.CHM(e);const o=n.oxw(3);return n.KtG(o.removeInput())}),n._uU(1),n.ALo(2,"contentSnippet"),n.ALo(3,"async"),n.qZA()}if(2&t){const e=n.oxw(3);n.xp6(1),n.hij("",n.xi3(2,1,n.lcZ(3,4,e.contentSnippet$),"buttons.remove")," ")}}function rQ(t,r){if(1&t){const e=n.EpF();n.TgZ(0,"button",39),n.NdJ("click",function(){n.CHM(e);const o=n.oxw(3);return n.KtG(o.removeInput())}),n._uU(1),n.ALo(2,"contentSnippet"),n.ALo(3,"async"),n.qZA()}if(2&t){const e=n.oxw(3);n.Q6J("mat-dialog-close",!0),n.xp6(1),n.hij(" ",n.xi3(2,2,n.lcZ(3,5,e.contentSnippet$),"buttons.remove")," ")}}function iQ(t,r){if(1&t&&(n.TgZ(0,"div",33),n.YNc(1,eQ,6,11,"button",34),n.YNc(2,tQ,6,11,"button",34),n.YNc(3,nQ,4,6,"button",35),n.YNc(4,rQ,4,7,"button",36),n.qZA()),2&t){const e=n.oxw(2);n.xp6(1),n.Q6J("ngIf",e.element.element.definition.staticValues.renderDialogInOnePageDesktop&&!e.product.useStepByStep),n.xp6(1),n.Q6J("ngIf",!e.element.element.definition.staticValues.renderDialogInOnePageDesktop||(null==e.product?null:e.product.useStepByStep)),n.xp6(1),n.Q6J("ngIf",e.hasValues()&&(e.product.useStepByStep||!e.element.element.definition.staticValues.renderDialogInOnePageDesktop)),n.xp6(1),n.Q6J("ngIf",e.hasValues()&&!e.product.useStepByStep&&e.element.element.definition.staticValues.renderDialogInOnePageDesktop)}}function oQ(t,r){if(1&t&&(n.TgZ(0,"form",1)(1,"div",2),n._UZ(2,"apto-slot-outlet",3),n.YNc(3,HW,3,2,"div",4),n.YNc(4,jW,1,1,"apto-close-button",5),n.TgZ(5,"div",6)(6,"div",7)(7,"h4"),n._uU(8),n.ALo(9,"translate"),n.qZA()(),n._UZ(10,"apto-slot-outlet",8),n.qZA(),n.TgZ(11,"div",9),n.YNc(12,qW,1,3,"apto-element-picture",10),n.qZA(),n.TgZ(13,"div",11),n.YNc(14,JW,7,5,"div",12),n.ALo(15,"keyvalue"),n.qZA(),n.YNc(16,XW,5,8,"div",13),n.ALo(17,"translate"),n.YNc(18,KW,1,1,"apto-element-attachment",14),n.YNc(19,iQ,5,4,"div",15),n._UZ(20,"apto-slot-outlet",16),n.qZA()()),2&t){const e=n.oxw();n.Q6J("formGroup",e.formElement),n.xp6(1),n.ekj("step-by-step",e.product.useStepByStep)("one-page",!e.product.useStepByStep)("open-in-dialog",e.isDialog)("selected",e.element.state.active)("disabled",e.element.state.disabled)("no-element-preview-image",!e.element.element.previewImage),n.uIk("type","custom"),n.xp6(1),n.Q6J("product",e.product)("section",e.section)("element",e.element),n.xp6(1),n.Q6J("ngIf",(null==e.section?null:e.section.allowMultiple)&&e.product.useStepByStep||e.element.state.active),n.xp6(1),n.Q6J("ngIf",e.element.element.definition.staticValues.renderDialogInOnePageDesktop&&!e.product.useStepByStep),n.xp6(4),n.Oqu(n.lcZ(9,31,e.element.element.name)),n.xp6(2),n.Q6J("product",e.product)("section",e.section)("element",e.element),n.xp6(2),n.Q6J("ngIf",e.element.element.previewImage),n.xp6(2),n.Q6J("ngForOf",n.lcZ(15,33,e.element.element.definition.properties)),n.xp6(2),n.Q6J("ngIf",""!==n.lcZ(17,35,e.element.element.description)),n.xp6(2),n.Q6J("ngIf",e.hasAttachments),n.xp6(1),n.Q6J("ngIf",!e.hasOnlySelectInputFields()),n.xp6(1),n.Q6J("product",e.product)("section",e.section)("element",e.element)}}let Ld=class{constructor(r,e,i,o){this.store=r,this.dialogRef=e,this.dialogService=i,this.actions$=o,this.isDialog=!1,this.formElement=new xN({}),this.contentSnippet$=this.store.select(un("aptoDefaultElementDefinition")),this.itemFieldList=[],this.sumOfFieldValues=0}getSelectValues(r,e,i){const o=[];for(let a=r;a<=e;a+=i)o.push({surrogateId:"",id:`${a}`,name:{de_DE:`${a}`},isDefault:!1,aptoPrices:[]});return o}ngOnInit(){if(this.element){this.initIncreaseDecreaseStep();for(let r=0;r<Object.entries(this.element.element.definition.properties).filter(([e])=>e.includes("field_")).length;r+=1){let e=[],i=[];if("input"===this.element.element.definition.staticValues.fields?.[r]?.rendering&&(i=[Dr.required,Dr.min(this.element.element.definition.properties[`field_${r}`][0].minimum),Dr.max(this.element.element.definition.properties[`field_${r}`][0].maximum)]),this.formElement.addControl(`field_${r}`,new aP(this.element.state.values[`field_${r}`]||this.element.element.definition.staticValues.fields?.[r]?.default||0,i)),"select"===this.element.element.definition.staticValues.fields?.[r]?.rendering)for(let o=0;o<Object.entries(this.element.element.definition.properties[`field_${r}`]).length;o+=1){let a=[];this.element.element.definition.properties[`field_${r}`][o].maximum&&(a=this.getSelectValues(this.element.element.definition.properties[`field_${r}`][o].minimum,this.element.element.definition.properties[`field_${r}`][o].maximum,this.element.element.definition.properties[`field_${r}`][o].step)),e=e.concat(a)}this.itemFieldList.push(e)}this.formElement.valueChanges.subscribe(r=>{this.sumOfFieldValues=Object.values(r).reduce((e,i)=>Number(e)+Number(i),0),this.hasOnlySelectInputFields()&&this.saveInput()})}}get hasAttachments(){return 0!==this.element.element.attachments?.length}hasValues(){return!!this.element&&this.element.state.active}saveInput(){if(this.element){if(this.markAllControlsAsDirty(),!this.formElement.valid)return void uo(this.store.select(lr).pipe((0,xt.U)(r=>r||yn.defaultLocale)),this.store.select(un("aptoStepByStep.elementsContainer.incorrectValuesInRange"))).pipe((0,ar.q)(1)).subscribe(r=>{this.dialogService.openCustomDialog(_c,Ur.md,{type:ts.ERROR,hideIcon:!0,descriptionText:Pn(r[1].content,r[0])})});this.closeModalOnSuccess(),this.store.dispatch(di({updates:{set:Object.entries(this.formElement.value).map(([r,e])=>({sectionId:this.element.element.sectionId,elementId:this.element.element.id,sectionRepetition:this.element.state.sectionRepetition,property:r,value:e}))}}))}}removeInput(){!this.element||this.store.dispatch(di({updates:{remove:Object.entries(this.formElement.value).map(([r,e])=>({sectionId:this.element.element.sectionId,elementId:this.element.element.id,sectionRepetition:this.element.state.sectionRepetition,property:r,value:e}))}}))}closeModal(){this.dialogRef.close()}hasOnlySelectInputFields(){const r=this.element.element.definition.staticValues.fields;for(let e=0;e<r.length;e++)if("select"!==r[e].rendering)return!1;return!0}initIncreaseDecreaseStep(){let r=this.element.state.customProperties.find(i=>"increaseStep"===i.key),e=this.element.state.customProperties.find(i=>"decreaseStep"===i.key);r&&"string"==typeof r.value&&(this.increaseStep=parseFloat(r.value)),e&&"string"==typeof e.value&&(this.decreaseStep=parseFloat(e.value))}markAllControlsAsDirty(){Object.keys(this.formElement.controls).forEach(r=>{this.formElement.get(r).markAsDirty()})}closeModalOnSuccess(){this.dialogRef?.id&&this.actions$.pipe(Yn(ac),ki(this)).subscribe(r=>{this.dialogRef.close()})}};function aQ(t,r){if(1&t&&n._UZ(0,"apto-area-element",3),2&t){const e=n.oxw(2);n.Q6J("product",e.product)("section",e.section)("element",e.element)}}function sQ(t,r){if(1&t&&(n.TgZ(0,"div",10)(1,"mat-icon"),n._uU(2,"done"),n.qZA()()),2&t){const e=n.oxw(3);n.ekj("selected",e.element.state.active)}}function lQ(t,r){if(1&t){const e=n.EpF();n.TgZ(0,"div",4),n.NdJ("click",function(){n.CHM(e);const o=n.oxw(2);return n.KtG(o.openDialog(o.element,o.product))}),n.TgZ(1,"div",5)(2,"div"),n.YNc(3,sQ,3,2,"div",6),n.TgZ(4,"div",7),n._UZ(5,"img",8),n.qZA()()(),n.TgZ(6,"div",9)(7,"p"),n._uU(8),n.ALo(9,"translate"),n.qZA()()()}if(2&t){const e=n.oxw(2);n.xp6(2),n.ekj("selected",e.element.state.active),n.xp6(1),n.Q6J("ngIf",e.element.state.active),n.xp6(2),n.Q6J("src",e.element.element.previewImage,n.LSH),n.xp6(3),n.Oqu(n.lcZ(9,5,e.element.element.name))}}function cQ(t,r){if(1&t&&(n.ynx(0),n.YNc(1,aQ,1,3,"apto-area-element",1),n.YNc(2,lQ,10,7,"div",2),n.BQk()),2&t){const e=n.oxw();n.xp6(1),n.Q6J("ngIf",!e.element.element.definition.staticValues.renderDialogInOnePageDesktop||e.product.useStepByStep),n.xp6(1),n.Q6J("ngIf",e.element.element.definition.staticValues.renderDialogInOnePageDesktop&&!e.product.useStepByStep)}}Ld.\u0275fac=function(r){return new(r||Ld)(n.Y36(Oe.yh),n.Y36(Pa),n.Y36(Do),n.Y36(eo))},Ld.\u0275cmp=n.Xpm({type:Ld,selectors:[["apto-area-element"]],inputs:{element:"element",section:"section",product:"product",isDialog:"isDialog"},decls:1,vars:1,consts:[[3,"formGroup",4,"ngIf"],[3,"formGroup"],[1,"area-element"],["identifier","start-element-container",3,"product","section","element"],["class","circle",3,"selected",4,"ngIf"],[3,"inner","clicked",4,"ngIf"],[1,"header"],[1,"title"],["identifier","header-end",3,"product","section","element"],[1,"picture"],[3,"previewImage","zoomFunction","gallery",4,"ngIf"],[1,"element"],["class","container",4,"ngFor","ngForOf"],["class","description",4,"ngIf"],[3,"attachments",4,"ngIf"],["class","apply-button",4,"ngIf"],["identifier","end-element-container",3,"product","section","element"],[1,"circle"],[3,"inner","clicked"],[3,"previewImage","zoomFunction","gallery"],[1,"container"],[1,"input"],[3,"formControlName","type","name","suffix","step","min","max","increaseStep","decreaseStep",4,"ngIf"],[3,"default","enableClear","suffix","name","items","formControlName",4,"ngIf"],[4,"ngIf"],["class","hint",4,"ngIf"],[3,"formControlName","type","name","suffix","step","min","max","increaseStep","decreaseStep"],[3,"default","enableClear","suffix","name","items","formControlName"],[1,"hint"],[1,"description"],[3,"innerHTML"],["identifier","after-area-element-description",3,"product","section","element"],[3,"attachments"],[1,"apply-button"],["mat-flat-button","","color","primary",3,"click",4,"ngIf"],["mat-flat-button","","color","accent",3,"click",4,"ngIf"],["mat-flat-button","","color","accent",3,"mat-dialog-close","click",4,"ngIf"],["mat-flat-button","","color","primary",3,"click"],["mat-flat-button","","color","accent",3,"click"],["mat-flat-button","","color","accent",3,"mat-dialog-close","click"]],template:function(r,e){1&r&&n.YNc(0,oQ,21,37,"form",0),2&r&&n.Q6J("ngIf",e.element&&e.product)},dependencies:[Ar,rn,fo,io,Xy,Rd,gc,ru,oa,oi,ia,qi,Bo,is,fr,Or,hn,nS,Tr,Lo,ur],styles:['.area-element[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto;grid-template-areas:"header" "picture" "description" "attachment" "element" "extra-item" "buttons";padding:var(--element-gap);justify-items:center;gap:0;column-gap:20px;position:relative}.area-element.step-by-step[_ngcontent-%COMP%]:not(.open-in-dialog){padding:var(--element-gap);border:solid 3px transparent;border-radius:var(--border-radius-card);transition:border-color .3s ease}.area-element.step-by-step[_ngcontent-%COMP%]:not(.open-in-dialog).selected{border-color:var(--color-border-dimensions)}.area-element.step-by-step.open-in-dialog[_ngcontent-%COMP%], .area-element.one-page.open-in-dialog[_ngcontent-%COMP%]{border-top-width:3px;border-top-style:solid;border-radius:var(--border-radius-card);padding:34px 72px}.area-element.step-by-step.open-in-dialog[type=confirm][_ngcontent-%COMP%], .area-element.step-by-step.open-in-dialog[type=info][_ngcontent-%COMP%], .area-element.step-by-step.open-in-dialog[type=custom][_ngcontent-%COMP%], .area-element.one-page.open-in-dialog[type=confirm][_ngcontent-%COMP%], .area-element.one-page.open-in-dialog[type=info][_ngcontent-%COMP%], .area-element.one-page.open-in-dialog[type=custom][_ngcontent-%COMP%]{border-color:var(--color-optic-lines-popup)}.area-element.step-by-step.open-in-dialog[type=error][_ngcontent-%COMP%], .area-element.one-page.open-in-dialog[type=error][_ngcontent-%COMP%]{border-color:var(--color-optic-lines-popup-error)}.area-element.step-by-step.open-in-dialog[type=warning][_ngcontent-%COMP%], .area-element.one-page.open-in-dialog[type=warning][_ngcontent-%COMP%]{border-color:var(--color-optic-lines-popup-warning)}.area-element.one-page[_ngcontent-%COMP%]:not(.open-in-dialog){padding:0;grid-template-areas:"picture" "description" "attachment" "element" "extra-item" "buttons"}.area-element.one-page[_ngcontent-%COMP%]:not(.open-in-dialog)   .header[_ngcontent-%COMP%]{display:none}.area-element.one-page[_ngcontent-%COMP%]:not(.open-in-dialog).no-element-preview-image{grid-template-areas:"header" "picture" "description" "attachment" "element" "extra-item" "buttons";grid-template-columns:1fr}.area-element[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%] + .picture[_ngcontent-%COMP%]:not(:empty), .area-element[_ngcontent-%COMP%]   .picture[_ngcontent-%COMP%] + .element[_ngcontent-%COMP%]:not(:empty), .area-element[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%] + .description[_ngcontent-%COMP%]:not(:empty), .area-element[_ngcontent-%COMP%]   .apply-button[_ngcontent-%COMP%]{margin-top:var(--element-gap)}.area-element[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{grid-area:header;display:flex;flex-direction:column;justify-content:center}.area-element[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.area-element[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:18px;font-weight:600;color:var(--color-text);text-align:center}.area-element[_ngcontent-%COMP%]   .picture[_ngcontent-%COMP%]{grid-area:picture;width:calc(var(--image-mobile-width) + 2 * var(--element-gap))}.area-element[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;width:100%}.area-element[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{display:grid;grid-template-rows:auto;grid-template-areas:"prefix input suffix" "... hint ...";width:100%;grid-template-columns:1fr var(--input-mobile-width) 1fr}.area-element[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%] + .container[_ngcontent-%COMP%]{margin-top:var(--element-gap)}.area-element[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]{grid-area:input}.area-element[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]   apto-select-field[_ngcontent-%COMP%]{margin-bottom:var(--element-gap)}.area-element[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .hint[_ngcontent-%COMP%]{grid-area:hint;color:var(--color-text);font-size:12px;font-weight:600;padding-top:var(--input-elements-gap)}.area-element[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .prefix[_ngcontent-%COMP%]{grid-area:prefix;font-size:14px;font-weight:600;color:var(--color-text);align-self:center;text-align:right}.area-element[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .prefix[_ngcontent-%COMP%]:not(:empty){padding-right:var(--input-elements-gap)}.area-element[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .suffix[_ngcontent-%COMP%]{grid-area:suffix;font-size:14px;font-weight:600;color:var(--color-text);align-self:center;text-align:left}.area-element[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .suffix[_ngcontent-%COMP%]:not(:empty){padding-left:var(--input-elements-gap)}.area-element[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{grid-area:description;word-break:break-word;text-align:center}@media only screen and (min-width: 767px){.area-element[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{text-align:left}}.area-element[_ngcontent-%COMP%]   .apply-button[_ngcontent-%COMP%]{grid-area:buttons;display:flex;flex-direction:row;gap:var(--button-gap)}.area-element[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]{border:2px solid transparent;border-radius:var(--border-radius-bubble);height:25px;width:25px;color:#fff;display:flex;justify-content:center;align-items:center;position:absolute;background-color:#fff;transition:background-color .25s ease,border-color .25s ease;top:20px;right:20px;border:2px solid var(--color-border-selected)}.area-element[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{display:none;text-align:center;height:20px;width:20px;overflow:hidden;line-height:20px;font-size:20px}.area-element[_ngcontent-%COMP%]   .circle.selected[_ngcontent-%COMP%]{background-color:var(--color-border-selected);border:2px solid var(--color-border-selected)}.area-element[_ngcontent-%COMP%]   .circle.selected[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{display:flex}@media only screen and (min-width: 767px){.area-element[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto;grid-template-areas:"header" "picture" "description" "attachment" "element" "extra-item" "buttons";padding:var(--element-gap);justify-items:center;gap:0;column-gap:20px;position:relative;grid-template-areas:"picture header" "picture description" "picture attachment" "picture element" "picture extra-item" "picture buttons";grid-template-columns:calc(var(--image-tablet-width) + 2 * var(--element-gap)) 1fr;justify-items:flex-start}.area-element.no-element-preview-image[_ngcontent-%COMP%]{grid-template-areas:"header" "picture" "description" "attachment" "element" "extra-item" "buttons";grid-template-columns:1fr}.area-element.step-by-step[_ngcontent-%COMP%]:not(.open-in-dialog){padding:var(--element-gap);border:solid 3px transparent;border-radius:var(--border-radius-card);transition:border-color .3s ease}.area-element.step-by-step[_ngcontent-%COMP%]:not(.open-in-dialog).selected{border-color:var(--color-border-dimensions)}.area-element.step-by-step.open-in-dialog[_ngcontent-%COMP%], .area-element.one-page.open-in-dialog[_ngcontent-%COMP%]{border-top-width:3px;border-top-style:solid;border-radius:var(--border-radius-card);padding:34px 72px}.area-element.step-by-step.open-in-dialog[type=confirm][_ngcontent-%COMP%], .area-element.step-by-step.open-in-dialog[type=info][_ngcontent-%COMP%], .area-element.step-by-step.open-in-dialog[type=custom][_ngcontent-%COMP%], .area-element.one-page.open-in-dialog[type=confirm][_ngcontent-%COMP%], .area-element.one-page.open-in-dialog[type=info][_ngcontent-%COMP%], .area-element.one-page.open-in-dialog[type=custom][_ngcontent-%COMP%]{border-color:var(--color-optic-lines-popup)}.area-element.step-by-step.open-in-dialog[type=error][_ngcontent-%COMP%], .area-element.one-page.open-in-dialog[type=error][_ngcontent-%COMP%]{border-color:var(--color-optic-lines-popup-error)}.area-element.step-by-step.open-in-dialog[type=warning][_ngcontent-%COMP%], .area-element.one-page.open-in-dialog[type=warning][_ngcontent-%COMP%]{border-color:var(--color-optic-lines-popup-warning)}.area-element.one-page[_ngcontent-%COMP%]:not(.open-in-dialog){padding:0;grid-template-areas:"picture description" "picture attachment" "picture element" "picture extra-item" "picture buttons";grid-template-columns:calc(var(--image-one-page-width) + 2 * var(--element-gap)) 1fr}.area-element.one-page[_ngcontent-%COMP%]:not(.open-in-dialog)   .header[_ngcontent-%COMP%]{display:none}.area-element.one-page[_ngcontent-%COMP%]:not(.open-in-dialog).no-element-preview-image{grid-template-areas:"header" "picture" "description" "attachment" "element" "extra-item" "buttons";grid-template-columns:1fr}.area-element[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%] + .picture[_ngcontent-%COMP%]:not(:empty), .area-element[_ngcontent-%COMP%]   .picture[_ngcontent-%COMP%] + .element[_ngcontent-%COMP%]:not(:empty), .area-element[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%] + .description[_ngcontent-%COMP%]:not(:empty), .area-element[_ngcontent-%COMP%]   .apply-button[_ngcontent-%COMP%]{margin-top:var(--element-gap)}.area-element[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%] + .picture[_ngcontent-%COMP%]:not(:empty){margin-top:0}.area-element[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{flex-direction:column;display:flex;justify-content:space-between;width:100%}.area-element[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{width:100%;display:flex;align-items:flex-start;justify-content:space-between;flex-direction:row}.area-element[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{text-align:left;font-size:22px}.area-element[_ngcontent-%COMP%]   .picture[_ngcontent-%COMP%]{width:calc(var(--image-tablet-width) + 2 * var(--element-gap))}.area-element[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;width:100%}.area-element[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{display:grid;grid-template-rows:auto;grid-template-areas:"prefix input suffix" "... hint ...";width:100%;grid-template-columns:1fr 100px 1fr;grid-template-columns:0 var(--input-tablet-width) 1fr}.area-element[_ngcontent-%COMP%]   .apply-button[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:var(--button-gap);justify-self:flex-end;justify-content:flex-end}.area-element[_ngcontent-%COMP%]   .apply-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:0 15px!important;height:50px}}']}),Ld=(0,Ei.gn)([Ii()],Ld);let uQ=(()=>{class t{constructor(e,i){this.matDialog=e,this.dialogService=i,this.dialogSizesEnum=Ur}openDialog(e,i){const a=this.dialogService.openCustomDialog(Ld,this.dialogSizesEnum.lg).componentInstance;a.element=e,a.product=i,a.isDialog=!0}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(yl),n.Y36(Do))},t.\u0275cmp=n.Xpm({type:t,selectors:[["apto-area-element-wrapper"]],inputs:{element:"element",section:"section",product:"product"},decls:1,vars:1,consts:[[4,"ngIf"],[3,"product","section","element",4,"ngIf"],["class","container",3,"click",4,"ngIf"],[3,"product","section","element"],[1,"container",3,"click"],[1,"single-element"],["class","circle",3,"selected",4,"ngIf"],[1,"element-img"],[3,"src"],[1,"element-name"],[1,"circle"]],template:function(e,i){1&e&&n.YNc(0,cQ,3,2,"ng-container",0),2&e&&n.Q6J("ngIf",i.element&&i.product)},dependencies:[rn,fr,Ld,Tr],styles:[".container[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;display:flex;flex-direction:column;justify-content:center;align-items:center;cursor:pointer}.container[_ngcontent-%COMP%]   .single-element[_ngcontent-%COMP%]{position:relative;width:var(--one-page-img-size)}.container[_ngcontent-%COMP%]   .single-element[_ngcontent-%COMP%]   .selected[_ngcontent-%COMP%]{outline:3px solid var(--color-border-dimensions);border-radius:var(--border-radius-card)}.container[_ngcontent-%COMP%]   .single-element[_ngcontent-%COMP%]   .selected[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]{border:2px solid transparent;border-radius:var(--border-radius-bubble);height:20px;width:20px;color:#fff;display:flex;justify-content:center;align-items:center;position:absolute;background-color:#fff;transition:background-color .25s ease,border-color .25s ease;top:-8px;right:-8px;outline:none}.container[_ngcontent-%COMP%]   .single-element[_ngcontent-%COMP%]   .selected[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{display:none;text-align:center;height:15px;width:15px;overflow:hidden;line-height:15px;font-size:15px}.container[_ngcontent-%COMP%]   .single-element[_ngcontent-%COMP%]   .selected[_ngcontent-%COMP%]   .circle.selected[_ngcontent-%COMP%]{background-color:var(--color-border-selected);border:2px solid var(--color-border-selected)}.container[_ngcontent-%COMP%]   .single-element[_ngcontent-%COMP%]   .selected[_ngcontent-%COMP%]   .circle.selected[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{display:flex}.container[_ngcontent-%COMP%]   .single-element[_ngcontent-%COMP%]   .element-img[_ngcontent-%COMP%]{display:flex;justify-content:center;background-color:var(--color-background-image);overflow:hidden;border-radius:var(--border-radius-card);height:100%;width:100%}.container[_ngcontent-%COMP%]   .single-element[_ngcontent-%COMP%]   .element-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:var(--one-page-img-size)}.container[_ngcontent-%COMP%]   .element-name[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;margin-top:10px;text-align:center;word-break:break-all;max-width:var(--one-page-img-size);font-size:13px;font-weight:500}"]}),t})(),dQ=(()=>{class t{constructor(){to.components.set("apto-element-area-element",uQ)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({providers:[{provide:Pa,useValue:{}}],imports:[Jo,Zr,Is,Na,ss,xl,aa,ka,Ta,na,Ia]}),t})();function pQ(t,r){if(1&t&&(n.TgZ(0,"div",22)(1,"mat-icon"),n._uU(2,"done"),n.qZA()()),2&t){const e=n.oxw(2);n.ekj("selected",e.element.state.active)}}function fQ(t,r){if(1&t&&n._UZ(0,"apto-element-picture",23),2&t){const e=n.oxw(2);n.Q6J("previewImage",e.element.element.previewImage)("zoomFunction",e.element.element.zoomFunction)("gallery",e.element.element.gallery)}}function hQ(t,r){if(1&t&&(n.ynx(0),n._UZ(1,"apto-input-field",24),n.ALo(2,"translate"),n.BQk()),2&t){const e=n.oxw(2);n.xp6(1),n.Q6J("formControl",e.formElement)("type","text")("placeholder",n.lcZ(2,4,e.element.element.definition.staticValues.placeholder))("hint","Text ("+e.element.element.definition.properties.text[0].minLength+" - "+e.element.element.definition.properties.text[0].maxLength+" Zeichen)")}}function mQ(t,r){if(1&t&&(n.ynx(0),n._UZ(1,"apto-text-input-field",25),n.ALo(2,"translate"),n.BQk()),2&t){const e=n.oxw(2);n.xp6(1),n.Q6J("formControl",e.formElement)("placeholder",n.lcZ(2,3,e.element.element.definition.staticValues.placeholder))("hint","Text ("+e.element.element.definition.properties.text[0].minLength+" - "+e.element.element.definition.properties.text[0].maxLength+" Zeichen)")}}function gQ(t,r){if(1&t&&(n._UZ(0,"div",26),n.ALo(1,"safeHtml"),n.ALo(2,"translate")),2&t){const e=n.oxw(2);n.Q6J("innerHTML",n.lcZ(1,1,n.lcZ(2,3,e.element.element.description)),n.oJD)}}function _Q(t,r){if(1&t&&n._UZ(0,"apto-element-attachment",27),2&t){const e=n.oxw(2);n.Q6J("attachments",e.element.element.attachments)}}function vQ(t,r){if(1&t){const e=n.EpF();n.TgZ(0,"button",28),n.NdJ("click",function(){n.CHM(e);const o=n.oxw(2);return n.KtG(o.removeInput())}),n._uU(1),n.ALo(2,"contentSnippet"),n.ALo(3,"async"),n.qZA()}if(2&t){const e=n.oxw(2);n.xp6(1),n.hij(" ",n.xi3(2,1,n.lcZ(3,4,e.contentSnippet$),"buttons.remove")," ")}}function yQ(t,r){if(1&t){const e=n.EpF();n.TgZ(0,"div",1),n._UZ(1,"apto-slot-outlet",2),n.YNc(2,pQ,3,2,"div",3),n.TgZ(3,"div",4)(4,"div",5)(5,"h4"),n._uU(6),n.ALo(7,"translate"),n.qZA()(),n._UZ(8,"apto-slot-outlet",6),n.qZA(),n.TgZ(9,"div",7),n.YNc(10,fQ,1,3,"apto-element-picture",8),n.qZA(),n.TgZ(11,"div",9)(12,"div",10),n._UZ(13,"div",11),n.TgZ(14,"div",12),n.YNc(15,hQ,3,6,"ng-container",13),n.YNc(16,mQ,3,5,"ng-container",13),n.qZA(),n._UZ(17,"div",14)(18,"div",15),n.qZA()(),n.YNc(19,gQ,3,5,"div",16),n.ALo(20,"translate"),n.YNc(21,_Q,1,1,"apto-element-attachment",17),n.TgZ(22,"div",18)(23,"button",19),n.NdJ("click",function(){n.CHM(e);const o=n.oxw();return n.KtG(o.saveInput())}),n._uU(24),n.ALo(25,"contentSnippet"),n.ALo(26,"async"),n.ALo(27,"contentSnippet"),n.ALo(28,"async"),n.qZA(),n.YNc(29,vQ,4,6,"button",20),n.qZA(),n._UZ(30,"apto-slot-outlet",21),n.qZA()}if(2&t){const e=n.oxw();n.ekj("step-by-step",e.product.useStepByStep)("one-page",!e.product.useStepByStep)("open-in-dialog",e.isDialog)("selected",e.element.state.active)("disabled",e.element.state.disabled)("no-element-preview-image",!e.element.element.previewImage),n.xp6(1),n.Q6J("product",e.product)("section",e.section)("element",e.element),n.xp6(1),n.Q6J("ngIf",(null==e.section?null:e.section.allowMultiple)&&e.product.useStepByStep||e.element.state.active),n.xp6(4),n.Oqu(n.lcZ(7,30,e.element.element.name)),n.xp6(2),n.Q6J("product",e.product)("section",e.section)("element",e.element),n.xp6(2),n.Q6J("ngIf",e.element.element.previewImage),n.xp6(5),n.Q6J("ngIf","input"===e.element.element.definition.staticValues.rendering),n.xp6(1),n.Q6J("ngIf","textarea"===e.element.element.definition.staticValues.rendering),n.xp6(3),n.Q6J("ngIf",""!==n.lcZ(20,32,e.element.element.description)),n.xp6(2),n.Q6J("ngIf",e.hasAttachments),n.xp6(3),n.hij(" ",e.element.state.active?n.xi3(25,34,n.lcZ(26,37,e.contentSnippet$),"buttons.update"):n.xi3(27,39,n.lcZ(28,42,e.contentSnippet$),"buttons.select")," "),n.xp6(5),n.Q6J("ngIf",e.hasValues()),n.xp6(1),n.Q6J("product",e.product)("section",e.section)("element",e.element)}}let bQ=(()=>{class t{constructor(e){this.store=e,this.isDialog=!1,this.formElement=new Ln(void 0),this.contentSnippet$=this.store.select(un("aptoDefaultElementDefinition"))}ngOnInit(){this.formElement.setValue(this.element?.state.values.text)}get hasAttachments(){return 0!==this.element.element.attachments?.length}hasValues(){return!!this.element&&this.element.state.active}saveInput(){!this.element||this.store.dispatch(di({updates:{set:[{sectionId:this.element.element.sectionId,elementId:this.element.element.id,sectionRepetition:this.element.state.sectionRepetition,property:"aptoElementDefinitionId",value:"apto-element-custom-text"},{sectionId:this.element.element.sectionId,elementId:this.element.element.id,sectionRepetition:this.element.state.sectionRepetition,property:"text",value:this.formElement.value}]}}))}removeInput(){!this.element||this.store.dispatch(di({updates:{remove:[{sectionId:this.element.element.sectionId,elementId:this.element.element.id,sectionRepetition:this.element.state.sectionRepetition,property:"aptoElementDefinitionId",value:"apto-element-custom-text"}]}}))}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(Oe.yh))},t.\u0275cmp=n.Xpm({type:t,selectors:[["apto-custom-text-element"]],inputs:{element:"element",section:"section",product:"product",isDialog:"isDialog"},decls:1,vars:1,consts:[["class","custom-text-element",3,"step-by-step","one-page","open-in-dialog","selected","disabled","no-element-preview-image",4,"ngIf"],[1,"custom-text-element"],["identifier","start-element-container",1,"slot-start-element-container",3,"product","section","element"],["class","circle",3,"selected",4,"ngIf"],[1,"header"],[1,"title"],["identifier","header-end",3,"product","section","element"],[1,"picture"],[3,"previewImage","zoomFunction","gallery",4,"ngIf"],[1,"element"],[1,"container"],[1,"prefix"],[1,"input"],[4,"ngIf"],[1,"suffix"],[1,"hint"],["class","description",3,"innerHTML",4,"ngIf"],[3,"attachments",4,"ngIf"],[1,"apply-button"],["mat-flat-button","","color","primary",3,"click"],["mat-flat-button","","color","accent",3,"click",4,"ngIf"],["identifier","end-element-container",1,"slot-end-element-container",3,"product","section","element"],[1,"circle"],[3,"previewImage","zoomFunction","gallery"],[3,"formControl","type","placeholder","hint"],[3,"formControl","placeholder","hint"],[1,"description",3,"innerHTML"],[3,"attachments"],["mat-flat-button","","color","accent",3,"click"]],template:function(e,i){1&e&&n.YNc(0,yQ,31,44,"div",0),2&e&&n.Q6J("ngIf",i.element&&i.product)},dependencies:[rn,fo,io,nu,oi,Cl,Or,Rd,ru,fr,hn,Tr,Lo,ur],styles:['.custom-text-element[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto;grid-template-areas:"header" "picture" "description" "attachment" "element" "extra-item" "buttons";padding:var(--element-gap);justify-items:center;gap:0;column-gap:20px;position:relative}.custom-text-element.step-by-step[_ngcontent-%COMP%]:not(.open-in-dialog){padding:var(--element-gap);border:solid 3px transparent;border-radius:var(--border-radius-card);transition:border-color .3s ease}.custom-text-element.step-by-step[_ngcontent-%COMP%]:not(.open-in-dialog).selected{border-color:var(--color-border-dimensions)}.custom-text-element.step-by-step.open-in-dialog[_ngcontent-%COMP%], .custom-text-element.one-page.open-in-dialog[_ngcontent-%COMP%]{border-top-width:3px;border-top-style:solid;border-radius:var(--border-radius-card);padding:34px 72px}.custom-text-element.step-by-step.open-in-dialog[type=confirm][_ngcontent-%COMP%], .custom-text-element.step-by-step.open-in-dialog[type=info][_ngcontent-%COMP%], .custom-text-element.step-by-step.open-in-dialog[type=custom][_ngcontent-%COMP%], .custom-text-element.one-page.open-in-dialog[type=confirm][_ngcontent-%COMP%], .custom-text-element.one-page.open-in-dialog[type=info][_ngcontent-%COMP%], .custom-text-element.one-page.open-in-dialog[type=custom][_ngcontent-%COMP%]{border-color:var(--color-optic-lines-popup)}.custom-text-element.step-by-step.open-in-dialog[type=error][_ngcontent-%COMP%], .custom-text-element.one-page.open-in-dialog[type=error][_ngcontent-%COMP%]{border-color:var(--color-optic-lines-popup-error)}.custom-text-element.step-by-step.open-in-dialog[type=warning][_ngcontent-%COMP%], .custom-text-element.one-page.open-in-dialog[type=warning][_ngcontent-%COMP%]{border-color:var(--color-optic-lines-popup-warning)}.custom-text-element.one-page[_ngcontent-%COMP%]:not(.open-in-dialog){padding:0;grid-template-areas:"picture" "description" "attachment" "element" "extra-item" "buttons"}.custom-text-element.one-page[_ngcontent-%COMP%]:not(.open-in-dialog)   .header[_ngcontent-%COMP%]{display:none}.custom-text-element.one-page[_ngcontent-%COMP%]:not(.open-in-dialog).no-element-preview-image{grid-template-areas:"header" "picture" "description" "attachment" "element" "extra-item" "buttons";grid-template-columns:1fr}.custom-text-element[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%] + .picture[_ngcontent-%COMP%]:not(:empty), .custom-text-element[_ngcontent-%COMP%]   .picture[_ngcontent-%COMP%] + .element[_ngcontent-%COMP%]:not(:empty), .custom-text-element[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%] + .description[_ngcontent-%COMP%]:not(:empty), .custom-text-element[_ngcontent-%COMP%]   .apply-button[_ngcontent-%COMP%]{margin-top:var(--element-gap)}.custom-text-element.selected[_ngcontent-%COMP%]{border:3px solid var(--color-border-dimensions)}.custom-text-element[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]{border:2px solid transparent;border-radius:var(--border-radius-bubble);height:25px;width:25px;color:#fff;display:flex;justify-content:center;align-items:center;position:absolute;background-color:#fff;transition:background-color .25s ease,border-color .25s ease;top:20px;right:20px;border:2px solid var(--color-border-selected)}.custom-text-element[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{display:none;text-align:center;height:20px;width:20px;overflow:hidden;line-height:20px;font-size:20px}.custom-text-element[_ngcontent-%COMP%]   .circle.selected[_ngcontent-%COMP%]{background-color:var(--color-border-selected);border:2px solid var(--color-border-selected)}.custom-text-element[_ngcontent-%COMP%]   .circle.selected[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{display:flex}.custom-text-element[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{grid-area:header;display:flex;flex-direction:column;justify-content:center}.custom-text-element[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.custom-text-element[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:18px;font-weight:600;color:var(--color-text);text-align:center}.custom-text-element[_ngcontent-%COMP%]   .picture[_ngcontent-%COMP%]{grid-area:picture;width:calc(var(--image-mobile-width) + 2 * var(--element-gap))}.custom-text-element[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;width:100%}.custom-text-element[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{display:grid;grid-template-rows:auto;grid-template-areas:"prefix input suffix" "... hint ...";width:100%;grid-template-columns:1fr var(--input-mobile-width) 1fr}.custom-text-element[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]{grid-area:input}.custom-text-element[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .hint[_ngcontent-%COMP%]{grid-area:hint;color:var(--color-text);font-size:12px;font-weight:600;padding-top:var(--input-elements-gap)}.custom-text-element[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .prefix[_ngcontent-%COMP%]{grid-area:prefix;font-size:14px;font-weight:600;color:var(--color-text);align-self:center;text-align:right}.custom-text-element[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .prefix[_ngcontent-%COMP%]:not(:empty){padding-right:var(--input-elements-gap)}.custom-text-element[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .suffix[_ngcontent-%COMP%]{grid-area:suffix;font-size:14px;font-weight:600;color:var(--color-text);align-self:center;text-align:left}.custom-text-element[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .suffix[_ngcontent-%COMP%]:not(:empty){padding-left:var(--input-elements-gap)}.custom-text-element[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{grid-area:description;word-break:break-word;text-align:center}@media only screen and (min-width: 767px){.custom-text-element[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{text-align:left}}.custom-text-element[_ngcontent-%COMP%]   .apply-button[_ngcontent-%COMP%]{grid-area:buttons;display:flex;flex-direction:row;gap:var(--button-gap)}@media only screen and (min-width: 767px){.custom-text-element[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto;grid-template-areas:"header" "picture" "description" "attachment" "element" "extra-item" "buttons";padding:var(--element-gap);justify-items:center;gap:0;column-gap:20px;position:relative;grid-template-areas:"picture header" "picture description" "picture attachment" "picture element" "picture extra-item" "picture buttons";grid-template-columns:calc(var(--image-tablet-width) + 2 * var(--element-gap)) 1fr;justify-items:flex-start}.custom-text-element.no-element-preview-image[_ngcontent-%COMP%]{grid-template-areas:"header" "picture" "description" "attachment" "element" "extra-item" "buttons";grid-template-columns:1fr}.custom-text-element.step-by-step[_ngcontent-%COMP%]:not(.open-in-dialog){padding:var(--element-gap);border:solid 3px transparent;border-radius:var(--border-radius-card);transition:border-color .3s ease}.custom-text-element.step-by-step[_ngcontent-%COMP%]:not(.open-in-dialog).selected{border-color:var(--color-border-dimensions)}.custom-text-element.step-by-step.open-in-dialog[_ngcontent-%COMP%], .custom-text-element.one-page.open-in-dialog[_ngcontent-%COMP%]{border-top-width:3px;border-top-style:solid;border-radius:var(--border-radius-card);padding:34px 72px}.custom-text-element.step-by-step.open-in-dialog[type=confirm][_ngcontent-%COMP%], .custom-text-element.step-by-step.open-in-dialog[type=info][_ngcontent-%COMP%], .custom-text-element.step-by-step.open-in-dialog[type=custom][_ngcontent-%COMP%], .custom-text-element.one-page.open-in-dialog[type=confirm][_ngcontent-%COMP%], .custom-text-element.one-page.open-in-dialog[type=info][_ngcontent-%COMP%], .custom-text-element.one-page.open-in-dialog[type=custom][_ngcontent-%COMP%]{border-color:var(--color-optic-lines-popup)}.custom-text-element.step-by-step.open-in-dialog[type=error][_ngcontent-%COMP%], .custom-text-element.one-page.open-in-dialog[type=error][_ngcontent-%COMP%]{border-color:var(--color-optic-lines-popup-error)}.custom-text-element.step-by-step.open-in-dialog[type=warning][_ngcontent-%COMP%], .custom-text-element.one-page.open-in-dialog[type=warning][_ngcontent-%COMP%]{border-color:var(--color-optic-lines-popup-warning)}.custom-text-element.one-page[_ngcontent-%COMP%]:not(.open-in-dialog){padding:0;grid-template-areas:"picture description" "picture attachment" "picture element" "picture extra-item" "picture buttons";grid-template-columns:calc(var(--image-one-page-width) + 2 * var(--element-gap)) 1fr}.custom-text-element.one-page[_ngcontent-%COMP%]:not(.open-in-dialog)   .header[_ngcontent-%COMP%]{display:none}.custom-text-element.one-page[_ngcontent-%COMP%]:not(.open-in-dialog).no-element-preview-image{grid-template-areas:"header" "picture" "description" "attachment" "element" "extra-item" "buttons";grid-template-columns:1fr}.custom-text-element[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%] + .picture[_ngcontent-%COMP%]:not(:empty), .custom-text-element[_ngcontent-%COMP%]   .picture[_ngcontent-%COMP%] + .element[_ngcontent-%COMP%]:not(:empty), .custom-text-element[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%] + .description[_ngcontent-%COMP%]:not(:empty), .custom-text-element[_ngcontent-%COMP%]   .apply-button[_ngcontent-%COMP%]{margin-top:var(--element-gap)}.custom-text-element[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%] + .picture[_ngcontent-%COMP%]:not(:empty){margin-top:0}.custom-text-element[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{flex-direction:column;display:flex;justify-content:space-between;width:100%}.custom-text-element[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{width:100%;display:flex;align-items:flex-start;justify-content:space-between;flex-direction:row}.custom-text-element[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{text-align:left;font-size:22px}.custom-text-element[_ngcontent-%COMP%]   .picture[_ngcontent-%COMP%]{width:calc(var(--image-tablet-width) + 2 * var(--element-gap))}.custom-text-element[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;width:100%}.custom-text-element[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{display:grid;grid-template-rows:auto;grid-template-areas:"prefix input suffix" "... hint ...";grid-template-columns:1fr var(--input-tablet-width) 1fr;grid-template-columns:0 1fr 0;width:100%}.custom-text-element[_ngcontent-%COMP%]   .apply-button[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:var(--button-gap);justify-self:flex-end;justify-content:flex-end}.custom-text-element[_ngcontent-%COMP%]   .apply-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:0 15px!important;height:50px}}']}),t})(),CQ=(()=>{class t{constructor(){to.components.set("apto-element-custom-text",bQ)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[Jo,Zr,Is,Na,ss,aa,ka,Ta,Ia,xl,na]}),t})(),xQ=(()=>{class t{constructor(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[Jo,Zr,Is,Na,ss,aa,ka,Ta]}),t})();function go(){return go=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var e=arguments[r];for(var i in e)({}).hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},go.apply(null,arguments)}var F3={epsilon:1e-12,matrix:"Matrix",number:"number",precision:64,predictable:!1,randomSeed:null},Ft=function(r){if(r)throw new Error("The global config is readonly. \nPlease create a mathjs instance if you want to change the default configuration. \nExample:\n\n  import { create, all } from 'mathjs';\n  const mathjs = create(all);\n  mathjs.config({ number: 'BigNumber' });\n");return Object.freeze(F3)};function Kn(t){return"number"==typeof t}function dr(t){return!(!t||"object"!=typeof t||"function"!=typeof t.constructor)&&(!0===t.isBigNumber&&"object"==typeof t.constructor.prototype&&!0===t.constructor.prototype.isBigNumber||"function"==typeof t.constructor.isDecimal&&!0===t.constructor.isDecimal(t))}function iu(t){return t&&"object"==typeof t&&!0===Object.getPrototypeOf(t).isComplex||!1}function Ky(t){return t&&"object"==typeof t&&!0===Object.getPrototypeOf(t).isFraction||!1}function Rs(t){return t&&!0===t.constructor.prototype.isUnit||!1}function Uo(t){return"string"==typeof t}go(Ft,F3,{MATRIX_OPTIONS:["Matrix","Array"],NUMBER_OPTIONS:["number","BigNumber","Fraction"]});var Er=Array.isArray;function On(t){return t&&!0===t.constructor.prototype.isMatrix||!1}function Bd(t){return Array.isArray(t)||On(t)}function Lw(t){return t&&t.isDenseMatrix&&!0===t.constructor.prototype.isMatrix||!1}function Kf(t){return t&&t.isSparseMatrix&&!0===t.constructor.prototype.isMatrix||!1}function iT(t){return t&&!0===t.constructor.prototype.isRange||!1}function Bw(t){return t&&!0===t.constructor.prototype.isIndex||!1}function MQ(t){return"boolean"==typeof t}function SQ(t){return t&&!0===t.constructor.prototype.isResultSet||!1}function R3(t){return t&&!0===t.constructor.prototype.isHelp||!1}function DQ(t){return"function"==typeof t}function OQ(t){return t instanceof Date}function EQ(t){return t instanceof RegExp}function Uw(t){return!(!t||"object"!=typeof t||t.constructor!==Object||iu(t)||Ky(t))}function AQ(t){return null===t}function PQ(t){return void 0===t}function eh(t){return t&&!0===t.isAccessorNode&&!0===t.constructor.prototype.isNode||!1}function Ls(t){return t&&!0===t.isArrayNode&&!0===t.constructor.prototype.isNode||!1}function TQ(t){return t&&!0===t.isAssignmentNode&&!0===t.constructor.prototype.isNode||!1}function IQ(t){return t&&!0===t.isBlockNode&&!0===t.constructor.prototype.isNode||!1}function kQ(t){return t&&!0===t.isConditionalNode&&!0===t.constructor.prototype.isNode||!1}function Cr(t){return t&&!0===t.isConstantNode&&!0===t.constructor.prototype.isNode||!1}function oT(t){return Cr(t)||Zi(t)&&1===t.args.length&&Cr(t.args[0])&&"-+~".includes(t.op)}function e0(t){return t&&!0===t.isFunctionAssignmentNode&&!0===t.constructor.prototype.isNode||!1}function Ud(t){return t&&!0===t.isFunctionNode&&!0===t.constructor.prototype.isNode||!1}function lg(t){return t&&!0===t.isIndexNode&&!0===t.constructor.prototype.isNode||!1}function Br(t){return t&&!0===t.isNode&&!0===t.constructor.prototype.isNode||!1}function Vw(t){return t&&!0===t.isObjectNode&&!0===t.constructor.prototype.isNode||!1}function Zi(t){return t&&!0===t.isOperatorNode&&!0===t.constructor.prototype.isNode||!1}function ou(t){return t&&!0===t.isParenthesisNode&&!0===t.constructor.prototype.isNode||!1}function FQ(t){return t&&!0===t.isRangeNode&&!0===t.constructor.prototype.isNode||!1}function NQ(t){return t&&!0===t.isRelationalNode&&!0===t.constructor.prototype.isNode||!1}function _o(t){return t&&!0===t.isSymbolNode&&!0===t.constructor.prototype.isNode||!1}function L3(t){return t&&!0===t.constructor.prototype.isChain||!1}function Vr(t){var r=typeof t;return"object"===r?null===t?"null":dr(t)?"BigNumber":t.constructor&&t.constructor.name?t.constructor.name:"Object":r}var B3=new Set(["end"]);function Bn(t){var r=typeof t;if("number"===r||"string"===r||"boolean"===r||null==t)return t;if("function"==typeof t.clone)return t.clone();if(Array.isArray(t))return t.map(function(e){return Bn(e)});if(t instanceof Date)return new Date(t.valueOf());if(dr(t))return t;if(Uw(t))return function RQ(t,r){var e={};for(var i in t)mn(t,i)&&(e[i]=r(t[i]));return e}(t,Bn);throw new TypeError("Cannot clone: unknown type of value (value: ".concat(t,")"))}function U3(t,r){for(var e in r)mn(r,e)&&(t[e]=r[e]);return t}function th(t,r){var e,i,o;if(Array.isArray(t)){if(!Array.isArray(r)||t.length!==r.length)return!1;for(i=0,o=t.length;i<o;i++)if(!th(t[i],r[i]))return!1;return!0}if("function"==typeof t)return t===r;if(t instanceof Object){if(Array.isArray(r)||!(r instanceof Object))return!1;for(e in t)if(!(e in r)||!th(t[e],r[e]))return!1;for(e in r)if(!(e in t))return!1;return!0}return t===r}function mn(t,r){return t&&Object.hasOwnProperty.call(t,r)}function xe(t,r,e,i){function o(a){var l=function VQ(t,r){for(var e={},i=0;i<r.length;i++){var o=r[i],a=t[o];void 0!==a&&(e[o]=a)}return e}(a,r.map(qQ));return function HQ(t,r,e){var i=r.filter(a=>!function jQ(t){return t&&"?"===t[0]}(a)).every(a=>void 0!==e[a]);if(!i){var o=r.filter(a=>void 0===e[a]);throw new Error('Cannot create function "'.concat(t,'", ')+"some dependencies are missing: ".concat(o.map(a=>'"'.concat(a,'"')).join(", "),"."))}}(t,r,a),e(l)}return o.isFactory=!0,o.fn=t,o.dependencies=r.slice().sort(),i&&(o.meta=i),o}function qQ(t){return t&&"?"===t[0]?t.slice(1):t}function sa(t,r){if(Z3(t)&&q3(t,r))return t[r];throw"function"==typeof t[r]&&sT(t,r)?new Error('Cannot access method "'+r+'" as a property'):new Error('No access to property "'+r+'"')}function cg(t,r,e){if(Z3(t)&&q3(t,r))return t[r]=e,e;throw new Error('No access to property "'+r+'"')}function q3(t,r){return!(!t||"object"!=typeof t||!mn(GQ,r)&&(r in Object.prototype||r in Function.prototype))}function sT(t,r){return!(null==t||"function"!=typeof t[r]||mn(t,r)&&Object.getPrototypeOf&&r in Object.getPrototypeOf(t)||!mn($Q,r)&&(r in Object.prototype||r in Function.prototype))}function Z3(t){return"object"==typeof t&&t&&t.constructor===Object}var GQ={length:!0,name:!0},$Q={toString:!0,valueOf:!0,toLocaleString:!0};class lT{constructor(r){this.wrappedObject=r}keys(){return Object.keys(this.wrappedObject)}get(r){return sa(this.wrappedObject,r)}set(r,e){return cg(this.wrappedObject,r,e),this}has(r){return function ZQ(t,r){return r in t}(this.wrappedObject,r)}}function ug(){return new Map}function dg(t){if(!t)return ug();if(cT(t))return t;if(Uw(t))return new lT(t);throw new Error("createMap can create maps from objects or Maps")}function cT(t){return!!t&&(t instanceof Map||t instanceof lT||"function"==typeof t.set&&"function"==typeof t.get&&"function"==typeof t.keys&&"function"==typeof t.has)}function Y3(t){for(var r=arguments.length,e=new Array(r>1?r-1:0),i=1;i<r;i++)e[i-1]=arguments[i];for(var o of e)if(o)if(cT(o))for(var a of o.keys())t.set(a,o.get(a));else if(Uw(o))for(var l of Object.keys(o))t.set(l,o[l]);return t}var XQ=xe("Node",["mathWithTransform"],t=>{var{mathWithTransform:r}=t;return class i{get type(){return"Node"}get isNode(){return!0}evaluate(a){return this.compile().evaluate(a)}compile(){var a=this._compile(r,{}),l={};return{evaluate:function p(f){var h=dg(f);return function e(o){for(var a of[...B3])if(o.has(a))throw new Error('Scope contains an illegal symbol, "'+a+'" is a reserved keyword')}(h),a(h,l,null)}}}_compile(a,l){throw new Error("Method _compile must be implemented by type "+this.type)}forEach(a){throw new Error("Cannot run forEach on a Node interface")}map(a){throw new Error("Cannot run map on a Node interface")}_ifNode(a){if(!Br(a))throw new TypeError("Callback function must return a Node");return a}traverse(a){a(this,null,null),function l(u,p){u.forEach(function(f,h,y){p(f,h,y),l(f,p)})}(this,a)}transform(a){return function l(u,p,f){var h=a(u,p,f);return h!==u?h:u.map(l)}(this,null,null)}filter(a){var l=[];return this.traverse(function(u,p,f){a(u,p,f)&&l.push(u)}),l}clone(){throw new Error("Cannot clone a Node interface")}cloneDeep(){return this.map(function(a){return a.cloneDeep()})}equals(a){return!!a&&this.type===a.type&&th(this,a)}toString(a){var l=this._getCustomString(a);return typeof l<"u"?l:this._toString(a)}toJSON(){throw new Error("Cannot serialize object: toJSON not implemented by "+this.type)}toHTML(a){var l=this._getCustomString(a);return typeof l<"u"?l:this.toHTML(a)}_toString(){throw new Error("_toString not implemented for "+this.type)}toTex(a){var l=this._getCustomString(a);return typeof l<"u"?l:this._toTex(a)}_toTex(a){throw new Error("_toTex not implemented for "+this.type)}_getCustomString(a){if(a&&"object"==typeof a)switch(typeof a.handler){case"object":case"undefined":return;case"function":return a.handler(this,a);default:throw new TypeError("Object or function expected as callback")}}getIdentifier(){return this.type}getContent(){return this}}},{isClass:!0,isNode:!0});function t0(t){return(t0="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(t)}function oo(t,r,e){return(r=function eJ(t){var r=function KQ(t,r){if("object"!=t0(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=t0(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==t0(r)?r:r+""}(r))in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e,t}function vn(t){return"boolean"==typeof t||!!isFinite(t)&&t===Math.round(t)}var Vd=Math.sign||function(t){return t>0?1:t<0?-1:0},tJ=Math.log2||function(r){return Math.log(r)/Math.LN2},nJ=Math.log10||function(r){return Math.log(r)/Math.LN10},G3=Math.log1p||function(t){return Math.log(t+1)},rJ=Math.cbrt||function(r){if(0===r)return r;var i,e=r<0;return e&&(r=-r),i=isFinite(r)?(r/((i=Math.exp(Math.log(r)/3))*i)+2*i)/3:r,e?-i:i},iJ=Math.expm1||function(r){return r>=2e-4||r<=-2e-4?Math.exp(r)-1:r+r*r/2+r*r*r/6};function uT(t,r,e){var o={2:"0b",8:"0o",16:"0x"}[r],a="";if(e){if(e<1)throw new Error("size must be in greater than 0");if(!vn(e))throw new Error("size must be an integer");if(t>2**(e-1)-1||t<-(2**(e-1)))throw new Error("Value must be in range [-2^".concat(e-1,", 2^").concat(e-1,"-1]"));if(!vn(t))throw new Error("Value must be an integer");t<0&&(t+=2**e),a="i".concat(e)}var l="";return t<0&&(t=-t,l="-"),"".concat(l).concat(o).concat(t.toString(r)).concat(a)}function nh(t,r){if("function"==typeof r)return r(t);if(t===1/0)return"Infinity";if(t===-1/0)return"-Infinity";if(isNaN(t))return"NaN";var i,o,e="auto";if(r&&(r.notation&&(e=r.notation),Kn(r)?i=r:Kn(r.precision)&&(i=r.precision),r.wordSize&&"number"!=typeof(o=r.wordSize)))throw new Error('Option "wordSize" must be a number');switch(e){case"fixed":return $3(t,i);case"exponential":return W3(t,i);case"engineering":return function oJ(t,r){if(isNaN(t)||!isFinite(t))return String(t);var i=Hw(zw(t),r),o=i.exponent,a=i.coefficients,l=o%3==0?o:o<0?o-3-o%3:o-o%3;if(Kn(r))for(;r>a.length||o-l+1>a.length;)a.push(0);else for(var u=Math.abs(o-l)-(a.length-1),p=0;p<u;p++)a.push(0);for(var f=Math.abs(o-l),h=1;f>0;)h++,f--;var y=a.slice(h).join(""),D=Kn(r)&&y.length||y.match(/[1-9]/)?"."+y:"",E=a.slice(0,h).join("")+D+"e"+(o>=0?"+":"")+l.toString();return i.sign+E}(t,i);case"bin":return uT(t,2,o);case"oct":return uT(t,8,o);case"hex":return uT(t,16,o);case"auto":return function aJ(t,r,e){if(isNaN(t)||!isFinite(t))return String(t);var i=e&&void 0!==e.lowerExp?e.lowerExp:-3,o=e&&void 0!==e.upperExp?e.upperExp:5,a=zw(t),l=r?Hw(a,r):a;if(l.exponent<i||l.exponent>=o)return W3(t,r);var u=l.coefficients,p=l.exponent;u.length<r&&(u=u.concat(pg(r-u.length))),u=u.concat(pg(p-u.length+1+(u.length<r?r-u.length:0)));var f=p>0?p:0;return f<(u=pg(-p).concat(u)).length-1&&u.splice(f+1,0,"."),l.sign+u.join("")}(t,i,r&&r).replace(/((\.\d*?)(0+))($|e)/,function(){var a=arguments[2],l=arguments[4];return"."!==a?a+l:l});default:throw new Error('Unknown notation "'+e+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function zw(t){var r=String(t).toLowerCase().match(/^(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!r)throw new SyntaxError("Invalid number "+t);var e=r[1],i=r[2],o=parseFloat(r[4]||"0"),a=i.indexOf(".");o+=-1!==a?a-1:i.length-1;var l=i.replace(".","").replace(/^0*/,function(u){return o-=u.length,""}).replace(/0*$/,"").split("").map(function(u){return parseInt(u)});return 0===l.length&&(l.push(0),o++),{sign:e,coefficients:l,exponent:o}}function $3(t,r){if(isNaN(t)||!isFinite(t))return String(t);var e=zw(t),i="number"==typeof r?Hw(e,e.exponent+1+r):e,o=i.coefficients,a=i.exponent+1,l=a+(r||0);return o.length<l&&(o=o.concat(pg(l-o.length))),a<0&&(o=pg(1-a).concat(o),a=1),a<o.length&&o.splice(a,0,0===a?"0.":"."),i.sign+o.join("")}function W3(t,r){if(isNaN(t)||!isFinite(t))return String(t);var e=zw(t),i=r?Hw(e,r):e,o=i.coefficients,a=i.exponent;o.length<r&&(o=o.concat(pg(r-o.length)));var l=o.shift();return i.sign+l+(o.length>0?"."+o.join(""):"")+"e"+(a>=0?"+":"")+a}function Hw(t,r){for(var e={sign:t.sign,coefficients:t.coefficients,exponent:t.exponent},i=e.coefficients;r<=0;)i.unshift(0),e.exponent++,r++;if(i.length>r&&i.splice(r,i.length-r)[0]>=5){var a=r-1;for(i[a]++;10===i[a];)i.pop(),0===a&&(i.unshift(0),e.exponent++,a++),i[--a]++}return e}function pg(t){for(var r=[],e=0;e<t;e++)r.push(0);return r}var lJ=Number.EPSILON||2220446049250313e-31;function cs(t,r,e){if(null==e)return t===r;if(t===r)return!0;if(isNaN(t)||isNaN(r))return!1;if(isFinite(t)&&isFinite(r)){var i=Math.abs(t-r);return i<lJ||i<=Math.max(Math.abs(t),Math.abs(r))*e}return!1}var cJ=Math.acosh||function(t){return Math.log(Math.sqrt(t*t-1)+t)},uJ=Math.asinh||function(t){return Math.log(Math.sqrt(t*t+1)+t)},dJ=Math.atanh||function(t){return Math.log((1+t)/(1-t))/2},Q3=Math.cosh||function(t){return(Math.exp(t)+Math.exp(-t))/2},pJ=Math.sinh||function(t){return(Math.exp(t)-Math.exp(-t))/2},J3=Math.tanh||function(t){var r=Math.exp(2*t);return(r-1)/(r+1)};function dT(t,r,e){var o=new(0,t.constructor)(2),a="";if(e){if(e<1)throw new Error("size must be in greater than 0");if(!vn(e))throw new Error("size must be an integer");if(t.greaterThan(o.pow(e-1).sub(1))||t.lessThan(o.pow(e-1).mul(-1)))throw new Error("Value must be in range [-2^".concat(e-1,", 2^").concat(e-1,"-1]"));if(!t.isInteger())throw new Error("Value must be an integer");t.lessThan(0)&&(t=t.add(o.pow(e))),a="i".concat(e)}switch(r){case 2:return"".concat(t.toBinary()).concat(a);case 8:return"".concat(t.toOctal()).concat(a);case 16:return"".concat(t.toHexadecimal()).concat(a);default:throw new Error("Base ".concat(r," not supported "))}}function X3(t,r){return void 0!==r?t.toExponential(r-1):t.toExponential()}function _J(t,r){return t.substring(t.length-r.length,t.length)===r}function er(t,r){var e=function vJ(t,r){return"number"==typeof t?nh(t,r):dr(t)?function hJ(t,r){if("function"==typeof r)return r(t);if(!t.isFinite())return t.isNaN()?"NaN":t.gt(0)?"Infinity":"-Infinity";var i,o,e="auto";if(void 0!==r&&(r.notation&&(e=r.notation),"number"==typeof r?i=r:void 0!==r.precision&&(i=r.precision),r.wordSize&&"number"!=typeof(o=r.wordSize)))throw new Error('Option "wordSize" must be a number');switch(e){case"fixed":return function gJ(t,r){return t.toFixed(r)}(t,i);case"exponential":return X3(t,i);case"engineering":return function mJ(t,r){var e=t.e,i=e%3==0?e:e<0?e-3-e%3:e-e%3,a=t.mul(Math.pow(10,-i)).toPrecision(r);return-1!==a.indexOf("e")&&(a=new(0,t.constructor)(a).toFixed()),a+"e"+(e>=0?"+":"")+i.toString()}(t,i);case"bin":return dT(t,2,o);case"oct":return dT(t,8,o);case"hex":return dT(t,16,o);case"auto":var a=r&&void 0!==r.lowerExp?r.lowerExp:-3,l=r&&void 0!==r.upperExp?r.upperExp:5;if(t.isZero())return"0";var p=t.toSignificantDigits(i),f=p.e;return(f>=a&&f<l?p.toFixed():X3(t,i)).replace(/((\.\d*?)(0+))($|e)/,function(){var h=arguments[2],y=arguments[4];return"."!==h?h+y:y});default:throw new Error('Unknown notation "'+e+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}(t,r):function yJ(t){return t&&"object"==typeof t&&"number"==typeof t.s&&"number"==typeof t.n&&"number"==typeof t.d||!1}(t)?r&&"decimal"===r.fraction?t.toString():t.s*t.n+"/"+t.d:Array.isArray(t)?eL(t,r):Uo(t)?fg(t):"function"==typeof t?t.syntax?String(t.syntax):"function":t&&"object"==typeof t?"function"==typeof t.format?t.format(r):t&&t.toString(r)!=={}.toString()?t.toString(r):"{"+Object.keys(t).map(i=>fg(i)+": "+er(t[i],r)).join(", ")+"}":String(t)}(t,r);return r&&"object"==typeof r&&"truncate"in r&&e.length>r.truncate?e.substring(0,r.truncate-3)+"...":e}function fg(t){for(var r=String(t),e="",i=0;i<r.length;){var o=r.charAt(i);e+=o in K3?K3[o]:o,i++}return'"'+e+'"'}var K3={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t"};function Bs(t){var r=String(t);return r.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function eL(t,r){if(Array.isArray(t)){for(var e="[",i=t.length,o=0;o<i;o++)0!==o&&(e+=", "),e+=eL(t[o],r);return e+"]"}return er(t,r)}function pT(t,r){if(!Uo(t))throw new TypeError("Unexpected type of argument in function compareText (expected: string or Array or Matrix, actual: "+Vr(t)+", index: 0)");if(!Uo(r))throw new TypeError("Unexpected type of argument in function compareText (expected: string or Array or Matrix, actual: "+Vr(r)+", index: 1)");return t===r?0:t>r?1:-1}var jw="ObjectNode",CJ=xe(jw,["Node"],t=>{var{Node:r}=t;class e extends r{constructor(o){if(super(),this.properties=o||{},o&&("object"!=typeof o||!Object.keys(o).every(function(a){return Br(o[a])})))throw new TypeError("Object containing Nodes expected")}get type(){return jw}get isObjectNode(){return!0}_compile(o,a){var l={};for(var u in this.properties)if(mn(this.properties,u)){var p=fg(u),f=JSON.parse(p),h=sa(this.properties,u);l[f]=h._compile(o,a)}return function(D,E,k){var T={};for(var L in l)mn(l,L)&&(T[L]=l[L](D,E,k));return T}}forEach(o){for(var a in this.properties)mn(this.properties,a)&&o(this.properties[a],"properties["+fg(a)+"]",this)}map(o){var a={};for(var l in this.properties)mn(this.properties,l)&&(a[l]=this._ifNode(o(this.properties[l],"properties["+fg(l)+"]",this)));return new e(a)}clone(){var o={};for(var a in this.properties)mn(this.properties,a)&&(o[a]=this.properties[a]);return new e(o)}_toString(o){var a=[];for(var l in this.properties)mn(this.properties,l)&&a.push(fg(l)+": "+this.properties[l].toString(o));return"{"+a.join(", ")+"}"}toJSON(){return{mathjs:jw,properties:this.properties}}static fromJSON(o){return new e(o.properties)}toHTML(o){var a=[];for(var l in this.properties)mn(this.properties,l)&&a.push('<span class="math-symbol math-property">'+Bs(l)+'</span><span class="math-operator math-assignment-operator math-property-assignment-operator math-binary-operator">:</span>'+this.properties[l].toHTML(o));return'<span class="math-parenthesis math-curly-parenthesis">{</span>'+a.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-curly-parenthesis">}</span>'}_toTex(o){var a=[];for(var l in this.properties)mn(this.properties,l)&&a.push("\\mathbf{"+l+":} & "+this.properties[l].toTex(o)+"\\\\");return"\\left\\{\\begin{array}{ll}"+a.join("\n")+"\\end{array}\\right\\}"}}return oo(e,"name",jw),e},{isClass:!0,isNode:!0});function tr(t,r,e){if(!(this instanceof tr))throw new SyntaxError("Constructor must be called with the new operator");this.actual=t,this.expected=r,this.relation=e,this.message="Dimension mismatch ("+(Array.isArray(t)?"["+t.join(", ")+"]":t)+" "+(this.relation||"!=")+" "+(Array.isArray(r)?"["+r.join(", ")+"]":r)+")",this.stack=(new Error).stack}function wl(t,r,e){if(!(this instanceof wl))throw new SyntaxError("Constructor must be called with the new operator");this.index=t,arguments.length<3?(this.min=0,this.max=r):(this.min=r,this.max=e),this.message=void 0!==this.min&&this.index<this.min?"Index out of range ("+this.index+" < "+this.min+")":void 0!==this.max&&this.index>=this.max?"Index out of range ("+this.index+" > "+(this.max-1)+")":"Index out of range ("+this.index+")",this.stack=(new Error).stack}function Vn(t){for(var r=[];Array.isArray(t);)r.push(t.length),t=t[0];return r}function tL(t,r,e){var i,o=t.length;if(o!==r[e])throw new tr(o,r[e]);if(e<r.length-1){var a=e+1;for(i=0;i<o;i++){if(!Array.isArray(t[i]))throw new tr(r.length-1,r.length,"<");tL(t[i],r,a)}}else for(i=0;i<o;i++)if(Array.isArray(t[i]))throw new tr(r.length+1,r.length,">")}function nL(t,r){if(0===r.length){if(Array.isArray(t))throw new tr(t.length,0)}else tL(t,r,0)}function qw(t,r){var e=t.isMatrix?t._size:Vn(t);r._sourceSize.forEach((o,a)=>{if(null!==o&&o!==e[a])throw new tr(o,e[a])})}function zr(t,r){if(void 0!==t){if(!Kn(t)||!vn(t))throw new TypeError("Index must be an integer (value: "+t+")");if(t<0||"number"==typeof r&&t>=r)throw new wl(t,r)}}function hg(t){for(var r=0;r<t._dimensions.length;++r){var e=t._dimensions[r];if(e._data&&Er(e._data)){if(0===e._size[0])return!0}else if(e.isRange){if(e.start===e.end)return!0}else if(Uo(e)&&0===e.length)return!0}return!1}function mg(t,r,e){if(!Array.isArray(r))throw new TypeError("Array expected");if(0===r.length)throw new Error("Resizing to scalar is not supported");return r.forEach(function(o){if(!Kn(o)||!vn(o)||o<0)throw new TypeError("Invalid size, must contain positive integers (size: "+er(r)+")")}),(Kn(t)||dr(t))&&(t=[t]),fT(t,r,0,void 0!==e?e:0),t}function fT(t,r,e,i){var o,a,u=r[e],p=Math.min(t.length,u);if(t.length=u,e<r.length-1){var f=e+1;for(o=0;o<p;o++)a=t[o],Array.isArray(a)||(t[o]=a=[a]),fT(a,r,f,i);for(o=p;o<u;o++)t[o]=a=[],fT(a,r,f,i)}else{for(o=0;o<p;o++)for(;Array.isArray(t[o]);)t[o]=t[o][0];for(o=p;o<u;o++)t[o]=i}}function hT(t,r){var e=xr(t),i=e.length;if(!Array.isArray(t)||!Array.isArray(r))throw new TypeError("Array expected");if(0===r.length)throw new tr(0,i,"!=");var o=rL(r=mT(r,i));if(i!==o)throw new tr(o,i,"!=");try{return function xJ(t,r){for(var i,e=t,o=r.length-1;o>0;o--){var a=r[o];i=[];for(var l=e.length/a,u=0;u<l;u++)i.push(e.slice(u*a,(u+1)*a));e=i}return e}(e,r)}catch(a){throw a instanceof tr?new tr(o,i,"!="):a}}function mT(t,r){var e=rL(t),i=t.slice(),a=t.indexOf(-1);if(t.indexOf(-1,a+1)>=0)throw new Error("More than one wildcard in sizes");if(a>=0){if(r%e!=0)throw new Error("Could not replace wildcard, since "+r+" is no multiple of "+-e);i[a]=-r/e}return i}function rL(t){return t.reduce((r,e)=>r*e,1)}function Zw(t,r){for(var e=r||Vn(t);Array.isArray(t)&&1===t.length;)t=t[0],e.shift();for(var i=e.length;1===e[i-1];)i--;return i<e.length&&(t=iL(t,i,0),e.length=i),t}function iL(t,r,e){var i,o;if(e<r){var a=e+1;for(i=0,o=t.length;i<o;i++)t[i]=iL(t[i],r,a)}else for(;Array.isArray(t);)t=t[0];return t}function oL(t,r,e,i){var o=i||Vn(t);if(e)for(var a=0;a<e;a++)t=[t],o.unshift(1);for(t=aL(t,r,0);o.length<r;)o.push(1);return t}function aL(t,r,e){var i,o;if(Array.isArray(t)){var a=e+1;for(i=0,o=t.length;i<o;i++)t[i]=aL(t[i],r,a)}else for(var l=e;l<r;l++)t=[t];return t}function xr(t){if(!Array.isArray(t))return t;var r=[];return t.forEach(function e(i){Array.isArray(i)?i.forEach(e):r.push(i)}),r}function au(t,r){return Array.prototype.map.call(t,r)}function Yw(t,r){Array.prototype.forEach.call(t,r)}function sL(t,r){if(1!==Vn(t).length)throw new Error("Only one dimensional matrices supported");return Array.prototype.filter.call(t,r)}function Gw(t,r){if(1!==Vn(t).length)throw new Error("Only one dimensional matrices supported");return Array.prototype.filter.call(t,e=>r.test(e))}function lL(t,r){return Array.prototype.join.call(t,r)}function gg(t){if(!Array.isArray(t))throw new TypeError("Array input expected");if(0===t.length)return t;var r=[],e=0;r[0]={value:t[0],identifier:0};for(var i=1;i<t.length;i++)t[i]===t[i-1]?e++:e=0,r.push({value:t[i],identifier:e});return r}function $w(t){if(!Array.isArray(t))throw new TypeError("Array input expected");if(0===t.length)return t;for(var r=[],e=0;e<t.length;e++)r.push(t[e].value);return r}function n0(t,r){for(var e,i=0,o=0;o<t.length;o++){var a=t[o],l=Array.isArray(a);if(0===o&&l&&(i=a.length),l&&a.length!==i)return;var u=l?n0(a,r):r(a);if(void 0===e)e=u;else if(e!==u)return"mixed"}return e}function cL(t,r,e,i){if(i<e){if(t.length!==r.length)throw new tr(t.length,r.length);for(var o=[],a=0;a<t.length;a++)o[a]=cL(t[a],r[a],e,i+1);return o}return t.concat(r)}function uL(){var t=Array.prototype.slice.call(arguments,0,-1),r=Array.prototype.slice.call(arguments,-1);if(1===t.length)return t[0];if(t.length>1)return t.slice(1).reduce(function(e,i){return cL(e,i,r,0)},t[0]);throw new Error("Wrong number of arguments in function concat")}function Ww(t,r){for(var e=r.length,i=t.length,o=0;o<i;o++){var a=e-i+o;if(t[o]<r[a]&&t[o]>1||t[o]>r[a])throw new Error("shape missmatch: missmatch is found in arg with shape (".concat(t,") not possible to broadcast dimension ").concat(i," with size ").concat(t[o]," to size ").concat(r[a]))}}function gT(t,r){var e=Vn(t);if(th(e,r))return t;Ww(e,r);var i=function dL(){for(var t=arguments.length,r=new Array(t),e=0;e<t;e++)r[e]=arguments[e];for(var i=r.map(D=>D.length),o=Math.max(...i),a=new Array(o).fill(null),l=0;l<r.length;l++)for(var u=r[l],p=i[l],f=0;f<p;f++){var h=o-p+f;u[f]>a[h]&&(a[h]=u[f])}for(var y=0;y<r.length;y++)Ww(r[y],a);return a}(e,r),o=i.length,a=[...Array(o-e.length).fill(1),...e],l=function MJ(t){return go([],t)}(t);e.length<o&&(e=Vn(l=hT(l,a)));for(var u=0;u<o;u++)e[u]<i[u]&&(e=Vn(l=wJ(l,i[u],u)));return l}function wJ(t,r,e){return uL(...Array(r).fill(t),e)}(tr.prototype=new RangeError).constructor=RangeError,tr.prototype.name="DimensionError",tr.prototype.isDimensionError=!0,(wl.prototype=new RangeError).constructor=RangeError,wl.prototype.name="IndexError",wl.prototype.isIndexError=!0;var Ml=[{AssignmentNode:{},FunctionAssignmentNode:{}},{ConditionalNode:{latexLeftParens:!1,latexRightParens:!1,latexParens:!1}},{"OperatorNode:or":{op:"or",associativity:"left",associativeWith:[]}},{"OperatorNode:xor":{op:"xor",associativity:"left",associativeWith:[]}},{"OperatorNode:and":{op:"and",associativity:"left",associativeWith:[]}},{"OperatorNode:bitOr":{op:"|",associativity:"left",associativeWith:[]}},{"OperatorNode:bitXor":{op:"^|",associativity:"left",associativeWith:[]}},{"OperatorNode:bitAnd":{op:"&",associativity:"left",associativeWith:[]}},{"OperatorNode:equal":{op:"==",associativity:"left",associativeWith:[]},"OperatorNode:unequal":{op:"!=",associativity:"left",associativeWith:[]},"OperatorNode:smaller":{op:"<",associativity:"left",associativeWith:[]},"OperatorNode:larger":{op:">",associativity:"left",associativeWith:[]},"OperatorNode:smallerEq":{op:"<=",associativity:"left",associativeWith:[]},"OperatorNode:largerEq":{op:">=",associativity:"left",associativeWith:[]},RelationalNode:{associativity:"left",associativeWith:[]}},{"OperatorNode:leftShift":{op:"<<",associativity:"left",associativeWith:[]},"OperatorNode:rightArithShift":{op:">>",associativity:"left",associativeWith:[]},"OperatorNode:rightLogShift":{op:">>>",associativity:"left",associativeWith:[]}},{"OperatorNode:to":{op:"to",associativity:"left",associativeWith:[]}},{RangeNode:{}},{"OperatorNode:add":{op:"+",associativity:"left",associativeWith:["OperatorNode:add","OperatorNode:subtract"]},"OperatorNode:subtract":{op:"-",associativity:"left",associativeWith:[]}},{"OperatorNode:multiply":{op:"*",associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","Operator:dotMultiply","Operator:dotDivide"]},"OperatorNode:divide":{op:"/",associativity:"left",associativeWith:[],latexLeftParens:!1,latexRightParens:!1,latexParens:!1},"OperatorNode:dotMultiply":{op:".*",associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","OperatorNode:dotMultiply","OperatorNode:doDivide"]},"OperatorNode:dotDivide":{op:"./",associativity:"left",associativeWith:[]},"OperatorNode:mod":{op:"mod",associativity:"left",associativeWith:[]}},{"OperatorNode:multiply":{associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","Operator:dotMultiply","Operator:dotDivide"]}},{"OperatorNode:unaryPlus":{op:"+",associativity:"right"},"OperatorNode:unaryMinus":{op:"-",associativity:"right"},"OperatorNode:bitNot":{op:"~",associativity:"right"},"OperatorNode:not":{op:"not",associativity:"right"}},{"OperatorNode:pow":{op:"^",associativity:"right",associativeWith:[],latexRightParens:!1},"OperatorNode:dotPow":{op:".^",associativity:"right",associativeWith:[]}},{"OperatorNode:factorial":{op:"!",associativity:"left"}},{"OperatorNode:ctranspose":{op:"'",associativity:"left"}}];function Qw(t,r){if(!r||"auto"!==r)return t;for(var e=t;ou(e);)e=e.content;return e}function Hr(t,r,e,i){var o=t;"keep"!==r&&(o=t.getContent());for(var a=o.getIdentifier(),l=null,u=0;u<Ml.length;u++)if(a in Ml[u]){l=u;break}if("OperatorNode:multiply"===a&&o.implicit&&"show"!==e){var p=Qw(o.args[0],r);!(Cr(p)&&i&&"OperatorNode:divide"===i.getIdentifier()&&oT(Qw(i.args[0],r)))&&("OperatorNode:divide"!==p.getIdentifier()||!oT(Qw(p.args[0],r))||!Cr(Qw(p.args[1])))&&(l+=1)}return l}function r0(t,r){var e=t;"keep"!==r&&(e=t.getContent());var i=e.getIdentifier(),o=Hr(e,r);if(null===o)return null;var a=Ml[o][i];if(mn(a,"associativity")){if("left"===a.associativity)return"left";if("right"===a.associativity)return"right";throw Error("'"+i+"' has the invalid associativity '"+a.associativity+"'.")}return null}function _T(t,r,e){var i="keep"!==e?t.getContent():t,o="keep"!==e?t.getContent():r,a=i.getIdentifier(),l=o.getIdentifier(),u=Hr(i,e);if(null===u)return null;var p=Ml[u][a];if(mn(p,"associativeWith")&&p.associativeWith instanceof Array){for(var f=0;f<p.associativeWith.length;f++)if(p.associativeWith[f]===l)return!0;return!1}return null}function SJ(t){var r="OperatorNode:"+t;for(var e of Ml)if(r in e)return e[r].op;return null}var DJ=se(1945),vT={Alpha:"A",alpha:"\\alpha",Beta:"B",beta:"\\beta",Gamma:"\\Gamma",gamma:"\\gamma",Delta:"\\Delta",delta:"\\delta",Epsilon:"E",epsilon:"\\epsilon",varepsilon:"\\varepsilon",Zeta:"Z",zeta:"\\zeta",Eta:"H",eta:"\\eta",Theta:"\\Theta",theta:"\\theta",vartheta:"\\vartheta",Iota:"I",iota:"\\iota",Kappa:"K",kappa:"\\kappa",varkappa:"\\varkappa",Lambda:"\\Lambda",lambda:"\\lambda",Mu:"M",mu:"\\mu",Nu:"N",nu:"\\nu",Xi:"\\Xi",xi:"\\xi",Omicron:"O",omicron:"o",Pi:"\\Pi",pi:"\\pi",varpi:"\\varpi",Rho:"P",rho:"\\rho",varrho:"\\varrho",Sigma:"\\Sigma",sigma:"\\sigma",varsigma:"\\varsigma",Tau:"T",tau:"\\tau",Upsilon:"\\Upsilon",upsilon:"\\upsilon",Phi:"\\Phi",phi:"\\phi",varphi:"\\varphi",Chi:"X",chi:"\\chi",Psi:"\\Psi",psi:"\\psi",Omega:"\\Omega",omega:"\\omega",true:"\\mathrm{True}",false:"\\mathrm{False}",i:"i",inf:"\\infty",Inf:"\\infty",infinity:"\\infty",Infinity:"\\infty",oo:"\\infty",lim:"\\lim",undefined:"\\mathbf{?}"},wr={transpose:"^\\top",ctranspose:"^H",factorial:"!",pow:"^",dotPow:".^\\wedge",unaryPlus:"+",unaryMinus:"-",bitNot:"\\~",not:"\\neg",multiply:"\\cdot",divide:"\\frac",dotMultiply:".\\cdot",dotDivide:".:",mod:"\\mod",add:"+",subtract:"-",to:"\\rightarrow",leftShift:"<<",rightArithShift:">>",rightLogShift:">>>",equal:"=",unequal:"\\neq",smaller:"<",larger:">",smallerEq:"\\leq",largerEq:"\\geq",bitAnd:"\\&",bitXor:"\\underline{|}",bitOr:"|",and:"\\wedge",xor:"\\veebar",or:"\\vee"},pL={abs:{1:"\\left|${args[0]}\\right|"},add:{2:"\\left(${args[0]}".concat(wr.add,"${args[1]}\\right)")},cbrt:{1:"\\sqrt[3]{${args[0]}}"},ceil:{1:"\\left\\lceil${args[0]}\\right\\rceil"},cube:{1:"\\left(${args[0]}\\right)^3"},divide:{2:"\\frac{${args[0]}}{${args[1]}}"},dotDivide:{2:"\\left(${args[0]}".concat(wr.dotDivide,"${args[1]}\\right)")},dotMultiply:{2:"\\left(${args[0]}".concat(wr.dotMultiply,"${args[1]}\\right)")},dotPow:{2:"\\left(${args[0]}".concat(wr.dotPow,"${args[1]}\\right)")},exp:{1:"\\exp\\left(${args[0]}\\right)"},expm1:"\\left(e".concat(wr.pow,"{${args[0]}}-1\\right)"),fix:{1:"\\mathrm{${name}}\\left(${args[0]}\\right)"},floor:{1:"\\left\\lfloor${args[0]}\\right\\rfloor"},gcd:"\\gcd\\left(${args}\\right)",hypot:"\\hypot\\left(${args}\\right)",log:{1:"\\ln\\left(${args[0]}\\right)",2:"\\log_{${args[1]}}\\left(${args[0]}\\right)"},log10:{1:"\\log_{10}\\left(${args[0]}\\right)"},log1p:{1:"\\ln\\left(${args[0]}+1\\right)",2:"\\log_{${args[1]}}\\left(${args[0]}+1\\right)"},log2:"\\log_{2}\\left(${args[0]}\\right)",mod:{2:"\\left(${args[0]}".concat(wr.mod,"${args[1]}\\right)")},multiply:{2:"\\left(${args[0]}".concat(wr.multiply,"${args[1]}\\right)")},norm:{1:"\\left\\|${args[0]}\\right\\|",2:void 0},nthRoot:{2:"\\sqrt[${args[1]}]{${args[0]}}"},nthRoots:{2:"\\{y : $y^{args[1]} = {${args[0]}}\\}"},pow:{2:"\\left(${args[0]}\\right)".concat(wr.pow,"{${args[1]}}")},round:{1:"\\left\\lfloor${args[0]}\\right\\rceil",2:void 0},sign:{1:"\\mathrm{${name}}\\left(${args[0]}\\right)"},sqrt:{1:"\\sqrt{${args[0]}}"},square:{1:"\\left(${args[0]}\\right)^2"},subtract:{2:"\\left(${args[0]}".concat(wr.subtract,"${args[1]}\\right)")},unaryMinus:{1:"".concat(wr.unaryMinus,"\\left(${args[0]}\\right)")},unaryPlus:{1:"".concat(wr.unaryPlus,"\\left(${args[0]}\\right)")},bitAnd:{2:"\\left(${args[0]}".concat(wr.bitAnd,"${args[1]}\\right)")},bitNot:{1:wr.bitNot+"\\left(${args[0]}\\right)"},bitOr:{2:"\\left(${args[0]}".concat(wr.bitOr,"${args[1]}\\right)")},bitXor:{2:"\\left(${args[0]}".concat(wr.bitXor,"${args[1]}\\right)")},leftShift:{2:"\\left(${args[0]}".concat(wr.leftShift,"${args[1]}\\right)")},rightArithShift:{2:"\\left(${args[0]}".concat(wr.rightArithShift,"${args[1]}\\right)")},rightLogShift:{2:"\\left(${args[0]}".concat(wr.rightLogShift,"${args[1]}\\right)")},bellNumbers:{1:"\\mathrm{B}_{${args[0]}}"},catalan:{1:"\\mathrm{C}_{${args[0]}}"},stirlingS2:{2:"\\mathrm{S}\\left(${args}\\right)"},arg:{1:"\\arg\\left(${args[0]}\\right)"},conj:{1:"\\left(${args[0]}\\right)^*"},im:{1:"\\Im\\left\\lbrace${args[0]}\\right\\rbrace"},re:{1:"\\Re\\left\\lbrace${args[0]}\\right\\rbrace"},and:{2:"\\left(${args[0]}".concat(wr.and,"${args[1]}\\right)")},not:{1:wr.not+"\\left(${args[0]}\\right)"},or:{2:"\\left(${args[0]}".concat(wr.or,"${args[1]}\\right)")},xor:{2:"\\left(${args[0]}".concat(wr.xor,"${args[1]}\\right)")},cross:{2:"\\left(${args[0]}\\right)\\times\\left(${args[1]}\\right)"},ctranspose:{1:"\\left(${args[0]}\\right)".concat(wr.ctranspose)},det:{1:"\\det\\left(${args[0]}\\right)"},dot:{2:"\\left(${args[0]}\\cdot${args[1]}\\right)"},expm:{1:"\\exp\\left(${args[0]}\\right)"},inv:{1:"\\left(${args[0]}\\right)^{-1}"},pinv:{1:"\\left(${args[0]}\\right)^{+}"},sqrtm:{1:"{${args[0]}}".concat(wr.pow,"{\\frac{1}{2}}")},trace:{1:"\\mathrm{tr}\\left(${args[0]}\\right)"},transpose:{1:"\\left(${args[0]}\\right)".concat(wr.transpose)},combinations:{2:"\\binom{${args[0]}}{${args[1]}}"},combinationsWithRep:{2:"\\left(\\!\\!{\\binom{${args[0]}}{${args[1]}}}\\!\\!\\right)"},factorial:{1:"\\left(${args[0]}\\right)".concat(wr.factorial)},gamma:{1:"\\Gamma\\left(${args[0]}\\right)"},lgamma:{1:"\\ln\\Gamma\\left(${args[0]}\\right)"},equal:{2:"\\left(${args[0]}".concat(wr.equal,"${args[1]}\\right)")},larger:{2:"\\left(${args[0]}".concat(wr.larger,"${args[1]}\\right)")},largerEq:{2:"\\left(${args[0]}".concat(wr.largerEq,"${args[1]}\\right)")},smaller:{2:"\\left(${args[0]}".concat(wr.smaller,"${args[1]}\\right)")},smallerEq:{2:"\\left(${args[0]}".concat(wr.smallerEq,"${args[1]}\\right)")},unequal:{2:"\\left(${args[0]}".concat(wr.unequal,"${args[1]}\\right)")},erf:{1:"erf\\left(${args[0]}\\right)"},max:"\\max\\left(${args}\\right)",min:"\\min\\left(${args}\\right)",variance:"\\mathrm{Var}\\left(${args}\\right)",acos:{1:"\\cos^{-1}\\left(${args[0]}\\right)"},acosh:{1:"\\cosh^{-1}\\left(${args[0]}\\right)"},acot:{1:"\\cot^{-1}\\left(${args[0]}\\right)"},acoth:{1:"\\coth^{-1}\\left(${args[0]}\\right)"},acsc:{1:"\\csc^{-1}\\left(${args[0]}\\right)"},acsch:{1:"\\mathrm{csch}^{-1}\\left(${args[0]}\\right)"},asec:{1:"\\sec^{-1}\\left(${args[0]}\\right)"},asech:{1:"\\mathrm{sech}^{-1}\\left(${args[0]}\\right)"},asin:{1:"\\sin^{-1}\\left(${args[0]}\\right)"},asinh:{1:"\\sinh^{-1}\\left(${args[0]}\\right)"},atan:{1:"\\tan^{-1}\\left(${args[0]}\\right)"},atan2:{2:"\\mathrm{atan2}\\left(${args}\\right)"},atanh:{1:"\\tanh^{-1}\\left(${args[0]}\\right)"},cos:{1:"\\cos\\left(${args[0]}\\right)"},cosh:{1:"\\cosh\\left(${args[0]}\\right)"},cot:{1:"\\cot\\left(${args[0]}\\right)"},coth:{1:"\\coth\\left(${args[0]}\\right)"},csc:{1:"\\csc\\left(${args[0]}\\right)"},csch:{1:"\\mathrm{csch}\\left(${args[0]}\\right)"},sec:{1:"\\sec\\left(${args[0]}\\right)"},sech:{1:"\\mathrm{sech}\\left(${args[0]}\\right)"},sin:{1:"\\sin\\left(${args[0]}\\right)"},sinh:{1:"\\sinh\\left(${args[0]}\\right)"},tan:{1:"\\tan\\left(${args[0]}\\right)"},tanh:{1:"\\tanh\\left(${args[0]}\\right)"},to:{2:"\\left(${args[0]}".concat(wr.to,"${args[1]}\\right)")},numeric:function(r,e){return r.args[0].toTex()},number:{0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"},string:{0:'\\mathtt{""}',1:"\\mathrm{string}\\left(${args[0]}\\right)"},bignumber:{0:"0",1:"\\left(${args[0]}\\right)"},complex:{0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)+".concat(vT.i,"\\cdot\\left(${args[1]}\\right)\\right)")},matrix:{0:"\\begin{bmatrix}\\end{bmatrix}",1:"\\left(${args[0]}\\right)",2:"\\left(${args[0]}\\right)"},sparse:{0:"\\begin{bsparse}\\end{bsparse}",1:"\\left(${args[0]}\\right)"},unit:{1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"}},fL={deg:"^\\circ"};function yT(t){return DJ(t,{preserveFormatting:!0})}function hL(t,r){return(r=!(typeof r>"u")&&r)?mn(fL,t)?fL[t]:"\\mathrm{"+yT(t)+"}":mn(vT,t)?vT[t]:yT(t)}var Jw="OperatorNode",AJ=xe(Jw,["Node"],t=>{var{Node:r}=t;function e(a,l){var u=a;if("auto"===l)for(;ou(u);)u=u.content;return!!Cr(u)||!!Zi(u)&&e(u.args[0],l)}function i(a,l,u,p,f){var D,h=Hr(a,l,u),y=r0(a,l);if("all"===l||p.length>2&&"OperatorNode:add"!==a.getIdentifier()&&"OperatorNode:multiply"!==a.getIdentifier())return p.map(function(V){switch(V.getContent().type){case"ArrayNode":case"ConstantNode":case"SymbolNode":case"ParenthesisNode":return!1;default:return!0}});switch(p.length){case 0:D=[];break;case 1:var E=Hr(p[0],l,u,a);if(f&&null!==E){var k,T;if("keep"===l?(k=p[0].getIdentifier(),T=a.getIdentifier()):(k=p[0].getContent().getIdentifier(),T=a.getContent().getIdentifier()),!1===Ml[h][T].latexLeftParens){D=[!1];break}if(!1===Ml[E][k].latexParens){D=[!1];break}}if(null===E){D=[!1];break}if(E<=h){D=[!0];break}D=[!1];break;case 2:var L,U=Hr(p[0],l,u,a),Y=_T(a,p[0],l);L=null!==U&&(U===h&&"right"===y&&!Y||U<h);var N,z,J,B,q=Hr(p[1],l,u,a),j=_T(a,p[1],l);N=null!==q&&(q===h&&"left"===y&&!j||q<h),f&&("keep"===l?(z=a.getIdentifier(),J=a.args[0].getIdentifier(),B=a.args[1].getIdentifier()):(z=a.getContent().getIdentifier(),J=a.args[0].getContent().getIdentifier(),B=a.args[1].getContent().getIdentifier()),null!==U&&(!1===Ml[h][z].latexLeftParens&&(L=!1),!1===Ml[U][J].latexParens&&(L=!1)),null!==q&&(!1===Ml[h][z].latexRightParens&&(N=!1),!1===Ml[q][B].latexParens&&(N=!1))),D=[L,N];break;default:("OperatorNode:add"===a.getIdentifier()||"OperatorNode:multiply"===a.getIdentifier())&&(D=p.map(function(V){var K=Hr(V,l,u,a),ee=_T(a,V,l),re=r0(V,l);return null!==K&&(h===K&&y===re&&!ee||K<h)}))}if(p.length>=2&&"OperatorNode:multiply"===a.getIdentifier()&&a.implicit&&"all"!==l&&"hide"===u)for(var H=1;H<D.length;++H)e(p[H],l)&&!D[H-1]&&("keep"!==l||!ou(p[H-1]))&&(D[H]=!0);return D}class o extends r{constructor(l,u,p,f,h){if(super(),"string"!=typeof l)throw new TypeError('string expected for parameter "op"');if("string"!=typeof u)throw new TypeError('string expected for parameter "fn"');if(!Array.isArray(p)||!p.every(Br))throw new TypeError('Array containing Nodes expected for parameter "args"');this.implicit=!0===f,this.isPercentage=!0===h,this.op=l,this.fn=u,this.args=p||[]}get type(){return Jw}get isOperatorNode(){return!0}_compile(l,u){if("string"!=typeof this.fn||!sT(l,this.fn))throw l[this.fn]?new Error('No access to function "'+this.fn+'"'):new Error("Function "+this.fn+' missing in provided namespace "math"');var p=sa(l,this.fn),f=au(this.args,function(E){return E._compile(l,u)});if(1===f.length){var h=f[0];return function(k,T,L){return p(h(k,T,L))}}if(2===f.length){var y=f[0],D=f[1];return function(k,T,L){return p(y(k,T,L),D(k,T,L))}}return function(k,T,L){return p.apply(null,au(f,function(U){return U(k,T,L)}))}}forEach(l){for(var u=0;u<this.args.length;u++)l(this.args[u],"args["+u+"]",this)}map(l){for(var u=[],p=0;p<this.args.length;p++)u[p]=this._ifNode(l(this.args[p],"args["+p+"]",this));return new o(this.op,this.fn,u,this.implicit,this.isPercentage)}clone(){return new o(this.op,this.fn,this.args.slice(0),this.implicit,this.isPercentage)}isUnary(){return 1===this.args.length}isBinary(){return 2===this.args.length}_toString(l){var u=l&&l.parenthesis?l.parenthesis:"keep",p=l&&l.implicit?l.implicit:"hide",f=this.args,h=i(this,u,p,f,!1);if(1===f.length){var y=r0(this,u),D=f[0].toString(l);h[0]&&(D="("+D+")");var E=/[a-zA-Z]+/.test(this.op);return"right"===y?this.op+(E?" ":"")+D:"left"===y?D+(E?" ":"")+this.op:D+this.op}if(2===f.length){var k=f[0].toString(l),T=f[1].toString(l);return h[0]&&(k="("+k+")"),h[1]&&(T="("+T+")"),this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===p?k+" "+T:k+" "+this.op+" "+T}if(f.length>2&&("OperatorNode:add"===this.getIdentifier()||"OperatorNode:multiply"===this.getIdentifier())){var L=f.map(function(U,Y){return U=U.toString(l),h[Y]&&(U="("+U+")"),U});return this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===p?L.join(" "):L.join(" "+this.op+" ")}return this.fn+"("+this.args.join(", ")+")"}toJSON(){return{mathjs:Jw,op:this.op,fn:this.fn,args:this.args,implicit:this.implicit,isPercentage:this.isPercentage}}static fromJSON(l){return new o(l.op,l.fn,l.args,l.implicit,l.isPercentage)}toHTML(l){var u=l&&l.parenthesis?l.parenthesis:"keep",p=l&&l.implicit?l.implicit:"hide",f=this.args,h=i(this,u,p,f,!1);if(1===f.length){var y=r0(this,u),D=f[0].toHTML(l);return h[0]&&(D='<span class="math-parenthesis math-round-parenthesis">(</span>'+D+'<span class="math-parenthesis math-round-parenthesis">)</span>'),"right"===y?'<span class="math-operator math-unary-operator math-lefthand-unary-operator">'+Bs(this.op)+"</span>"+D:D+'<span class="math-operator math-unary-operator math-righthand-unary-operator">'+Bs(this.op)+"</span>"}if(2===f.length){var E=f[0].toHTML(l),k=f[1].toHTML(l);return h[0]&&(E='<span class="math-parenthesis math-round-parenthesis">(</span>'+E+'<span class="math-parenthesis math-round-parenthesis">)</span>'),h[1]&&(k='<span class="math-parenthesis math-round-parenthesis">(</span>'+k+'<span class="math-parenthesis math-round-parenthesis">)</span>'),this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===p?E+'<span class="math-operator math-binary-operator math-implicit-binary-operator"></span>'+k:E+'<span class="math-operator math-binary-operator math-explicit-binary-operator">'+Bs(this.op)+"</span>"+k}var T=f.map(function(L,U){return L=L.toHTML(l),h[U]&&(L='<span class="math-parenthesis math-round-parenthesis">(</span>'+L+'<span class="math-parenthesis math-round-parenthesis">)</span>'),L});return f.length>2&&("OperatorNode:add"===this.getIdentifier()||"OperatorNode:multiply"===this.getIdentifier())?this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===p?T.join('<span class="math-operator math-binary-operator math-implicit-binary-operator"></span>'):T.join('<span class="math-operator math-binary-operator math-explicit-binary-operator">'+Bs(this.op)+"</span>"):'<span class="math-function">'+Bs(this.fn)+'</span><span class="math-paranthesis math-round-parenthesis">(</span>'+T.join('<span class="math-separator">,</span>')+'<span class="math-paranthesis math-round-parenthesis">)</span>'}_toTex(l){var u=l&&l.parenthesis?l.parenthesis:"keep",p=l&&l.implicit?l.implicit:"hide",f=this.args,h=i(this,u,p,f,!0),y=wr[this.fn];if(y=typeof y>"u"?this.op:y,1===f.length){var D=r0(this,u),E=f[0].toTex(l);return h[0]&&(E="\\left(".concat(E,"\\right)")),"right"===D?y+E:E+y}if(2===f.length){var k=f[0],T=k.toTex(l);h[0]&&(T="\\left(".concat(T,"\\right)"));var Y,U=f[1].toTex(l);switch(h[1]&&(U="\\left(".concat(U,"\\right)")),Y="keep"===u?k.getIdentifier():k.getContent().getIdentifier(),this.getIdentifier()){case"OperatorNode:divide":return y+"{"+T+"}{"+U+"}";case"OperatorNode:pow":switch(T="{"+T+"}",U="{"+U+"}",Y){case"ConditionalNode":case"OperatorNode:divide":T="\\left(".concat(T,"\\right)")}break;case"OperatorNode:multiply":if(this.implicit&&"hide"===p)return T+"~"+U}return T+y+U}if(f.length>2&&("OperatorNode:add"===this.getIdentifier()||"OperatorNode:multiply"===this.getIdentifier())){var N=f.map(function(q,j){return q=q.toTex(l),h[j]&&(q="\\left(".concat(q,"\\right)")),q});return"OperatorNode:multiply"===this.getIdentifier()&&this.implicit&&"hide"===p?N.join("~"):N.join(y)}return"\\mathrm{"+this.fn+"}\\left("+f.map(function(q){return q.toTex(l)}).join(",")+"\\right)"}getIdentifier(){return this.type+":"+this.fn}}return oo(o,"name",Jw),o},{isClass:!0,isNode:!0}),Xw="ParenthesisNode",TJ=xe(Xw,["Node"],t=>{var{Node:r}=t;class e extends r{constructor(o){if(super(),!Br(o))throw new TypeError('Node expected for parameter "content"');this.content=o}get type(){return Xw}get isParenthesisNode(){return!0}_compile(o,a){return this.content._compile(o,a)}getContent(){return this.content.getContent()}forEach(o){o(this.content,"content",this)}map(o){var a=o(this.content,"content",this);return new e(a)}clone(){return new e(this.content)}_toString(o){return!o||o&&!o.parenthesis||o&&"keep"===o.parenthesis?"("+this.content.toString(o)+")":this.content.toString(o)}toJSON(){return{mathjs:Xw,content:this.content}}static fromJSON(o){return new e(o.content)}toHTML(o){return!o||o&&!o.parenthesis||o&&"keep"===o.parenthesis?'<span class="math-parenthesis math-round-parenthesis">(</span>'+this.content.toHTML(o)+'<span class="math-parenthesis math-round-parenthesis">)</span>':this.content.toHTML(o)}_toTex(o){return!o||o&&!o.parenthesis||o&&"keep"===o.parenthesis?"\\left(".concat(this.content.toTex(o),"\\right)"):this.content.toTex(o)}}return oo(e,"name",Xw),e},{isClass:!0,isNode:!0}),Kw="RelationalNode",kJ=xe(Kw,["Node"],t=>{var{Node:r}=t,e={equal:"==",unequal:"!=",smaller:"<",larger:">",smallerEq:"<=",largerEq:">="};class i extends r{constructor(a,l){if(super(),!Array.isArray(a))throw new TypeError("Parameter conditionals must be an array");if(!Array.isArray(l))throw new TypeError("Parameter params must be an array");if(a.length!==l.length-1)throw new TypeError("Parameter params must contain exactly one more element than parameter conditionals");this.conditionals=a,this.params=l}get type(){return Kw}get isRelationalNode(){return!0}_compile(a,l){var u=this,p=this.params.map(f=>f._compile(a,l));return function(h,y,D){for(var E,k=p[0](h,y,D),T=0;T<u.conditionals.length;T++)if(E=k,k=p[T+1](h,y,D),!sa(a,u.conditionals[T])(E,k))return!1;return!0}}forEach(a){this.params.forEach((l,u)=>a(l,"params["+u+"]",this),this)}map(a){return new i(this.conditionals.slice(),this.params.map((l,u)=>this._ifNode(a(l,"params["+u+"]",this)),this))}clone(){return new i(this.conditionals,this.params)}_toString(a){for(var l=a&&a.parenthesis?a.parenthesis:"keep",u=Hr(this,l,a&&a.implicit),p=this.params.map(function(y,D){var E=Hr(y,l,a&&a.implicit);return"all"===l||null!==E&&E<=u?"("+y.toString(a)+")":y.toString(a)}),f=p[0],h=0;h<this.conditionals.length;h++)f+=" "+e[this.conditionals[h]],f+=" "+p[h+1];return f}toJSON(){return{mathjs:Kw,conditionals:this.conditionals,params:this.params}}static fromJSON(a){return new i(a.conditionals,a.params)}toHTML(a){for(var l=a&&a.parenthesis?a.parenthesis:"keep",u=Hr(this,l,a&&a.implicit),p=this.params.map(function(y,D){var E=Hr(y,l,a&&a.implicit);return"all"===l||null!==E&&E<=u?'<span class="math-parenthesis math-round-parenthesis">(</span>'+y.toHTML(a)+'<span class="math-parenthesis math-round-parenthesis">)</span>':y.toHTML(a)}),f=p[0],h=0;h<this.conditionals.length;h++)f+='<span class="math-operator math-binary-operator math-explicit-binary-operator">'+Bs(e[this.conditionals[h]])+"</span>"+p[h+1];return f}_toTex(a){for(var l=a&&a.parenthesis?a.parenthesis:"keep",u=Hr(this,l,a&&a.implicit),p=this.params.map(function(y,D){var E=Hr(y,l,a&&a.implicit);return"all"===l||null!==E&&E<=u?"\\left("+y.toTex(a)+"\right)":y.toTex(a)}),f=p[0],h=0;h<this.conditionals.length;h++)f+=wr[this.conditionals[h]]+p[h+1];return f}}return oo(i,"name",Kw),i},{isClass:!0,isNode:!0}),eM="ArrayNode",NJ=xe(eM,["Node"],t=>{var{Node:r}=t;class e extends r{constructor(o){if(super(),this.items=o||[],!Array.isArray(this.items)||!this.items.every(Br))throw new TypeError("Array containing Nodes expected")}get type(){return eM}get isArrayNode(){return!0}_compile(o,a){var l=au(this.items,function(f){return f._compile(o,a)});if("Array"!==o.config.matrix){var p=o.matrix;return function(h,y,D){return p(au(l,function(E){return E(h,y,D)}))}}return function(h,y,D){return au(l,function(E){return E(h,y,D)})}}forEach(o){for(var a=0;a<this.items.length;a++)o(this.items[a],"items["+a+"]",this)}map(o){for(var a=[],l=0;l<this.items.length;l++)a[l]=this._ifNode(o(this.items[l],"items["+l+"]",this));return new e(a)}clone(){return new e(this.items.slice(0))}_toString(o){return"["+this.items.map(function(l){return l.toString(o)}).join(", ")+"]"}toJSON(){return{mathjs:eM,items:this.items}}static fromJSON(o){return new e(o.items)}toHTML(o){return'<span class="math-parenthesis math-square-parenthesis">[</span>'+this.items.map(function(l){return l.toHTML(o)}).join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-square-parenthesis">]</span>'}_toTex(o){return function a(l,u){var p=l.some(Ls)&&!l.every(Ls),f=u||p,h=f?"&":"\\\\",y=l.map(function(D){return D.items?a(D.items,!u):D.toTex(o)}).join(h);return p||!f||f&&!u?"\\begin{bmatrix}"+y+"\\end{bmatrix}":y}(this.items,!1)}}return oo(e,"name",eM),e},{isClass:!0,isNode:!0}),tM="BlockNode",LJ=xe(tM,["ResultSet","Node"],t=>{var{ResultSet:r,Node:e}=t;class i extends e{constructor(a){if(super(),!Array.isArray(a))throw new Error("Array expected");this.blocks=a.map(function(l){var u=l&&l.node,p=!l||void 0===l.visible||l.visible;if(!Br(u))throw new TypeError('Property "node" must be a Node');if("boolean"!=typeof p)throw new TypeError('Property "visible" must be a boolean');return{node:u,visible:p}})}get type(){return tM}get isBlockNode(){return!0}_compile(a,l){var u=au(this.blocks,function(p){return{evaluate:p.node._compile(a,l),visible:p.visible}});return function(f,h,y){var D=[];return Yw(u,function(k){var T=k.evaluate(f,h,y);k.visible&&D.push(T)}),new r(D)}}forEach(a){for(var l=0;l<this.blocks.length;l++)a(this.blocks[l].node,"blocks["+l+"].node",this)}map(a){for(var l=[],u=0;u<this.blocks.length;u++){var p=this.blocks[u],f=this._ifNode(a(p.node,"blocks["+u+"].node",this));l[u]={node:f,visible:p.visible}}return new i(l)}clone(){var a=this.blocks.map(function(l){return{node:l.node,visible:l.visible}});return new i(a)}_toString(a){return this.blocks.map(function(l){return l.node.toString(a)+(l.visible?"":";")}).join("\n")}toJSON(){return{mathjs:tM,blocks:this.blocks}}static fromJSON(a){return new i(a.blocks)}toHTML(a){return this.blocks.map(function(l){return l.node.toHTML(a)+(l.visible?"":'<span class="math-separator">;</span>')}).join('<span class="math-separator"><br /></span>')}_toTex(a){return this.blocks.map(function(l){return l.node.toTex(a)+(l.visible?"":";")}).join("\\;\\;\n")}}return oo(i,"name",tM),i},{isClass:!0,isNode:!0}),nM="ConditionalNode",UJ=xe(nM,["Node"],t=>{var{Node:r}=t;class i extends r{constructor(a,l,u){if(super(),!Br(a))throw new TypeError("Parameter condition must be a Node");if(!Br(l))throw new TypeError("Parameter trueExpr must be a Node");if(!Br(u))throw new TypeError("Parameter falseExpr must be a Node");this.condition=a,this.trueExpr=l,this.falseExpr=u}get type(){return nM}get isConditionalNode(){return!0}_compile(a,l){var u=this.condition._compile(a,l),p=this.trueExpr._compile(a,l),f=this.falseExpr._compile(a,l);return function(y,D,E){return function e(o){if("number"==typeof o||"boolean"==typeof o||"string"==typeof o)return!!o;if(o){if(dr(o))return!o.isZero();if(iu(o))return!(!o.re&&!o.im);if(Rs(o))return!!o.value}if(null==o)return!1;throw new TypeError('Unsupported type of condition "'+Vr(o)+'"')}(u(y,D,E))?p(y,D,E):f(y,D,E)}}forEach(a){a(this.condition,"condition",this),a(this.trueExpr,"trueExpr",this),a(this.falseExpr,"falseExpr",this)}map(a){return new i(this._ifNode(a(this.condition,"condition",this)),this._ifNode(a(this.trueExpr,"trueExpr",this)),this._ifNode(a(this.falseExpr,"falseExpr",this)))}clone(){return new i(this.condition,this.trueExpr,this.falseExpr)}_toString(a){var l=a&&a.parenthesis?a.parenthesis:"keep",u=Hr(this,l,a&&a.implicit),p=this.condition.toString(a),f=Hr(this.condition,l,a&&a.implicit);("all"===l||"OperatorNode"===this.condition.type||null!==f&&f<=u)&&(p="("+p+")");var h=this.trueExpr.toString(a),y=Hr(this.trueExpr,l,a&&a.implicit);("all"===l||"OperatorNode"===this.trueExpr.type||null!==y&&y<=u)&&(h="("+h+")");var D=this.falseExpr.toString(a),E=Hr(this.falseExpr,l,a&&a.implicit);return("all"===l||"OperatorNode"===this.falseExpr.type||null!==E&&E<=u)&&(D="("+D+")"),p+" ? "+h+" : "+D}toJSON(){return{mathjs:nM,condition:this.condition,trueExpr:this.trueExpr,falseExpr:this.falseExpr}}static fromJSON(a){return new i(a.condition,a.trueExpr,a.falseExpr)}toHTML(a){var l=a&&a.parenthesis?a.parenthesis:"keep",u=Hr(this,l,a&&a.implicit),p=this.condition.toHTML(a),f=Hr(this.condition,l,a&&a.implicit);("all"===l||"OperatorNode"===this.condition.type||null!==f&&f<=u)&&(p='<span class="math-parenthesis math-round-parenthesis">(</span>'+p+'<span class="math-parenthesis math-round-parenthesis">)</span>');var h=this.trueExpr.toHTML(a),y=Hr(this.trueExpr,l,a&&a.implicit);("all"===l||"OperatorNode"===this.trueExpr.type||null!==y&&y<=u)&&(h='<span class="math-parenthesis math-round-parenthesis">(</span>'+h+'<span class="math-parenthesis math-round-parenthesis">)</span>');var D=this.falseExpr.toHTML(a),E=Hr(this.falseExpr,l,a&&a.implicit);return("all"===l||"OperatorNode"===this.falseExpr.type||null!==E&&E<=u)&&(D='<span class="math-parenthesis math-round-parenthesis">(</span>'+D+'<span class="math-parenthesis math-round-parenthesis">)</span>'),p+'<span class="math-operator math-conditional-operator">?</span>'+h+'<span class="math-operator math-conditional-operator">:</span>'+D}_toTex(a){return"\\begin{cases} {"+this.trueExpr.toTex(a)+"}, &\\quad{\\text{if }\\;"+this.condition.toTex(a)+"}\\\\{"+this.falseExpr.toTex(a)+"}, &\\quad{\\text{otherwise}}\\end{cases}"}}return oo(i,"name",nM),i},{isClass:!0,isNode:!0}),rM="ConstantNode",zJ=xe(rM,["Node"],t=>{var{Node:r}=t;class e extends r{constructor(o){super(),this.value=o}get type(){return rM}get isConstantNode(){return!0}_compile(o,a){var l=this.value;return function(){return l}}forEach(o){}map(o){return this.clone()}clone(){return new e(this.value)}_toString(o){return er(this.value,o)}toHTML(o){var a=this._toString(o);switch(Vr(this.value)){case"number":case"BigNumber":case"Fraction":return'<span class="math-number">'+a+"</span>";case"string":return'<span class="math-string">'+a+"</span>";case"boolean":return'<span class="math-boolean">'+a+"</span>";case"null":return'<span class="math-null-symbol">'+a+"</span>";case"undefined":return'<span class="math-undefined">'+a+"</span>";default:return'<span class="math-symbol">'+a+"</span>"}}toJSON(){return{mathjs:rM,value:this.value}}static fromJSON(o){return new e(o.value)}_toTex(o){var a=this._toString(o);switch(Vr(this.value)){case"string":return"\\mathtt{"+yT(a)+"}";case"number":case"BigNumber":if(!isFinite(this.value))return this.value.valueOf()<0?"-\\infty":"\\infty";var l=a.toLowerCase().indexOf("e");return-1!==l?a.substring(0,l)+"\\cdot10^{"+a.substring(l+1)+"}":a;case"Fraction":return this.value.toLatex();default:return a}}}return oo(e,"name",rM),e},{isClass:!0,isNode:!0}),iM="RangeNode",jJ=xe(iM,["Node"],t=>{var{Node:r}=t;function e(o,a,l){var u=Hr(o,a,l),p={},f=Hr(o.start,a,l);if(p.start=null!==f&&f<=u||"all"===a,o.step){var h=Hr(o.step,a,l);p.step=null!==h&&h<=u||"all"===a}var y=Hr(o.end,a,l);return p.end=null!==y&&y<=u||"all"===a,p}class i extends r{constructor(a,l,u){if(super(),!Br(a))throw new TypeError("Node expected");if(!Br(l))throw new TypeError("Node expected");if(u&&!Br(u))throw new TypeError("Node expected");if(arguments.length>3)throw new Error("Too many arguments");this.start=a,this.end=l,this.step=u||null}get type(){return iM}get isRangeNode(){return!0}needsEnd(){return this.filter(function(l){return _o(l)&&"end"===l.name}).length>0}_compile(a,l){var u=a.range,p=this.start._compile(a,l),f=this.end._compile(a,l);if(this.step){var h=this.step._compile(a,l);return function(D,E,k){return u(p(D,E,k),f(D,E,k),h(D,E,k))}}return function(D,E,k){return u(p(D,E,k),f(D,E,k))}}forEach(a){a(this.start,"start",this),a(this.end,"end",this),this.step&&a(this.step,"step",this)}map(a){return new i(this._ifNode(a(this.start,"start",this)),this._ifNode(a(this.end,"end",this)),this.step&&this._ifNode(a(this.step,"step",this)))}clone(){return new i(this.start,this.end,this.step&&this.step)}_toString(a){var p,u=e(this,a&&a.parenthesis?a.parenthesis:"keep",a&&a.implicit),f=this.start.toString(a);if(u.start&&(f="("+f+")"),p=f,this.step){var h=this.step.toString(a);u.step&&(h="("+h+")"),p+=":"+h}var y=this.end.toString(a);return u.end&&(y="("+y+")"),p+":"+y}toJSON(){return{mathjs:iM,start:this.start,end:this.end,step:this.step}}static fromJSON(a){return new i(a.start,a.end,a.step)}toHTML(a){var p,u=e(this,a&&a.parenthesis?a.parenthesis:"keep",a&&a.implicit),f=this.start.toHTML(a);if(u.start&&(f='<span class="math-parenthesis math-round-parenthesis">(</span>'+f+'<span class="math-parenthesis math-round-parenthesis">)</span>'),p=f,this.step){var h=this.step.toHTML(a);u.step&&(h='<span class="math-parenthesis math-round-parenthesis">(</span>'+h+'<span class="math-parenthesis math-round-parenthesis">)</span>'),p+='<span class="math-operator math-range-operator">:</span>'+h}var y=this.end.toHTML(a);return u.end&&(y='<span class="math-parenthesis math-round-parenthesis">(</span>'+y+'<span class="math-parenthesis math-round-parenthesis">)</span>'),p+'<span class="math-operator math-range-operator">:</span>'+y}_toTex(a){var u=e(this,a&&a.parenthesis?a.parenthesis:"keep",a&&a.implicit),p=this.start.toTex(a);if(u.start&&(p="\\left(".concat(p,"\\right)")),this.step){var f=this.step.toTex(a);u.step&&(f="\\left(".concat(f,"\\right)")),p+=":"+f}var h=this.end.toTex(a);return u.end&&(h="\\left(".concat(h,"\\right)")),p+":"+h}}return oo(i,"name",iM),i},{isClass:!0,isNode:!0}),YJ=xe("reviver",["classes"],t=>{var{classes:r}=t;return function(i,o){var a=r[o&&o.mathjs];return a&&"function"==typeof a.fromJSON?a.fromJSON(o):o}}),WJ=xe("Chain",["?on","math","typed"],t=>{var{on:r,math:e,typed:i}=t;function o(f){if(!(this instanceof o))throw new SyntaxError("Constructor must be called with the new operator");this.value=L3(f)?f.value:f}function l(f,h){!function BQ(t,r,e){var o,i=!0;Object.defineProperty(t,r,{get:function(){return i&&(o=e(),i=!1),o},set:function(l){o=l,i=!1},configurable:!0,enumerable:!0})}(o.prototype,f,function(){var D=h();if("function"==typeof D)return u(D)})}function u(f){return function(){if(0===arguments.length)return new o(f(this.value));for(var h=[this.value],y=0;y<arguments.length;y++)h[y+1]=arguments[y];if(i.isTypedFunction(f)){var D=i.resolve(f,h);if(1===D.params.length)throw new Error("chain function "+f.name+" cannot match rest parameter between chain value and additional arguments.");return new o(D.implementation.apply(f,h))}return new o(f.apply(f,h))}}o.prototype.type="Chain",o.prototype.isChain=!0,o.prototype.done=function(){return this.value},o.prototype.valueOf=function(){return this.value},o.prototype.toString=function(){return er(this.value)},o.prototype.toJSON=function(){return{mathjs:"Chain",value:this.value}},o.fromJSON=function(f){return new o(f.value)},o.createProxy=function(f,h){if("string"==typeof f)!function a(f,h){"function"==typeof h&&(o.prototype[f]=u(h))}(f,h);else{var y=function(k){mn(f,k)&&void 0===p[k]&&l(k,()=>f[k])};for(var D in f)y(D)}};var p={expression:!0,docs:!0,type:!0,classes:!0,json:!0,error:!0,isChain:!0};return o.createProxy(e),r&&r("import",function(f,h,y){y||l(f,h)}),o},{isClass:!0}),oM="FunctionAssignmentNode",JJ=xe(oM,["typed","Node"],t=>{var{typed:r,Node:e}=t;function i(a,l,u){var p=Hr(a,l,u),f=Hr(a.expr,l,u);return"all"===l||null!==f&&f<=p}class o extends e{constructor(l,u,p){if(super(),"string"!=typeof l)throw new TypeError('String expected for parameter "name"');if(!Array.isArray(u))throw new TypeError('Array containing strings or objects expected for parameter "params"');if(!Br(p))throw new TypeError('Node expected for parameter "expr"');if(B3.has(l))throw new Error('Illegal function name, "'+l+'" is a reserved keyword');var f=new Set;for(var h of u){var y="string"==typeof h?h:h.name;if(f.has(y))throw new Error('Duplicate parameter name "'.concat(y,'"'));f.add(y)}this.name=l,this.params=u.map(function(D){return D&&D.name||D}),this.types=u.map(function(D){return D&&D.type||"any"}),this.expr=p}get type(){return oM}get isFunctionAssignmentNode(){return!0}_compile(l,u){var p=Object.create(u);Yw(this.params,function(k){p[k]=!0});var f=this.expr._compile(l,p),h=this.name,y=this.params,D=lL(this.types,","),E=h+"("+lL(this.params,", ")+")";return function(T,L,U){var Y={};Y[D]=function(){for(var q=Object.create(L),j=0;j<y.length;j++)q[y[j]]=arguments[j];return f(T,q,U)};var N=r(h,Y);return N.syntax=E,T.set(h,N),N}}forEach(l){l(this.expr,"expr",this)}map(l){var u=this._ifNode(l(this.expr,"expr",this));return new o(this.name,this.params.slice(0),u)}clone(){return new o(this.name,this.params.slice(0),this.expr)}_toString(l){var u=l&&l.parenthesis?l.parenthesis:"keep",p=this.expr.toString(l);return i(this,u,l&&l.implicit)&&(p="("+p+")"),this.name+"("+this.params.join(", ")+") = "+p}toJSON(){var l=this.types;return{mathjs:oM,name:this.name,params:this.params.map(function(u,p){return{name:u,type:l[p]}}),expr:this.expr}}static fromJSON(l){return new o(l.name,l.params,l.expr)}toHTML(l){for(var u=l&&l.parenthesis?l.parenthesis:"keep",p=[],f=0;f<this.params.length;f++)p.push('<span class="math-symbol math-parameter">'+Bs(this.params[f])+"</span>");var h=this.expr.toHTML(l);return i(this,u,l&&l.implicit)&&(h='<span class="math-parenthesis math-round-parenthesis">(</span>'+h+'<span class="math-parenthesis math-round-parenthesis">)</span>'),'<span class="math-function">'+Bs(this.name)+'</span><span class="math-parenthesis math-round-parenthesis">(</span>'+p.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-round-parenthesis">)</span><span class="math-operator math-assignment-operator math-variable-assignment-operator math-binary-operator">=</span>'+h}_toTex(l){var u=l&&l.parenthesis?l.parenthesis:"keep",p=this.expr.toTex(l);return i(this,u,l&&l.implicit)&&(p="\\left(".concat(p,"\\right)")),"\\mathrm{"+this.name+"}\\left("+this.params.map(hL).join(",")+"\\right):="+p}}return oo(o,"name",oM),o},{isClass:!0,isNode:!0}),KJ=xe("chain",["typed","Chain"],t=>{var{typed:r,Chain:e}=t;return r("chain",{"":function(){return new e},any:function(o){return new e(o)}})}),aM="IndexNode",tX=xe(aM,["Node","size"],t=>{var{Node:r,size:e}=t;class i extends r{constructor(a,l){if(super(),this.dimensions=a,this.dotNotation=l||!1,!Array.isArray(a)||!a.every(Br))throw new TypeError('Array containing Nodes expected for parameter "dimensions"');if(this.dotNotation&&!this.isObjectProperty())throw new Error("dotNotation only applicable for object properties")}get type(){return aM}get isIndexNode(){return!0}_compile(a,l){var u=au(this.dimensions,function(f,h){if(f.filter(k=>k.isSymbolNode&&"end"===k.name).length>0){var D=Object.create(l);D.end=!0;var E=f._compile(a,D);return function(T,L,U){if(!On(U)&&!Er(U)&&!Uo(U))throw new TypeError('Cannot resolve "end": context must be a Matrix, Array, or string but is '+Vr(U));var Y=e(U).valueOf(),N=Object.create(L);return N.end=Y[h],E(T,N,U)}}return f._compile(a,l)}),p=sa(a,"index");return function(h,y,D){var E=au(u,function(k){return k(h,y,D)});return p(...E)}}forEach(a){for(var l=0;l<this.dimensions.length;l++)a(this.dimensions[l],"dimensions["+l+"]",this)}map(a){for(var l=[],u=0;u<this.dimensions.length;u++)l[u]=this._ifNode(a(this.dimensions[u],"dimensions["+u+"]",this));return new i(l,this.dotNotation)}clone(){return new i(this.dimensions.slice(0),this.dotNotation)}isObjectProperty(){return 1===this.dimensions.length&&Cr(this.dimensions[0])&&"string"==typeof this.dimensions[0].value}getObjectProperty(){return this.isObjectProperty()?this.dimensions[0].value:null}_toString(a){return this.dotNotation?"."+this.getObjectProperty():"["+this.dimensions.join(", ")+"]"}toJSON(){return{mathjs:aM,dimensions:this.dimensions,dotNotation:this.dotNotation}}static fromJSON(a){return new i(a.dimensions,a.dotNotation)}toHTML(a){for(var l=[],u=0;u<this.dimensions.length;u++)l[u]=this.dimensions[u].toHTML();return this.dotNotation?'<span class="math-operator math-accessor-operator">.</span><span class="math-symbol math-property">'+Bs(this.getObjectProperty())+"</span>":'<span class="math-parenthesis math-square-parenthesis">[</span>'+l.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-square-parenthesis">]</span>'}_toTex(a){var l=this.dimensions.map(function(u){return u.toTex(a)});return this.dotNotation?"."+this.getObjectProperty():"_{"+l.join(",")+"}"}}return oo(i,"name",aM),i},{isClass:!0,isNode:!0});function la(t){return t&&t.isIndexError?new wl(t.index+1,t.min+1,void 0!==t.max?t.max+1:void 0):t}function gL(t){var{subset:r}=t;return function(i,o){try{if(Array.isArray(i))return r(i,o);if(i&&"function"==typeof i.subset)return i.subset(o);if("string"==typeof i)return r(i,o);if("object"==typeof i){if(!o.isObjectProperty())throw new TypeError("Cannot apply a numeric index as object property");return sa(i,o.getObjectProperty())}throw new TypeError("Cannot apply index: unsupported type of object")}catch(a){throw la(a)}}}var sM="AccessorNode",rX=xe(sM,["subset","Node"],t=>{var{subset:r,Node:e}=t,i=gL({subset:r});function o(l){return!(eh(l)||Ls(l)||Cr(l)||Ud(l)||Vw(l)||ou(l)||_o(l))}class a extends e{constructor(u,p){if(super(),!Br(u))throw new TypeError('Node expected for parameter "object"');if(!lg(p))throw new TypeError('IndexNode expected for parameter "index"');this.object=u,this.index=p}get name(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}get type(){return sM}get isAccessorNode(){return!0}_compile(u,p){var f=this.object._compile(u,p),h=this.index._compile(u,p);if(this.index.isObjectProperty()){var y=this.index.getObjectProperty();return function(E,k,T){return sa(f(E,k,T),y)}}return function(E,k,T){var L=f(E,k,T),U=h(E,k,L);return i(L,U)}}forEach(u){u(this.object,"object",this),u(this.index,"index",this)}map(u){return new a(this._ifNode(u(this.object,"object",this)),this._ifNode(u(this.index,"index",this)))}clone(){return new a(this.object,this.index)}_toString(u){var p=this.object.toString(u);return o(this.object)&&(p="("+p+")"),p+this.index.toString(u)}toHTML(u){var p=this.object.toHTML(u);return o(this.object)&&(p='<span class="math-parenthesis math-round-parenthesis">(</span>'+p+'<span class="math-parenthesis math-round-parenthesis">)</span>'),p+this.index.toHTML(u)}_toTex(u){var p=this.object.toTex(u);return o(this.object)&&(p="\\left(' + object + '\\right)"),p+this.index.toTex(u)}toJSON(){return{mathjs:sM,object:this.object,index:this.index}}static fromJSON(u){return new a(u.object,u.index)}}return oo(a,"name",sM),a},{isClass:!0,isNode:!0}),lM="AssignmentNode",aX=xe(lM,["subset","?matrix","Node"],t=>{var{subset:r,matrix:e,Node:i}=t,o=gL({subset:r}),a=function iX(t){var{subset:r,matrix:e}=t;return function(o,a,l){try{if(Array.isArray(o))return e(o).subset(a,l).valueOf().forEach((p,f)=>{o[f]=p}),o;if(o&&"function"==typeof o.subset)return o.subset(a,l);if("string"==typeof o)return r(o,a,l);if("object"==typeof o){if(!a.isObjectProperty())throw TypeError("Cannot apply a numeric index as object property");return cg(o,a.getObjectProperty(),l),o}throw new TypeError("Cannot apply index: unsupported type of object")}catch(p){throw la(p)}}}({subset:r,matrix:e});function l(p,f,h){f||(f="keep");var y=Hr(p,f,h),D=Hr(p.value,f,h);return"all"===f||null!==D&&D<=y}class u extends i{constructor(f,h,y){if(super(),this.object=f,this.index=y?h:null,this.value=y||h,!_o(f)&&!eh(f))throw new TypeError('SymbolNode or AccessorNode expected as "object"');if(_o(f)&&"end"===f.name)throw new Error('Cannot assign to symbol "end"');if(this.index&&!lg(this.index))throw new TypeError('IndexNode expected as "index"');if(!Br(this.value))throw new TypeError('Node expected as "value"')}get name(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}get type(){return lM}get isAssignmentNode(){return!0}_compile(f,h){var y=this.object._compile(f,h),D=this.index?this.index._compile(f,h):null,E=this.value._compile(f,h),k=this.object.name;if(this.index){if(this.index.isObjectProperty()){var T=this.index.getObjectProperty();return function(q,j,z){var J=y(q,j,z),B=E(q,j,z);return cg(J,T,B),B}}if(_o(this.object))return function(q,j,z){var J=y(q,j,z),B=E(q,j,z),H=D(q,j,J);return q.set(k,a(J,H,B)),B};var L=this.object.object._compile(f,h);if(this.object.index.isObjectProperty()){var U=this.object.index.getObjectProperty();return function(q,j,z){var J=L(q,j,z),B=sa(J,U),H=D(q,j,B),V=E(q,j,z);return cg(J,U,a(B,H,V)),V}}var Y=this.object.index._compile(f,h);return function(q,j,z){var J=L(q,j,z),B=Y(q,j,J),H=o(J,B),V=D(q,j,H),K=E(q,j,z);return a(J,B,a(H,V,K)),K}}if(!_o(this.object))throw new TypeError("SymbolNode expected as object");return function(q,j,z){var J=E(q,j,z);return q.set(k,J),J}}forEach(f){f(this.object,"object",this),this.index&&f(this.index,"index",this),f(this.value,"value",this)}map(f){var h=this._ifNode(f(this.object,"object",this)),y=this.index?this._ifNode(f(this.index,"index",this)):null,D=this._ifNode(f(this.value,"value",this));return new u(h,y,D)}clone(){return new u(this.object,this.index,this.value)}_toString(f){var h=this.object.toString(f),y=this.index?this.index.toString(f):"",D=this.value.toString(f);return l(this,f&&f.parenthesis,f&&f.implicit)&&(D="("+D+")"),h+y+" = "+D}toJSON(){return{mathjs:lM,object:this.object,index:this.index,value:this.value}}static fromJSON(f){return new u(f.object,f.index,f.value)}toHTML(f){var h=this.object.toHTML(f),y=this.index?this.index.toHTML(f):"",D=this.value.toHTML(f);return l(this,f&&f.parenthesis,f&&f.implicit)&&(D='<span class="math-paranthesis math-round-parenthesis">(</span>'+D+'<span class="math-paranthesis math-round-parenthesis">)</span>'),h+y+'<span class="math-operator math-assignment-operator math-variable-assignment-operator math-binary-operator">=</span>'+D}_toTex(f){var h=this.object.toTex(f),y=this.index?this.index.toTex(f):"",D=this.value.toTex(f);return l(this,f&&f.parenthesis,f&&f.implicit)&&(D="\\left(".concat(D,"\\right)")),h+y+":="+D}}return oo(u,"name",lM),u},{isClass:!0,isNode:!0}),cX=xe("SymbolNode",["math","?Unit","Node"],t=>{var{math:r,Unit:e,Node:i}=t;function o(l){return!!e&&e.isValuelessUnit(l)}class a extends i{constructor(u){if(super(),"string"!=typeof u)throw new TypeError('String expected for parameter "name"');this.name=u}get type(){return"SymbolNode"}get isSymbolNode(){return!0}_compile(u,p){var f=this.name;if(!0===p[f])return function(y,D,E){return sa(D,f)};if(f in u)return function(y,D,E){return y.has(f)?y.get(f):sa(u,f)};var h=o(f);return function(y,D,E){return y.has(f)?y.get(f):h?new e(null,f):a.onUndefinedSymbol(f)}}forEach(u){}map(u){return this.clone()}static onUndefinedSymbol(u){throw new Error("Undefined symbol "+u)}clone(){return new a(this.name)}_toString(u){return this.name}toHTML(u){var p=Bs(this.name);return"true"===p||"false"===p?'<span class="math-symbol math-boolean">'+p+"</span>":"i"===p?'<span class="math-symbol math-imaginary-symbol">'+p+"</span>":"Infinity"===p?'<span class="math-symbol math-infinity-symbol">'+p+"</span>":"NaN"===p?'<span class="math-symbol math-nan-symbol">'+p+"</span>":"null"===p?'<span class="math-symbol math-null-symbol">'+p+"</span>":"undefined"===p?'<span class="math-symbol math-undefined-symbol">'+p+"</span>":'<span class="math-symbol">'+p+"</span>"}toJSON(){return{mathjs:"SymbolNode",name:this.name}}static fromJSON(u){return new a(u.name)}_toTex(u){var p=!1;typeof r[this.name]>"u"&&o(this.name)&&(p=!0);var f=hL(this.name,p);return"\\"===f[0]?f:" "+f}}return a},{isClass:!0,isNode:!0});function o0(t){for(var r=arguments.length,e=new Array(r>1?r-1:0),i=1;i<r;i++)e[i-1]=arguments[i];return"function"==typeof t.createSubScope?Y3(t.createSubScope(),...e):Y3(ug(),t,...e)}var cM="FunctionNode",dX=xe(cM,["math","Node","SymbolNode"],t=>{var r,{math:e,Node:i,SymbolNode:o}=t,a=p=>er(p,{truncate:78});function l(p,f,h){for(var k,y="",D=/\$(?:\{([a-z_][a-z_0-9]*)(?:\[([0-9]+)\])?\}|\$)/gi,E=0;null!==(k=D.exec(p));)if(y+=p.substring(E,k.index),E=k.index,"$$"===k[0])y+="$",E++;else{E+=k[0].length;var T=f[k[1]];if(!T)throw new ReferenceError("Template: Property "+k[1]+" does not exist.");if(void 0===k[2])switch(typeof T){case"string":y+=T;break;case"object":if(Br(T))y+=T.toTex(h);else{if(!Array.isArray(T))throw new TypeError("Template: "+k[1]+" has to be a Node, String or array of Nodes");y+=T.map(function(L,U){if(Br(L))return L.toTex(h);throw new TypeError("Template: "+k[1]+"["+U+"] is not a Node.")}).join(",")}break;default:throw new TypeError("Template: "+k[1]+" has to be a Node, String or array of Nodes")}else{if(!Br(T[k[2]]&&T[k[2]]))throw new TypeError("Template: "+k[1]+"["+k[2]+"] is not a Node.");y+=T[k[2]].toTex(h)}}return y+p.slice(E)}class u extends i{constructor(f,h){if(super(),"string"==typeof f&&(f=new o(f)),!Br(f))throw new TypeError('Node expected as parameter "fn"');if(!Array.isArray(h)||!h.every(Br))throw new TypeError('Array containing Nodes expected for parameter "args"');this.fn=f,this.args=h||[]}get name(){return this.fn.name||""}get type(){return cM}get isFunctionNode(){return!0}_compile(f,h){var y=this.args.map(B=>B._compile(f,h));if(!_o(this.fn)){if(eh(this.fn)&&lg(this.fn.index)&&this.fn.index.isObjectProperty()){var Y=this.fn.object._compile(f,h),N=this.fn.index.getObjectProperty(),q=this.args;return function(H,V,K){var ee=Y(H,V,K),re=function YQ(t,r){if(!sT(t,r))throw new Error('No access to method "'+r+'"');return t[r]}(ee,N);if(null!=re&&re.rawArgs)return re(q,f,o0(H,V),H);var le=y.map(ie=>ie(H,V,K));return re.apply(ee,le)}}var j=this.fn.toString(),z=this.fn._compile(f,h),J=this.args;return function(H,V,K){var ee=z(H,V,K);if("function"!=typeof ee)throw new TypeError("Expression '".concat(j,"' did not evaluate to a function; value is:")+"\n  ".concat(a(ee)));if(ee.rawArgs)return ee(J,f,o0(H,V),H);var re=y.map(le=>le(H,V,K));return ee.apply(ee,re)}}var D=this.fn.name;if(h[D]){var U=this.args;return function(H,V,K){var ee=sa(V,D);if("function"!=typeof ee)throw new TypeError("Argument '".concat(D,"' was not a function; received: ").concat(a(ee)));if(ee.rawArgs)return ee(U,f,o0(H,V),H);var re=y.map(le=>le(H,V,K));return ee.apply(ee,re)}}var E=D in f?sa(f,D):void 0,T=B=>{var H;if(B.has(D))H=B.get(D);else{if(!(D in f))return u.onUndefinedFunction(D);H=sa(f,D)}if("function"==typeof H)return H;throw new TypeError("'".concat(D,"' is not a function; its value is:\n  ").concat(a(H)))};if("function"==typeof E&&!0===E.rawArgs){var L=this.args;return function(H,V,K){return T(H)(L,f,o0(H,V),H)}}switch(y.length){case 0:return function(H,V,K){return T(H)()};case 1:return function(H,V,K){return T(H)((0,y[0])(H,V,K))};case 2:return function(H,V,K){var ee=T(H),le=y[1];return ee((0,y[0])(H,V,K),le(H,V,K))};default:return function(H,V,K){return T(H)(...y.map(le=>le(H,V,K)))}}}forEach(f){f(this.fn,"fn",this);for(var h=0;h<this.args.length;h++)f(this.args[h],"args["+h+"]",this)}map(f){for(var h=this._ifNode(f(this.fn,"fn",this)),y=[],D=0;D<this.args.length;D++)y[D]=this._ifNode(f(this.args[D],"args["+D+"]",this));return new u(h,y)}clone(){return new u(this.fn,this.args.slice(0))}toString(f){var h,y=this.fn.toString(f);return f&&"object"==typeof f.handler&&mn(f.handler,y)&&(h=f.handler[y](this,f)),typeof h<"u"?h:super.toString(f)}_toString(f){var h=this.args.map(function(D){return D.toString(f)});return(e0(this.fn)?"("+this.fn.toString(f)+")":this.fn.toString(f))+"("+h.join(", ")+")"}toJSON(){return{mathjs:cM,fn:this.fn,args:this.args}}toHTML(f){var h=this.args.map(function(y){return y.toHTML(f)});return'<span class="math-function">'+Bs(this.fn)+'</span><span class="math-paranthesis math-round-parenthesis">(</span>'+h.join('<span class="math-separator">,</span>')+'<span class="math-paranthesis math-round-parenthesis">)</span>'}toTex(f){var h;return f&&"object"==typeof f.handler&&mn(f.handler,this.name)&&(h=f.handler[this.name](this,f)),typeof h<"u"?h:super.toTex(f)}_toTex(f){var y,D,h=this.args.map(function(E){return E.toTex(f)});switch(pL[this.name]&&(y=pL[this.name]),e[this.name]&&("function"==typeof e[this.name].toTex||"object"==typeof e[this.name].toTex||"string"==typeof e[this.name].toTex)&&(y=e[this.name].toTex),typeof y){case"function":D=y(this,f);break;case"string":D=l(y,this,f);break;case"object":switch(typeof y[h.length]){case"function":D=y[h.length](this,f);break;case"string":D=l(y[h.length],this,f)}}return typeof D<"u"?D:l("\\mathrm{${name}}\\left(${args}\\right)",this,f)}getIdentifier(){return this.type+":"+this.name}}return r=u,oo(u,"name",cM),oo(u,"onUndefinedFunction",function(p){throw new Error("Undefined function "+p)}),oo(u,"fromJSON",function(p){return new r(p.fn,p.args)}),u},{isClass:!0,isNode:!0});function _L(t){var i,o,r=t.length,e=t[0].length,a=[];for(o=0;o<e;o++){var l=[];for(i=0;i<r;i++)l.push(t[i][o]);a.push(l)}return a}function _g(t){for(var r=0;r<t.length;r++)if(Bd(t[r]))return!0;return!1}function su(t,r){On(t)&&(t=t.valueOf());for(var e=0,i=t.length;e<i;e++){var o=t[e];Array.isArray(o)?su(o,r):r(o)}}function rr(t,r,e){return t&&"function"==typeof t.map?t.map(function(i){return rr(i,r,e)}):r(t)}function uM(t,r,e){var i=Array.isArray(t)?Vn(t):t.size();if(r<0||r>=i.length)throw new wl(r,i.length);return On(t)?t.create(dM(t.valueOf(),r,e)):dM(t,r,e)}function dM(t,r,e){var i,o,a,l;if(r<=0){if(Array.isArray(t[0])){for(l=_L(t),o=[],i=0;i<l.length;i++)o[i]=dM(l[i],r-1,e);return o}for(a=t[0],i=1;i<t.length;i++)a=e(a,t[i]);return a}for(o=[],i=0;i<t.length;i++)o[i]=dM(t[i],r-1,e);return o}function vL(t,r,e,i,o,a,l,u,p,f,h){var k,L,U,y=t._values,D=t._index,E=t._ptr;if(i)for(L=E[r+1],k=E[r];k<L;k++)e[U=D[k]]!==a?(e[U]=a,l.push(U),f?(i[U]=p?u(y[k],h):u(h,y[k]),o[U]=a):i[U]=y[k]):(i[U]=p?u(y[k],i[U]):u(i[U],y[k]),o[U]=a);else for(L=E[r+1],k=E[r];k<L;k++)e[U=D[k]]!==a?(e[U]=a,l.push(U)):o[U]=a}var fX=xe("parse",["typed","numeric","config","AccessorNode","ArrayNode","AssignmentNode","BlockNode","ConditionalNode","ConstantNode","FunctionAssignmentNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","ParenthesisNode","RangeNode","RelationalNode","SymbolNode"],t=>{var{typed:r,numeric:e,config:i,AccessorNode:o,ArrayNode:a,AssignmentNode:l,BlockNode:u,ConditionalNode:p,ConstantNode:f,FunctionAssignmentNode:h,FunctionNode:y,IndexNode:D,ObjectNode:E,OperatorNode:k,ParenthesisNode:T,RangeNode:L,RelationalNode:U,SymbolNode:Y}=t,N=r("parse",{string:function(qe){return Ee(qe,{})},"Array | Matrix":function(qe){return q(qe,{})},"string, Object":function(qe,Ct){return Ee(qe,void 0!==Ct.nodes?Ct.nodes:{})},"Array | Matrix, Object":q});function q(oe){var qe=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},Ct=void 0!==qe.nodes?qe.nodes:{};return rr(oe,function(Wt){if("string"!=typeof Wt)throw new TypeError("String expected");return Ee(Wt,Ct)})}var z={",":!0,"(":!0,")":!0,"[":!0,"]":!0,"{":!0,"}":!0,'"':!0,"'":!0,";":!0,"+":!0,"-":!0,"*":!0,".*":!0,"/":!0,"./":!0,"%":!0,"^":!0,".^":!0,"~":!0,"!":!0,"&":!0,"|":!0,"^|":!0,"=":!0,":":!0,"?":!0,"==":!0,"!=":!0,"<":!0,">":!0,"<=":!0,">=":!0,"<<":!0,">>":!0,">>>":!0},J={mod:!0,to:!0,in:!0,and:!0,xor:!0,or:!0,not:!0},B={true:!0,false:!1,null:null,undefined:void 0},H=["NaN","Infinity"],V={'"':'"',"'":"'","\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"};function ee(oe,qe){return oe.expression.substr(oe.index,qe)}function re(oe){return ee(oe,1)}function le(oe){oe.index++}function ie(oe){return oe.expression.charAt(oe.index-1)}function G(oe){return oe.expression.charAt(oe.index+1)}function W(oe){for(oe.tokenType=0,oe.token="",oe.comment="";;){if("#"===re(oe))for(;"\n"!==re(oe)&&""!==re(oe);)oe.comment+=re(oe),le(oe);if(!N.isWhitespace(re(oe),oe.nestingLevel))break;le(oe)}if(""!==re(oe)){if("\n"===re(oe)&&!oe.nestingLevel)return oe.tokenType=1,oe.token=re(oe),void le(oe);var qe=re(oe),Ct=ee(oe,2),Wt=ee(oe,3);if(3===Wt.length&&z[Wt])return oe.tokenType=1,oe.token=Wt,le(oe),le(oe),void le(oe);if(2===Ct.length&&z[Ct])return oe.tokenType=1,oe.token=Ct,le(oe),void le(oe);if(z[qe])return oe.tokenType=1,oe.token=qe,void le(oe);if(N.isDigitDot(qe)){oe.tokenType=2;var qn=ee(oe,2);if("0b"===qn||"0o"===qn||"0x"===qn){for(oe.token+=re(oe),le(oe),oe.token+=re(oe),le(oe);N.isHexDigit(re(oe));)oe.token+=re(oe),le(oe);if("."===re(oe))for(oe.token+=".",le(oe);N.isHexDigit(re(oe));)oe.token+=re(oe),le(oe);else if("i"===re(oe))for(oe.token+="i",le(oe);N.isDigit(re(oe));)oe.token+=re(oe),le(oe);return}if("."===re(oe)){if(oe.token+=re(oe),le(oe),!N.isDigit(re(oe)))return void(oe.tokenType=1)}else{for(;N.isDigit(re(oe));)oe.token+=re(oe),le(oe);N.isDecimalMark(re(oe),G(oe))&&(oe.token+=re(oe),le(oe))}for(;N.isDigit(re(oe));)oe.token+=re(oe),le(oe);if("E"===re(oe)||"e"===re(oe))if(N.isDigit(G(oe))||"-"===G(oe)||"+"===G(oe)){if(oe.token+=re(oe),le(oe),("+"===re(oe)||"-"===re(oe))&&(oe.token+=re(oe),le(oe)),!N.isDigit(re(oe)))throw yr(oe,'Digit expected, got "'+re(oe)+'"');for(;N.isDigit(re(oe));)oe.token+=re(oe),le(oe);if(N.isDecimalMark(re(oe),G(oe)))throw yr(oe,'Digit expected, got "'+re(oe)+'"')}else if("."===G(oe))throw le(oe),yr(oe,'Digit expected, got "'+re(oe)+'"')}else{if(!N.isAlpha(re(oe),ie(oe),G(oe))){for(oe.tokenType=4;""!==re(oe);)oe.token+=re(oe),le(oe);throw yr(oe,'Syntax error in part "'+oe.token+'"')}for(;N.isAlpha(re(oe),ie(oe),G(oe))||N.isDigit(re(oe));)oe.token+=re(oe),le(oe);oe.tokenType=mn(J,oe.token)?1:3}}else oe.tokenType=1}function ce(oe){do{W(oe)}while("\n"===oe.token)}function te(oe){oe.nestingLevel++}function me(oe){oe.nestingLevel--}function Ee(oe,qe){var Ct={extraNodes:{},expression:"",comment:"",index:0,token:"",tokenType:0,nestingLevel:0,conditionalLevel:null};go(Ct,{expression:oe,extraNodes:qe}),W(Ct);var Wt=function Le(oe){var qe,Ct=[];for(""!==oe.token&&"\n"!==oe.token&&";"!==oe.token&&(qe=ve(oe),oe.comment&&(qe.comment=oe.comment));"\n"===oe.token||";"===oe.token;)0===Ct.length&&qe&&Ct.push({node:qe,visible:";"!==oe.token}),W(oe),"\n"!==oe.token&&";"!==oe.token&&""!==oe.token&&(qe=ve(oe),oe.comment&&(qe.comment=oe.comment),Ct.push({node:qe,visible:";"!==oe.token}));return Ct.length>0?new u(Ct):(qe||(qe=new f(void 0),oe.comment&&(qe.comment=oe.comment)),qe)}(Ct);if(""!==Ct.token)throw 1===Ct.tokenType?op(Ct,"Unexpected operator "+Ct.token):yr(Ct,'Unexpected part "'+Ct.token+'"');return Wt}function ve(oe){var qe,Ct,Wt,qn,ir=function Fe(oe){for(var qe=function Je(oe){for(var qe=Ye(oe);"or"===oe.token;)ce(oe),qe=new k("or","or",[qe,Ye(oe)]);return qe}(oe);"?"===oe.token;){var Ct=oe.conditionalLevel;oe.conditionalLevel=oe.nestingLevel,ce(oe);var Wt=qe,qn=ve(oe);if(":"!==oe.token)throw yr(oe,"False part of conditional expression expected");oe.conditionalLevel=null,ce(oe);var ir=ve(oe);qe=new p(Wt,qn,ir),oe.conditionalLevel=Ct}return qe}(oe);if("="===oe.token){if(_o(ir))return qe=ir.name,ce(oe),Wt=ve(oe),new l(new Y(qe),Wt);if(eh(ir))return ce(oe),Wt=ve(oe),new l(ir.object,ir.index,Wt);if(Ud(ir)&&_o(ir.fn)&&(qn=!0,Ct=[],qe=ir.name,ir.args.forEach(function(Rl,kSe){_o(Rl)?Ct[kSe]=Rl.name:qn=!1}),qn))return ce(oe),Wt=ve(oe),new h(qe,Ct,Wt);throw yr(oe,"Invalid left hand side of assignment operator =")}return ir}function Ye(oe){for(var qe=at(oe);"xor"===oe.token;)ce(oe),qe=new k("xor","xor",[qe,at(oe)]);return qe}function at(oe){for(var qe=Dt(oe);"and"===oe.token;)ce(oe),qe=new k("and","and",[qe,Dt(oe)]);return qe}function Dt(oe){for(var qe=ft(oe);"|"===oe.token;)ce(oe),qe=new k("|","bitOr",[qe,ft(oe)]);return qe}function ft(oe){for(var qe=st(oe);"^|"===oe.token;)ce(oe),qe=new k("^|","bitXor",[qe,st(oe)]);return qe}function st(oe){for(var qe=Tt(oe);"&"===oe.token;)ce(oe),qe=new k("&","bitAnd",[qe,Tt(oe)]);return qe}function Tt(oe){for(var qe=[Qt(oe)],Ct=[],Wt={"==":"equal","!=":"unequal","<":"smaller",">":"larger","<=":"smallerEq",">=":"largerEq"};mn(Wt,oe.token);)Ct.push({name:oe.token,fn:Wt[oe.token]}),ce(oe),qe.push(Qt(oe));return 1===qe.length?qe[0]:2===qe.length?new k(Ct[0].name,Ct[0].fn,qe):new U(Ct.map(ir=>ir.fn),qe)}function Qt(oe){var qe,Ct,Wt,qn;qe=Ut(oe);for(var ir={"<<":"leftShift",">>":"rightArithShift",">>>":"rightLogShift"};mn(ir,oe.token);)Wt=ir[Ct=oe.token],ce(oe),qn=[qe,Ut(oe)],qe=new k(Ct,Wt,qn);return qe}function Ut(oe){var qe,Ct,Wt,qn;qe=Ht(oe);for(var ir={to:"to",in:"to"};mn(ir,oe.token);)Wt=ir[Ct=oe.token],ce(oe),"in"===Ct&&""===oe.token?qe=new k("*","multiply",[qe,new Y("in")],!0):(qn=[qe,Ht(oe)],qe=new k(Ct,Wt,qn));return qe}function Ht(oe){var qe,Ct=[];if(qe=":"===oe.token?new f(1):Se(oe),":"===oe.token&&oe.conditionalLevel!==oe.nestingLevel){for(Ct.push(qe);":"===oe.token&&Ct.length<3;)ce(oe),Ct.push(")"===oe.token||"]"===oe.token||","===oe.token||""===oe.token?new Y("end"):Se(oe));qe=3===Ct.length?new L(Ct[0],Ct[2],Ct[1]):new L(Ct[0],Ct[1])}return qe}function Se(oe){var qe,Ct,Wt,qn;qe=Be(oe);for(var ir={"+":"add","-":"subtract"};mn(ir,oe.token);){Wt=ir[Ct=oe.token],ce(oe);var Rl=Be(oe);qn=Rl.isPercentage?[qe,new k("*","multiply",[qe,Rl])]:[qe,Rl],qe=new k(Ct,Wt,qn)}return qe}function Be(oe){var qe,Ct,Wt,qn;Ct=qe=ut(oe);for(var ir={"*":"multiply",".*":"dotMultiply","/":"divide","./":"dotDivide"};mn(ir,oe.token);)qn=ir[Wt=oe.token],ce(oe),Ct=ut(oe),qe=new k(Wt,qn,[qe,Ct]);return qe}function ut(oe){var qe,Ct;for(Ct=qe=Te(oe);3===oe.tokenType||"in"===oe.token&&Cr(qe)||2===oe.tokenType&&!Cr(Ct)&&(!Zi(Ct)||"!"===Ct.op)||"("===oe.token;)Ct=Te(oe),qe=new k("*","multiply",[qe,Ct],!0);return qe}function Te(oe){for(var qe=Ve(oe),Ct=qe,Wt=[];"/"===oe.token&&oT(Ct);){if(Wt.push(go({},oe)),ce(oe),2!==oe.tokenType){go(oe,Wt.pop());break}if(Wt.push(go({},oe)),ce(oe),3!==oe.tokenType&&"("!==oe.token){Wt.pop(),go(oe,Wt.pop());break}go(oe,Wt.pop()),Wt.pop(),Ct=Ve(oe),qe=new k("/","divide",[qe,Ct])}return qe}function Ve(oe){var qe,Ct,Wt,qn;qe=tt(oe);for(var ir={"%":"mod",mod:"mod"};mn(ir,oe.token);)Wt=ir[Ct=oe.token],ce(oe),"%"===Ct&&1===oe.tokenType&&"("!==oe.token?qe=new k("/","divide",[qe,new f(100)],!1,!0):(qn=[qe,tt(oe)],qe=new k(Ct,Wt,qn));return qe}function tt(oe){var qe,Ct,Wt,qn={"-":"unaryMinus","+":"unaryPlus","~":"bitNot",not:"not"};return mn(qn,oe.token)?(Wt=qn[oe.token],qe=oe.token,ce(oe),Ct=[tt(oe)],new k(qe,Wt,Ct)):function Rt(oe){var qe,Ct,Wt,qn;return qe=function Ot(oe){var qe,Ct,Wt;qe=function en(oe){var qe=[];if(3===oe.tokenType&&mn(oe.extraNodes,oe.token)){var Ct=oe.extraNodes[oe.token];if(W(oe),"("===oe.token){if(qe=[],te(oe),W(oe),")"!==oe.token)for(qe.push(ve(oe));","===oe.token;)W(oe),qe.push(ve(oe));if(")"!==oe.token)throw yr(oe,"Parenthesis ) expected");me(oe),W(oe)}return new Ct(qe)}return function zt(oe){var Ct;return 3===oe.tokenType||1===oe.tokenType&&oe.token in J?(Ct=oe.token,W(oe),Dn(oe,mn(B,Ct)?new f(B[Ct]):-1!==H.indexOf(Ct)?new f(e(Ct,"number")):new Y(Ct))):function hr(oe){var Ct;return'"'===oe.token||"'"===oe.token?(Ct=Fr(oe,oe.token),Dn(oe,new f(Ct))):function Xr(oe){var qe,Ct,Wt,qn;if("["===oe.token){if(te(oe),W(oe),"]"!==oe.token){var ir=Kr(oe);if(";"===oe.token){for(Wt=1,Ct=[ir];";"===oe.token;)W(oe),Ct[Wt]=Kr(oe),Wt++;if("]"!==oe.token)throw yr(oe,"End of matrix ] expected");me(oe),W(oe),qn=Ct[0].items.length;for(var Rl=1;Rl<Wt;Rl++)if(Ct[Rl].items.length!==qn)throw op(oe,"Column dimensions mismatch ("+Ct[Rl].items.length+" !== "+qn+")");qe=new a(Ct)}else{if("]"!==oe.token)throw yr(oe,"End of matrix ] expected");me(oe),W(oe),qe=ir}}else me(oe),W(oe),qe=new a([]);return Dn(oe,qe)}return function ma(oe){if("{"===oe.token){te(oe);var qe,Ct={};do{if(W(oe),"}"!==oe.token){if('"'===oe.token||"'"===oe.token)qe=Fr(oe,oe.token);else{if(!(3===oe.tokenType||1===oe.tokenType&&oe.token in J))throw yr(oe,"Symbol or string expected as object key");qe=oe.token,W(oe)}if(":"!==oe.token)throw yr(oe,"Colon : expected after object key");W(oe),Ct[qe]=ve(oe)}}while(","===oe.token);if("}"!==oe.token)throw yr(oe,"Comma , or bracket } expected after object value");me(oe),W(oe);var Wt=new E(Ct);return Dn(oe,Wt)}return function qo(oe){var qe;return 2===oe.tokenType?(qe=oe.token,W(oe),new f(e(qe,i.number))):function ip(oe){var qe;if("("===oe.token){if(te(oe),W(oe),qe=ve(oe),")"!==oe.token)throw yr(oe,"Parenthesis ) expected");return me(oe),W(oe),Dn(oe,qe=new T(qe))}return function Dc(oe){throw yr(oe,""===oe.token?"Unexpected end of expression":"Value expected")}(oe)}(oe)}(oe)}(oe)}(oe)}(oe)}(oe)}(oe);for(var ir={"!":"factorial","'":"ctranspose"};mn(ir,oe.token);)Wt=ir[Ct=oe.token],W(oe),qe=Dn(oe,qe=new k(Ct,Wt,[qe]));return qe}(oe),("^"===oe.token||".^"===oe.token)&&(Wt="^"===(Ct=oe.token)?"pow":"dotPow",ce(oe),qn=[qe,tt(oe)],qe=new k(Ct,Wt,qn)),qe}(oe)}function Dn(oe,qe,Ct){for(var Wt;!("("!==oe.token&&"["!==oe.token&&"."!==oe.token||Ct&&-1===Ct.indexOf(oe.token));)if(Wt=[],"("===oe.token){if(!_o(qe)&&!eh(qe))return qe;if(te(oe),W(oe),")"!==oe.token)for(Wt.push(ve(oe));","===oe.token;)W(oe),Wt.push(ve(oe));if(")"!==oe.token)throw yr(oe,"Parenthesis ) expected");me(oe),W(oe),qe=new y(qe,Wt)}else if("["===oe.token){if(te(oe),W(oe),"]"!==oe.token)for(Wt.push(ve(oe));","===oe.token;)W(oe),Wt.push(ve(oe));if("]"!==oe.token)throw yr(oe,"Parenthesis ] expected");me(oe),W(oe),qe=new o(qe,new D(Wt))}else{if(W(oe),!(3===oe.tokenType||1===oe.tokenType&&oe.token in J))throw yr(oe,"Property name expected after dot");Wt.push(new f(oe.token)),W(oe),qe=new o(qe,new D(Wt,!0))}return qe}function Fr(oe,qe){for(var Ct="";""!==re(oe)&&re(oe)!==qe;)if("\\"===re(oe)){le(oe);var Wt=re(oe),qn=V[Wt];if(void 0!==qn)Ct+=qn,oe.index+=1;else{if("u"!==Wt)throw yr(oe,"Bad escape character \\".concat(Wt));var ir=oe.expression.slice(oe.index+1,oe.index+5);if(!/^[0-9A-Fa-f]{4}$/.test(ir))throw yr(oe,"Invalid unicode character \\u".concat(ir));Ct+=String.fromCharCode(parseInt(ir,16)),oe.index+=5}}else Ct+=re(oe),le(oe);if(W(oe),oe.token!==qe)throw yr(oe,"End of string ".concat(qe," expected"));return W(oe),Ct}function Kr(oe){for(var qe=[ve(oe)],Ct=1;","===oe.token;)W(oe),qe[Ct]=ve(oe),Ct++;return new a(qe)}function Nl(oe){return oe.index-oe.token.length+1}function yr(oe,qe){var Ct=Nl(oe),Wt=new SyntaxError(qe+" (char "+Ct+")");return Wt.char=Ct,Wt}function op(oe,qe){var Ct=Nl(oe),Wt=new SyntaxError(qe+" (char "+Ct+")");return Wt.char=Ct,Wt}return N.isAlpha=function(qe,Ct,Wt){return N.isValidLatinOrGreek(qe)||N.isValidMathSymbol(qe,Wt)||N.isValidMathSymbol(Ct,qe)},N.isValidLatinOrGreek=function(qe){return/^[a-zA-Z_$\u00C0-\u02AF\u0370-\u03FF\u2100-\u214F]$/.test(qe)},N.isValidMathSymbol=function(qe,Ct){return/^[\uD835]$/.test(qe)&&/^[\uDC00-\uDFFF]$/.test(Ct)&&/^[^\uDC55\uDC9D\uDCA0\uDCA1\uDCA3\uDCA4\uDCA7\uDCA8\uDCAD\uDCBA\uDCBC\uDCC4\uDD06\uDD0B\uDD0C\uDD15\uDD1D\uDD3A\uDD3F\uDD45\uDD47-\uDD49\uDD51\uDEA6\uDEA7\uDFCC\uDFCD]$/.test(Ct)},N.isWhitespace=function(qe,Ct){return" "===qe||"\t"===qe||"\n"===qe&&Ct>0},N.isDecimalMark=function(qe,Ct){return"."===qe&&"/"!==Ct&&"*"!==Ct&&"^"!==Ct},N.isDigitDot=function(qe){return qe>="0"&&qe<="9"||"."===qe},N.isDigit=function(qe){return qe>="0"&&qe<="9"},N.isHexDigit=function(qe){return qe>="0"&&qe<="9"||qe>="a"&&qe<="f"||qe>="A"&&qe<="F"},r.addConversion({from:"string",to:"Node",convert:N}),N}),gX=xe("resolve",["typed","parse","ConstantNode","FunctionNode","OperatorNode","ParenthesisNode"],t=>{var{typed:r,parse:e,ConstantNode:i,FunctionNode:o,OperatorNode:a,ParenthesisNode:l}=t;function u(p,f){var h=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Set;if(!f)return p;if(_o(p)){if(h.has(p.name)){var y=Array.from(h).join(", ");throw new ReferenceError("recursive loop of variable definitions among {".concat(y,"}"))}var D=f.get(p.name);if(Br(D)){var E=new Set(h);return E.add(p.name),u(D,f,E)}return"number"==typeof D?e(String(D)):void 0!==D?new i(D):p}if(Zi(p)){var k=p.args.map(function(L){return u(L,f,h)});return new a(p.op,p.fn,k,p.implicit)}if(ou(p))return new l(u(p.content,f,h));if(Ud(p)){var T=p.args.map(function(L){return u(L,f,h)});return new o(p.name,T)}return p.map(L=>u(L,f,h))}return r("resolve",{Node:u,"Node, Map | null | undefined":u,"Node, Object":(p,f)=>u(p,dg(f)),"Array | Matrix":r.referToSelf(p=>f=>f.map(h=>p(h))),"Array | Matrix, null | undefined":r.referToSelf(p=>f=>f.map(h=>p(h))),"Array, Object":r.referTo("Array,Map",p=>(f,h)=>p(f,dg(h))),"Matrix, Object":r.referTo("Matrix,Map",p=>(f,h)=>p(f,dg(h))),"Array | Matrix, Map":r.referToSelf(p=>(f,h)=>f.map(y=>p(y,h)))})});function bL(t,r){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);r&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),e.push.apply(e,i)}return e}function bT(t){for(var r=1;r<arguments.length;r++){var e=null!=arguments[r]?arguments[r]:{};r%2?bL(Object(e),!0).forEach(function(i){oo(t,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):bL(Object(e)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(e,i))})}return t}var CT=xe("simplifyUtil",["FunctionNode","OperatorNode","SymbolNode"],t=>{var{FunctionNode:r,OperatorNode:e,SymbolNode:i}=t,o=!0,a=!1,l="defaultF",u={add:{trivial:o,total:o,commutative:o,associative:o},unaryPlus:{trivial:o,total:o,commutative:o,associative:o},subtract:{trivial:a,total:o,commutative:a,associative:a},multiply:{trivial:o,total:o,commutative:o,associative:o},divide:{trivial:a,total:o,commutative:a,associative:a},paren:{trivial:o,total:o,commutative:o,associative:a},defaultF:{trivial:a,total:o,commutative:a,associative:a}};function h(N,q){var j=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u,z=l;if("string"==typeof N?z=N:Zi(N)?z=N.fn.toString():Ud(N)?z=N.name:ou(N)&&(z="paren"),mn(j,z)){var J=j[z];if(mn(J,q))return J[q];if(mn(u,z))return u[z][q]}if(mn(j,l)){var B=j[l];return mn(B,q)?B[q]:u[l][q]}if(mn(u,z)){var H=u[z];if(mn(H,q))return H[q]}return u[l][q]}function D(N){var q=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u;return h(N,"associative",q)}function T(N,q){var j,z=[];return D(N,q)?(j=N.op,function B(H){for(var V=0;V<H.args.length;V++){var K=H.args[V];Zi(K)&&j===K.op?B(K):z.push(K)}}(N),z):N.args}function Y(N){return Zi(N)?function(q){try{return new e(N.op,N.fn,q,N.implicit)}catch(j){return console.error(j),[]}}:function(q){return new r(new i(N.name),q)}}return{createMakeNodeFunction:Y,hasProperty:h,isCommutative:function y(N){var q=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u;return h(N,"commutative",q)},isAssociative:D,mergeContext:function E(N,q){var j=bT({},N);for(var z in q)j[z]=mn(N,z)?bT(bT({},q[z]),N[z]):q[z];return j},flatten:function k(N,q){if(!N.args||0===N.args.length)return N;N.args=T(N,q);for(var j=0;j<N.args.length;j++)k(N.args[j],q)},allChildren:T,unflattenr:function L(N,q){if(N.args&&0!==N.args.length){for(var j=Y(N),z=N.args.length,J=0;J<z;J++)L(N.args[J],q);if(z>2&&D(N,q)){for(var B=N.args.pop();N.args.length>0;)B=j([N.args.pop(),B]);N.args=B.args}}},unflattenl:function U(N,q){if(N.args&&0!==N.args.length){for(var j=Y(N),z=N.args.length,J=0;J<z;J++)U(N.args[J],q);if(z>2&&D(N,q)){for(var B=N.args.shift();N.args.length>0;)B=j([B,N.args.shift()]);N.args=B.args}}},defaultContext:u,realContext:{divide:{total:a},log:{total:a}},positiveContext:{subtract:{total:a},abs:{trivial:o},log:{total:o}}}});function xT(){throw new Error('No "bignumber" implementation available')}function CL(){throw new Error('No "fraction" implementation available')}function xL(){throw new Error('No "matrix" implementation available')}var CX=xe("simplifyConstant",["typed","config","mathWithTransform","matrix","?fraction","?bignumber","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","SymbolNode"],t=>{var{typed:r,config:e,mathWithTransform:i,matrix:o,fraction:a,bignumber:l,AccessorNode:u,ArrayNode:p,ConstantNode:f,FunctionNode:h,IndexNode:y,ObjectNode:D,OperatorNode:E,SymbolNode:k}=t,{isCommutative:T,isAssociative:L,allChildren:U,createMakeNodeFunction:Y}=CT({FunctionNode:h,OperatorNode:E,SymbolNode:k}),N=r("simplifyConstant",{Node:ie=>J(le(ie,{})),"Node, Object":function(G,W){return J(le(G,W))}});function q(ie){return Ky(ie)?ie.valueOf():ie instanceof Array?ie.map(q):On(ie)?o(q(ie.valueOf())):ie}function j(ie,G,W){try{return i[ie].apply(null,G)}catch{return G=G.map(q),H(i[ie].apply(null,G),W)}}var z=r({Fraction:function K(ie){var G,W=ie.s*ie.n;return G=W<0?new E("-","unaryMinus",[new f(-W)]):new f(W),1===ie.d?G:new E("/","divide",[G,new f(ie.d)])},number:function(G){return G<0?V(new f(-G)):new f(G)},BigNumber:function(G){return G<0?V(new f(-G)):new f(G)},Complex:function(G){throw new Error("Cannot convert Complex number to Node")},string:function(G){return new f(G)},Matrix:function(G){return new p(G.valueOf().map(W=>z(W)))}});function J(ie){return Br(ie)?ie:z(ie)}function B(ie,G){if(G&&!1!==G.exactFractions&&isFinite(ie)&&a){var ce=a(ie),te=G&&"number"==typeof G.fractionsLimit?G.fractionsLimit:1/0;if(ce.valueOf()===ie&&ce.n<te&&ce.d<te)return ce}return ie}var H=r({"string, Object":function(G,W){return"BigNumber"===e.number?(void 0===l&&xT(),l(G)):"Fraction"===e.number?(void 0===a&&CL(),a(G)):B(parseFloat(G),W)},"Fraction, Object":function(G,W){return G},"BigNumber, Object":function(G,W){return G},"number, Object":function(G,W){return B(G,W)},"Complex, Object":function(G,W){return 0!==G.im?G:B(G.re,W)},"Matrix, Object":function(G,W){return o(B(G.valueOf()))},"Array, Object":function(G,W){return G.map(B)}});function V(ie){return new E("-","unaryMinus",[ie])}function re(ie,G,W,ce){var te=G.shift(),me=G.reduce((Ee,Le)=>{if(!Br(Le)){var ve=Ee.pop();if(Br(ve))return[ve,Le];try{return Ee.push(j(ie,[ve,Le],ce)),Ee}catch{Ee.push(ve)}}Ee.push(J(Ee.pop()));var Fe=1===Ee.length?Ee[0]:W(Ee);return[W([Fe,J(Le)])]},[te]);return 1===me.length?me[0]:W([me[0],z(me[1])])}function le(ie,G){switch(ie.type){case"SymbolNode":return ie;case"ConstantNode":switch(typeof ie.value){case"number":return H(ie.value,G);case"string":return ie.value;default:if(!isNaN(ie.value))return H(ie.value,G)}return ie;case"FunctionNode":if(i[ie.name]&&i[ie.name].rawArgs)return ie;if(-1===["add","multiply"].indexOf(ie.name)){var ce=ie.args.map(Tt=>le(Tt,G));if(!ce.some(Br))try{return j(ie.name,ce,G)}catch{}if("size"===ie.name&&1===ce.length&&Ls(ce[0])){for(var te=[],me=ce[0];Ls(me);)te.push(me.items.length),me=me.items[0];return o(te)}return new h(ie.name,ce.map(J))}case"OperatorNode":var Le,ve,Ee=ie.fn.toString(),Fe=Y(ie);if(Zi(ie)&&ie.isUnary())ve=Br((Le=[le(ie.args[0],G)])[0])?Fe(Le):j(Ee,Le,G);else if(L(ie,G.context))if(Le=(Le=U(ie,G.context)).map(Tt=>le(Tt,G)),T(Ee,G.context)){for(var Je=[],Ye=[],at=0;at<Le.length;at++)Br(Le[at])?Ye.push(Le[at]):Je.push(Le[at]);Je.length>1?(ve=re(Ee,Je,Fe,G),Ye.unshift(ve),ve=re(Ee,Ye,Fe,G)):ve=re(Ee,Le,Fe,G)}else ve=re(Ee,Le,Fe,G);else ve=re(Ee,Le=ie.args.map(Tt=>le(Tt,G)),Fe,G);return ve;case"ParenthesisNode":return le(ie.content,G);case"AccessorNode":return function ee(ie,G,W){if(!lg(G))return new u(J(ie),J(G));if(Ls(ie)||On(ie)){for(var ce=Array.from(G.dimensions);ce.length>0;)if(Cr(ce[0])&&"string"!=typeof ce[0].value){var te=H(ce.shift().value,W);Ls(ie)?ie=ie.items[te-1]:(ie=ie.valueOf()[te-1])instanceof Array&&(ie=o(ie))}else{if(!(ce.length>1&&Cr(ce[1])&&"string"!=typeof ce[1].value))break;var me=H(ce[1].value,W),Ee=[],Le=Ls(ie)?ie.items:ie.valueOf();for(var ve of Le)if(Ls(ve))Ee.push(ve.items[me-1]);else{if(!On(ie))break;Ee.push(ve[me-1])}if(Ee.length!==Le.length)break;ie=Ls(ie)?new p(Ee):o(Ee),ce.splice(1,1)}return ce.length===G.dimensions.length?new u(J(ie),G):ce.length>0?(G=new y(ce),new u(J(ie),G)):ie}if(Vw(ie)&&1===G.dimensions.length&&Cr(G.dimensions[0])){var Fe=G.dimensions[0].value;return Fe in ie.properties?ie.properties[Fe]:new f}return new u(J(ie),G)}(le(ie.object,G),le(ie.index,G),G);case"ArrayNode":var Dt=ie.items.map(Tt=>le(Tt,G));return Dt.some(Br)?new p(Dt.map(J)):o(Dt);case"IndexNode":return new y(ie.dimensions.map(Tt=>N(Tt,G)));case"ObjectNode":var ft={};for(var st in ie.properties)ft[st]=N(ie.properties[st],G);return new D(ft);default:throw new Error("Unimplemented node type in simplifyConstant: ".concat(ie.type))}}return N}),wL="compile",wX=xe(wL,["typed","parse"],t=>{var{typed:r,parse:e}=t;return r(wL,{string:function(o){return e(o).compile()},"Array | Matrix":function(o){return rr(o,function(a){return e(a).compile()})}})}),DX=xe("Help",["parse"],t=>{var{parse:r}=t;function e(i){if(!(this instanceof e))throw new SyntaxError("Constructor must be called with the new operator");if(!i)throw new Error('Argument "doc" missing');this.doc=i}return e.prototype.type="Help",e.prototype.isHelp=!0,e.prototype.toString=function(){var i=this.doc||{},o="\n";if(i.name&&(o+="Name: "+i.name+"\n\n"),i.category&&(o+="Category: "+i.category+"\n\n"),i.description&&(o+="Description:\n    "+i.description+"\n\n"),i.syntax&&(o+="Syntax:\n    "+i.syntax.join("\n    ")+"\n\n"),i.examples){o+="Examples:\n";for(var a={},l=0;l<i.examples.length;l++){var u=i.examples[l];o+="    "+u+"\n";var p=void 0;try{p=r(u).compile().evaluate(a)}catch(f){p=f}void 0!==p&&!R3(p)&&(o+="        "+er(p,{precision:14})+"\n")}o+="\n"}return i.mayThrow&&i.mayThrow.length&&(o+="Throws: "+i.mayThrow.join(", ")+"\n\n"),i.seealso&&i.seealso.length&&(o+="See also: "+i.seealso.join(", ")+"\n"),o},e.prototype.toJSON=function(){var i=Bn(this.doc);return i.mathjs="Help",i},e.fromJSON=function(i){var o={};return Object.keys(i).filter(a=>"mathjs"!==a).forEach(a=>{o[a]=i[a]}),new e(o)},e.prototype.valueOf=e.prototype.toString,e},{isClass:!0}),ML="leafCount",EX=xe(ML,["parse","typed"],t=>{var{typed:e}=t;function i(o){var a=0;return o.forEach(l=>{a+=i(l)}),a||1}return e(ML,{Node:function(a){return i(a)}})}),SL="simplifyCore",PX=xe(SL,["typed","parse","equal","isZero","add","subtract","multiply","divide","pow","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","ParenthesisNode","SymbolNode"],t=>{var{typed:r,equal:i,isZero:o,AccessorNode:h,ArrayNode:y,ConstantNode:D,FunctionNode:E,IndexNode:k,ObjectNode:T,OperatorNode:L,SymbolNode:Y}=t,N=new D(0),q=new D(1),j=new D(!0),z=new D(!1);function J(K){return Zi(K)&&["and","not","or"].includes(K.op)}var{hasProperty:B,isCommutative:H}=CT({FunctionNode:E,OperatorNode:L,SymbolNode:Y});function V(K){var ee=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},re=ee?ee.context:void 0;if(B(K,"trivial",re)){if(Ud(K)&&1===K.args.length)return V(K.args[0],ee);var le=!1,ie=0;if(K.forEach(Ye=>{1==++ie&&(le=V(Ye,ee))}),1===ie)return le}var G=K;if(Ud(G)){var W=SJ(G.name);if(!W)return new E(V(G.fn),G.args.map(Ye=>V(Ye,ee)));if(G.args.length>2&&B(G,"associative",re))for(;G.args.length>2;){var ce=G.args.pop(),te=G.args.pop();G.args.push(new L(W,G.name,[ce,te]))}G=new L(W,G.name,G.args)}if(Zi(G)&&G.isUnary()){var me=V(G.args[0],ee);if("~"===G.op&&Zi(me)&&me.isUnary()&&"~"===me.op||"not"===G.op&&Zi(me)&&me.isUnary()&&"not"===me.op&&J(me.args[0]))return me.args[0];var Ee=!0;if("-"===G.op&&Zi(me)&&(me.isBinary()&&"subtract"===me.fn&&(G=new L("-","subtract",[me.args[1],me.args[0]]),Ee=!1),me.isUnary()&&"-"===me.op))return me.args[0];if(Ee)return new L(G.op,G.fn,[me])}if(Zi(G)&&G.isBinary()){var Le=V(G.args[0],ee),ve=V(G.args[1],ee);if("+"===G.op){if(Cr(Le)&&o(Le.value))return ve;if(Cr(ve)&&o(ve.value))return Le;Zi(ve)&&ve.isUnary()&&"-"===ve.op&&(G=new L("-","subtract",[Le,ve=ve.args[0]]))}if("-"===G.op)return Zi(ve)&&ve.isUnary()&&"-"===ve.op?V(new L("+","add",[Le,ve.args[0]]),ee):Cr(Le)&&o(Le.value)?V(new L("-","unaryMinus",[ve])):Cr(ve)&&o(ve.value)?Le:new L(G.op,G.fn,[Le,ve]);if("*"===G.op){if(Cr(Le)){if(o(Le.value))return N;if(i(Le.value,1))return ve}if(Cr(ve)){if(o(ve.value))return N;if(i(ve.value,1))return Le;if(H(G,re))return new L(G.op,G.fn,[ve,Le],G.implicit)}return new L(G.op,G.fn,[Le,ve],G.implicit)}if("/"===G.op)return Cr(Le)&&o(Le.value)?N:Cr(ve)&&i(ve.value,1)?Le:new L(G.op,G.fn,[Le,ve]);if("^"===G.op&&Cr(ve)){if(o(ve.value))return q;if(i(ve.value,1))return Le}if("and"===G.op){if(Cr(Le)){if(!Le.value)return z;if(J(ve))return ve}if(Cr(ve)){if(!ve.value)return z;if(J(Le))return Le}}if("or"===G.op){if(Cr(Le)){if(Le.value)return j;if(J(ve))return ve}if(Cr(ve)){if(ve.value)return j;if(J(Le))return Le}}return new L(G.op,G.fn,[Le,ve])}if(Zi(G))return new L(G.op,G.fn,G.args.map(Ye=>V(Ye,ee)));if(Ls(G))return new y(G.items.map(Ye=>V(Ye,ee)));if(eh(G))return new h(V(G.object,ee),V(G.index,ee));if(lg(G))return new k(G.dimensions.map(Ye=>V(Ye,ee)));if(Vw(G)){var Fe={};for(var Je in G.properties)Fe[Je]=V(G.properties[Je],ee);return new T(Fe)}return G}return r(SL,{Node:V,"Node,Object":V})}),DL="evaluate",IX=xe(DL,["typed","parse"],t=>{var{typed:r,parse:e}=t;return r(DL,{string:function(o){var a=ug();return e(o).compile().evaluate(a)},"string, Map | Object":function(o,a){return e(o).compile().evaluate(a)},"Array | Matrix":function(o){var a=ug();return rr(o,function(l){return e(l).compile().evaluate(a)})},"Array | Matrix, Map | Object":function(o,a){return rr(o,function(l){return e(l).compile().evaluate(a)})}})}),OL={name:"e",category:"Constants",syntax:["e"],description:"Euler's number, the base of the natural logarithm. Approximately equal to 2.71828",examples:["e","e ^ 2","exp(2)","log(e)"],seealso:["exp"]},EL={name:"pi",category:"Constants",syntax:["pi"],description:"The number pi is a mathematical constant that is the ratio of a circle's circumference to its diameter, and is approximately equal to 3.14159",examples:["pi","sin(pi/2)"],seealso:["tau"]},ire={bignumber:{name:"bignumber",category:"Construction",syntax:["bignumber(x)"],description:"Create a big number from a number or string.",examples:["0.1 + 0.2","bignumber(0.1) + bignumber(0.2)",'bignumber("7.2")','bignumber("7.2e500")',"bignumber([0.1, 0.2, 0.3])"],seealso:["boolean","complex","fraction","index","matrix","string","unit"]},boolean:{name:"boolean",category:"Construction",syntax:["x","boolean(x)"],description:"Convert a string or number into a boolean.",examples:["boolean(0)","boolean(1)","boolean(3)",'boolean("true")','boolean("false")',"boolean([1, 0, 1, 1])"],seealso:["bignumber","complex","index","matrix","number","string","unit"]},complex:{name:"complex",category:"Construction",syntax:["complex()","complex(re, im)","complex(string)"],description:"Create a complex number.",examples:["complex()","complex(2, 3)",'complex("7 - 2i")'],seealso:["bignumber","boolean","index","matrix","number","string","unit"]},createUnit:{name:"createUnit",category:"Construction",syntax:["createUnit(definitions)","createUnit(name, definition)"],description:"Create a user-defined unit and register it with the Unit type.",examples:['createUnit("foo")','createUnit("knot", {definition: "0.514444444 m/s", aliases: ["knots", "kt", "kts"]})','createUnit("mph", "1 mile/hour")'],seealso:["unit","splitUnit"]},fraction:{name:"fraction",category:"Construction",syntax:["fraction(num)","fraction(matrix)","fraction(num,den)","fraction({n: num, d: den})"],description:"Create a fraction from a number or from integer numerator and denominator.",examples:["fraction(0.125)","fraction(1, 3) + fraction(2, 5)","fraction({n: 333, d: 53})","fraction([sqrt(9), sqrt(10), sqrt(11)])"],seealso:["bignumber","boolean","complex","index","matrix","string","unit"]},index:{name:"index",category:"Construction",syntax:["[start]","[start:end]","[start:step:end]","[start1, start 2, ...]","[start1:end1, start2:end2, ...]","[start1:step1:end1, start2:step2:end2, ...]"],description:"Create an index to get or replace a subset of a matrix",examples:["A = [1, 2, 3; 4, 5, 6]","A[1, :]","A[1, 2] = 50","A[1:2, 1:2] = 1","B = [1, 2, 3]","B[B>1 and B<3]"],seealso:["bignumber","boolean","complex","matrix,","number","range","string","unit"]},matrix:{name:"matrix",category:"Construction",syntax:["[]","[a1, b1, ...; a2, b2, ...]","matrix()",'matrix("dense")',"matrix([...])"],description:"Create a matrix.",examples:["[]","[1, 2, 3]","[1, 2, 3; 4, 5, 6]","matrix()","matrix([3, 4])",'matrix([3, 4; 5, 6], "sparse")','matrix([3, 4; 5, 6], "sparse", "number")'],seealso:["bignumber","boolean","complex","index","number","string","unit","sparse"]},number:{name:"number",category:"Construction",syntax:["x","number(x)","number(unit, valuelessUnit)"],description:"Create a number or convert a string or boolean into a number.",examples:["2","2e3","4.05","number(2)",'number("7.2")',"number(true)","number([true, false, true, true])",'number(unit("52cm"), "m")'],seealso:["bignumber","boolean","complex","fraction","index","matrix","string","unit"]},sparse:{name:"sparse",category:"Construction",syntax:["sparse()","sparse([a1, b1, ...; a1, b2, ...])",'sparse([a1, b1, ...; a1, b2, ...], "number")'],description:"Create a sparse matrix.",examples:["sparse()","sparse([3, 4; 5, 6])",'sparse([3, 0; 5, 0], "number")'],seealso:["bignumber","boolean","complex","index","number","string","unit","matrix"]},splitUnit:{name:"splitUnit",category:"Construction",syntax:["splitUnit(unit: Unit, parts: Unit[])"],description:"Split a unit in an array of units whose sum is equal to the original unit.",examples:['splitUnit(1 m, ["feet", "inch"])'],seealso:["unit","createUnit"]},string:{name:"string",category:"Construction",syntax:['"text"',"string(x)"],description:"Create a string or convert a value to a string",examples:['"Hello World!"',"string(4.2)","string(3 + 2i)"],seealso:["bignumber","boolean","complex","index","matrix","number","unit"]},unit:{name:"unit",category:"Construction",syntax:["value unit","unit(value, unit)","unit(string)"],description:"Create a unit.",examples:["5.5 mm","3 inch",'unit(7.1, "kilogram")','unit("23 deg")'],seealso:["bignumber","boolean","complex","index","matrix","number","string"]},e:OL,E:OL,false:{name:"false",category:"Constants",syntax:["false"],description:"Boolean value false",examples:["false"],seealso:["true"]},i:{name:"i",category:"Constants",syntax:["i"],description:"Imaginary unit, defined as i*i=-1. A complex number is described as a + b*i, where a is the real part, and b is the imaginary part.",examples:["i","i * i","sqrt(-1)"],seealso:[]},Infinity:{name:"Infinity",category:"Constants",syntax:["Infinity"],description:"Infinity, a number which is larger than the maximum number that can be handled by a floating point number.",examples:["Infinity","1 / 0"],seealso:[]},LN2:{name:"LN2",category:"Constants",syntax:["LN2"],description:"Returns the natural logarithm of 2, approximately equal to 0.693",examples:["LN2","log(2)"],seealso:[]},LN10:{name:"LN10",category:"Constants",syntax:["LN10"],description:"Returns the natural logarithm of 10, approximately equal to 2.302",examples:["LN10","log(10)"],seealso:[]},LOG2E:{name:"LOG2E",category:"Constants",syntax:["LOG2E"],description:"Returns the base-2 logarithm of E, approximately equal to 1.442",examples:["LOG2E","log(e, 2)"],seealso:[]},LOG10E:{name:"LOG10E",category:"Constants",syntax:["LOG10E"],description:"Returns the base-10 logarithm of E, approximately equal to 0.434",examples:["LOG10E","log(e, 10)"],seealso:[]},NaN:{name:"NaN",category:"Constants",syntax:["NaN"],description:"Not a number",examples:["NaN","0 / 0"],seealso:[]},null:{name:"null",category:"Constants",syntax:["null"],description:"Value null",examples:["null"],seealso:["true","false"]},pi:EL,PI:EL,phi:{name:"phi",category:"Constants",syntax:["phi"],description:"Phi is the golden ratio. Two quantities are in the golden ratio if their ratio is the same as the ratio of their sum to the larger of the two quantities. Phi is defined as `(1 + sqrt(5)) / 2` and is approximately 1.618034...",examples:["phi"],seealso:[]},SQRT1_2:{name:"SQRT1_2",category:"Constants",syntax:["SQRT1_2"],description:"Returns the square root of 1/2, approximately equal to 0.707",examples:["SQRT1_2","sqrt(1/2)"],seealso:[]},SQRT2:{name:"SQRT2",category:"Constants",syntax:["SQRT2"],description:"Returns the square root of 2, approximately equal to 1.414",examples:["SQRT2","sqrt(2)"],seealso:[]},tau:{name:"tau",category:"Constants",syntax:["tau"],description:"Tau is the ratio constant of a circle's circumference to radius, equal to 2 * pi, approximately 6.2832.",examples:["tau","2 * pi"],seealso:["pi"]},true:{name:"true",category:"Constants",syntax:["true"],description:"Boolean value true",examples:["true"],seealso:["false"]},version:{name:"version",category:"Constants",syntax:["version"],description:"A string with the version number of math.js",examples:["version"],seealso:[]},speedOfLight:{description:"Speed of light in vacuum",examples:["speedOfLight"]},gravitationConstant:{description:"Newtonian constant of gravitation",examples:["gravitationConstant"]},planckConstant:{description:"Planck constant",examples:["planckConstant"]},reducedPlanckConstant:{description:"Reduced Planck constant",examples:["reducedPlanckConstant"]},magneticConstant:{description:"Magnetic constant (vacuum permeability)",examples:["magneticConstant"]},electricConstant:{description:"Electric constant (vacuum permeability)",examples:["electricConstant"]},vacuumImpedance:{description:"Characteristic impedance of vacuum",examples:["vacuumImpedance"]},coulomb:{description:"Coulomb's constant",examples:["coulomb"]},elementaryCharge:{description:"Elementary charge",examples:["elementaryCharge"]},bohrMagneton:{description:"Borh magneton",examples:["bohrMagneton"]},conductanceQuantum:{description:"Conductance quantum",examples:["conductanceQuantum"]},inverseConductanceQuantum:{description:"Inverse conductance quantum",examples:["inverseConductanceQuantum"]},magneticFluxQuantum:{description:"Magnetic flux quantum",examples:["magneticFluxQuantum"]},nuclearMagneton:{description:"Nuclear magneton",examples:["nuclearMagneton"]},klitzing:{description:"Von Klitzing constant",examples:["klitzing"]},bohrRadius:{description:"Borh radius",examples:["bohrRadius"]},classicalElectronRadius:{description:"Classical electron radius",examples:["classicalElectronRadius"]},electronMass:{description:"Electron mass",examples:["electronMass"]},fermiCoupling:{description:"Fermi coupling constant",examples:["fermiCoupling"]},fineStructure:{description:"Fine-structure constant",examples:["fineStructure"]},hartreeEnergy:{description:"Hartree energy",examples:["hartreeEnergy"]},protonMass:{description:"Proton mass",examples:["protonMass"]},deuteronMass:{description:"Deuteron Mass",examples:["deuteronMass"]},neutronMass:{description:"Neutron mass",examples:["neutronMass"]},quantumOfCirculation:{description:"Quantum of circulation",examples:["quantumOfCirculation"]},rydberg:{description:"Rydberg constant",examples:["rydberg"]},thomsonCrossSection:{description:"Thomson cross section",examples:["thomsonCrossSection"]},weakMixingAngle:{description:"Weak mixing angle",examples:["weakMixingAngle"]},efimovFactor:{description:"Efimov factor",examples:["efimovFactor"]},atomicMass:{description:"Atomic mass constant",examples:["atomicMass"]},avogadro:{description:"Avogadro's number",examples:["avogadro"]},boltzmann:{description:"Boltzmann constant",examples:["boltzmann"]},faraday:{description:"Faraday constant",examples:["faraday"]},firstRadiation:{description:"First radiation constant",examples:["firstRadiation"]},loschmidt:{description:"Loschmidt constant at T=273.15 K and p=101.325 kPa",examples:["loschmidt"]},gasConstant:{description:"Gas constant",examples:["gasConstant"]},molarPlanckConstant:{description:"Molar Planck constant",examples:["molarPlanckConstant"]},molarVolume:{description:"Molar volume of an ideal gas at T=273.15 K and p=101.325 kPa",examples:["molarVolume"]},sackurTetrode:{description:"Sackur-Tetrode constant at T=1 K and p=101.325 kPa",examples:["sackurTetrode"]},secondRadiation:{description:"Second radiation constant",examples:["secondRadiation"]},stefanBoltzmann:{description:"Stefan-Boltzmann constant",examples:["stefanBoltzmann"]},wienDisplacement:{description:"Wien displacement law constant",examples:["wienDisplacement"]},molarMass:{description:"Molar mass constant",examples:["molarMass"]},molarMassC12:{description:"Molar mass constant of carbon-12",examples:["molarMassC12"]},gravity:{description:"Standard acceleration of gravity (standard acceleration of free-fall on Earth)",examples:["gravity"]},planckLength:{description:"Planck length",examples:["planckLength"]},planckMass:{description:"Planck mass",examples:["planckMass"]},planckTime:{description:"Planck time",examples:["planckTime"]},planckCharge:{description:"Planck charge",examples:["planckCharge"]},planckTemperature:{description:"Planck temperature",examples:["planckTemperature"]},derivative:{name:"derivative",category:"Algebra",syntax:["derivative(expr, variable)","derivative(expr, variable, {simplify: boolean})"],description:"Takes the derivative of an expression expressed in parser Nodes. The derivative will be taken over the supplied variable in the second parameter. If there are multiple variables in the expression, it will return a partial derivative.",examples:['derivative("2x^3", "x")','derivative("2x^3", "x", {simplify: false})','derivative("2x^2 + 3x + 4", "x")','derivative("sin(2x)", "x")','f = parse("x^2 + x")','x = parse("x")',"df = derivative(f, x)","df.evaluate({x: 3})"],seealso:["simplify","parse","evaluate"]},lsolve:{name:"lsolve",category:"Algebra",syntax:["x=lsolve(L, b)"],description:"Finds one solution of the linear system L * x = b where L is an [n x n] lower triangular matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lsolve(a, b)"],seealso:["lsolveAll","lup","lusolve","usolve","matrix","sparse"]},lsolveAll:{name:"lsolveAll",category:"Algebra",syntax:["x=lsolveAll(L, b)"],description:"Finds all solutions of the linear system L * x = b where L is an [n x n] lower triangular matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lsolve(a, b)"],seealso:["lsolve","lup","lusolve","usolve","matrix","sparse"]},lup:{name:"lup",category:"Algebra",syntax:["lup(m)"],description:"Calculate the Matrix LU decomposition with partial pivoting. Matrix A is decomposed in three matrices (L, U, P) where P * A = L * U",examples:["lup([[2, 1], [1, 4]])","lup(matrix([[2, 1], [1, 4]]))","lup(sparse([[2, 1], [1, 4]]))"],seealso:["lusolve","lsolve","usolve","matrix","sparse","slu","qr"]},lusolve:{name:"lusolve",category:"Algebra",syntax:["x=lusolve(A, b)","x=lusolve(lu, b)"],description:"Solves the linear system A * x = b where A is an [n x n] matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lusolve(a, b)"],seealso:["lup","slu","lsolve","usolve","matrix","sparse"]},leafCount:{name:"leafCount",category:"Algebra",syntax:["leafCount(expr)"],description:"Computes the number of leaves in the parse tree of the given expression",examples:['leafCount("e^(i*pi)-1")','leafCount(parse("{a: 22/7, b: 10^(1/2)}"))'],seealso:["simplify"]},polynomialRoot:{name:"polynomialRoot",category:"Algebra",syntax:["x=polynomialRoot(-6, 3)","x=polynomialRoot(4, -4, 1)","x=polynomialRoot(-8, 12, -6, 1)"],description:"Finds the roots of a univariate polynomial given by its coefficients starting from constant, linear, and so on, increasing in degree.",examples:["a = polynomialRoot(-6, 11, -6, 1)"],seealso:["cbrt","sqrt"]},resolve:{name:"resolve",category:"Algebra",syntax:["resolve(node, scope)"],description:"Recursively substitute variables in an expression tree.",examples:['resolve(parse("1 + x"), { x: 7 })','resolve(parse("size(text)"), { text: "Hello World" })','resolve(parse("x + y"), { x: parse("3z") })','resolve(parse("3x"), { x: parse("y+z"), z: parse("w^y") })'],seealso:["simplify","evaluate"],mayThrow:["ReferenceError"]},simplify:{name:"simplify",category:"Algebra",syntax:["simplify(expr)","simplify(expr, rules)"],description:"Simplify an expression tree.",examples:['simplify("3 + 2 / 4")','simplify("2x + x")','f = parse("x * (x + 2 + x)")',"simplified = simplify(f)","simplified.evaluate({x: 2})"],seealso:["simplifyCore","derivative","evaluate","parse","rationalize","resolve"]},simplifyConstant:{name:"simplifyConstant",category:"Algebra",syntax:["simplifyConstant(expr)","simplifyConstant(expr, options)"],description:"Replace constant subexpressions of node with their values.",examples:['simplifyConstant("(3-3)*x")','simplifyConstant(parse("z-cos(tau/8)"))'],seealso:["simplify","simplifyCore","evaluate"]},simplifyCore:{name:"simplifyCore",category:"Algebra",syntax:["simplifyCore(node)"],description:"Perform simple one-pass simplifications on an expression tree.",examples:['simplifyCore(parse("0*x"))','simplifyCore(parse("(x+0)*2"))'],seealso:["simplify","simplifyConstant","evaluate"]},symbolicEqual:{name:"symbolicEqual",category:"Algebra",syntax:["symbolicEqual(expr1, expr2)","symbolicEqual(expr1, expr2, options)"],description:"Returns true if the difference of the expressions simplifies to 0",examples:['symbolicEqual("x*y","y*x")','symbolicEqual("abs(x^2)", "x^2")','symbolicEqual("abs(x)", "x", {context: {abs: {trivial: true}}})'],seealso:["simplify","evaluate"]},rationalize:{name:"rationalize",category:"Algebra",syntax:["rationalize(expr)","rationalize(expr, scope)","rationalize(expr, scope, detailed)"],description:"Transform a rationalizable expression in a rational fraction. If rational fraction is one variable polynomial then converts the numerator and denominator in canonical form, with decreasing exponents, returning the coefficients of numerator.",examples:['rationalize("2x/y - y/(x+1)")','rationalize("2x/y - y/(x+1)", true)'],seealso:["simplify"]},slu:{name:"slu",category:"Algebra",syntax:["slu(A, order, threshold)"],description:"Calculate the Matrix LU decomposition with full pivoting. Matrix A is decomposed in two matrices (L, U) and two permutation vectors (pinv, q) where P * A * Q = L * U",examples:["slu(sparse([4.5, 0, 3.2, 0; 3.1, 2.9, 0, 0.9; 0, 1.7, 3, 0; 3.5, 0.4, 0, 1]), 1, 0.001)"],seealso:["lusolve","lsolve","usolve","matrix","sparse","lup","qr"]},usolve:{name:"usolve",category:"Algebra",syntax:["x=usolve(U, b)"],description:"Finds one solution of the linear system U * x = b where U is an [n x n] upper triangular matrix and b is a [n] column vector.",examples:["x=usolve(sparse([1, 1, 1, 1; 0, 1, 1, 1; 0, 0, 1, 1; 0, 0, 0, 1]), [1; 2; 3; 4])"],seealso:["usolveAll","lup","lusolve","lsolve","matrix","sparse"]},usolveAll:{name:"usolveAll",category:"Algebra",syntax:["x=usolve(U, b)"],description:"Finds all solutions of the linear system U * x = b where U is an [n x n] upper triangular matrix and b is a [n] column vector.",examples:["x=usolve(sparse([1, 1, 1, 1; 0, 1, 1, 1; 0, 0, 1, 1; 0, 0, 0, 1]), [1; 2; 3; 4])"],seealso:["usolve","lup","lusolve","lsolve","matrix","sparse"]},qr:{name:"qr",category:"Algebra",syntax:["qr(A)"],description:"Calculates the Matrix QR decomposition. Matrix `A` is decomposed in two matrices (`Q`, `R`) where `Q` is an orthogonal matrix and `R` is an upper triangular matrix.",examples:["qr([[1, -1,  4], [1,  4, -2], [1,  4,  2], [1,  -1, 0]])"],seealso:["lup","slu","matrix"]},abs:{name:"abs",category:"Arithmetic",syntax:["abs(x)"],description:"Compute the absolute value.",examples:["abs(3.5)","abs(-4.2)"],seealso:["sign"]},add:{name:"add",category:"Operators",syntax:["x + y","add(x, y)"],description:"Add two values.",examples:["a = 2.1 + 3.6","a - 3.6","3 + 2i","3 cm + 2 inch",'"2.3" + "4"'],seealso:["subtract"]},cbrt:{name:"cbrt",category:"Arithmetic",syntax:["cbrt(x)","cbrt(x, allRoots)"],description:"Compute the cubic root value. If x = y * y * y, then y is the cubic root of x. When `x` is a number or complex number, an optional second argument `allRoots` can be provided to return all three cubic roots. If not provided, the principal root is returned",examples:["cbrt(64)","cube(4)","cbrt(-8)","cbrt(2 + 3i)","cbrt(8i)","cbrt(8i, true)","cbrt(27 m^3)"],seealso:["square","sqrt","cube","multiply"]},ceil:{name:"ceil",category:"Arithmetic",syntax:["ceil(x)"],description:"Round a value towards plus infinity. If x is complex, both real and imaginary part are rounded towards plus infinity.",examples:["ceil(3.2)","ceil(3.8)","ceil(-4.2)"],seealso:["floor","fix","round"]},cube:{name:"cube",category:"Arithmetic",syntax:["cube(x)"],description:"Compute the cube of a value. The cube of x is x * x * x.",examples:["cube(2)","2^3","2 * 2 * 2"],seealso:["multiply","square","pow"]},divide:{name:"divide",category:"Operators",syntax:["x / y","divide(x, y)"],description:"Divide two values.",examples:["a = 2 / 3","a * 3","4.5 / 2","3 + 4 / 2","(3 + 4) / 2","18 km / 4.5"],seealso:["multiply"]},dotDivide:{name:"dotDivide",category:"Operators",syntax:["x ./ y","dotDivide(x, y)"],description:"Divide two values element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","b = [2, 1, 1; 3, 2, 5]","a ./ b"],seealso:["multiply","dotMultiply","divide"]},dotMultiply:{name:"dotMultiply",category:"Operators",syntax:["x .* y","dotMultiply(x, y)"],description:"Multiply two values element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","b = [2, 1, 1; 3, 2, 5]","a .* b"],seealso:["multiply","divide","dotDivide"]},dotPow:{name:"dotPow",category:"Operators",syntax:["x .^ y","dotPow(x, y)"],description:"Calculates the power of x to y element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","a .^ 2"],seealso:["pow"]},exp:{name:"exp",category:"Arithmetic",syntax:["exp(x)"],description:"Calculate the exponent of a value.",examples:["exp(1.3)","e ^ 1.3","log(exp(1.3))","x = 2.4","(exp(i*x) == cos(x) + i*sin(x))   # Euler's formula"],seealso:["expm","expm1","pow","log"]},expm:{name:"expm",category:"Arithmetic",syntax:["exp(x)"],description:"Compute the matrix exponential, expm(A) = e^A. The matrix must be square. Not to be confused with exp(a), which performs element-wise exponentiation.",examples:["expm([[0,2],[0,0]])"],seealso:["exp"]},expm1:{name:"expm1",category:"Arithmetic",syntax:["expm1(x)"],description:"Calculate the value of subtracting 1 from the exponential value.",examples:["expm1(2)","pow(e, 2) - 1","log(expm1(2) + 1)"],seealso:["exp","pow","log"]},fix:{name:"fix",category:"Arithmetic",syntax:["fix(x)"],description:"Round a value towards zero. If x is complex, both real and imaginary part are rounded towards zero.",examples:["fix(3.2)","fix(3.8)","fix(-4.2)","fix(-4.8)"],seealso:["ceil","floor","round"]},floor:{name:"floor",category:"Arithmetic",syntax:["floor(x)"],description:"Round a value towards minus infinity.If x is complex, both real and imaginary part are rounded towards minus infinity.",examples:["floor(3.2)","floor(3.8)","floor(-4.2)"],seealso:["ceil","fix","round"]},gcd:{name:"gcd",category:"Arithmetic",syntax:["gcd(a, b)","gcd(a, b, c, ...)"],description:"Compute the greatest common divisor.",examples:["gcd(8, 12)","gcd(-4, 6)","gcd(25, 15, -10)"],seealso:["lcm","xgcd"]},hypot:{name:"hypot",category:"Arithmetic",syntax:["hypot(a, b, c, ...)","hypot([a, b, c, ...])"],description:"Calculate the hypotenusa of a list with values. ",examples:["hypot(3, 4)","sqrt(3^2 + 4^2)","hypot(-2)","hypot([3, 4, 5])"],seealso:["abs","norm"]},lcm:{name:"lcm",category:"Arithmetic",syntax:["lcm(x, y)"],description:"Compute the least common multiple.",examples:["lcm(4, 6)","lcm(6, 21)","lcm(6, 21, 5)"],seealso:["gcd"]},log:{name:"log",category:"Arithmetic",syntax:["log(x)","log(x, base)"],description:"Compute the logarithm of a value. If no base is provided, the natural logarithm of x is calculated. If base if provided, the logarithm is calculated for the specified base. log(x, base) is defined as log(x) / log(base).",examples:["log(3.5)","a = log(2.4)","exp(a)","10 ^ 4","log(10000, 10)","log(10000) / log(10)","b = log(1024, 2)","2 ^ b"],seealso:["exp","log1p","log2","log10"]},log2:{name:"log2",category:"Arithmetic",syntax:["log2(x)"],description:"Calculate the 2-base of a value. This is the same as calculating `log(x, 2)`.",examples:["log2(0.03125)","log2(16)","log2(16) / log2(2)","pow(2, 4)"],seealso:["exp","log1p","log","log10"]},log1p:{name:"log1p",category:"Arithmetic",syntax:["log1p(x)","log1p(x, base)"],description:"Calculate the logarithm of a `value+1`",examples:["log1p(2.5)","exp(log1p(1.4))","pow(10, 4)","log1p(9999, 10)","log1p(9999) / log(10)"],seealso:["exp","log","log2","log10"]},log10:{name:"log10",category:"Arithmetic",syntax:["log10(x)"],description:"Compute the 10-base logarithm of a value.",examples:["log10(0.00001)","log10(10000)","10 ^ 4","log(10000) / log(10)","log(10000, 10)"],seealso:["exp","log"]},mod:{name:"mod",category:"Operators",syntax:["x % y","x mod y","mod(x, y)"],description:"Calculates the modulus, the remainder of an integer division.",examples:["7 % 3","11 % 2","10 mod 4","isOdd(x) = x % 2","isOdd(2)","isOdd(3)"],seealso:["divide"]},multiply:{name:"multiply",category:"Operators",syntax:["x * y","multiply(x, y)"],description:"multiply two values.",examples:["a = 2.1 * 3.4","a / 3.4","2 * 3 + 4","2 * (3 + 4)","3 * 2.1 km"],seealso:["divide"]},norm:{name:"norm",category:"Arithmetic",syntax:["norm(x)","norm(x, p)"],description:"Calculate the norm of a number, vector or matrix.",examples:["abs(-3.5)","norm(-3.5)","norm(3 - 4i)","norm([1, 2, -3], Infinity)","norm([1, 2, -3], -Infinity)","norm([3, 4], 2)","norm([[1, 2], [3, 4]], 1)",'norm([[1, 2], [3, 4]], "inf")','norm([[1, 2], [3, 4]], "fro")']},nthRoot:{name:"nthRoot",category:"Arithmetic",syntax:["nthRoot(a)","nthRoot(a, root)"],description:'Calculate the nth root of a value. The principal nth root of a positive real number A, is the positive real solution of the equation "x^root = A".',examples:["4 ^ 3","nthRoot(64, 3)","nthRoot(9, 2)","sqrt(9)"],seealso:["nthRoots","pow","sqrt"]},nthRoots:{name:"nthRoots",category:"Arithmetic",syntax:["nthRoots(A)","nthRoots(A, root)"],description:'Calculate the nth roots of a value. An nth root of a positive real number A, is a positive real solution of the equation "x^root = A". This function returns an array of complex values.',examples:["nthRoots(1)","nthRoots(1, 3)"],seealso:["sqrt","pow","nthRoot"]},pow:{name:"pow",category:"Operators",syntax:["x ^ y","pow(x, y)"],description:"Calculates the power of x to y, x^y.",examples:["2^3","2*2*2","1 + e ^ (pi * i)","pow([[1, 2], [4, 3]], 2)","pow([[1, 2], [4, 3]], -1)"],seealso:["multiply","nthRoot","nthRoots","sqrt"]},round:{name:"round",category:"Arithmetic",syntax:["round(x)","round(x, n)"],description:"round a value towards the nearest integer.If x is complex, both real and imaginary part are rounded towards the nearest integer. When n is specified, the value is rounded to n decimals.",examples:["round(3.2)","round(3.8)","round(-4.2)","round(-4.8)","round(pi, 3)","round(123.45678, 2)"],seealso:["ceil","floor","fix"]},sign:{name:"sign",category:"Arithmetic",syntax:["sign(x)"],description:"Compute the sign of a value. The sign of a value x is 1 when x>1, -1 when x<0, and 0 when x=0.",examples:["sign(3.5)","sign(-4.2)","sign(0)"],seealso:["abs"]},sqrt:{name:"sqrt",category:"Arithmetic",syntax:["sqrt(x)"],description:"Compute the square root value. If x = y * y, then y is the square root of x.",examples:["sqrt(25)","5 * 5","sqrt(-1)"],seealso:["square","sqrtm","multiply","nthRoot","nthRoots","pow"]},sqrtm:{name:"sqrtm",category:"Arithmetic",syntax:["sqrtm(x)"],description:"Calculate the principal square root of a square matrix. The principal square root matrix `X` of another matrix `A` is such that `X * X = A`.",examples:["sqrtm([[33, 24], [48, 57]])"],seealso:["sqrt","abs","square","multiply"]},square:{name:"square",category:"Arithmetic",syntax:["square(x)"],description:"Compute the square of a value. The square of x is x * x.",examples:["square(3)","sqrt(9)","3^2","3 * 3"],seealso:["multiply","pow","sqrt","cube"]},subtract:{name:"subtract",category:"Operators",syntax:["x - y","subtract(x, y)"],description:"subtract two values.",examples:["a = 5.3 - 2","a + 2","2/3 - 1/6","2 * 3 - 3","2.1 km - 500m"],seealso:["add"]},unaryMinus:{name:"unaryMinus",category:"Operators",syntax:["-x","unaryMinus(x)"],description:"Inverse the sign of a value. Converts booleans and strings to numbers.",examples:["-4.5","-(-5.6)",'-"22"'],seealso:["add","subtract","unaryPlus"]},unaryPlus:{name:"unaryPlus",category:"Operators",syntax:["+x","unaryPlus(x)"],description:"Converts booleans and strings to numbers.",examples:["+true",'+"2"'],seealso:["add","subtract","unaryMinus"]},xgcd:{name:"xgcd",category:"Arithmetic",syntax:["xgcd(a, b)"],description:"Calculate the extended greatest common divisor for two values. The result is an array [d, x, y] with 3 entries, where d is the greatest common divisor, and d = x * a + y * b.",examples:["xgcd(8, 12)","gcd(8, 12)","xgcd(36163, 21199)"],seealso:["gcd","lcm"]},invmod:{name:"invmod",category:"Arithmetic",syntax:["invmod(a, b)"],description:"Calculate the (modular) multiplicative inverse of a modulo b. Solution to the equation ax \u2263 1 (mod b)",examples:["invmod(8, 12)","invmod(7, 13)","invmod(15151, 15122)"],seealso:["gcd","xgcd"]},bitAnd:{name:"bitAnd",category:"Bitwise",syntax:["x & y","bitAnd(x, y)"],description:"Bitwise AND operation. Performs the logical AND operation on each pair of the corresponding bits of the two given values by multiplying them. If both bits in the compared position are 1, the bit in the resulting binary representation is 1, otherwise, the result is 0",examples:["5 & 3","bitAnd(53, 131)","[1, 12, 31] & 42"],seealso:["bitNot","bitOr","bitXor","leftShift","rightArithShift","rightLogShift"]},bitNot:{name:"bitNot",category:"Bitwise",syntax:["~x","bitNot(x)"],description:"Bitwise NOT operation. Performs a logical negation on each bit of the given value. Bits that are 0 become 1, and those that are 1 become 0.",examples:["~1","~2","bitNot([2, -3, 4])"],seealso:["bitAnd","bitOr","bitXor","leftShift","rightArithShift","rightLogShift"]},bitOr:{name:"bitOr",category:"Bitwise",syntax:["x | y","bitOr(x, y)"],description:"Bitwise OR operation. Performs the logical inclusive OR operation on each pair of corresponding bits of the two given values. The result in each position is 1 if the first bit is 1 or the second bit is 1 or both bits are 1, otherwise, the result is 0.",examples:["5 | 3","bitOr([1, 2, 3], 4)"],seealso:["bitAnd","bitNot","bitXor","leftShift","rightArithShift","rightLogShift"]},bitXor:{name:"bitXor",category:"Bitwise",syntax:["bitXor(x, y)"],description:"Bitwise XOR operation, exclusive OR. Performs the logical exclusive OR operation on each pair of corresponding bits of the two given values. The result in each position is 1 if only the first bit is 1 or only the second bit is 1, but will be 0 if both are 0 or both are 1.",examples:["bitOr(1, 2)","bitXor([2, 3, 4], 4)"],seealso:["bitAnd","bitNot","bitOr","leftShift","rightArithShift","rightLogShift"]},leftShift:{name:"leftShift",category:"Bitwise",syntax:["x << y","leftShift(x, y)"],description:"Bitwise left logical shift of a value x by y number of bits.",examples:["4 << 1","8 >> 1"],seealso:["bitAnd","bitNot","bitOr","bitXor","rightArithShift","rightLogShift"]},rightArithShift:{name:"rightArithShift",category:"Bitwise",syntax:["x >> y","rightArithShift(x, y)"],description:"Bitwise right arithmetic shift of a value x by y number of bits.",examples:["8 >> 1","4 << 1","-12 >> 2"],seealso:["bitAnd","bitNot","bitOr","bitXor","leftShift","rightLogShift"]},rightLogShift:{name:"rightLogShift",category:"Bitwise",syntax:["x >>> y","rightLogShift(x, y)"],description:"Bitwise right logical shift of a value x by y number of bits.",examples:["8 >>> 1","4 << 1","-12 >>> 2"],seealso:["bitAnd","bitNot","bitOr","bitXor","leftShift","rightArithShift"]},bellNumbers:{name:"bellNumbers",category:"Combinatorics",syntax:["bellNumbers(n)"],description:"The Bell Numbers count the number of partitions of a set. A partition is a pairwise disjoint subset of S whose union is S. `bellNumbers` only takes integer arguments. The following condition must be enforced: n >= 0.",examples:["bellNumbers(3)","bellNumbers(8)"],seealso:["stirlingS2"]},catalan:{name:"catalan",category:"Combinatorics",syntax:["catalan(n)"],description:"The Catalan Numbers enumerate combinatorial structures of many different types. catalan only takes integer arguments. The following condition must be enforced: n >= 0.",examples:["catalan(3)","catalan(8)"],seealso:["bellNumbers"]},composition:{name:"composition",category:"Combinatorics",syntax:["composition(n, k)"],description:"The composition counts of n into k parts. composition only takes integer arguments. The following condition must be enforced: k <= n.",examples:["composition(5, 3)"],seealso:["combinations"]},stirlingS2:{name:"stirlingS2",category:"Combinatorics",syntax:["stirlingS2(n, k)"],description:"he Stirling numbers of the second kind, counts the number of ways to partition a set of n labelled objects into k nonempty unlabelled subsets. `stirlingS2` only takes integer arguments. The following condition must be enforced: k <= n. If n = k or k = 1, then s(n,k) = 1.",examples:["stirlingS2(5, 3)"],seealso:["bellNumbers"]},config:{name:"config",category:"Core",syntax:["config()","config(options)"],description:"Get configuration or change configuration.",examples:["config()","1/3 + 1/4",'config({number: "Fraction"})',"1/3 + 1/4"],seealso:[]},import:{name:"import",category:"Core",syntax:["import(functions)","import(functions, options)"],description:"Import functions or constants from an object.",examples:["import({myFn: f(x)=x^2, myConstant: 32 })","myFn(2)","myConstant"],seealso:[]},typed:{name:"typed",category:"Core",syntax:["typed(signatures)","typed(name, signatures)"],description:"Create a typed function.",examples:['double = typed({ "number": f(x)=x+x, "string": f(x)=concat(x,x) })',"double(2)",'double("hello")'],seealso:[]},arg:{name:"arg",category:"Complex",syntax:["arg(x)"],description:"Compute the argument of a complex value. If x = a+bi, the argument is computed as atan2(b, a).",examples:["arg(2 + 2i)","atan2(3, 2)","arg(2 + 3i)"],seealso:["re","im","conj","abs"]},conj:{name:"conj",category:"Complex",syntax:["conj(x)"],description:"Compute the complex conjugate of a complex value. If x = a+bi, the complex conjugate is a-bi.",examples:["conj(2 + 3i)","conj(2 - 3i)","conj(-5.2i)"],seealso:["re","im","abs","arg"]},re:{name:"re",category:"Complex",syntax:["re(x)"],description:"Get the real part of a complex number.",examples:["re(2 + 3i)","im(2 + 3i)","re(-5.2i)","re(2.4)"],seealso:["im","conj","abs","arg"]},im:{name:"im",category:"Complex",syntax:["im(x)"],description:"Get the imaginary part of a complex number.",examples:["im(2 + 3i)","re(2 + 3i)","im(-5.2i)","im(2.4)"],seealso:["re","conj","abs","arg"]},evaluate:{name:"evaluate",category:"Expression",syntax:["evaluate(expression)","evaluate(expression, scope)","evaluate([expr1, expr2, expr3, ...])","evaluate([expr1, expr2, expr3, ...], scope)"],description:"Evaluate an expression or an array with expressions.",examples:['evaluate("2 + 3")','evaluate("sqrt(16)")','evaluate("2 inch to cm")','evaluate("sin(x * pi)", { "x": 1/2 })','evaluate(["width=2", "height=4","width*height"])'],seealso:[]},help:{name:"help",category:"Expression",syntax:["help(object)","help(string)"],description:"Display documentation on a function or data type.",examples:["help(sqrt)",'help("complex")'],seealso:[]},distance:{name:"distance",category:"Geometry",syntax:["distance([x1, y1], [x2, y2])","distance([[x1, y1], [x2, y2]])"],description:"Calculates the Euclidean distance between two points.",examples:["distance([0,0], [4,4])","distance([[0,0], [4,4]])"],seealso:[]},intersect:{name:"intersect",category:"Geometry",syntax:["intersect(expr1, expr2, expr3, expr4)","intersect(expr1, expr2, expr3)"],description:"Computes the intersection point of lines and/or planes.",examples:["intersect([0, 0], [10, 10], [10, 0], [0, 10])","intersect([1, 0, 1],  [4, -2, 2], [1, 1, 1, 6])"],seealso:[]},and:{name:"and",category:"Logical",syntax:["x and y","and(x, y)"],description:"Logical and. Test whether two values are both defined with a nonzero/nonempty value.",examples:["true and false","true and true","2 and 4"],seealso:["not","or","xor"]},not:{name:"not",category:"Logical",syntax:["not x","not(x)"],description:"Logical not. Flips the boolean value of given argument.",examples:["not true","not false","not 2","not 0"],seealso:["and","or","xor"]},or:{name:"or",category:"Logical",syntax:["x or y","or(x, y)"],description:"Logical or. Test if at least one value is defined with a nonzero/nonempty value.",examples:["true or false","false or false","0 or 4"],seealso:["not","and","xor"]},xor:{name:"xor",category:"Logical",syntax:["x xor y","xor(x, y)"],description:"Logical exclusive or, xor. Test whether one and only one value is defined with a nonzero/nonempty value.",examples:["true xor false","false xor false","true xor true","0 xor 4"],seealso:["not","and","or"]},concat:{name:"concat",category:"Matrix",syntax:["concat(A, B, C, ...)","concat(A, B, C, ..., dim)"],description:"Concatenate matrices. By default, the matrices are concatenated by the last dimension. The dimension on which to concatenate can be provided as last argument.",examples:["A = [1, 2; 5, 6]","B = [3, 4; 7, 8]","concat(A, B)","concat(A, B, 1)","concat(A, B, 2)"],seealso:["det","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]},count:{name:"count",category:"Matrix",syntax:["count(x)"],description:"Count the number of elements of a matrix, array or string.",examples:["a = [1, 2; 3, 4; 5, 6]","count(a)","size(a)",'count("hello world")'],seealso:["size"]},cross:{name:"cross",category:"Matrix",syntax:["cross(A, B)"],description:"Calculate the cross product for two vectors in three dimensional space.",examples:["cross([1, 1, 0],  [0, 1, 1])","cross([3, -3, 1], [4, 9, 2])","cross([2, 3, 4],  [5, 6, 7])"],seealso:["multiply","dot"]},column:{name:"column",category:"Matrix",syntax:["column(x, index)"],description:"Return a column from a matrix or array.",examples:["A = [[1, 2], [3, 4]]","column(A, 1)","column(A, 2)"],seealso:["row","matrixFromColumns"]},ctranspose:{name:"ctranspose",category:"Matrix",syntax:["x'","ctranspose(x)"],description:"Complex Conjugate and Transpose a matrix",examples:["a = [1, 2, 3; 4, 5, 6]","a'","ctranspose(a)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","zeros"]},det:{name:"det",category:"Matrix",syntax:["det(x)"],description:"Calculate the determinant of a matrix",examples:["det([1, 2; 3, 4])","det([-2, 2, 3; -1, 1, 3; 2, 0, -1])"],seealso:["concat","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]},diag:{name:"diag",category:"Matrix",syntax:["diag(x)","diag(x, k)"],description:"Create a diagonal matrix or retrieve the diagonal of a matrix. When x is a vector, a matrix with the vector values on the diagonal will be returned. When x is a matrix, a vector with the diagonal values of the matrix is returned. When k is provided, the k-th diagonal will be filled in or retrieved, if k is positive, the values are placed on the super diagonal. When k is negative, the values are placed on the sub diagonal.",examples:["diag(1:3)","diag(1:3, 1)","a = [1, 2, 3; 4, 5, 6; 7, 8, 9]","diag(a)"],seealso:["concat","det","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]},diff:{name:"diff",category:"Matrix",syntax:["diff(arr)","diff(arr, dim)"],description:["Create a new matrix or array with the difference of the passed matrix or array.","Dim parameter is optional and used to indicant the dimension of the array/matrix to apply the difference","If no dimension parameter is passed it is assumed as dimension 0","Dimension is zero-based in javascript and one-based in the parser","Arrays must be 'rectangular' meaning arrays like [1, 2]","If something is passed as a matrix it will be returned as a matrix but other than that all matrices are converted to arrays"],examples:["A = [1, 2, 4, 7, 0]","diff(A)","diff(A, 1)","B = [[1, 2], [3, 4]]","diff(B)","diff(B, 1)","diff(B, 2)","diff(B, bignumber(2))","diff([[1, 2], matrix([3, 4])], 2)"],seealso:["subtract","partitionSelect"]},dot:{name:"dot",category:"Matrix",syntax:["dot(A, B)","A * B"],description:"Calculate the dot product of two vectors. The dot product of A = [a1, a2, a3, ..., an] and B = [b1, b2, b3, ..., bn] is defined as dot(A, B) = a1 * b1 + a2 * b2 + a3 * b3 + ... + an * bn",examples:["dot([2, 4, 1], [2, 2, 3])","[2, 4, 1] * [2, 2, 3]"],seealso:["multiply","cross"]},getMatrixDataType:{name:"getMatrixDataType",category:"Matrix",syntax:["getMatrixDataType(x)"],description:'Find the data type of all elements in a matrix or array, for example "number" if all items are a number and "Complex" if all values are complex numbers. If a matrix contains more than one data type, it will return "mixed".',examples:["getMatrixDataType([1, 2, 3])","getMatrixDataType([[5 cm], [2 inch]])",'getMatrixDataType([1, "text"])',"getMatrixDataType([1, bignumber(4)])"],seealso:["matrix","sparse","typeOf"]},identity:{name:"identity",category:"Matrix",syntax:["identity(n)","identity(m, n)","identity([m, n])"],description:"Returns the identity matrix with size m-by-n. The matrix has ones on the diagonal and zeros elsewhere.",examples:["identity(3)","identity(3, 5)","a = [1, 2, 3; 4, 5, 6]","identity(size(a))"],seealso:["concat","det","diag","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]},filter:{name:"filter",category:"Matrix",syntax:["filter(x, test)"],description:"Filter items in a matrix.",examples:["isPositive(x) = x > 0","filter([6, -2, -1, 4, 3], isPositive)","filter([6, -2, 0, 1, 0], x != 0)"],seealso:["sort","map","forEach"]},flatten:{name:"flatten",category:"Matrix",syntax:["flatten(x)"],description:"Flatten a multi dimensional matrix into a single dimensional matrix.",examples:["a = [1, 2, 3; 4, 5, 6]","size(a)","b = flatten(a)","size(b)"],seealso:["concat","resize","size","squeeze"]},forEach:{name:"forEach",category:"Matrix",syntax:["forEach(x, callback)"],description:"Iterates over all elements of a matrix/array, and executes the given callback function.",examples:["numberOfPets = {}","addPet(n) = numberOfPets[n] = (numberOfPets[n] ? numberOfPets[n]:0 ) + 1;",'forEach(["Dog","Cat","Cat"], addPet)',"numberOfPets"],seealso:["map","sort","filter"]},inv:{name:"inv",category:"Matrix",syntax:["inv(x)"],description:"Calculate the inverse of a matrix",examples:["inv([1, 2; 3, 4])","inv(4)","1 / 4"],seealso:["concat","det","diag","identity","ones","range","size","squeeze","subset","trace","transpose","zeros"]},pinv:{name:"pinv",category:"Matrix",syntax:["pinv(x)"],description:"Calculate the Moore\u2013Penrose inverse of a matrix",examples:["pinv([1, 2; 3, 4])","pinv([[1, 0], [0, 1], [0, 1]])","pinv(4)"],seealso:["inv"]},eigs:{name:"eigs",category:"Matrix",syntax:["eigs(x)"],description:"Calculate the eigenvalues and eigenvectors of a real symmetric matrix",examples:["eigs([[5, 2.3], [2.3, 1]])"],seealso:["inv"]},kron:{name:"kron",category:"Matrix",syntax:["kron(x, y)"],description:"Calculates the kronecker product of 2 matrices or vectors.",examples:["kron([[1, 0], [0, 1]], [[1, 2], [3, 4]])","kron([1,1], [2,3,4])"],seealso:["multiply","dot","cross"]},matrixFromFunction:{name:"matrixFromFunction",category:"Matrix",syntax:["matrixFromFunction(size, fn)","matrixFromFunction(size, fn, format)","matrixFromFunction(size, fn, format, datatype)","matrixFromFunction(size, format, fn)","matrixFromFunction(size, format, datatype, fn)"],description:"Create a matrix by evaluating a generating function at each index.",examples:["f(I) = I[1] - I[2]","matrixFromFunction([3,3], f)","g(I) = I[1] - I[2] == 1 ? 4 : 0",'matrixFromFunction([100, 100], "sparse", g)',"matrixFromFunction([5], random)"],seealso:["matrix","matrixFromRows","matrixFromColumns","zeros"]},matrixFromRows:{name:"matrixFromRows",category:"Matrix",syntax:["matrixFromRows(...arr)","matrixFromRows(row1, row2)","matrixFromRows(row1, row2, row3)"],description:"Create a dense matrix from vectors as individual rows.",examples:["matrixFromRows([1, 2, 3], [[4],[5],[6]])"],seealso:["matrix","matrixFromColumns","matrixFromFunction","zeros"]},matrixFromColumns:{name:"matrixFromColumns",category:"Matrix",syntax:["matrixFromColumns(...arr)","matrixFromColumns(row1, row2)","matrixFromColumns(row1, row2, row3)"],description:"Create a dense matrix from vectors as individual columns.",examples:["matrixFromColumns([1, 2, 3], [[4],[5],[6]])"],seealso:["matrix","matrixFromRows","matrixFromFunction","zeros"]},map:{name:"map",category:"Matrix",syntax:["map(x, callback)"],description:"Create a new matrix or array with the results of the callback function executed on each entry of the matrix/array.",examples:["map([1, 2, 3], square)"],seealso:["filter","forEach"]},ones:{name:"ones",category:"Matrix",syntax:["ones(m)","ones(m, n)","ones(m, n, p, ...)","ones([m])","ones([m, n])","ones([m, n, p, ...])"],description:"Create a matrix containing ones.",examples:["ones(3)","ones(3, 5)","ones([2,3]) * 4.5","a = [1, 2, 3; 4, 5, 6]","ones(size(a))"],seealso:["concat","det","diag","identity","inv","range","size","squeeze","subset","trace","transpose","zeros"]},partitionSelect:{name:"partitionSelect",category:"Matrix",syntax:["partitionSelect(x, k)","partitionSelect(x, k, compare)"],description:"Partition-based selection of an array or 1D matrix. Will find the kth smallest value, and mutates the input array. Uses Quickselect.",examples:["partitionSelect([5, 10, 1], 2)",'partitionSelect(["C", "B", "A", "D"], 1, compareText)',"arr = [5, 2, 1]","partitionSelect(arr, 0) # returns 1, arr is now: [1, 2, 5]","arr","partitionSelect(arr, 1, 'desc') # returns 2, arr is now: [5, 2, 1]","arr"],seealso:["sort"]},range:{name:"range",category:"Type",syntax:["start:end","start:step:end","range(start, end)","range(start, end, step)","range(string)"],description:"Create a range. Lower bound of the range is included, upper bound is excluded.",examples:["1:5","3:-1:-3","range(3, 7)","range(0, 12, 2)",'range("4:10")',"range(1m, 1m, 3m)","a = [1, 2, 3, 4; 5, 6, 7, 8]","a[1:2, 1:2]"],seealso:["concat","det","diag","identity","inv","ones","size","squeeze","subset","trace","transpose","zeros"]},resize:{name:"resize",category:"Matrix",syntax:["resize(x, size)","resize(x, size, defaultValue)"],description:"Resize a matrix.",examples:["resize([1,2,3,4,5], [3])","resize([1,2,3], [5])","resize([1,2,3], [5], -1)","resize(2, [2, 3])",'resize("hello", [8], "!")'],seealso:["size","subset","squeeze","reshape"]},reshape:{name:"reshape",category:"Matrix",syntax:["reshape(x, sizes)"],description:"Reshape a multi dimensional array to fit the specified dimensions.",examples:["reshape([1, 2, 3, 4, 5, 6], [2, 3])","reshape([[1, 2], [3, 4]], [1, 4])","reshape([[1, 2], [3, 4]], [4])","reshape([1, 2, 3, 4], [-1, 2])"],seealso:["size","squeeze","resize"]},rotate:{name:"rotate",category:"Matrix",syntax:["rotate(w, theta)","rotate(w, theta, v)"],description:"Returns a 2-D rotation matrix (2x2) for a given angle (in radians). Returns a 2-D rotation matrix (3x3) of a given angle (in radians) around given axis.",examples:["rotate([1, 0], pi / 2)",'rotate(matrix([1, 0]), unit("35deg"))','rotate([1, 0, 0], unit("90deg"), [0, 0, 1])','rotate(matrix([1, 0, 0]), unit("90deg"), matrix([0, 0, 1]))'],seealso:["matrix","rotationMatrix"]},rotationMatrix:{name:"rotationMatrix",category:"Matrix",syntax:["rotationMatrix(theta)","rotationMatrix(theta, v)","rotationMatrix(theta, v, format)"],description:"Returns a 2-D rotation matrix (2x2) for a given angle (in radians). Returns a 2-D rotation matrix (3x3) of a given angle (in radians) around given axis.",examples:["rotationMatrix(pi / 2)",'rotationMatrix(unit("45deg"), [0, 0, 1])','rotationMatrix(1, matrix([0, 0, 1]), "sparse")'],seealso:["cos","sin"]},row:{name:"row",category:"Matrix",syntax:["row(x, index)"],description:"Return a row from a matrix or array.",examples:["A = [[1, 2], [3, 4]]","row(A, 1)","row(A, 2)"],seealso:["column","matrixFromRows"]},size:{name:"size",category:"Matrix",syntax:["size(x)"],description:"Calculate the size of a matrix.",examples:["size(2.3)",'size("hello world")',"a = [1, 2; 3, 4; 5, 6]","size(a)","size(1:6)"],seealso:["concat","count","det","diag","identity","inv","ones","range","squeeze","subset","trace","transpose","zeros"]},sort:{name:"sort",category:"Matrix",syntax:["sort(x)","sort(x, compare)"],description:'Sort the items in a matrix. Compare can be a string "asc", "desc", "natural", or a custom sort function.',examples:["sort([5, 10, 1])",'sort(["C", "B", "A", "D"], "natural")',"sortByLength(a, b) = size(a)[1] - size(b)[1]",'sort(["Langdon", "Tom", "Sara"], sortByLength)','sort(["10", "1", "2"], "natural")'],seealso:["map","filter","forEach"]},squeeze:{name:"squeeze",category:"Matrix",syntax:["squeeze(x)"],description:"Remove inner and outer singleton dimensions from a matrix.",examples:["a = zeros(3,2,1)","size(squeeze(a))","b = zeros(1,1,3)","size(squeeze(b))"],seealso:["concat","det","diag","identity","inv","ones","range","size","subset","trace","transpose","zeros"]},subset:{name:"subset",category:"Matrix",syntax:["value(index)","value(index) = replacement","subset(value, [index])","subset(value, [index], replacement)"],description:"Get or set a subset of the entries of a matrix or characters of a string. Indexes are one-based. There should be one index specification for each dimension of the target. Each specification can be a single index, a list of indices, or a range in colon notation `l:u`. In a range, both the lower bound l and upper bound u are included; and if a bound is omitted it defaults to the most extreme valid value. The cartesian product of the indices specified in each dimension determines the target of the operation.",examples:["d = [1, 2; 3, 4]","e = []","e[1, 1:2] = [5, 6]","e[2, :] = [7, 8]","f = d * e","f[2, 1]","f[:, 1]","f[[1,2], [1,3]] = [9, 10; 11, 12]","f"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","trace","transpose","zeros"]},trace:{name:"trace",category:"Matrix",syntax:["trace(A)"],description:"Calculate the trace of a matrix: the sum of the elements on the main diagonal of a square matrix.",examples:["A = [1, 2, 3; -1, 2, 3; 2, 0, 3]","trace(A)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","transpose","zeros"]},transpose:{name:"transpose",category:"Matrix",syntax:["x'","transpose(x)"],description:"Transpose a matrix",examples:["a = [1, 2, 3; 4, 5, 6]","a'","transpose(a)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","zeros"]},zeros:{name:"zeros",category:"Matrix",syntax:["zeros(m)","zeros(m, n)","zeros(m, n, p, ...)","zeros([m])","zeros([m, n])","zeros([m, n, p, ...])"],description:"Create a matrix containing zeros.",examples:["zeros(3)","zeros(3, 5)","a = [1, 2, 3; 4, 5, 6]","zeros(size(a))"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose"]},fft:{name:"fft",category:"Matrix",syntax:["fft(x)"],description:"Calculate N-dimensional fourier transform",examples:["fft([[1, 0], [1, 0]])"],seealso:["ifft"]},ifft:{name:"ifft",category:"Matrix",syntax:["ifft(x)"],description:"Calculate N-dimensional inverse fourier transform",examples:["ifft([[2, 2], [0, 0]])"],seealso:["fft"]},sylvester:{name:"sylvester",category:"Algebra",syntax:["sylvester(A,B,C)"],description:"Solves the real-valued Sylvester equation AX+XB=C for X",examples:["sylvester([[-1, -2], [1, 1]], [[-2, 1], [-1, 2]], [[-3, 2], [3, 0]])","A = [[-1, -2], [1, 1]]; B = [[2, -1], [1, -2]]; C = [[-3, 2], [3, 0]]","sylvester(A, B, C)"],seealso:["schur","lyap"]},schur:{name:"schur",category:"Algebra",syntax:["schur(A)"],description:"Performs a real Schur decomposition of the real matrix A = UTU'",examples:["schur([[1, 0], [-4, 3]])","A = [[1, 0], [-4, 3]]","schur(A)"],seealso:["lyap","sylvester"]},lyap:{name:"lyap",category:"Algebra",syntax:["lyap(A,Q)"],description:"Solves the Continuous-time Lyapunov equation AP+PA'+Q=0 for P",examples:["lyap([[-2, 0], [1, -4]], [[3, 1], [1, 3]])","A = [[-2, 0], [1, -4]]","Q = [[3, 1], [1, 3]]","lyap(A,Q)"],seealso:["schur","sylvester"]},solveODE:{name:"solveODE",category:"Numeric",syntax:["solveODE(func, tspan, y0)","solveODE(func, tspan, y0, options)"],description:"Numerical Integration of Ordinary Differential Equations.",examples:["f(t,y) = y","tspan = [0, 4]","solveODE(f, tspan, 1)","solveODE(f, tspan, [1, 2])",'solveODE(f, tspan, 1, { method:"RK23", maxStep:0.1 })'],seealso:["derivative","simplifyCore"]},combinations:{name:"combinations",category:"Probability",syntax:["combinations(n, k)"],description:"Compute the number of combinations of n items taken k at a time",examples:["combinations(7, 5)"],seealso:["combinationsWithRep","permutations","factorial"]},combinationsWithRep:{name:"combinationsWithRep",category:"Probability",syntax:["combinationsWithRep(n, k)"],description:"Compute the number of combinations of n items taken k at a time with replacements.",examples:["combinationsWithRep(7, 5)"],seealso:["combinations","permutations","factorial"]},factorial:{name:"factorial",category:"Probability",syntax:["n!","factorial(n)"],description:"Compute the factorial of a value",examples:["5!","5 * 4 * 3 * 2 * 1","3!"],seealso:["combinations","combinationsWithRep","permutations","gamma"]},gamma:{name:"gamma",category:"Probability",syntax:["gamma(n)"],description:"Compute the gamma function. For small values, the Lanczos approximation is used, and for large values the extended Stirling approximation.",examples:["gamma(4)","3!","gamma(1/2)","sqrt(pi)"],seealso:["factorial"]},kldivergence:{name:"kldivergence",category:"Probability",syntax:["kldivergence(x, y)"],description:"Calculate the Kullback-Leibler (KL) divergence  between two distributions.",examples:["kldivergence([0.7,0.5,0.4], [0.2,0.9,0.5])"],seealso:[]},lgamma:{name:"lgamma",category:"Probability",syntax:["lgamma(n)"],description:"Logarithm of the gamma function for real, positive numbers and complex numbers, using Lanczos approximation for numbers and Stirling series for complex numbers.",examples:["lgamma(4)","lgamma(1/2)","lgamma(i)","lgamma(complex(1.1, 2))"],seealso:["gamma"]},multinomial:{name:"multinomial",category:"Probability",syntax:["multinomial(A)"],description:"Multinomial Coefficients compute the number of ways of picking a1, a2, ..., ai unordered outcomes from `n` possibilities. multinomial takes one array of integers as an argument. The following condition must be enforced: every ai > 0.",examples:["multinomial([1, 2, 1])"],seealso:["combinations","factorial"]},permutations:{name:"permutations",category:"Probability",syntax:["permutations(n)","permutations(n, k)"],description:"Compute the number of permutations of n items taken k at a time",examples:["permutations(5)","permutations(5, 3)"],seealso:["combinations","combinationsWithRep","factorial"]},pickRandom:{name:"pickRandom",category:"Probability",syntax:["pickRandom(array)","pickRandom(array, number)","pickRandom(array, weights)","pickRandom(array, number, weights)","pickRandom(array, weights, number)"],description:"Pick a random entry from a given array.",examples:["pickRandom(0:10)","pickRandom([1, 3, 1, 6])","pickRandom([1, 3, 1, 6], 2)","pickRandom([1, 3, 1, 6], [2, 3, 2, 1])","pickRandom([1, 3, 1, 6], 2, [2, 3, 2, 1])","pickRandom([1, 3, 1, 6], [2, 3, 2, 1], 2)"],seealso:["random","randomInt"]},random:{name:"random",category:"Probability",syntax:["random()","random(max)","random(min, max)","random(size)","random(size, max)","random(size, min, max)"],description:"Return a random number.",examples:["random()","random(10, 20)","random([2, 3])"],seealso:["pickRandom","randomInt"]},randomInt:{name:"randomInt",category:"Probability",syntax:["randomInt(max)","randomInt(min, max)","randomInt(size)","randomInt(size, max)","randomInt(size, min, max)"],description:"Return a random integer number",examples:["randomInt(10, 20)","randomInt([2, 3], 10)"],seealso:["pickRandom","random"]},compare:{name:"compare",category:"Relational",syntax:["compare(x, y)"],description:"Compare two values. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:["compare(2, 3)","compare(3, 2)","compare(2, 2)","compare(5cm, 40mm)","compare(2, [1, 2, 3])"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compareNatural","compareText"]},compareNatural:{name:"compareNatural",category:"Relational",syntax:["compareNatural(x, y)"],description:"Compare two values of any type in a deterministic, natural way. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:["compareNatural(2, 3)","compareNatural(3, 2)","compareNatural(2, 2)","compareNatural(5cm, 40mm)",'compareNatural("2", "10")',"compareNatural(2 + 3i, 2 + 4i)","compareNatural([1, 2, 4], [1, 2, 3])","compareNatural([1, 5], [1, 2, 3])","compareNatural([1, 2], [1, 2])","compareNatural({a: 2}, {a: 4})"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compare","compareText"]},compareText:{name:"compareText",category:"Relational",syntax:["compareText(x, y)"],description:"Compare two strings lexically. Comparison is case sensitive. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:['compareText("B", "A")','compareText("A", "B")','compareText("A", "A")','compareText("2", "10")','compare("2", "10")',"compare(2, 10)",'compareNatural("2", "10")','compareText("B", ["A", "B", "C"])'],seealso:["compare","compareNatural"]},deepEqual:{name:"deepEqual",category:"Relational",syntax:["deepEqual(x, y)"],description:"Check equality of two matrices element wise. Returns true if the size of both matrices is equal and when and each of the elements are equal.",examples:["deepEqual([1,3,4], [1,3,4])","deepEqual([1,3,4], [1,3])"],seealso:["equal","unequal","smaller","larger","smallerEq","largerEq","compare"]},equal:{name:"equal",category:"Relational",syntax:["x == y","equal(x, y)"],description:"Check equality of two values. Returns true if the values are equal, and false if not.",examples:["2+2 == 3","2+2 == 4","a = 3.2","b = 6-2.8","a == b","50cm == 0.5m"],seealso:["unequal","smaller","larger","smallerEq","largerEq","compare","deepEqual","equalText"]},equalText:{name:"equalText",category:"Relational",syntax:["equalText(x, y)"],description:"Check equality of two strings. Comparison is case sensitive. Returns true if the values are equal, and false if not.",examples:['equalText("Hello", "Hello")','equalText("a", "A")','equal("2e3", "2000")','equalText("2e3", "2000")','equalText("B", ["A", "B", "C"])'],seealso:["compare","compareNatural","compareText","equal"]},larger:{name:"larger",category:"Relational",syntax:["x > y","larger(x, y)"],description:"Check if value x is larger than y. Returns true if x is larger than y, and false if not.",examples:["2 > 3","5 > 2*2","a = 3.3","b = 6-2.8","(a > b)","(b < a)","5 cm > 2 inch"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compare"]},largerEq:{name:"largerEq",category:"Relational",syntax:["x >= y","largerEq(x, y)"],description:"Check if value x is larger or equal to y. Returns true if x is larger or equal to y, and false if not.",examples:["2 >= 1+1","2 > 1+1","a = 3.2","b = 6-2.8","(a >= b)"],seealso:["equal","unequal","smallerEq","smaller","compare"]},smaller:{name:"smaller",category:"Relational",syntax:["x < y","smaller(x, y)"],description:"Check if value x is smaller than value y. Returns true if x is smaller than y, and false if not.",examples:["2 < 3","5 < 2*2","a = 3.3","b = 6-2.8","(a < b)","5 cm < 2 inch"],seealso:["equal","unequal","larger","smallerEq","largerEq","compare"]},smallerEq:{name:"smallerEq",category:"Relational",syntax:["x <= y","smallerEq(x, y)"],description:"Check if value x is smaller or equal to value y. Returns true if x is smaller than y, and false if not.",examples:["2 <= 1+1","2 < 1+1","a = 3.2","b = 6-2.8","(a <= b)"],seealso:["equal","unequal","larger","smaller","largerEq","compare"]},unequal:{name:"unequal",category:"Relational",syntax:["x != y","unequal(x, y)"],description:"Check unequality of two values. Returns true if the values are unequal, and false if they are equal.",examples:["2+2 != 3","2+2 != 4","a = 3.2","b = 6-2.8","a != b","50cm != 0.5m","5 cm != 2 inch"],seealso:["equal","smaller","larger","smallerEq","largerEq","compare","deepEqual"]},setCartesian:{name:"setCartesian",category:"Set",syntax:["setCartesian(set1, set2)"],description:"Create the cartesian product of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays and the values will be sorted in ascending order before the operation.",examples:["setCartesian([1, 2], [3, 4])"],seealso:["setUnion","setIntersect","setDifference","setPowerset"]},setDifference:{name:"setDifference",category:"Set",syntax:["setDifference(set1, set2)"],description:"Create the difference of two (multi)sets: every element of set1, that is not the element of set2. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setDifference([1, 2, 3, 4], [3, 4, 5, 6])","setDifference([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setIntersect","setSymDifference"]},setDistinct:{name:"setDistinct",category:"Set",syntax:["setDistinct(set)"],description:"Collect the distinct elements of a multiset. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setDistinct([1, 1, 1, 2, 2, 3])"],seealso:["setMultiplicity"]},setIntersect:{name:"setIntersect",category:"Set",syntax:["setIntersect(set1, set2)"],description:"Create the intersection of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setIntersect([1, 2, 3, 4], [3, 4, 5, 6])","setIntersect([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setDifference"]},setIsSubset:{name:"setIsSubset",category:"Set",syntax:["setIsSubset(set1, set2)"],description:"Check whether a (multi)set is a subset of another (multi)set: every element of set1 is the element of set2. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setIsSubset([1, 2], [3, 4, 5, 6])","setIsSubset([3, 4], [3, 4, 5, 6])"],seealso:["setUnion","setIntersect","setDifference"]},setMultiplicity:{name:"setMultiplicity",category:"Set",syntax:["setMultiplicity(element, set)"],description:"Count the multiplicity of an element in a multiset. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setMultiplicity(1, [1, 2, 2, 4])","setMultiplicity(2, [1, 2, 2, 4])"],seealso:["setDistinct","setSize"]},setPowerset:{name:"setPowerset",category:"Set",syntax:["setPowerset(set)"],description:"Create the powerset of a (multi)set: the powerset contains very possible subsets of a (multi)set. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setPowerset([1, 2, 3])"],seealso:["setCartesian"]},setSize:{name:"setSize",category:"Set",syntax:["setSize(set)","setSize(set, unique)"],description:'Count the number of elements of a (multi)set. When the second parameter "unique" is true, count only the unique values. A multi-dimension array will be converted to a single-dimension array before the operation.',examples:["setSize([1, 2, 2, 4])","setSize([1, 2, 2, 4], true)"],seealso:["setUnion","setIntersect","setDifference"]},setSymDifference:{name:"setSymDifference",category:"Set",syntax:["setSymDifference(set1, set2)"],description:"Create the symmetric difference of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setSymDifference([1, 2, 3, 4], [3, 4, 5, 6])","setSymDifference([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setIntersect","setDifference"]},setUnion:{name:"setUnion",category:"Set",syntax:["setUnion(set1, set2)"],description:"Create the union of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setUnion([1, 2, 3, 4], [3, 4, 5, 6])","setUnion([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setIntersect","setDifference"]},zpk2tf:{name:"zpk2tf",category:"Signal",syntax:["zpk2tf(z, p, k)"],description:"Compute the transfer function of a zero-pole-gain model.",examples:["zpk2tf([1, 2], [-1, -2], 1)","zpk2tf([1, 2], [-1, -2])","zpk2tf([1 - 3i, 2 + 2i], [-1, -2])"],seealso:[]},freqz:{name:"freqz",category:"Signal",syntax:["freqz(b, a)","freqz(b, a, w)"],description:"Calculates the frequency response of a filter given its numerator and denominator coefficients.",examples:["freqz([1, 2], [1, 2, 3])","freqz([1, 2], [1, 2, 3], [0, 1])","freqz([1, 2], [1, 2, 3], 512)"],seealso:[]},erf:{name:"erf",category:"Special",syntax:["erf(x)"],description:"Compute the erf function of a value using a rational Chebyshev approximations for different intervals of x",examples:["erf(0.2)","erf(-0.5)","erf(4)"],seealso:[]},zeta:{name:"zeta",category:"Special",syntax:["zeta(s)"],description:"Compute the Riemann Zeta Function using an infinite series and Riemanns Functional Equation for the entire complex plane",examples:["zeta(0.2)","zeta(-0.5)","zeta(4)"],seealso:[]},cumsum:{name:"cumsum",category:"Statistics",syntax:["cumsum(a, b, c, ...)","cumsum(A)"],description:"Compute the cumulative sum of all values.",examples:["cumsum(2, 3, 4, 1)","cumsum([2, 3, 4, 1])","cumsum([1, 2; 3, 4])","cumsum([1, 2; 3, 4], 1)","cumsum([1, 2; 3, 4], 2)"],seealso:["max","mean","median","min","prod","std","sum","variance"]},mad:{name:"mad",category:"Statistics",syntax:["mad(a, b, c, ...)","mad(A)"],description:"Compute the median absolute deviation of a matrix or a list with values. The median absolute deviation is defined as the median of the absolute deviations from the median.",examples:["mad(10, 20, 30)","mad([1, 2, 3])"],seealso:["mean","median","std","abs"]},max:{name:"max",category:"Statistics",syntax:["max(a, b, c, ...)","max(A)","max(A, dimension)"],description:"Compute the maximum value of a list of values.",examples:["max(2, 3, 4, 1)","max([2, 3, 4, 1])","max([2, 5; 4, 3])","max([2, 5; 4, 3], 1)","max([2, 5; 4, 3], 2)","max(2.7, 7.1, -4.5, 2.0, 4.1)","min(2.7, 7.1, -4.5, 2.0, 4.1)"],seealso:["mean","median","min","prod","std","sum","variance"]},mean:{name:"mean",category:"Statistics",syntax:["mean(a, b, c, ...)","mean(A)","mean(A, dimension)"],description:"Compute the arithmetic mean of a list of values.",examples:["mean(2, 3, 4, 1)","mean([2, 3, 4, 1])","mean([2, 5; 4, 3])","mean([2, 5; 4, 3], 1)","mean([2, 5; 4, 3], 2)","mean([1.0, 2.7, 3.2, 4.0])"],seealso:["max","median","min","prod","std","sum","variance"]},median:{name:"median",category:"Statistics",syntax:["median(a, b, c, ...)","median(A)"],description:"Compute the median of all values. The values are sorted and the middle value is returned. In case of an even number of values, the average of the two middle values is returned.",examples:["median(5, 2, 7)","median([3, -1, 5, 7])"],seealso:["max","mean","min","prod","std","sum","variance","quantileSeq"]},min:{name:"min",category:"Statistics",syntax:["min(a, b, c, ...)","min(A)","min(A, dimension)"],description:"Compute the minimum value of a list of values.",examples:["min(2, 3, 4, 1)","min([2, 3, 4, 1])","min([2, 5; 4, 3])","min([2, 5; 4, 3], 1)","min([2, 5; 4, 3], 2)","min(2.7, 7.1, -4.5, 2.0, 4.1)","max(2.7, 7.1, -4.5, 2.0, 4.1)"],seealso:["max","mean","median","prod","std","sum","variance"]},mode:{name:"mode",category:"Statistics",syntax:["mode(a, b, c, ...)","mode(A)","mode(A, a, b, B, c, ...)"],description:"Computes the mode of all values as an array. In case mode being more than one, multiple values are returned in an array.",examples:["mode(2, 1, 4, 3, 1)","mode([1, 2.7, 3.2, 4, 2.7])","mode(1, 4, 6, 1, 6)"],seealso:["max","mean","min","median","prod","std","sum","variance"]},prod:{name:"prod",category:"Statistics",syntax:["prod(a, b, c, ...)","prod(A)"],description:"Compute the product of all values.",examples:["prod(2, 3, 4)","prod([2, 3, 4])","prod([2, 5; 4, 3])"],seealso:["max","mean","min","median","min","std","sum","variance"]},quantileSeq:{name:"quantileSeq",category:"Statistics",syntax:["quantileSeq(A, prob[, sorted])","quantileSeq(A, [prob1, prob2, ...][, sorted])","quantileSeq(A, N[, sorted])"],description:"Compute the prob order quantile of a matrix or a list with values. The sequence is sorted and the middle value is returned. Supported types of sequence values are: Number, BigNumber, Unit Supported types of probablity are: Number, BigNumber. \n\nIn case of a (multi dimensional) array or matrix, the prob order quantile of all elements will be calculated.",examples:["quantileSeq([3, -1, 5, 7], 0.5)","quantileSeq([3, -1, 5, 7], [1/3, 2/3])","quantileSeq([3, -1, 5, 7], 2)","quantileSeq([-1, 3, 5, 7], 0.5, true)"],seealso:["mean","median","min","max","prod","std","sum","variance"]},std:{name:"std",category:"Statistics",syntax:["std(a, b, c, ...)","std(A)","std(A, dimension)","std(A, normalization)","std(A, dimension, normalization)"],description:'Compute the standard deviation of all values, defined as std(A) = sqrt(variance(A)). Optional parameter normalization can be "unbiased" (default), "uncorrected", or "biased".',examples:["std(2, 4, 6)","std([2, 4, 6, 8])",'std([2, 4, 6, 8], "uncorrected")','std([2, 4, 6, 8], "biased")',"std([1, 2, 3; 4, 5, 6])"],seealso:["max","mean","min","median","prod","sum","variance"]},sum:{name:"sum",category:"Statistics",syntax:["sum(a, b, c, ...)","sum(A)","sum(A, dimension)"],description:"Compute the sum of all values.",examples:["sum(2, 3, 4, 1)","sum([2, 3, 4, 1])","sum([2, 5; 4, 3])"],seealso:["max","mean","median","min","prod","std","sum","variance"]},variance:{name:"variance",category:"Statistics",syntax:["variance(a, b, c, ...)","variance(A)","variance(A, dimension)","variance(A, normalization)","variance(A, dimension, normalization)"],description:'Compute the variance of all values. Optional parameter normalization can be "unbiased" (default), "uncorrected", or "biased".',examples:["variance(2, 4, 6)","variance([2, 4, 6, 8])",'variance([2, 4, 6, 8], "uncorrected")','variance([2, 4, 6, 8], "biased")',"variance([1, 2, 3; 4, 5, 6])"],seealso:["max","mean","min","median","min","prod","std","sum"]},corr:{name:"corr",category:"Statistics",syntax:["corr(A,B)"],description:"Compute the correlation coefficient of a two list with values, For matrices, the matrix correlation coefficient is calculated.",examples:["corr([2, 4, 6, 8],[1, 2, 3, 6])","corr(matrix([[1, 2.2, 3, 4.8, 5], [1, 2, 3, 4, 5]]), matrix([[4, 5.3, 6.6, 7, 8], [1, 2, 3, 4, 5]]))"],seealso:["max","mean","min","median","min","prod","std","sum"]},acos:{name:"acos",category:"Trigonometry",syntax:["acos(x)"],description:"Compute the inverse cosine of a value in radians.",examples:["acos(0.5)","acos(cos(2.3))"],seealso:["cos","atan","asin"]},acosh:{name:"acosh",category:"Trigonometry",syntax:["acosh(x)"],description:"Calculate the hyperbolic arccos of a value, defined as `acosh(x) = ln(sqrt(x^2 - 1) + x)`.",examples:["acosh(1.5)"],seealso:["cosh","asinh","atanh"]},acot:{name:"acot",category:"Trigonometry",syntax:["acot(x)"],description:"Calculate the inverse cotangent of a value.",examples:["acot(0.5)","acot(cot(0.5))","acot(2)"],seealso:["cot","atan"]},acoth:{name:"acoth",category:"Trigonometry",syntax:["acoth(x)"],description:"Calculate the hyperbolic arccotangent of a value, defined as `acoth(x) = (ln((x+1)/x) + ln(x/(x-1))) / 2`.",examples:["acoth(2)","acoth(0.5)"],seealso:["acsch","asech"]},acsc:{name:"acsc",category:"Trigonometry",syntax:["acsc(x)"],description:"Calculate the inverse cotangent of a value.",examples:["acsc(2)","acsc(csc(0.5))","acsc(0.5)"],seealso:["csc","asin","asec"]},acsch:{name:"acsch",category:"Trigonometry",syntax:["acsch(x)"],description:"Calculate the hyperbolic arccosecant of a value, defined as `acsch(x) = ln(1/x + sqrt(1/x^2 + 1))`.",examples:["acsch(0.5)"],seealso:["asech","acoth"]},asec:{name:"asec",category:"Trigonometry",syntax:["asec(x)"],description:"Calculate the inverse secant of a value.",examples:["asec(0.5)","asec(sec(0.5))","asec(2)"],seealso:["acos","acot","acsc"]},asech:{name:"asech",category:"Trigonometry",syntax:["asech(x)"],description:"Calculate the inverse secant of a value.",examples:["asech(0.5)"],seealso:["acsch","acoth"]},asin:{name:"asin",category:"Trigonometry",syntax:["asin(x)"],description:"Compute the inverse sine of a value in radians.",examples:["asin(0.5)","asin(sin(0.5))"],seealso:["sin","acos","atan"]},asinh:{name:"asinh",category:"Trigonometry",syntax:["asinh(x)"],description:"Calculate the hyperbolic arcsine of a value, defined as `asinh(x) = ln(x + sqrt(x^2 + 1))`.",examples:["asinh(0.5)"],seealso:["acosh","atanh"]},atan:{name:"atan",category:"Trigonometry",syntax:["atan(x)"],description:"Compute the inverse tangent of a value in radians.",examples:["atan(0.5)","atan(tan(0.5))"],seealso:["tan","acos","asin"]},atanh:{name:"atanh",category:"Trigonometry",syntax:["atanh(x)"],description:"Calculate the hyperbolic arctangent of a value, defined as `atanh(x) = ln((1 + x)/(1 - x)) / 2`.",examples:["atanh(0.5)"],seealso:["acosh","asinh"]},atan2:{name:"atan2",category:"Trigonometry",syntax:["atan2(y, x)"],description:"Computes the principal value of the arc tangent of y/x in radians.",examples:["atan2(2, 2) / pi","angle = 60 deg in rad","x = cos(angle)","y = sin(angle)","atan2(y, x)"],seealso:["sin","cos","tan"]},cos:{name:"cos",category:"Trigonometry",syntax:["cos(x)"],description:"Compute the cosine of x in radians.",examples:["cos(2)","cos(pi / 4) ^ 2","cos(180 deg)","cos(60 deg)","sin(0.2)^2 + cos(0.2)^2"],seealso:["acos","sin","tan"]},cosh:{name:"cosh",category:"Trigonometry",syntax:["cosh(x)"],description:"Compute the hyperbolic cosine of x in radians.",examples:["cosh(0.5)"],seealso:["sinh","tanh","coth"]},cot:{name:"cot",category:"Trigonometry",syntax:["cot(x)"],description:"Compute the cotangent of x in radians. Defined as 1/tan(x)",examples:["cot(2)","1 / tan(2)"],seealso:["sec","csc","tan"]},coth:{name:"coth",category:"Trigonometry",syntax:["coth(x)"],description:"Compute the hyperbolic cotangent of x in radians.",examples:["coth(2)","1 / tanh(2)"],seealso:["sech","csch","tanh"]},csc:{name:"csc",category:"Trigonometry",syntax:["csc(x)"],description:"Compute the cosecant of x in radians. Defined as 1/sin(x)",examples:["csc(2)","1 / sin(2)"],seealso:["sec","cot","sin"]},csch:{name:"csch",category:"Trigonometry",syntax:["csch(x)"],description:"Compute the hyperbolic cosecant of x in radians. Defined as 1/sinh(x)",examples:["csch(2)","1 / sinh(2)"],seealso:["sech","coth","sinh"]},sec:{name:"sec",category:"Trigonometry",syntax:["sec(x)"],description:"Compute the secant of x in radians. Defined as 1/cos(x)",examples:["sec(2)","1 / cos(2)"],seealso:["cot","csc","cos"]},sech:{name:"sech",category:"Trigonometry",syntax:["sech(x)"],description:"Compute the hyperbolic secant of x in radians. Defined as 1/cosh(x)",examples:["sech(2)","1 / cosh(2)"],seealso:["coth","csch","cosh"]},sin:{name:"sin",category:"Trigonometry",syntax:["sin(x)"],description:"Compute the sine of x in radians.",examples:["sin(2)","sin(pi / 4) ^ 2","sin(90 deg)","sin(30 deg)","sin(0.2)^2 + cos(0.2)^2"],seealso:["asin","cos","tan"]},sinh:{name:"sinh",category:"Trigonometry",syntax:["sinh(x)"],description:"Compute the hyperbolic sine of x in radians.",examples:["sinh(0.5)"],seealso:["cosh","tanh"]},tan:{name:"tan",category:"Trigonometry",syntax:["tan(x)"],description:"Compute the tangent of x in radians.",examples:["tan(0.5)","sin(0.5) / cos(0.5)","tan(pi / 4)","tan(45 deg)"],seealso:["atan","sin","cos"]},tanh:{name:"tanh",category:"Trigonometry",syntax:["tanh(x)"],description:"Compute the hyperbolic tangent of x in radians.",examples:["tanh(0.5)","sinh(0.5) / cosh(0.5)"],seealso:["sinh","cosh"]},to:{name:"to",category:"Units",syntax:["x to unit","to(x, unit)"],description:"Change the unit of a value.",examples:["5 inch to cm","3.2kg to g","16 bytes in bits"],seealso:[]},clone:{name:"clone",category:"Utils",syntax:["clone(x)"],description:"Clone a variable. Creates a copy of primitive variables,and a deep copy of matrices",examples:["clone(3.5)","clone(2 - 4i)","clone(45 deg)","clone([1, 2; 3, 4])",'clone("hello world")'],seealso:[]},format:{name:"format",category:"Utils",syntax:["format(value)","format(value, precision)"],description:"Format a value of any type as string.",examples:["format(2.3)","format(3 - 4i)","format([])","format(pi, 3)"],seealso:["print"]},bin:{name:"bin",category:"Utils",syntax:["bin(value)"],description:"Format a number as binary",examples:["bin(2)"],seealso:["oct","hex"]},oct:{name:"oct",category:"Utils",syntax:["oct(value)"],description:"Format a number as octal",examples:["oct(56)"],seealso:["bin","hex"]},hex:{name:"hex",category:"Utils",syntax:["hex(value)"],description:"Format a number as hexadecimal",examples:["hex(240)"],seealso:["bin","oct"]},isNaN:{name:"isNaN",category:"Utils",syntax:["isNaN(x)"],description:"Test whether a value is NaN (not a number)",examples:["isNaN(2)","isNaN(0 / 0)","isNaN(NaN)","isNaN(Infinity)"],seealso:["isNegative","isNumeric","isPositive","isZero"]},isInteger:{name:"isInteger",category:"Utils",syntax:["isInteger(x)"],description:"Test whether a value is an integer number.",examples:["isInteger(2)","isInteger(3.5)","isInteger([3, 0.5, -2])"],seealso:["isNegative","isNumeric","isPositive","isZero"]},isNegative:{name:"isNegative",category:"Utils",syntax:["isNegative(x)"],description:"Test whether a value is negative: smaller than zero.",examples:["isNegative(2)","isNegative(0)","isNegative(-4)","isNegative([3, 0.5, -2])"],seealso:["isInteger","isNumeric","isPositive","isZero"]},isNumeric:{name:"isNumeric",category:"Utils",syntax:["isNumeric(x)"],description:"Test whether a value is a numeric value. Returns true when the input is a number, BigNumber, Fraction, or boolean.",examples:["isNumeric(2)",'isNumeric("2")','hasNumericValue("2")',"isNumeric(0)","isNumeric(bignumber(500))","isNumeric(fraction(0.125))","isNumeric(2 + 3i)",'isNumeric([2.3, "foo", false])'],seealso:["isInteger","isZero","isNegative","isPositive","isNaN","hasNumericValue"]},hasNumericValue:{name:"hasNumericValue",category:"Utils",syntax:["hasNumericValue(x)"],description:"Test whether a value is an numeric value. In case of a string, true is returned if the string contains a numeric value.",examples:["hasNumericValue(2)",'hasNumericValue("2")','isNumeric("2")',"hasNumericValue(0)","hasNumericValue(bignumber(500))","hasNumericValue(fraction(0.125))","hasNumericValue(2 + 3i)",'hasNumericValue([2.3, "foo", false])'],seealso:["isInteger","isZero","isNegative","isPositive","isNaN","isNumeric"]},isPositive:{name:"isPositive",category:"Utils",syntax:["isPositive(x)"],description:"Test whether a value is positive: larger than zero.",examples:["isPositive(2)","isPositive(0)","isPositive(-4)","isPositive([3, 0.5, -2])"],seealso:["isInteger","isNumeric","isNegative","isZero"]},isPrime:{name:"isPrime",category:"Utils",syntax:["isPrime(x)"],description:"Test whether a value is prime: has no divisors other than itself and one.",examples:["isPrime(3)","isPrime(-2)","isPrime([2, 17, 100])"],seealso:["isInteger","isNumeric","isNegative","isZero"]},isZero:{name:"isZero",category:"Utils",syntax:["isZero(x)"],description:"Test whether a value is zero.",examples:["isZero(2)","isZero(0)","isZero(-4)","isZero([3, 0, -2, 0])"],seealso:["isInteger","isNumeric","isNegative","isPositive"]},print:{name:"print",category:"Utils",syntax:["print(template, values)","print(template, values, precision)"],description:"Interpolate values into a string template.",examples:['print("Lucy is $age years old", {age: 5})','print("The value of pi is $pi", {pi: pi}, 3)','print("Hello, $user.name!", {user: {name: "John"}})','print("Values: $1, $2, $3", [6, 9, 4])'],seealso:["format"]},typeOf:{name:"typeOf",category:"Utils",syntax:["typeOf(x)"],description:"Get the type of a variable.",examples:["typeOf(3.5)","typeOf(2 - 4i)","typeOf(45 deg)",'typeOf("hello world")'],seealso:["getMatrixDataType"]},numeric:{name:"numeric",category:"Utils",syntax:["numeric(x)"],description:"Convert a numeric input to a specific numeric type: number, BigNumber, or Fraction.",examples:['numeric("4")','numeric("4", "number")','numeric("4", "BigNumber")','numeric("4", "Fraction")','numeric(4, "Fraction")','numeric(fraction(2, 5), "number")'],seealso:["number","fraction","bignumber","string","format"]}},are=xe("help",["typed","mathWithTransform","Help"],t=>{var{typed:r,mathWithTransform:e,Help:i}=t;return r("help",{any:function(a){var l,u=a;if("string"!=typeof a)for(l in e)if(mn(e,l)&&a===e[l]){u=l;break}var p=sa(ire,u);if(!p)throw new Error('No documentation found on "'+("function"==typeof u?u.name:u)+'"');return new i(p)}})}),cre=xe("Parser",["evaluate"],t=>{var{evaluate:r}=t;function e(){if(!(this instanceof e))throw new SyntaxError("Constructor must be called with the new operator");Object.defineProperty(this,"scope",{value:ug(),writable:!1})}return e.prototype.type="Parser",e.prototype.isParser=!0,e.prototype.evaluate=function(i){return r(i,this.scope)},e.prototype.get=function(i){if(this.scope.has(i))return this.scope.get(i)},e.prototype.getAll=function(){return function WQ(t){if(t instanceof lT)return t.wrappedObject;var r={};for(var e of t.keys())cg(r,e,t.get(e));return r}(this.scope)},e.prototype.getAllAsMap=function(){return this.scope},e.prototype.set=function(i,o){return this.scope.set(i,o),o},e.prototype.remove=function(i){this.scope.delete(i)},e.prototype.clear=function(){this.scope.clear()},e},{isClass:!0});function PL(t){return Cr(t)||Zi(t)&&t.isUnary()&&Cr(t.args[0])}function pM(t){return!!(Cr(t)||(Ud(t)||Zi(t))&&t.args.every(pM)||ou(t)&&pM(t.content))}var pre=xe("simplify",["config","typed","parse","add","subtract","multiply","divide","pow","isZero","equal","resolve","simplifyConstant","simplifyCore","?fraction","?bignumber","mathWithTransform","matrix","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","ParenthesisNode","SymbolNode"],t=>{var{typed:e,parse:i,equal:h,resolve:y,simplifyConstant:D,simplifyCore:E,AccessorNode:Y,ArrayNode:N,ConstantNode:q,FunctionNode:j,IndexNode:z,ObjectNode:J,OperatorNode:B,ParenthesisNode:H,SymbolNode:V}=t,{hasProperty:K,isCommutative:ee,isAssociative:re,mergeContext:le,flatten:ie,unflattenr:G,unflattenl:W,createMakeNodeFunction:ce,defaultContext:te,realContext:me,positiveContext:Ee}=CT({FunctionNode:j,OperatorNode:B,SymbolNode:V});e.addConversion({from:"Object",to:"Map",convert:dg});var Le=e("simplify",{Node:ft,"Node, Map":(Te,Ve)=>ft(Te,!1,Ve),"Node, Map, Object":(Te,Ve,tt)=>ft(Te,!1,Ve,tt),"Node, Array":ft,"Node, Array, Map":ft,"Node, Array, Map, Object":ft});function ve(Te){return Te.transform(function(Ve,tt,Rt){return ou(Ve)?ve(Ve.content):Ve})}e.removeConversion({from:"Object",to:"Map",convert:dg}),Le.defaultContext=te,Le.realContext=me,Le.positiveContext=Ee;var Fe={true:!0,false:!0,e:!0,i:!0,Infinity:!0,LN2:!0,LN10:!0,LOG2E:!0,LOG10E:!0,NaN:!0,phi:!0,pi:!0,SQRT1_2:!0,SQRT2:!0,tau:!0};function Je(Te,Ve){var tt={};if(Te.s){var Rt=Te.s.split("->");if(2!==Rt.length)throw SyntaxError("Could not parse rule: "+Te.s);tt.l=Rt[0],tt.r=Rt[1]}else tt.l=Te.l,tt.r=Te.r;for(var Ot of(tt.l=ve(i(tt.l)),tt.r=ve(i(tt.r)),["imposeContext","repeat","assuming"]))Ot in Te&&(tt[Ot]=Te[Ot]);if(Te.evaluate&&(tt.evaluate=i(Te.evaluate)),re(tt.l,Ve)){var zt,en=!ee(tt.l,Ve);en&&(zt=Dt());var Dn=ce(tt.l),hr=Dt();tt.expanded={},tt.expanded.l=Dn([tt.l,hr]),ie(tt.expanded.l,Ve),G(tt.expanded.l,Ve),tt.expanded.r=Dn([tt.r,hr]),en&&(tt.expandedNC1={},tt.expandedNC1.l=Dn([zt,tt.l]),tt.expandedNC1.r=Dn([zt,tt.r]),tt.expandedNC2={},tt.expandedNC2.l=Dn([zt,tt.expanded.l]),tt.expandedNC2.r=Dn([zt,tt.expanded.r]))}return tt}function Ye(Te,Ve){for(var tt=[],Rt=0;Rt<Te.length;Rt++){var Ot=Te[Rt],en=void 0,zt=typeof Ot;switch(zt){case"string":Ot={s:Ot};case"object":en=Je(Ot,Ve);break;case"function":en=Ot;break;default:throw TypeError("Unsupported type of rule: "+zt)}tt.push(en)}return tt}Le.rules=[E,{l:"log(e)",r:"1"},{s:"n-n1 -> n+-n1",assuming:{subtract:{total:!0}}},{s:"n-n -> 0",assuming:{subtract:{total:!1}}},{s:"-(cl*v) -> v * (-cl)",assuming:{multiply:{commutative:!0},subtract:{total:!0}}},{s:"-(cl*v) -> (-cl) * v",assuming:{multiply:{commutative:!1},subtract:{total:!0}}},{s:"-(v*cl) -> v * (-cl)",assuming:{multiply:{commutative:!1},subtract:{total:!0}}},{l:"-(n1/n2)",r:"-n1/n2"},{l:"-v",r:"v * (-1)"},{l:"(n1 + n2)*(-1)",r:"n1*(-1) + n2*(-1)",repeat:!0},{l:"n/n1^n2",r:"n*n1^-n2"},{l:"n/n1",r:"n*n1^-1"},{s:"(n1*n2)^n3 -> n1^n3 * n2^n3",assuming:{multiply:{commutative:!0}}},{s:"(n1*n2)^(-1) -> n2^(-1) * n1^(-1)",assuming:{multiply:{commutative:!1}}},{s:"(n ^ n1) ^ n2 -> n ^ (n1 * n2)",assuming:{divide:{total:!0}}},{l:" vd   * ( vd   * n1 + n2)",r:"vd^2       * n1 +  vd   * n2"},{s:" vd   * (vd^n4 * n1 + n2)   ->  vd^(1+n4)  * n1 +  vd   * n2",assuming:{divide:{total:!0}}},{s:"vd^n3 * ( vd   * n1 + n2)   ->  vd^(n3+1)  * n1 + vd^n3 * n2",assuming:{divide:{total:!0}}},{s:"vd^n3 * (vd^n4 * n1 + n2)   ->  vd^(n3+n4) * n1 + vd^n3 * n2",assuming:{divide:{total:!0}}},{l:"n*n",r:"n^2"},{s:"n * n^n1 -> n^(n1+1)",assuming:{divide:{total:!0}}},{s:"n^n1 * n^n2 -> n^(n1+n2)",assuming:{divide:{total:!0}}},D,{s:"n+n -> 2*n",assuming:{add:{total:!0}}},{l:"n+-n",r:"0"},{l:"vd*n + vd",r:"vd*(n+1)"},{l:"n3*n1 + n3*n2",r:"n3*(n1+n2)"},{l:"n3^(-n4)*n1 +   n3  * n2",r:"n3^(-n4)*(n1 + n3^(n4+1) *n2)"},{l:"n3^(-n4)*n1 + n3^n5 * n2",r:"n3^(-n4)*(n1 + n3^(n4+n5)*n2)"},{s:"n*vd + vd -> (n+1)*vd",assuming:{multiply:{commutative:!1}}},{s:"vd + n*vd -> (1+n)*vd",assuming:{multiply:{commutative:!1}}},{s:"n1*n3 + n2*n3 -> (n1+n2)*n3",assuming:{multiply:{commutative:!1}}},{s:"n^n1 * n -> n^(n1+1)",assuming:{divide:{total:!0},multiply:{commutative:!1}}},{s:"n1*n3^(-n4) + n2 * n3    -> (n1 + n2*n3^(n4 +  1))*n3^(-n4)",assuming:{multiply:{commutative:!1}}},{s:"n1*n3^(-n4) + n2 * n3^n5 -> (n1 + n2*n3^(n4 + n5))*n3^(-n4)",assuming:{multiply:{commutative:!1}}},{l:"n*cd + cd",r:"(n+1)*cd"},{s:"cd*n + cd -> cd*(n+1)",assuming:{multiply:{commutative:!1}}},{s:"cd + cd*n -> cd*(1+n)",assuming:{multiply:{commutative:!1}}},D,{s:"(-n)*n1 -> -(n*n1)",assuming:{subtract:{total:!0}}},{s:"n1*(-n) -> -(n1*n)",assuming:{subtract:{total:!0},multiply:{commutative:!1}}},{s:"ce+ve -> ve+ce",assuming:{add:{commutative:!0}},imposeContext:{add:{commutative:!1}}},{s:"vd*cd -> cd*vd",assuming:{multiply:{commutative:!0}},imposeContext:{multiply:{commutative:!1}}},{l:"n+-n1",r:"n-n1"},{l:"n+-(n1)",r:"n-(n1)"},{s:"n*(n1^-1) -> n/n1",assuming:{multiply:{commutative:!0}}},{s:"n*n1^-n2 -> n/n1^n2",assuming:{multiply:{commutative:!0}}},{s:"n^-1 -> 1/n",assuming:{multiply:{commutative:!0}}},{l:"n^1",r:"n"},{s:"n*(n1/n2) -> (n*n1)/n2",assuming:{multiply:{associative:!0}}},{s:"n-(n1+n2) -> n-n1-n2",assuming:{addition:{associative:!0,commutative:!0}}},{l:"1*n",r:"n",imposeContext:{multiply:{commutative:!0}}},{s:"n1/(n2/n3) -> (n1*n3)/n2",assuming:{multiply:{associative:!0}}},{l:"n1/(-n2)",r:"-n1/n2"}];var at=0;function Dt(){return new V("_p"+at++)}function ft(Te,Ve){var tt=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ug(),Rt=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},Ot=Rt.consoleDebug;Ve=Ye(Ve||Le.rules,Rt.context);for(var en=y(Te,tt),zt={},Dn=(en=ve(en)).toString({parenthesis:"all"});!zt[Dn];){zt[Dn]=!0,at=0;var hr=Dn;Ot&&console.log("Working on: ",Dn);for(var Fr=0;Fr<Ve.length;Fr++){var Xr="";if("function"==typeof Ve[Fr]?(en=Ve[Fr](en,Rt),Ot&&(Xr=Ve[Fr].name)):(ie(en,Rt.context),en=Tt(en,Ve[Fr],Rt.context),Ot&&(Xr="".concat(Ve[Fr].l.toString()," -> ").concat(Ve[Fr].r.toString()))),Ot){var Kr=en.toString({parenthesis:"all"});Kr!==hr&&(console.log("Applying",Xr,"produced",Kr),hr=Kr)}W(en,Rt.context)}Dn=en.toString({parenthesis:"all"})}return en}function st(Te,Ve,tt){var Rt=Te;if(Te)for(var Ot=0;Ot<Te.length;++Ot){var en=Tt(Te[Ot],Ve,tt);en!==Te[Ot]&&(Rt===Te&&(Rt=Te.slice()),Rt[Ot]=en)}return Rt}function Tt(Te,Ve,tt){if(Ve.assuming)for(var Rt in Ve.assuming)for(var Ot in Ve.assuming[Rt])if(K(Rt,Ot,tt)!==Ve.assuming[Rt][Ot])return Te;var en=le(Ve.imposeContext,tt),zt=Te;if(zt instanceof B||zt instanceof j){var Dn=st(zt.args,Ve,tt);Dn!==zt.args&&((zt=zt.clone()).args=Dn)}else if(zt instanceof H){if(zt.content){var hr=Tt(zt.content,Ve,tt);hr!==zt.content&&(zt=new H(hr))}}else if(zt instanceof N){var Fr=st(zt.items,Ve,tt);Fr!==zt.items&&(zt=new N(Fr))}else if(zt instanceof Y){var Xr=zt.object;zt.object&&(Xr=Tt(zt.object,Ve,tt));var Kr=zt.index;zt.index&&(Kr=Tt(zt.index,Ve,tt)),(Xr!==zt.object||Kr!==zt.index)&&(zt=new Y(Xr,Kr))}else if(zt instanceof z){var ma=st(zt.dimensions,Ve,tt);ma!==zt.dimensions&&(zt=new z(ma))}else if(zt instanceof J){var qo=!1,ip={};for(var Dc in zt.properties)ip[Dc]=Tt(zt.properties[Dc],Ve,tt),ip[Dc]!==zt.properties[Dc]&&(qo=!0);qo&&(zt=new J(ip))}var Nl=Ve.r,yr=Be(Ve.l,zt,en)[0];if(!yr&&Ve.expanded&&(Nl=Ve.expanded.r,yr=Be(Ve.expanded.l,zt,en)[0]),!yr&&Ve.expandedNC1&&(Nl=Ve.expandedNC1.r,(yr=Be(Ve.expandedNC1.l,zt,en)[0])||(Nl=Ve.expandedNC2.r,yr=Be(Ve.expandedNC2.l,zt,en)[0])),yr){var op=zt.implicit;zt=Nl.clone(),op&&"implicit"in Nl&&(zt.implicit=!0),zt=zt.transform(function(oe){return oe.isSymbolNode&&mn(yr.placeholders,oe.name)?yr.placeholders[oe.name].clone():oe})}return Ve.repeat&&zt!==Te&&(zt=Tt(zt,Ve,tt)),zt}function Ut(Te,Ve){var tt={placeholders:{}};if(!Te.placeholders&&!Ve.placeholders)return tt;if(!Te.placeholders)return Ve;if(!Ve.placeholders)return Te;for(var Rt in Te.placeholders)if(mn(Te.placeholders,Rt)&&(tt.placeholders[Rt]=Te.placeholders[Rt],mn(Ve.placeholders,Rt)&&!ut(Te.placeholders[Rt],Ve.placeholders[Rt])))return null;for(var Ot in Ve.placeholders)mn(Ve.placeholders,Ot)&&(tt.placeholders[Ot]=Ve.placeholders[Ot]);return tt}function Ht(Te,Ve){var tt=[];if(0===Te.length||0===Ve.length)return tt;for(var Rt,Ot=0;Ot<Te.length;Ot++)for(var en=0;en<Ve.length;en++)(Rt=Ut(Te[Ot],Ve[en]))&&tt.push(Rt);return tt}function Be(Te,Ve,tt,Rt){var Ot=[{placeholders:{}}];if(Te instanceof B&&Ve instanceof B||Te instanceof j&&Ve instanceof j){if(Te instanceof B){if(Te.op!==Ve.op||Te.fn!==Ve.fn)return[]}else if(Te instanceof j&&Te.name!==Ve.name)return[];if(!(1===Ve.args.length&&1===Te.args.length||!re(Ve,tt)&&Ve.args.length===Te.args.length||Rt)){if(Ve.args.length>=2&&2===Te.args.length){for(var Xr=function Qt(Te,Ve){var Rt,Ot,tt=[],en=ce(Te);if(ee(Te,Ve))for(var zt=0;zt<Te.args.length;zt++)(Ot=Te.args.slice(0)).splice(zt,1),Rt=1===Ot.length?Ot[0]:en(Ot),tt.push(en([Te.args[zt],Rt]));else for(var Dn=1;Dn<Te.args.length;Dn++){var hr=Te.args[0];Dn>1&&(hr=en(Te.args.slice(0,Dn))),Rt=1===(Ot=Te.args.slice(Dn)).length?Ot[0]:en(Ot),tt.push(en([hr,Rt]))}return tt}(Ve,tt),Kr=[],ma=0;ma<Xr.length;ma++){var qo=Be(Te,Xr[ma],tt,!0);Kr=Kr.concat(qo)}return Kr}if(Te.args.length>2)throw Error("Unexpected non-binary associative function: "+Te.toString());return[]}for(var en=[],zt=0;zt<Te.args.length;zt++){var Dn=Be(Te.args[zt],Ve.args[zt],tt);if(0===Dn.length)break;en.push(Dn)}if(en.length!==Te.args.length){if(!ee(Ve,tt)||1===Te.args.length)return[];if(Te.args.length>2)throw new Error("permuting >2 commutative non-associative rule arguments not yet implemented");var hr=Be(Te.args[0],Ve.args[1],tt);if(0===hr.length)return[];var Fr=Be(Te.args[1],Ve.args[0],tt);if(0===Fr.length)return[];en=[hr,Fr]}Ot=function Se(Te){if(0===Te.length)return Te;for(var Ve=Te.reduce(Ht),tt=[],Rt={},Ot=0;Ot<Ve.length;Ot++){var en=JSON.stringify(Ve[Ot]);Rt[en]||(Rt[en]=!0,tt.push(Ve[Ot]))}return tt}(en)}else if(Te instanceof V){if(0===Te.name.length)throw new Error("Symbol in rule has 0 length...!?");if(Fe[Te.name]){if(Te.name!==Ve.name)return[]}else switch(Te.name[1]>="a"&&Te.name[1]<="z"?Te.name.substring(0,2):Te.name[0]){case"n":case"_p":Ot[0].placeholders[Te.name]=Ve;break;case"c":case"cl":if(!Cr(Ve))return[];Ot[0].placeholders[Te.name]=Ve;break;case"v":if(Cr(Ve))return[];Ot[0].placeholders[Te.name]=Ve;break;case"vl":if(!_o(Ve))return[];Ot[0].placeholders[Te.name]=Ve;break;case"cd":if(!PL(Ve))return[];Ot[0].placeholders[Te.name]=Ve;break;case"vd":if(PL(Ve))return[];Ot[0].placeholders[Te.name]=Ve;break;case"ce":if(!pM(Ve))return[];Ot[0].placeholders[Te.name]=Ve;break;case"ve":if(pM(Ve))return[];Ot[0].placeholders[Te.name]=Ve;break;default:throw new Error("Invalid symbol in rule: "+Te.name)}}else{if(!(Te instanceof q))return[];if(!h(Te.value,Ve.value))return[]}return Ot}function ut(Te,Ve){if(Te instanceof q&&Ve instanceof q){if(!h(Te.value,Ve.value))return!1}else if(Te instanceof V&&Ve instanceof V){if(Te.name!==Ve.name)return!1}else{if(!(Te instanceof B&&Ve instanceof B||Te instanceof j&&Ve instanceof j))return!1;if(Te instanceof B){if(Te.op!==Ve.op||Te.fn!==Ve.fn)return!1}else if(Te instanceof j&&Te.name!==Ve.name)return!1;if(Te.args.length!==Ve.args.length)return!1;for(var tt=0;tt<Te.args.length;tt++)if(!ut(Te.args[tt],Ve.args[tt]))return!1}return!0}return Le}),TL="symbolicEqual",hre=xe(TL,["parse","simplify","typed","OperatorNode"],t=>{var{simplify:e,typed:i,OperatorNode:o}=t;function a(l,u){var p=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},f=new o("-","subtract",[l,u]),h=e(f,{},p);return Cr(h)&&!h.value}return i(TL,{"Node, Node":a,"Node, Node, Object":a})}),gre=xe("parser",["typed","Parser"],t=>{var{typed:r,Parser:e}=t;return r("parser",{"":function(){return new e}})}),kL="rationalize",vre=xe(kL,["config","typed","equal","isZero","add","subtract","multiply","divide","pow","parse","simplifyConstant","simplifyCore","simplify","?bignumber","?fraction","mathWithTransform","matrix","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","SymbolNode","ParenthesisNode"],t=>{var{typed:e,simplifyConstant:y,simplifyCore:D,simplify:E,ConstantNode:q,OperatorNode:B,SymbolNode:H}=t;function K(G){var W=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},ce=arguments.length>2&&void 0!==arguments[2]&&arguments[2],te=re(),me=ee(G,W,!0,te.firstRules),Ee=me.variables.length,Le={exactFractions:!1},ve={exactFractions:!0};if(G=me.expression,Ee>=1){G=le(G);var Fe,Je,Dt,Ye=!0,at=!1;for(G=E(G,te.firstRules,{},Le);Je=Ye?te.distrDivRules:te.sucDivRules,Ye=!Ye,(Dt=(G=E(G,Je,{},ve)).toString())!==Fe;)at=!0,Fe=Dt;at&&(G=E(G,te.firstRulesAgain,{},Le)),G=E(G,te.finalRules,{},Le)}var ft=[],st={};return"OperatorNode"===G.type&&G.isBinary()&&"/"===G.op?(1===Ee&&(G.args[0]=ie(G.args[0],ft),G.args[1]=ie(G.args[1])),ce&&(st.numerator=G.args[0],st.denominator=G.args[1])):(1===Ee&&(G=ie(G,ft)),ce&&(st.numerator=G,st.denominator=null)),ce?(st.coefficients=ft,st.variables=me.variables,st.expression=G,st):G}return e(kL,{Node:K,"Node, boolean":(G,W)=>K(G,{},W),"Node, Object":K,"Node, Object, boolean":K});function ee(G,W,ce,te){var me=[],Ee=E(G,te,W,{exactFractions:!1}),Le="+-*"+((ce=!!ce)?"/":"");!function Fe(Je){var Ye=Je.type;if("FunctionNode"===Ye)throw new Error("There is an unsolved function call");if("OperatorNode"===Ye)if("^"===Je.op){if("ConstantNode"!==Je.args[1].type||!vn(parseFloat(Je.args[1].value)))throw new Error("There is a non-integer exponent");Fe(Je.args[0])}else{if(-1===Le.indexOf(Je.op))throw new Error("Operator "+Je.op+" invalid in polynomial expression");for(var at=0;at<Je.args.length;at++)Fe(Je.args[at])}else if("SymbolNode"===Ye){var Dt=Je.name;-1===me.indexOf(Dt)&&me.push(Dt)}else if("ParenthesisNode"===Ye)Fe(Je.content);else if("ConstantNode"!==Ye)throw new Error("type "+Ye+" is not allowed in polynomial expression")}(Ee);var ve={};return ve.expression=Ee,ve.variables=me,ve}function re(){var G=[D,{l:"n+n",r:"2*n"},{l:"n+-n",r:"0"},y,{l:"n*(n1^-1)",r:"n/n1"},{l:"n*n1^-n2",r:"n/n1^n2"},{l:"n1^-1",r:"1/n1"},{l:"n*(n1/n2)",r:"(n*n1)/n2"},{l:"1*n",r:"n"}],W=[{l:"(-n1)/(-n2)",r:"n1/n2"},{l:"(-n1)*(-n2)",r:"n1*n2"},{l:"n1--n2",r:"n1+n2"},{l:"n1-n2",r:"n1+(-n2)"},{l:"(n1+n2)*n3",r:"(n1*n3 + n2*n3)"},{l:"n1*(n2+n3)",r:"(n1*n2+n1*n3)"},{l:"c1*n + c2*n",r:"(c1+c2)*n"},{l:"c1*n + n",r:"(c1+1)*n"},{l:"c1*n - c2*n",r:"(c1-c2)*n"},{l:"c1*n - n",r:"(c1-1)*n"},{l:"v/c",r:"(1/c)*v"},{l:"v/-c",r:"-(1/c)*v"},{l:"-v*-c",r:"c*v"},{l:"-v*c",r:"-c*v"},{l:"v*-c",r:"-c*v"},{l:"v*c",r:"c*v"},{l:"-(-n1*n2)",r:"(n1*n2)"},{l:"-(n1*n2)",r:"(-n1*n2)"},{l:"-(-n1+n2)",r:"(n1-n2)"},{l:"-(n1+n2)",r:"(-n1-n2)"},{l:"(n1^n2)^n3",r:"(n1^(n2*n3))"},{l:"-(-n1/n2)",r:"(n1/n2)"},{l:"-(n1/n2)",r:"(-n1/n2)"}],te=[{l:"(n1/(n2/n3))",r:"((n1*n3)/n2)"},{l:"(n1/n2/n3)",r:"(n1/(n2*n3))"}],me={};return me.firstRules=G.concat(W,te),me.distrDivRules=[{l:"(n1/n2 + n3/n4)",r:"((n1*n4 + n3*n2)/(n2*n4))"},{l:"(n1/n2 + n3)",r:"((n1 + n3*n2)/n2)"},{l:"(n1 + n2/n3)",r:"((n1*n3 + n2)/n3)"}],me.sucDivRules=te,me.firstRulesAgain=G.concat(W),me.finalRules=[D,{l:"n*-n",r:"-n^2"},{l:"n*n",r:"n^2"},y,{l:"n*-n^n1",r:"-n^(n1+1)"},{l:"n*n^n1",r:"n^(n1+1)"},{l:"n^n1*-n^n2",r:"-n^(n1+n2)"},{l:"n^n1*n^n2",r:"n^(n1+n2)"},{l:"n^n1*-n",r:"-n^(n1+1)"},{l:"n^n1*n",r:"n^(n1+1)"},{l:"n^n1/-n",r:"-n^(n1-1)"},{l:"n^n1/n",r:"n^(n1-1)"},{l:"n/-n^n1",r:"-n^(1-n1)"},{l:"n/n^n1",r:"n^(1-n1)"},{l:"n^n1/-n^n2",r:"n^(n1-n2)"},{l:"n^n1/n^n2",r:"n^(n1-n2)"},{l:"n1+(-n2*n3)",r:"n1-n2*n3"},{l:"v*(-c)",r:"-c*v"},{l:"n1+-n2",r:"n1-n2"},{l:"v*c",r:"c*v"},{l:"(n1^n2)^n3",r:"(n1^(n2*n3))"}],me}function le(G,W,ce){var te=G.type,me=arguments.length>1;if("OperatorNode"===te&&G.isBinary()){var Le,Ee=!1;if("^"===G.op&&("ParenthesisNode"===G.args[0].type||"OperatorNode"===G.args[0].type)&&"ConstantNode"===G.args[1].type&&(Ee=(Le=parseFloat(G.args[1].value))>=2&&vn(Le)),Ee){if(Le>2){var ve=G.args[0],Fe=new B("^","pow",[G.args[0].cloneDeep(),new q(Le-1)]);G=new B("*","multiply",[ve,Fe])}else G=new B("*","multiply",[G.args[0],G.args[0].cloneDeep()]);me&&("content"===ce?W.content=G:W.args[ce]=G)}}if("ParenthesisNode"===te)le(G.content,G,"content");else if("ConstantNode"!==te&&"SymbolNode"!==te)for(var Je=0;Je<G.args.length;Je++)le(G.args[Je],G,Je);if(!me)return G}function ie(G,W){void 0===W&&(W=[]),W[0]=0;var te=0,me="";!function Dt(ft,st,Tt){var Qt=ft.type;if("FunctionNode"===Qt)throw new Error("There is an unsolved function call");if("OperatorNode"===Qt){if(-1==="+-*^".indexOf(ft.op))throw new Error("Operator "+ft.op+" invalid");if(null!==st){if(("unaryMinus"===ft.fn||"pow"===ft.fn)&&"add"!==st.fn&&"subtract"!==st.fn&&"multiply"!==st.fn)throw new Error("Invalid "+ft.op+" placing");if(("subtract"===ft.fn||"add"===ft.fn||"multiply"===ft.fn)&&"add"!==st.fn&&"subtract"!==st.fn)throw new Error("Invalid "+ft.op+" placing");if(("subtract"===ft.fn||"add"===ft.fn||"unaryMinus"===ft.fn)&&0!==Tt.noFil)throw new Error("Invalid "+ft.op+" placing")}("^"===ft.op||"*"===ft.op)&&(Tt.fire=ft.op);for(var Ut=0;Ut<ft.args.length;Ut++)"unaryMinus"===ft.fn&&(Tt.oper="-"),("+"===ft.op||"subtract"===ft.fn)&&(Tt.fire="",Tt.cte=1,Tt.oper=0===Ut?"+":ft.op),Tt.noFil=Ut,Dt(ft.args[Ut],ft,Tt)}else if("SymbolNode"===Qt){if(ft.name!==me&&""!==me)throw new Error("There is more than one variable");if(me=ft.name,null===st)return void(W[1]=1);if("^"===st.op&&0!==Tt.noFil)throw new Error("In power the variable should be the first parameter");if("*"===st.op&&1!==Tt.noFil)throw new Error("In multiply the variable should be the second parameter");(""===Tt.fire||"*"===Tt.fire)&&(te<1&&(W[1]=0),W[1]+=Tt.cte*("+"===Tt.oper?1:-1),te=Math.max(1,te))}else{if("ConstantNode"!==Qt)throw new Error("Type "+Qt+" is not allowed");var Ht=parseFloat(ft.value);if(null===st)return void(W[0]=Ht);if("^"===st.op){if(1!==Tt.noFil)throw new Error("Constant cannot be powered");if(!vn(Ht)||Ht<=0)throw new Error("Non-integer exponent is not allowed");for(var Se=te+1;Se<Ht;Se++)W[Se]=0;return Ht>te&&(W[Ht]=0),W[Ht]+=Tt.cte*("+"===Tt.oper?1:-1),void(te=Math.max(Ht,te))}Tt.cte=Ht,""===Tt.fire&&(W[0]+=Tt.cte*("+"===Tt.oper?1:-1))}}(G,null,{cte:1,oper:"+",fire:""});for(var Le,Ee=!0,ve=te=W.length-1;ve>=0;ve--)if(0!==W[ve]){var Fe=new q(Ee?W[ve]:Math.abs(W[ve])),Je=W[ve]<0?"-":"+";if(ve>0){var Ye=new H(me);if(ve>1){var at=new q(ve);Ye=new B("^","pow",[Ye,at])}Fe=-1===W[ve]&&Ee?new B("-","unaryMinus",[Ye]):1===Math.abs(W[ve])?Ye:new B("*","multiply",[Fe,Ye])}Le=Ee?Fe:"+"===Je?new B("+","add",[Le,Fe]):new B("-","subtract",[Le,Fe]),Ee=!1}return Ee?new q(0):Le}}),FL="derivative",bre=xe(FL,["typed","config","parse","simplify","equal","isZero","numeric","ConstantNode","FunctionNode","OperatorNode","ParenthesisNode","SymbolNode"],t=>{var{typed:r,config:e,parse:i,simplify:o,equal:a,isZero:l,numeric:u,ConstantNode:p,FunctionNode:f,OperatorNode:h,ParenthesisNode:y,SymbolNode:D}=t;function E(q,j){var z=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{simplify:!0},J={};L(J,q,j.name);var B=U(q,J);return z.simplify?o(B):B}r.addConversion({from:"identifier",to:"SymbolNode",convert:i});var k=r(FL,{"Node, SymbolNode":E,"Node, SymbolNode, Object":E});r.removeConversion({from:"identifier",to:"SymbolNode",convert:i}),k._simplify=!0,k.toTex=function(q){return T.apply(null,q.args)};var T=r("_derivTex",{"Node, SymbolNode":function(j,z){return Cr(j)&&"string"===Vr(j.value)?T(i(j.value).toString(),z.toString(),1):T(j.toTex(),z.toString(),1)},"Node, ConstantNode":function(j,z){if("string"===Vr(z.value))return T(j,i(z.value));throw new Error("The second parameter to 'derivative' is a non-string constant")},"Node, SymbolNode, ConstantNode":function(j,z,J){return T(j.toString(),z.name,J.value)},"string, string, number":function(j,z,J){return(1===J?"{d\\over d"+z+"}":"{d^{"+J+"}\\over d"+z+"^{"+J+"}}")+"\\left[".concat(j,"\\right]")}}),L=r("constTag",{"Object, ConstantNode, string":function(j,z){return j[z]=!0,!0},"Object, SymbolNode, string":function(j,z,J){return z.name!==J&&(j[z]=!0,!0)},"Object, ParenthesisNode, string":function(j,z,J){return L(j,z.content,J)},"Object, FunctionAssignmentNode, string":function(j,z,J){return-1===z.params.indexOf(J)?(j[z]=!0,!0):L(j,z.expr,J)},"Object, FunctionNode | OperatorNode, string":function(j,z,J){if(z.args.length>0){for(var B=L(j,z.args[0],J),H=1;H<z.args.length;++H)B=L(j,z.args[H],J)&&B;if(B)return j[z]=!0,!0}return!1}}),U=r("_derivative",{"ConstantNode, Object":function(j){return N(0)},"SymbolNode, Object":function(j,z){return N(void 0!==z[j]?0:1)},"ParenthesisNode, Object":function(j,z){return new y(U(j.content,z))},"FunctionAssignmentNode, Object":function(j,z){return void 0!==z[j]?N(0):U(j.expr,z)},"FunctionNode, Object":function(j,z){if(1!==j.args.length&&function Y(q){if("log"!==q.name&&"nthRoot"!==q.name&&"pow"!==q.name||2!==q.args.length){for(var j=0;j<q.args.length;++j)q.args[j]=N(0);throw q.compile().evaluate(),new Error('Function "'+q.name+'" is not supported by derivative, or a wrong number of arguments is passed')}}(j),void 0!==z[j])return N(0);var B,K,ee,re,J=j.args[0],H=!1,V=!1;switch(j.name){case"cbrt":H=!0,K=new h("*","multiply",[N(3),new h("^","pow",[J,new h("/","divide",[N(2),N(3)])])]);break;case"sqrt":case"nthRoot":if(1===j.args.length)H=!0,K=new h("*","multiply",[N(2),new f("sqrt",[J])]);else if(2===j.args.length)return z[B=new h("/","divide",[N(1),j.args[1]])]=z[j.args[1]],U(new h("^","pow",[J,B]),z);break;case"log10":B=N(10);case"log":if(B||1!==j.args.length){if(1===j.args.length&&B||2===j.args.length&&void 0!==z[j.args[1]])K=new h("*","multiply",[J.clone(),new f("log",[B||j.args[1]])]),H=!0;else if(2===j.args.length)return U(new h("/","divide",[new f("log",[J]),new f("log",[j.args[1]])]),z)}else K=J.clone(),H=!0;break;case"pow":return z[B]=z[j.args[1]],U(new h("^","pow",[J,j.args[1]]),z);case"exp":K=new f("exp",[J.clone()]);break;case"sin":K=new f("cos",[J.clone()]);break;case"cos":K=new h("-","unaryMinus",[new f("sin",[J.clone()])]);break;case"tan":K=new h("^","pow",[new f("sec",[J.clone()]),N(2)]);break;case"sec":K=new h("*","multiply",[j,new f("tan",[J.clone()])]);break;case"csc":V=!0,K=new h("*","multiply",[j,new f("cot",[J.clone()])]);break;case"cot":V=!0,K=new h("^","pow",[new f("csc",[J.clone()]),N(2)]);break;case"asin":H=!0,K=new f("sqrt",[new h("-","subtract",[N(1),new h("^","pow",[J.clone(),N(2)])])]);break;case"acos":H=!0,V=!0,K=new f("sqrt",[new h("-","subtract",[N(1),new h("^","pow",[J.clone(),N(2)])])]);break;case"atan":H=!0,K=new h("+","add",[new h("^","pow",[J.clone(),N(2)]),N(1)]);break;case"asec":H=!0,K=new h("*","multiply",[new f("abs",[J.clone()]),new f("sqrt",[new h("-","subtract",[new h("^","pow",[J.clone(),N(2)]),N(1)])])]);break;case"acsc":H=!0,V=!0,K=new h("*","multiply",[new f("abs",[J.clone()]),new f("sqrt",[new h("-","subtract",[new h("^","pow",[J.clone(),N(2)]),N(1)])])]);break;case"acot":H=!0,V=!0,K=new h("+","add",[new h("^","pow",[J.clone(),N(2)]),N(1)]);break;case"sinh":K=new f("cosh",[J.clone()]);break;case"cosh":K=new f("sinh",[J.clone()]);break;case"tanh":K=new h("^","pow",[new f("sech",[J.clone()]),N(2)]);break;case"sech":V=!0,K=new h("*","multiply",[j,new f("tanh",[J.clone()])]);break;case"csch":V=!0,K=new h("*","multiply",[j,new f("coth",[J.clone()])]);break;case"coth":V=!0,K=new h("^","pow",[new f("csch",[J.clone()]),N(2)]);break;case"asinh":H=!0,K=new f("sqrt",[new h("+","add",[new h("^","pow",[J.clone(),N(2)]),N(1)])]);break;case"acosh":H=!0,K=new f("sqrt",[new h("-","subtract",[new h("^","pow",[J.clone(),N(2)]),N(1)])]);break;case"atanh":H=!0,K=new h("-","subtract",[N(1),new h("^","pow",[J.clone(),N(2)])]);break;case"asech":H=!0,V=!0,K=new h("*","multiply",[J.clone(),new f("sqrt",[new h("-","subtract",[N(1),new h("^","pow",[J.clone(),N(2)])])])]);break;case"acsch":H=!0,V=!0,K=new h("*","multiply",[new f("abs",[J.clone()]),new f("sqrt",[new h("+","add",[new h("^","pow",[J.clone(),N(2)]),N(1)])])]);break;case"acoth":H=!0,V=!0,K=new h("-","subtract",[N(1),new h("^","pow",[J.clone(),N(2)])]);break;case"abs":K=new h("/","divide",[new f(new D("abs"),[J.clone()]),J.clone()]);break;default:throw new Error('Function "'+j.name+'" is not supported by derivative, or a wrong number of arguments is passed')}H?(ee="/",re="divide"):(ee="*",re="multiply");var le=U(J,z);return V&&(le=new h("-","unaryMinus",[le])),new h(ee,re,[le,K])},"OperatorNode, Object":function(j,z){if(void 0!==z[j])return N(0);if("+"===j.op)return new h(j.op,j.fn,j.args.map(function(G){return U(G,z)}));if("-"===j.op){if(j.isUnary())return new h(j.op,j.fn,[U(j.args[0],z)]);if(j.isBinary())return new h(j.op,j.fn,[U(j.args[0],z),U(j.args[1],z)])}if("*"===j.op){var J=j.args.filter(function(G){return void 0!==z[G]});if(J.length>0){var B=j.args.filter(function(G){return void 0===z[G]}),H=1===B.length?B[0]:new h("*","multiply",B),V=J.concat(U(H,z));return new h("*","multiply",V)}return new h("+","add",j.args.map(function(G){return new h("*","multiply",j.args.map(function(W){return W===G?U(W,z):W.clone()}))}))}if("/"===j.op&&j.isBinary()){var K=j.args[0],ee=j.args[1];return void 0!==z[ee]?new h("/","divide",[U(K,z),ee]):void 0!==z[K]?new h("*","multiply",[new h("-","unaryMinus",[K]),new h("/","divide",[U(ee,z),new h("^","pow",[ee.clone(),N(2)])])]):new h("/","divide",[new h("-","subtract",[new h("*","multiply",[U(K,z),ee.clone()]),new h("*","multiply",[K.clone(),U(ee,z)])]),new h("^","pow",[ee.clone(),N(2)])])}if("^"===j.op&&j.isBinary()){var re=j.args[0],le=j.args[1];if(void 0!==z[re])return Cr(re)&&(l(re.value)||a(re.value,1))?N(0):new h("*","multiply",[j,new h("*","multiply",[new f("log",[re.clone()]),U(le.clone(),z)])]);if(void 0!==z[le]){if(Cr(le)){if(l(le.value))return N(0);if(a(le.value,1))return U(re,z)}var ie=new h("^","pow",[re.clone(),new h("-","subtract",[le,N(1)])]);return new h("*","multiply",[le.clone(),new h("*","multiply",[U(re,z),ie])])}return new h("*","multiply",[new h("^","pow",[re.clone(),le.clone()]),new h("+","add",[new h("*","multiply",[U(re,z),new h("/","divide",[le.clone(),re.clone()])]),new h("*","multiply",[U(le,z),new f("log",[re.clone()])])])])}throw new Error('Operator "'+j.op+'" is not supported by derivative, or a wrong number of arguments is passed')}});function N(q,j){return new p(u(q,j||e.number))}return k}),vg=se(5961);function yg(t,r,e,i,o){if(vg.isTypedFunction(t)){var a=[r,e,i],l=vg.resolve(t,a);if(l)return y(l.implementation,a);var u=[r,e],p=vg.resolve(t,u);if(p)return y(p.implementation,u);var f=[r],h=vg.resolve(t,f);return h?y(h.implementation,f):y(t,a)}return t(r,e,i);function y(D,E){try{return D.apply(D,E)}catch(L){var k;if(L instanceof TypeError&&"wrongType"===(null===(k=L.data)||void 0===k?void 0:k.category)){var T=[];throw T.push("value: ".concat(Vr(r))),E.length>=2&&T.push("index: ".concat(Vr(e))),E.length>=3&&T.push("array: ".concat(Vr(i))),new TypeError("Function ".concat(o," cannot apply callback arguments ")+"".concat(t.name,"(").concat(T.join(", "),") at index ").concat(JSON.stringify(e)))}throw new TypeError("Function ".concat(o," cannot apply callback arguments ")+"to function ".concat(t.name,": ").concat(L.message))}}}function wT(t,r,e){var i=t.filter(function(u){return _o(u)&&!(u.name in r)&&!e.has(u.name)})[0];if(!i)throw new Error('No undefined variable found in inline expression "'+t+'"');var o=i.name,a=o0(e),l=t.compile();return function(p){return a.set(o,p),l.evaluate(a)}}var wre=xe("filter",["typed"],t=>{var{typed:r}=t;function e(o,a,l){var u,p;return o[0]&&(u=o[0].compile().evaluate(l)),o[1]&&(p=_o(o[1])||e0(o[1])?o[1].compile().evaluate(l):wT(o[1],a,l)),i(u,p)}e.rawArgs=!0;var i=r("filter",{"Array, function":NL,"Matrix, function":function(a,l){return a.create(NL(a.toArray(),l))},"Array, RegExp":Gw,"Matrix, RegExp":function(a,l){return a.create(Gw(a.toArray(),l))}});return e},{isTransformFunction:!0});function NL(t,r){return sL(t,function(e,i,o){return yg(r,e,[i+1],o,"filter")})}var Dre=xe("forEach",["typed"],t=>{var{typed:r}=t;function e(o,a,l){var u,p;return o[0]&&(u=o[0].compile().evaluate(l)),o[1]&&(p=_o(o[1])||e0(o[1])?o[1].compile().evaluate(l):wT(o[1],a,l)),i(u,p)}e.rawArgs=!0;var i=r("forEach",{"Array | Matrix, function":function(a,l){!function p(f,h){if(!Array.isArray(f))return yg(l,f,h,a,"forEach");Yw(f,function(y,D){p(y,h.concat(D+1))})}(a.valueOf(),[])}});return e},{isTransformFunction:!0}),Are=xe("map",["typed"],t=>{var{typed:r}=t;function e(o,a,l){var u,p;return o[0]&&(u=o[0].compile().evaluate(l)),o[1]&&(p=_o(o[1])||e0(o[1])?o[1].compile().evaluate(l):wT(o[1],a,l)),i(u,p)}e.rawArgs=!0;var i=r("map",{"Array, function":function(a,l){return RL(a,l,a)},"Matrix, function":function(a,l){return a.create(RL(a.valueOf(),l,a))}});return e},{isTransformFunction:!0});function RL(t,r,e){return function i(o,a){return Array.isArray(o)?au(o,function(l,u){return i(l,a.concat(u+1))}):yg(r,o,a,e,"map")}(t,[])}var MT=xe("apply",["typed","isInteger"],t=>{var{typed:r,isInteger:e}=t;return r("apply",{"Array | Matrix, number | BigNumber, function":function(o,a,l){if(!e(a))throw new TypeError("Integer number expected for dimension");var u=Array.isArray(o)?Vn(o):o.size();if(a<0||a>=u.length)throw new wl(a,u.length);return On(o)?o.create(fM(o.valueOf(),a,l)):fM(o,a,l)}})});function fM(t,r,e){var i,o,a;if(r<=0){if(Array.isArray(t[0])){for(a=function Tre(t){var i,o,r=t.length,e=t[0].length,a=[];for(o=0;o<e;o++){var l=[];for(i=0;i<r;i++)l.push(t[i][o]);a.push(l)}return a}(t),o=[],i=0;i<a.length;i++)o[i]=fM(a[i],r-1,e);return o}return e(t)}for(o=[],i=0;i<t.length;i++)o[i]=fM(t[i],r-1,e);return o}var Fre=xe("apply",["typed","isInteger"],t=>{var{typed:r,isInteger:e}=t,i=MT({typed:r,isInteger:e});return r("apply",{"...any":function(a){var l=a[1];Kn(l)?a[1]=l-1:dr(l)&&(a[1]=l.minus(1));try{return i.apply(null,a)}catch(u){throw la(u)}}})},{isTransformFunction:!0}),UL=xe("concat",["typed","matrix","isInteger"],t=>{var{typed:r,matrix:e,isInteger:i}=t;return r("concat",{"...Array | Matrix | number | BigNumber":function(a){var l,f,u=a.length,p=-1,h=!1,y=[];for(l=0;l<u;l++){var D=a[l];if(On(D)&&(h=!0),Kn(D)||dr(D)){if(l!==u-1)throw new Error("Dimension must be specified as last argument");if(f=p,p=D.valueOf(),!i(p))throw new TypeError("Integer number expected for dimension");if(p<0||l>0&&p>f)throw new wl(p,f+1)}else{var E=Bn(D).valueOf(),k=Vn(E);if(y[l]=E,f=p,p=k.length-1,l>0&&p!==f)throw new tr(f+1,p+1)}}if(0===y.length)throw new SyntaxError("At least one matrix expected");for(var T=y.shift();y.length;)T=uL(T,y.shift(),p);return h?e(T):T},"...string":function(a){return a.join("")}})}),Bre=xe("concat",["typed","matrix","isInteger"],t=>{var{typed:r,matrix:e,isInteger:i}=t,o=UL({typed:r,matrix:e,isInteger:i});return r("concat",{"...any":function(l){var u=l.length-1,p=l[u];Kn(p)?l[u]=p-1:dr(p)&&(l[u]=p.minus(1));try{return o.apply(null,l)}catch(f){throw la(f)}}})},{isTransformFunction:!0});function ca(t,r,e){var i;return-1!==String(t).indexOf("Unexpected type")?(i=arguments.length>2?" (type: "+Vr(e)+", value: "+JSON.stringify(e)+")":" (type: "+t.data.actual+")",new TypeError("Cannot calculate "+r+", unexpected type of argument"+i)):-1!==String(t).indexOf("complex numbers")?(i=arguments.length>2?" (type: "+Vr(e)+", value: "+JSON.stringify(e)+")":"",new TypeError("Cannot calculate "+r+", no ordering relation is defined for complex numbers"+i)):t}var zL=xe("max",["typed","config","numeric","larger"],t=>{var{typed:r,config:e,numeric:i,larger:o}=t;return r("max",{"Array | Matrix":l,"Array | Matrix, number | BigNumber":function(p,f){return uM(p,f.valueOf(),a)},"...":function(p){if(_g(p))throw new TypeError("Scalar values expected in function max");return l(p)}});function a(u,p){try{return o(u,p)?u:p}catch(f){throw ca(f,"max",p)}}function l(u){var p;if(su(u,function(f){try{isNaN(f)&&"number"==typeof f?p=NaN:(void 0===p||o(f,p))&&(p=f)}catch(h){throw ca(h,"max",f)}}),void 0===p)throw new Error("Cannot calculate max of an empty array");return"string"==typeof p&&(p=i(p,e.number)),p}});function zd(t){if(2===t.length&&Bd(t[0])){var r=(t=t.slice())[1];Kn(r)?t[1]=r-1:dr(r)&&(t[1]=r.minus(1))}return t}var Hre=xe("max",["typed","config","numeric","larger"],t=>{var{typed:r,config:e,numeric:i,larger:o}=t,a=zL({typed:r,config:e,numeric:i,larger:o});return r("max",{"...any":function(u){u=zd(u);try{return a.apply(null,u)}catch(p){throw la(p)}}})},{isTransformFunction:!0}),HL=/\$([\w.]+)/g,qL=xe("print",["typed"],t=>{var{typed:r}=t;return r("print",{"string, Object | Array":ZL,"string, Object | Array, number | Object":ZL})});function ZL(t,r,e){return t.replace(HL,function(i,o){var a=o.split("."),l=r[a.shift()];for(void 0!==l&&l.isMatrix&&(l=l.toArray());a.length&&void 0!==l;){var u=a.shift();l=u?l[u]:l+"."}return void 0!==l?Uo(l)?l:er(l,e):i})}var Zre=xe("print",["typed","matrix","zeros","add"],t=>{var{typed:r,matrix:e,zeros:i,add:o}=t,a=qL({typed:r,matrix:e,zeros:i,add:o});return r("print",{"string, Object | Array":function(p,f){return a(l(p),f)},"string, Object | Array, number | Object":function(p,f,h){return a(l(p),f,h)}});function l(u){return u.replace(HL,p=>"$"+p.slice(1).split(".").map(function(y){return!isNaN(y)&&y.length>0?parseInt(y)-1:y}).join("."))}},{isTransformFunction:!0}),$L=xe("diff",["typed","matrix","subtract","number"],t=>{var{typed:r,matrix:e,subtract:i,number:o}=t;return r("diff",{"Array | Matrix":function(h){return On(h)?e(l(h.toArray())):l(h)},"Array | Matrix, number":function(h,y){if(!vn(y))throw new RangeError("Dimension must be a whole number");return On(h)?e(a(h.toArray(),y)):a(h,y)},"Array, BigNumber":r.referTo("Array,number",f=>(h,y)=>f(h,o(y))),"Matrix, BigNumber":r.referTo("Matrix,number",f=>(h,y)=>f(h,o(y)))});function a(f,h){if(On(f)&&(f=f.toArray()),!Array.isArray(f))throw RangeError("Array/Matrix does not have that many dimensions");if(h>0){var y=[];return f.forEach(D=>{y.push(a(D,h-1))}),y}if(0===h)return l(f);throw RangeError("Cannot have negative dimension")}function l(f){for(var h=[],y=f.length,D=1;D<y;D++)h.push(u(f[D-1],f[D]));return h}function u(f,h){On(f)&&(f=f.toArray()),On(h)&&(h=h.toArray());var y=Array.isArray(f),D=Array.isArray(h);if(y&&D)return function p(f,h){if(f.length!==h.length)throw RangeError("Not all sub-arrays have the same length");for(var y=[],D=f.length,E=0;E<D;E++)y.push(u(f[E],h[E]));return y}(f,h);if(!y&&!D)return i(h,f);throw TypeError("Cannot calculate difference between 1 array and 1 non-array")}}),$re=xe("diff",["typed","matrix","subtract","number","bignumber"],t=>{var{typed:r,matrix:e,subtract:i,number:o,bignumber:a}=t,l=$L({typed:r,matrix:e,subtract:i,number:o,bignumber:a});return r("diff",{"...any":function(p){p=zd(p);try{return l.apply(null,p)}catch(f){throw la(f)}}})},{isTransformFunction:!0}),JL=xe("min",["typed","config","numeric","smaller"],t=>{var{typed:r,config:e,numeric:i,smaller:o}=t;return r("min",{"Array | Matrix":l,"Array | Matrix, number | BigNumber":function(p,f){return uM(p,f.valueOf(),a)},"...":function(p){if(_g(p))throw new TypeError("Scalar values expected in function min");return l(p)}});function a(u,p){try{return o(u,p)?u:p}catch(f){throw ca(f,"min",p)}}function l(u){var p;if(su(u,function(f){try{isNaN(f)&&"number"==typeof f?p=NaN:(void 0===p||o(f,p))&&(p=f)}catch(h){throw ca(h,"min",f)}}),void 0===p)throw new Error("Cannot calculate min of an empty array");return"string"==typeof p&&(p=i(p,e.number)),p}}),Xre=xe("min",["typed","config","numeric","smaller"],t=>{var{typed:r,config:e,numeric:i,smaller:o}=t,a=JL({typed:r,config:e,numeric:i,smaller:o});return r("min",{"...any":function(u){u=zd(u);try{return a.apply(null,u)}catch(p){throw la(p)}}})},{isTransformFunction:!0}),KL=xe("subset",["typed","matrix","zeros","add"],t=>{var{typed:r,matrix:e,zeros:i,add:o}=t;return r("subset",{"Matrix, Index":function(u,p){return hg(p)?e():(qw(u,p),u.subset(p))},"Array, Index":r.referTo("Matrix, Index",function(l){return function(u,p){var f=l(e(u),p);return p.isScalar()?f:f.valueOf()}}),"Object, Index":tie,"string, Index":eie,"Matrix, Index, any, any":function(u,p,f,h){return hg(p)?u:(qw(u,p),u.clone().subset(p,function a(l,u){if("string"==typeof l)throw new Error("can't boradcast a string");if(u._isScalar)return l;var p=u.size();if(!p.every(f=>f>0))return l;try{return o(l,i(p))}catch{return l}}(f,p),h))},"Array, Index, any, any":r.referTo("Matrix, Index, any, any",function(l){return function(u,p,f,h){var y=l(e(u),p,f,h);return y.isMatrix?y.valueOf():y}}),"Array, Index, any":r.referTo("Matrix, Index, any, any",function(l){return function(u,p,f){return l(e(u),p,f,void 0).valueOf()}}),"Matrix, Index, any":r.referTo("Matrix, Index, any, any",function(l){return function(u,p,f){return l(u,p,f,void 0)}}),"string, Index, string":eB,"string, Index, string, string":eB,"Object, Index, any":nie})});function eie(t,r){if(!Bw(r))throw new TypeError("Index expected");if(hg(r))return"";if(qw(Array.from(t),r),1!==r.size().length)throw new tr(r.size().length,1);var e=t.length;zr(r.min()[0],e),zr(r.max()[0],e);var i=r.dimension(0),o="";return i.forEach(function(a){o+=t.charAt(a)}),o}function eB(t,r,e,i){if(!r||!0!==r.isIndex)throw new TypeError("Index expected");if(hg(r))return t;if(qw(Array.from(t),r),1!==r.size().length)throw new tr(r.size().length,1);if(void 0!==i){if("string"!=typeof i||1!==i.length)throw new TypeError("Single character expected as defaultValue")}else i=" ";var o=r.dimension(0);if(o.size()[0]!==e.length)throw new tr(o.size()[0],e.length);var l=t.length;zr(r.min()[0]),zr(r.max()[0]);for(var u=[],p=0;p<l;p++)u[p]=t.charAt(p);if(o.forEach(function(y,D){u[y]=e.charAt(D[0])}),u.length>l)for(var f=l-1,h=u.length;f<h;f++)u[f]||(u[f]=i);return u.join("")}function tie(t,r){if(!hg(r)){if(1!==r.size().length)throw new tr(r.size(),1);var e=r.dimension(0);if("string"!=typeof e)throw new TypeError("String expected as index to retrieve an object property");return sa(t,e)}}function nie(t,r,e){if(hg(r))return t;if(1!==r.size().length)throw new tr(r.size(),1);var i=r.dimension(0);if("string"!=typeof i)throw new TypeError("String expected as index to retrieve an object property");var o=Bn(t);return cg(o,i,e),o}var CB,lu,oie=xe("subset",["typed","matrix","zeros","add"],t=>{var{typed:r,matrix:e,zeros:i,add:o}=t,a=KL({typed:r,matrix:e,zeros:i,add:o});return r("subset",{"...any":function(u){try{return a.apply(null,u)}catch(p){throw la(p)}}})},{isTransformFunction:!0}),hM="cumsum",tB=xe(hM,["typed","add","unaryPlus"],t=>{var{typed:r,add:e,unaryPlus:i}=t;return r(hM,{Array:o,Matrix:function(f){return f.create(o(f.valueOf()))},"Array, number | BigNumber":l,"Matrix, number | BigNumber":function(f,h){return f.create(l(f.valueOf(),h))},"...":function(f){if(_g(f))throw new TypeError("All values expected to be scalar in function cumsum");return o(f)}});function o(p){try{return a(p)}catch(f){throw ca(f,hM)}}function a(p){if(0===p.length)return[];for(var f=[i(p[0])],h=1;h<p.length;++h)f.push(e(f[h-1],p[h]));return f}function l(p,f){var h=Vn(p);if(f<0||f>=h.length)throw new wl(f,h.length);try{return u(p,f)}catch(y){throw ca(y,hM)}}function u(p,f){var h,y,D;if(f<=0){if(Array.isArray(p[0][0])){for(D=_L(p),y=[],h=0;h<D.length;h++)y[h]=u(D[h],f-1);return y}return a(p)}for(y=[],h=0;h<p.length;h++)y[h]=u(p[h],f-1);return y}}),lie=xe("cumsum",["typed","add","unaryPlus"],t=>{var{typed:r,add:e,unaryPlus:i}=t,o=tB({typed:r,add:e,unaryPlus:i});return r("cumsum",{"...any":function(l){if(2===l.length&&Bd(l[0])){var u=l[1];Kn(u)?l[1]=u-1:dr(u)&&(l[1]=u.minus(1))}try{return o.apply(null,l)}catch(p){throw la(p)}}})},{isTransformFunction:!0}),die=xe("index",["Index","getMatrixDataType"],t=>{var{Index:r,getMatrixDataType:e}=t;return function(){for(var o=[],a=0,l=arguments.length;a<l;a++){var u=arguments[a];if(iT(u))u.start--,u.end-=u.step>0?0:2;else if(u&&!0===u.isSet)u=u.map(function(f){return f-1});else if(Er(u)||On(u))"boolean"!==e(u)&&(u=u.map(function(f){return f-1}));else if(Kn(u))u--;else if(dr(u))u=u.toNumber()-1;else if("string"!=typeof u)throw new TypeError("Dimension must be an Array, Matrix, number, string, or Range");o[a]=u}var p=new r;return r.apply(p,o),p}},{isTransformFunction:!0}),iB=xe("sum",["typed","config","add","numeric"],t=>{var{typed:r,config:e,add:i,numeric:o}=t;return r("sum",{"Array | Matrix":a,"Array | Matrix, number | BigNumber":function l(u,p){try{return uM(u,p,i)}catch(h){throw ca(h,"sum")}},"...":function(p){if(_g(p))throw new TypeError("Scalar values expected in function sum");return a(p)}});function a(u){var p;return su(u,function(f){try{p=void 0===p?f:i(p,f)}catch(h){throw ca(h,"sum",f)}}),void 0===p&&(p=o(0,e.number)),"string"==typeof p&&(p=o(p,e.number)),p}}),hie=xe("sum",["typed","config","add","numeric"],t=>{var{typed:r,config:e,add:i,numeric:o}=t,a=iB({typed:r,config:e,add:i,numeric:o});return r("sum",{"...any":function(u){u=zd(u);try{return a.apply(null,u)}catch(p){throw la(p)}}})},{isTransformFunction:!0}),sB=xe("range",["typed","config","?matrix","?bignumber","smaller","smallerEq","larger","largerEq","add","isPositive"],t=>{var{typed:r,config:e,matrix:i,bignumber:o,smaller:a,smallerEq:l,larger:u,largerEq:p,add:f,isPositive:h}=t;return r("range",{string:D,"string, boolean":D,"number, number":function(L,U){return y(E(L,U,1,!1))},"number, number, number":function(L,U,Y){return y(E(L,U,Y,!1))},"number, number, boolean":function(L,U,Y){return y(E(L,U,1,Y))},"number, number, number, boolean":function(L,U,Y,N){return y(E(L,U,Y,N))},"BigNumber, BigNumber":function(L,U){return y(E(L,U,new(0,L.constructor)(1),!1))},"BigNumber, BigNumber, BigNumber":function(L,U,Y){return y(E(L,U,Y,!1))},"BigNumber, BigNumber, boolean":function(L,U,Y){return y(E(L,U,new(0,L.constructor)(1),Y))},"BigNumber, BigNumber, BigNumber, boolean":function(L,U,Y,N){return y(E(L,U,Y,N))},"Unit, Unit, Unit":function(L,U,Y){return y(E(L,U,Y,!1))},"Unit, Unit, Unit, boolean":function(L,U,Y,N){return y(E(L,U,Y,N))}});function y(T){return"Matrix"===e.matrix?i?i(T):xL():T}function D(T,L){var U=function k(T){var U=T.split(":").map(function(N){return Number(N)});if(U.some(function(N){return isNaN(N)}))return null;switch(U.length){case 2:return{start:U[0],end:U[1],step:1};case 3:return{start:U[0],end:U[2],step:U[1]};default:return null}}(T);if(!U)throw new SyntaxError('String "'+T+'" is no valid range');return"BigNumber"===e.number?(void 0===o&&xT(),y(E(o(U.start),o(U.end),o(U.step)))):y(E(U.start,U.end,U.step,L))}function E(T,L,U,Y){for(var N=[],q=h(U)?Y?l:a:Y?p:u,j=T;q(j,L);)N.push(j),j=f(j,U);return N}}),vie=xe("range",["typed","config","?matrix","?bignumber","smaller","smallerEq","larger","largerEq","add","isPositive"],t=>{var{typed:r,config:e,matrix:i,bignumber:o,smaller:a,smallerEq:l,larger:u,largerEq:p,add:f,isPositive:h}=t,y=sB({typed:r,config:e,matrix:i,bignumber:o,smaller:a,smallerEq:l,larger:u,largerEq:p,add:f,isPositive:h});return r("range",{"...any":function(E){return"boolean"!=typeof E[E.length-1]&&E.push(!0),y.apply(null,E)}})},{isTransformFunction:!0}),cB=xe("row",["typed","Index","matrix","range"],t=>{var{typed:r,Index:e,matrix:i,range:o}=t;return r("row",{"Matrix, number":a,"Array, number":function(u,p){return a(i(Bn(u)),p).valueOf()}});function a(l,u){if(2!==l.size().length)throw new Error("Only two dimensional matrix is supported");zr(u,l.size()[0]);var p=o(0,l.size()[1]),f=new e(u,p),h=l.subset(f);return On(h)?h:i([[h]])}}),xie=xe("row",["typed","Index","matrix","range"],t=>{var{typed:r,Index:e,matrix:i,range:o}=t,a=cB({typed:r,Index:e,matrix:i,range:o});return r("row",{"...any":function(u){var p=u.length-1,f=u[p];Kn(f)&&(u[p]=f-1);try{return a.apply(null,u)}catch(h){throw la(h)}}})},{isTransformFunction:!0}),dB=xe("column",["typed","Index","matrix","range"],t=>{var{typed:r,Index:e,matrix:i,range:o}=t;return r("column",{"Matrix, number":a,"Array, number":function(u,p){return a(i(Bn(u)),p).valueOf()}});function a(l,u){if(2!==l.size().length)throw new Error("Only two dimensional matrix is supported");zr(u,l.size()[1]);var p=o(0,l.size()[0]),f=new e(p,u),h=l.subset(f);return On(h)?h:i([[h]])}}),Die=xe("column",["typed","Index","matrix","range"],t=>{var{typed:r,Index:e,matrix:i,range:o}=t,a=dB({typed:r,Index:e,matrix:i,range:o});return r("column",{"...any":function(u){var p=u.length-1,f=u[p];Kn(f)&&(u[p]=f-1);try{return a.apply(null,u)}catch(h){throw la(h)}}})},{isTransformFunction:!0}),fB=xe("mean",["typed","add","divide"],t=>{var{typed:r,add:e,divide:i}=t;return r("mean",{"Array | Matrix":a,"Array | Matrix, number | BigNumber":function o(l,u){try{var p=uM(l,u,e),f=Array.isArray(l)?Vn(l):l.size();return i(p,f[u])}catch(h){throw ca(h,"mean")}},"...":function(u){if(_g(u))throw new TypeError("Scalar values expected in function mean");return a(u)}});function a(l){var u,p=0;if(su(l,function(f){try{u=void 0===u?f:e(u,f),p++}catch(h){throw ca(h,"mean",f)}}),0===p)throw new Error("Cannot calculate the mean of an empty array");return i(u,p)}}),Pie=xe("mean",["typed","add","divide"],t=>{var{typed:r,add:e,divide:i}=t,o=fB({typed:r,add:e,divide:i});return r("mean",{"...any":function(l){l=zd(l);try{return o.apply(null,l)}catch(u){throw la(u)}}})},{isTransformFunction:!0}),hB="quantileSeq",mB=xe(hB,["typed","?bignumber","add","subtract","divide","multiply","partitionSelect","compare","isInteger","smaller","smallerEq","larger"],t=>{var{typed:r,bignumber:e,add:i,subtract:o,divide:a,multiply:l,partitionSelect:u,compare:p,isInteger:f,smaller:h,smallerEq:y,larger:D}=t,E=MT({typed:r,isInteger:f});return r(hB,{"Array | Matrix, number | BigNumber":(Y,N)=>T(Y,N,!1),"Array | Matrix, number | BigNumber, number":(Y,N,q)=>k(Y,N,!1,q,T),"Array | Matrix, number | BigNumber, boolean":T,"Array | Matrix, number | BigNumber, boolean, number":(Y,N,q,j)=>k(Y,N,q,j,T),"Array | Matrix, Array | Matrix":(Y,N)=>L(Y,N,!1),"Array | Matrix, Array | Matrix, number":(Y,N,q)=>k(Y,N,!1,q,L),"Array | Matrix, Array | Matrix, boolean":L,"Array | Matrix, Array | Matrix, boolean, number":(Y,N,q,j)=>k(Y,N,q,j,L)});function k(Y,N,q,j,z){return E(Y,j,J=>z(J,N,q))}function T(Y,N,q){var j,z=Y.valueOf();if(h(N,0))throw new Error("N/prob must be non-negative");if(y(N,1))return Kn(N)?U(z,N,q):e(U(z,N,q));if(D(N,1)){if(!f(N))throw new Error("N must be a positive integer");if(D(N,4294967295))throw new Error("N must be less than or equal to 2^32-1, as that is the maximum length of an Array");var J=i(N,1);j=[];for(var B=0;h(B,N);B++){var H=a(B+1,J);j.push(U(z,H,q))}return Kn(N)?j:e(j)}}function L(Y,N,q){for(var j=Y.valueOf(),z=N.valueOf(),J=[],B=0;B<z.length;++B)J.push(U(j,z[B],q));return J}function U(Y,N,q){var j=xr(Y),z=j.length;if(0===z)throw new Error("Cannot calculate quantile of an empty sequence");var V,K,J=Kn(N)?N*(z-1):N.times(z-1),B=Kn(N)?Math.floor(J):J.floor().toNumber(),H=Kn(N)?J%1:J.minus(B);if(f(J))return q?j[J]:u(j,Kn(N)?J:J.valueOf());if(q)V=j[B],K=j[B+1];else{K=u(j,B+1),V=j[B];for(var ee=0;ee<B;++ee)p(j[ee],V)>0&&(V=j[ee])}return i(l(V,o(1,H)),l(K,H))}}),Fie=xe("quantileSeq",["typed","bignumber","add","subtract","divide","multiply","partitionSelect","compare","isInteger","smaller","smallerEq","larger"],t=>{var{typed:r,bignumber:e,add:i,subtract:o,divide:a,multiply:l,partitionSelect:u,compare:p,isInteger:f,smaller:h,smallerEq:y,larger:D}=t,E=mB({typed:r,bignumber:e,add:i,subtract:o,divide:a,multiply:l,partitionSelect:u,compare:p,isInteger:f,smaller:h,smallerEq:y,larger:D});return r("quantileSeq",{"Array | Matrix, number | BigNumber":E,"Array | Matrix, number | BigNumber, number":(T,L,U)=>E(T,L,k(U)),"Array | Matrix, number | BigNumber, boolean":E,"Array | Matrix, number | BigNumber, boolean, number":(T,L,U,Y)=>E(T,L,U,k(Y)),"Array | Matrix, Array | Matrix":E,"Array | Matrix, Array | Matrix, number":(T,L,U)=>E(T,L,k(U)),"Array | Matrix, Array | Matrix, boolean":E,"Array | Matrix, Array | Matrix, boolean, number":(T,L,U,Y)=>E(T,L,U,k(Y))});function k(T){return zd([[],T])[1]}},{isTransformFunction:!0}),ST="unbiased",gB="variance",_B=xe(gB,["typed","add","subtract","multiply","divide","apply","isNaN"],t=>{var{typed:r,add:e,subtract:i,multiply:o,divide:a,apply:l,isNaN:u}=t;return r(gB,{"Array | Matrix":function(y){return p(y,ST)},"Array | Matrix, string":p,"Array | Matrix, number | BigNumber":function(y,D){return f(y,D,ST)},"Array | Matrix, number | BigNumber, string":f,"...":function(y){return p(y,ST)}});function p(h,y){var D,E=0;if(0===h.length)throw new SyntaxError("Function variance requires one or more parameters (0 provided)");if(su(h,function(L){try{D=void 0===D?L:e(D,L),E++}catch(U){throw ca(U,"variance",L)}}),0===E)throw new Error("Cannot calculate variance of an empty array");var k=a(D,E);if(D=void 0,su(h,function(L){var U=i(L,k);D=void 0===D?o(U,U):e(D,o(U,U))}),u(D))return D;switch(y){case"uncorrected":return a(D,E);case"biased":return a(D,E+1);case"unbiased":var T=dr(D)?D.mul(0):0;return 1===E?T:a(D,E-1);default:throw new Error('Unknown normalization "'+y+'". Choose "unbiased" (default), "uncorrected", or "biased".')}}function f(h,y,D){try{if(0===h.length)throw new SyntaxError("Function variance requires one or more parameters (0 provided)");return l(h,y,E=>p(E,D))}catch(E){throw ca(E,"variance")}}}),vB="variance",Lie=xe(vB,["typed","add","subtract","multiply","divide","apply","isNaN"],t=>{var{typed:r,add:e,subtract:i,multiply:o,divide:a,apply:l,isNaN:u}=t,p=_B({typed:r,add:e,subtract:i,multiply:o,divide:a,apply:l,isNaN:u});return r(vB,{"...any":function(h){h=zd(h);try{return p.apply(null,h)}catch(y){throw la(y)}}})},{isTransformFunction:!0}),bB=xe("std",["typed","map","sqrt","variance"],t=>{var{typed:r,map:e,sqrt:i,variance:o}=t;return r("std",{"Array | Matrix":a,"Array | Matrix, string":a,"Array | Matrix, number | BigNumber":a,"Array | Matrix, number | BigNumber, string":a,"...":function(u){return a(u)}});function a(l,u){if(0===l.length)throw new SyntaxError("Function std requires one or more parameters (0 provided)");try{var p=o.apply(null,arguments);return Bd(p)?e(p,i):i(p)}catch(f){throw f instanceof TypeError&&-1!==f.message.indexOf(" variance")?new TypeError(f.message.replace(" variance"," std")):f}}}),zie=xe("std",["typed","map","sqrt","variance"],t=>{var{typed:r,map:e,sqrt:i,variance:o}=t,a=bB({typed:r,map:e,sqrt:i,variance:o});return r("std",{"...any":function(u){u=zd(u);try{return a.apply(null,u)}catch(p){throw la(p)}}})},{isTransformFunction:!0}),bg=9e15,Hd=1e9,DT="0123456789abcdef",mM="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",gM="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",OT={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-bg,maxE:bg,crypto:!1},zn=!0,_M="[DecimalError] ",jd=_M+"Invalid argument: ",xB=_M+"Precision limit exceeded",wB=_M+"crypto unavailable",MB="[object Decimal]",Vo=Math.floor,ao=Math.pow,Hie=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,jie=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,qie=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,SB=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Sl=1e7,Yie=mM.length-1,ET=gM.length-1,Vt={toStringTag:MB};function Eo(t){var r,e,i,o=t.length-1,a="",l=t[0];if(o>0){for(a+=l,r=1;r<o;r++)(e=7-(i=t[r]+"").length)&&(a+=qd(e)),a+=i;(e=7-(i=(l=t[r])+"").length)&&(a+=qd(e))}else if(0===l)return"0";for(;l%10==0;)l/=10;return a+l}function Ra(t,r,e){if(t!==~~t||t<r||t>e)throw Error(jd+t)}function a0(t,r,e,i){var o,a,l,u;for(a=t[0];a>=10;a/=10)--r;return--r<0?(r+=7,o=0):(o=Math.ceil((r+1)/7),r%=7),a=ao(10,7-r),u=t[o]%a|0,null==i?r<3?(0==r?u=u/100|0:1==r&&(u=u/10|0),l=e<4&&99999==u||e>3&&49999==u||5e4==u||0==u):l=(e<4&&u+1==a||e>3&&u+1==a/2)&&(t[o+1]/a/100|0)==ao(10,r-2)-1||(u==a/2||0==u)&&0==(t[o+1]/a/100|0):r<4?(0==r?u=u/1e3|0:1==r?u=u/100|0:2==r&&(u=u/10|0),l=(i||e<4)&&9999==u||!i&&e>3&&4999==u):l=((i||e<4)&&u+1==a||!i&&e>3&&u+1==a/2)&&(t[o+1]/a/1e3|0)==ao(10,r-3)-1,l}function vM(t,r,e){for(var i,a,o=[0],l=0,u=t.length;l<u;){for(a=o.length;a--;)o[a]*=r;for(o[0]+=DT.indexOf(t.charAt(l++)),i=0;i<o.length;i++)o[i]>e-1&&(void 0===o[i+1]&&(o[i+1]=0),o[i+1]+=o[i]/e|0,o[i]%=e)}return o.reverse()}Vt.absoluteValue=Vt.abs=function(){var t=new this.constructor(this);return t.s<0&&(t.s=1),wn(t)},Vt.ceil=function(){return wn(new this.constructor(this),this.e+1,2)},Vt.clampedTo=Vt.clamp=function(t,r){var i=this,o=i.constructor;if(t=new o(t),r=new o(r),!t.s||!r.s)return new o(NaN);if(t.gt(r))throw Error(jd+r);return i.cmp(t)<0?t:i.cmp(r)>0?r:new o(i)},Vt.comparedTo=Vt.cmp=function(t){var r,e,i,o,a=this,l=a.d,u=(t=new a.constructor(t)).d,p=a.s,f=t.s;if(!l||!u)return p&&f?p!==f?p:l===u?0:!l^p<0?1:-1:NaN;if(!l[0]||!u[0])return l[0]?p:u[0]?-f:0;if(p!==f)return p;if(a.e!==t.e)return a.e>t.e^p<0?1:-1;for(r=0,e=(i=l.length)<(o=u.length)?i:o;r<e;++r)if(l[r]!==u[r])return l[r]>u[r]^p<0?1:-1;return i===o?0:i>o^p<0?1:-1},Vt.cosine=Vt.cos=function(){var t,r,e=this,i=e.constructor;return e.d?e.d[0]?(r=i.rounding,i.precision=(t=i.precision)+Math.max(e.e,e.sd())+7,i.rounding=1,e=function Gie(t,r){var e,i,o;if(r.isZero())return r;(i=r.d.length)<32?o=(1/CM(4,e=Math.ceil(i/3))).toString():(e=16,o="2.3283064365386962890625e-10"),t.precision+=e,r=Cg(t,1,r.times(o),new t(1));for(var a=e;a--;){var l=r.times(r);r=l.times(l).minus(l).times(8).plus(1)}return t.precision-=e,r}(i,TB(i,e)),i.precision=t,i.rounding=r,wn(2==lu||3==lu?e.neg():e,t,r,!0)):new i(1):new i(NaN)},Vt.cubeRoot=Vt.cbrt=function(){var t,r,e,i,o,a,l,u,p,f,h=this,y=h.constructor;if(!h.isFinite()||h.isZero())return new y(h);for(zn=!1,(a=h.s*ao(h.s*h,1/3))&&Math.abs(a)!=1/0?i=new y(a.toString()):(e=Eo(h.d),(a=((t=h.e)-e.length+1)%3)&&(e+=1==a||-2==a?"0":"00"),a=ao(e,1/3),t=Vo((t+1)/3)-(t%3==(t<0?-1:2)),(i=new y(e=a==1/0?"5e"+t:(e=a.toExponential()).slice(0,e.indexOf("e")+1)+t)).s=h.s),l=(t=y.precision)+3;;)if(f=(p=(u=i).times(u).times(u)).plus(h),i=Wr(f.plus(h).times(u),f.plus(p),l+2,1),Eo(u.d).slice(0,l)===(e=Eo(i.d)).slice(0,l)){if("9999"!=(e=e.slice(l-3,l+1))&&(o||"4999"!=e)){(!+e||!+e.slice(1)&&"5"==e.charAt(0))&&(wn(i,t+1,1),r=!i.times(i).times(i).eq(h));break}if(!o&&(wn(u,t+1,0),u.times(u).times(u).eq(h))){i=u;break}l+=4,o=1}return zn=!0,wn(i,t,y.rounding,r)},Vt.decimalPlaces=Vt.dp=function(){var t,r=this.d,e=NaN;if(r){if(e=7*((t=r.length-1)-Vo(this.e/7)),t=r[t])for(;t%10==0;t/=10)e--;e<0&&(e=0)}return e},Vt.dividedBy=Vt.div=function(t){return Wr(this,new this.constructor(t))},Vt.dividedToIntegerBy=Vt.divToInt=function(t){var e=this.constructor;return wn(Wr(this,new e(t),0,1,1),e.precision,e.rounding)},Vt.equals=Vt.eq=function(t){return 0===this.cmp(t)},Vt.floor=function(){return wn(new this.constructor(this),this.e+1,3)},Vt.greaterThan=Vt.gt=function(t){return this.cmp(t)>0},Vt.greaterThanOrEqualTo=Vt.gte=function(t){var r=this.cmp(t);return 1==r||0===r},Vt.hyperbolicCosine=Vt.cosh=function(){var t,r,e,i,o,a=this,l=a.constructor,u=new l(1);if(!a.isFinite())return new l(a.s?1/0:NaN);if(a.isZero())return u;i=l.rounding,l.precision=(e=l.precision)+Math.max(a.e,a.sd())+4,l.rounding=1,(o=a.d.length)<32?r=(1/CM(4,t=Math.ceil(o/3))).toString():(t=16,r="2.3283064365386962890625e-10"),a=Cg(l,1,a.times(r),new l(1),!0);for(var p,f=t,h=new l(8);f--;)p=a.times(a),a=u.minus(p.times(h.minus(p.times(h))));return wn(a,l.precision=e,l.rounding=i,!0)},Vt.hyperbolicSine=Vt.sinh=function(){var t,r,e,i,o=this,a=o.constructor;if(!o.isFinite()||o.isZero())return new a(o);if(e=a.rounding,a.precision=(r=a.precision)+Math.max(o.e,o.sd())+4,a.rounding=1,(i=o.d.length)<3)o=Cg(a,2,o,o,!0);else{t=1.4*Math.sqrt(i),o=Cg(a,2,o=o.times(1/CM(5,t=t>16?16:0|t)),o,!0);for(var l,u=new a(5),p=new a(16),f=new a(20);t--;)l=o.times(o),o=o.times(u.plus(l.times(p.times(l).plus(f))))}return a.precision=r,a.rounding=e,wn(o,r,e,!0)},Vt.hyperbolicTangent=Vt.tanh=function(){var t,r,e=this,i=e.constructor;return e.isFinite()?e.isZero()?new i(e):(r=i.rounding,i.precision=(t=i.precision)+7,i.rounding=1,Wr(e.sinh(),e.cosh(),i.precision=t,i.rounding=r)):new i(e.s)},Vt.inverseCosine=Vt.acos=function(){var t,r=this,e=r.constructor,i=r.abs().cmp(1),o=e.precision,a=e.rounding;return-1!==i?0===i?r.isNeg()?Dl(e,o,a):new e(0):new e(NaN):r.isZero()?Dl(e,o+4,a).times(.5):(e.precision=o+6,e.rounding=1,r=r.asin(),t=Dl(e,o+4,a).times(.5),e.precision=o,e.rounding=a,t.minus(r))},Vt.inverseHyperbolicCosine=Vt.acosh=function(){var t,r,e=this,i=e.constructor;return e.lte(1)?new i(e.eq(1)?0:NaN):e.isFinite()?(r=i.rounding,i.precision=(t=i.precision)+Math.max(Math.abs(e.e),e.sd())+4,i.rounding=1,zn=!1,e=e.times(e).minus(1).sqrt().plus(e),zn=!0,i.precision=t,i.rounding=r,e.ln()):new i(e)},Vt.inverseHyperbolicSine=Vt.asinh=function(){var t,r,e=this,i=e.constructor;return!e.isFinite()||e.isZero()?new i(e):(r=i.rounding,i.precision=(t=i.precision)+2*Math.max(Math.abs(e.e),e.sd())+6,i.rounding=1,zn=!1,e=e.times(e).plus(1).sqrt().plus(e),zn=!0,i.precision=t,i.rounding=r,e.ln())},Vt.inverseHyperbolicTangent=Vt.atanh=function(){var t,r,e,i,o=this,a=o.constructor;return o.isFinite()?o.e>=0?new a(o.abs().eq(1)?o.s/0:o.isZero()?o:NaN):(t=a.precision,r=a.rounding,i=o.sd(),Math.max(i,t)<2*-o.e-1?wn(new a(o),t,r,!0):(a.precision=e=i-o.e,o=Wr(o.plus(1),new a(1).minus(o),e+t,1),a.precision=t+4,a.rounding=1,o=o.ln(),a.precision=t,a.rounding=r,o.times(.5))):new a(NaN)},Vt.inverseSine=Vt.asin=function(){var t,r,e,i,o=this,a=o.constructor;return o.isZero()?new a(o):(r=o.abs().cmp(1),e=a.precision,i=a.rounding,-1!==r?0===r?((t=Dl(a,e+4,i).times(.5)).s=o.s,t):new a(NaN):(a.precision=e+6,a.rounding=1,o=o.div(new a(1).minus(o.times(o)).sqrt().plus(1)).atan(),a.precision=e,a.rounding=i,o.times(2)))},Vt.inverseTangent=Vt.atan=function(){var t,r,e,i,o,a,l,u,p,f=this,h=f.constructor,y=h.precision,D=h.rounding;if(f.isFinite()){if(f.isZero())return new h(f);if(f.abs().eq(1)&&y+4<=ET)return(l=Dl(h,y+4,D).times(.25)).s=f.s,l}else{if(!f.s)return new h(NaN);if(y+4<=ET)return(l=Dl(h,y+4,D).times(.5)).s=f.s,l}for(h.precision=u=y+10,h.rounding=1,t=e=Math.min(28,u/7+2|0);t;--t)f=f.div(f.times(f).plus(1).sqrt().plus(1));for(zn=!1,r=Math.ceil(u/7),i=1,p=f.times(f),l=new h(f),o=f;-1!==t;)if(o=o.times(p),a=l.minus(o.div(i+=2)),o=o.times(p),void 0!==(l=a.plus(o.div(i+=2))).d[r])for(t=r;l.d[t]===a.d[t]&&t--;);return e&&(l=l.times(2<<e-1)),zn=!0,wn(l,h.precision=y,h.rounding=D,!0)},Vt.isFinite=function(){return!!this.d},Vt.isInteger=Vt.isInt=function(){return!!this.d&&Vo(this.e/7)>this.d.length-2},Vt.isNaN=function(){return!this.s},Vt.isNegative=Vt.isNeg=function(){return this.s<0},Vt.isPositive=Vt.isPos=function(){return this.s>0},Vt.isZero=function(){return!!this.d&&0===this.d[0]},Vt.lessThan=Vt.lt=function(t){return this.cmp(t)<0},Vt.lessThanOrEqualTo=Vt.lte=function(t){return this.cmp(t)<1},Vt.logarithm=Vt.log=function(t){var r,e,i,o,a,l,u,p,f=this,h=f.constructor,y=h.precision,D=h.rounding;if(null==t)t=new h(10),r=!0;else{if(e=(t=new h(t)).d,t.s<0||!e||!e[0]||t.eq(1))return new h(NaN);r=t.eq(10)}if(e=f.d,f.s<0||!e||!e[0]||f.eq(1))return new h(e&&!e[0]?-1/0:1!=f.s?NaN:e?0:1/0);if(r)if(e.length>1)a=!0;else{for(o=e[0];o%10==0;)o/=10;a=1!==o}if(zn=!1,l=Zd(f,u=y+5),i=r?bM(h,u+10):Zd(t,u),a0((p=Wr(l,i,u,1)).d,o=y,D))do{if(l=Zd(f,u+=10),i=r?bM(h,u+10):Zd(t,u),p=Wr(l,i,u,1),!a){+Eo(p.d).slice(o+1,o+15)+1==1e14&&(p=wn(p,y+1,0));break}}while(a0(p.d,o+=10,D));return zn=!0,wn(p,y,D)},Vt.minus=Vt.sub=function(t){var r,e,i,o,a,l,u,p,f,h,y,D,E=this,k=E.constructor;if(t=new k(t),!E.d||!t.d)return E.s&&t.s?E.d?t.s=-t.s:t=new k(t.d||E.s!==t.s?E:NaN):t=new k(NaN),t;if(E.s!=t.s)return t.s=-t.s,E.plus(t);if(D=t.d,u=k.precision,p=k.rounding,!(f=E.d)[0]||!D[0]){if(D[0])t.s=-t.s;else{if(!f[0])return new k(3===p?-0:0);t=new k(E)}return zn?wn(t,u,p):t}if(e=Vo(t.e/7),h=Vo(E.e/7),f=f.slice(),a=h-e){for((y=a<0)?(r=f,a=-a,l=D.length):(r=D,e=h,l=f.length),a>(i=Math.max(Math.ceil(u/7),l)+2)&&(a=i,r.length=1),r.reverse(),i=a;i--;)r.push(0);r.reverse()}else{for((y=(i=f.length)<(l=D.length))&&(l=i),i=0;i<l;i++)if(f[i]!=D[i]){y=f[i]<D[i];break}a=0}for(y&&(r=f,f=D,D=r,t.s=-t.s),i=D.length-(l=f.length);i>0;--i)f[l++]=0;for(i=D.length;i>a;){if(f[--i]<D[i]){for(o=i;o&&0===f[--o];)f[o]=Sl-1;--f[o],f[i]+=Sl}f[i]-=D[i]}for(;0===f[--l];)f.pop();for(;0===f[0];f.shift())--e;return f[0]?(t.d=f,t.e=yM(f,e),zn?wn(t,u,p):t):new k(3===p?-0:0)},Vt.modulo=Vt.mod=function(t){var r,e=this,i=e.constructor;return t=new i(t),!e.d||!t.s||t.d&&!t.d[0]?new i(NaN):!t.d||e.d&&!e.d[0]?wn(new i(e),i.precision,i.rounding):(zn=!1,9==i.modulo?(r=Wr(e,t.abs(),0,3,1)).s*=t.s:r=Wr(e,t,0,i.modulo,1),r=r.times(t),zn=!0,e.minus(r))},Vt.naturalExponential=Vt.exp=function(){return AT(this)},Vt.naturalLogarithm=Vt.ln=function(){return Zd(this)},Vt.negated=Vt.neg=function(){var t=new this.constructor(this);return t.s=-t.s,wn(t)},Vt.plus=Vt.add=function(t){var r,e,i,o,a,l,u,p,f,h,y=this,D=y.constructor;if(t=new D(t),!y.d||!t.d)return y.s&&t.s?y.d||(t=new D(t.d||y.s===t.s?y:NaN)):t=new D(NaN),t;if(y.s!=t.s)return t.s=-t.s,y.minus(t);if(h=t.d,u=D.precision,p=D.rounding,!(f=y.d)[0]||!h[0])return h[0]||(t=new D(y)),zn?wn(t,u,p):t;if(a=Vo(y.e/7),i=Vo(t.e/7),f=f.slice(),o=a-i){for(o<0?(e=f,o=-o,l=h.length):(e=h,i=a,l=f.length),o>(l=(a=Math.ceil(u/7))>l?a+1:l+1)&&(o=l,e.length=1),e.reverse();o--;)e.push(0);e.reverse()}for((l=f.length)-(o=h.length)<0&&(o=l,e=h,h=f,f=e),r=0;o;)r=(f[--o]=f[o]+h[o]+r)/Sl|0,f[o]%=Sl;for(r&&(f.unshift(r),++i),l=f.length;0==f[--l];)f.pop();return t.d=f,t.e=yM(f,i),zn?wn(t,u,p):t},Vt.precision=Vt.sd=function(t){var r,e=this;if(void 0!==t&&t!==!!t&&1!==t&&0!==t)throw Error(jd+t);return e.d?(r=DB(e.d),t&&e.e+1>r&&(r=e.e+1)):r=NaN,r},Vt.round=function(){var t=this,r=t.constructor;return wn(new r(t),t.e+1,r.rounding)},Vt.sine=Vt.sin=function(){var t,r,e=this,i=e.constructor;return e.isFinite()?e.isZero()?new i(e):(r=i.rounding,i.precision=(t=i.precision)+Math.max(e.e,e.sd())+7,i.rounding=1,e=function Wie(t,r){var e,i=r.d.length;if(i<3)return r.isZero()?r:Cg(t,2,r,r);e=1.4*Math.sqrt(i),r=Cg(t,2,r=r.times(1/CM(5,e=e>16?16:0|e)),r);for(var o,a=new t(5),l=new t(16),u=new t(20);e--;)o=r.times(r),r=r.times(a.plus(o.times(l.times(o).minus(u))));return r}(i,TB(i,e)),i.precision=t,i.rounding=r,wn(lu>2?e.neg():e,t,r,!0)):new i(NaN)},Vt.squareRoot=Vt.sqrt=function(){var t,r,e,i,o,a,l=this,u=l.d,p=l.e,f=l.s,h=l.constructor;if(1!==f||!u||!u[0])return new h(!f||f<0&&(!u||u[0])?NaN:u?l:1/0);for(zn=!1,0==(f=Math.sqrt(+l))||f==1/0?(((r=Eo(u)).length+p)%2==0&&(r+="0"),f=Math.sqrt(r),p=Vo((p+1)/2)-(p<0||p%2),i=new h(r=f==1/0?"5e"+p:(r=f.toExponential()).slice(0,r.indexOf("e")+1)+p)):i=new h(f.toString()),e=(p=h.precision)+3;;)if(i=(a=i).plus(Wr(l,a,e+2,1)).times(.5),Eo(a.d).slice(0,e)===(r=Eo(i.d)).slice(0,e)){if("9999"!=(r=r.slice(e-3,e+1))&&(o||"4999"!=r)){(!+r||!+r.slice(1)&&"5"==r.charAt(0))&&(wn(i,p+1,1),t=!i.times(i).eq(l));break}if(!o&&(wn(a,p+1,0),a.times(a).eq(l))){i=a;break}e+=4,o=1}return zn=!0,wn(i,p,h.rounding,t)},Vt.tangent=Vt.tan=function(){var t,r,e=this,i=e.constructor;return e.isFinite()?e.isZero()?new i(e):(r=i.rounding,i.precision=(t=i.precision)+10,i.rounding=1,(e=e.sin()).s=1,e=Wr(e,new i(1).minus(e.times(e)).sqrt(),t+10,0),i.precision=t,i.rounding=r,wn(2==lu||4==lu?e.neg():e,t,r,!0)):new i(NaN)},Vt.times=Vt.mul=function(t){var r,e,i,o,a,l,u,p,f,h=this,y=h.constructor,D=h.d,E=(t=new y(t)).d;if(t.s*=h.s,!(D&&D[0]&&E&&E[0]))return new y(!t.s||D&&!D[0]&&!E||E&&!E[0]&&!D?NaN:D&&E?0*t.s:t.s/0);for(e=Vo(h.e/7)+Vo(t.e/7),(p=D.length)<(f=E.length)&&(a=D,D=E,E=a,l=p,p=f,f=l),a=[],i=l=p+f;i--;)a.push(0);for(i=f;--i>=0;){for(r=0,o=p+i;o>i;)u=a[o]+E[i]*D[o-i-1]+r,a[o--]=u%Sl|0,r=u/Sl|0;a[o]=(a[o]+r)%Sl|0}for(;!a[--l];)a.pop();return r?++e:a.shift(),t.d=a,t.e=yM(a,e),zn?wn(t,y.precision,y.rounding):t},Vt.toBinary=function(t,r){return TT(this,2,t,r)},Vt.toDecimalPlaces=Vt.toDP=function(t,r){var e=this,i=e.constructor;return e=new i(e),void 0===t?e:(Ra(t,0,Hd),void 0===r?r=i.rounding:Ra(r,0,8),wn(e,t+e.e+1,r))},Vt.toExponential=function(t,r){var e,i=this,o=i.constructor;return void 0===t?e=Cc(i,!0):(Ra(t,0,Hd),void 0===r?r=o.rounding:Ra(r,0,8),e=Cc(i=wn(new o(i),t+1,r),!0,t+1)),i.isNeg()&&!i.isZero()?"-"+e:e},Vt.toFixed=function(t,r){var e,i,o=this,a=o.constructor;return void 0===t?e=Cc(o):(Ra(t,0,Hd),void 0===r?r=a.rounding:Ra(r,0,8),e=Cc(i=wn(new a(o),t+o.e+1,r),!1,t+i.e+1)),o.isNeg()&&!o.isZero()?"-"+e:e},Vt.toFraction=function(t){var r,e,i,o,a,l,u,p,f,h,y,D,E=this,k=E.d,T=E.constructor;if(!k)return new T(E);if(f=e=new T(1),i=p=new T(0),a=(r=new T(i)).e=DB(k)-E.e-1,r.d[0]=ao(10,(l=a%7)<0?7+l:l),null==t)t=a>0?r:f;else{if(!(u=new T(t)).isInt()||u.lt(f))throw Error(jd+u);t=u.gt(r)?a>0?r:f:u}for(zn=!1,u=new T(Eo(k)),h=T.precision,T.precision=a=7*k.length*2;y=Wr(u,r,0,1,1),1!=(o=e.plus(y.times(i))).cmp(t);)e=i,i=o,f=p.plus(y.times(o=f)),p=o,r=u.minus(y.times(o=r)),u=o;return o=Wr(t.minus(e),i,0,1,1),p=p.plus(o.times(f)),e=e.plus(o.times(i)),p.s=f.s=E.s,D=Wr(f,i,a,1).minus(E).abs().cmp(Wr(p,e,a,1).minus(E).abs())<1?[f,i]:[p,e],T.precision=h,zn=!0,D},Vt.toHexadecimal=Vt.toHex=function(t,r){return TT(this,16,t,r)},Vt.toNearest=function(t,r){var e=this,i=e.constructor;if(e=new i(e),null==t){if(!e.d)return e;t=new i(1),r=i.rounding}else{if(t=new i(t),void 0===r?r=i.rounding:Ra(r,0,8),!e.d)return t.s?e:t;if(!t.d)return t.s&&(t.s=e.s),t}return t.d[0]?(zn=!1,e=Wr(e,t,0,r,1).times(t),zn=!0,wn(e)):(t.s=e.s,e=t),e},Vt.toNumber=function(){return+this},Vt.toOctal=function(t,r){return TT(this,8,t,r)},Vt.toPower=Vt.pow=function(t){var r,e,i,o,a,l,u=this,p=u.constructor,f=+(t=new p(t));if(!(u.d&&t.d&&u.d[0]&&t.d[0]))return new p(ao(+u,f));if((u=new p(u)).eq(1))return u;if(i=p.precision,a=p.rounding,t.eq(1))return wn(u,i,a);if((r=Vo(t.e/7))>=t.d.length-1&&(e=f<0?-f:f)<=9007199254740991)return o=OB(p,u,e,i),t.s<0?new p(1).div(o):wn(o,i,a);if((l=u.s)<0){if(r<t.d.length-1)return new p(NaN);if(0==(1&t.d[r])&&(l=1),0==u.e&&1==u.d[0]&&1==u.d.length)return u.s=l,u}return(r=0!=(e=ao(+u,f))&&isFinite(e)?new p(e+"").e:Vo(f*(Math.log("0."+Eo(u.d))/Math.LN10+u.e+1)))>p.maxE+1||r<p.minE-1?new p(r>0?l/0:0):(zn=!1,p.rounding=u.s=1,e=Math.min(12,(r+"").length),(o=AT(t.times(Zd(u,i+e)),i)).d&&a0((o=wn(o,i+5,1)).d,i,a)&&+Eo((o=wn(AT(t.times(Zd(u,(r=i+10)+e)),r),r+5,1)).d).slice(i+1,i+15)+1==1e14&&(o=wn(o,i+1,0)),o.s=l,zn=!0,p.rounding=a,wn(o,i,a))},Vt.toPrecision=function(t,r){var e,i=this,o=i.constructor;return void 0===t?e=Cc(i,i.e<=o.toExpNeg||i.e>=o.toExpPos):(Ra(t,1,Hd),void 0===r?r=o.rounding:Ra(r,0,8),e=Cc(i=wn(new o(i),t,r),t<=i.e||i.e<=o.toExpNeg,t)),i.isNeg()&&!i.isZero()?"-"+e:e},Vt.toSignificantDigits=Vt.toSD=function(t,r){var i=this.constructor;return void 0===t?(t=i.precision,r=i.rounding):(Ra(t,1,Hd),void 0===r?r=i.rounding:Ra(r,0,8)),wn(new i(this),t,r)},Vt.toString=function(){var t=this,r=t.constructor,e=Cc(t,t.e<=r.toExpNeg||t.e>=r.toExpPos);return t.isNeg()&&!t.isZero()?"-"+e:e},Vt.truncated=Vt.trunc=function(){return wn(new this.constructor(this),this.e+1,1)},Vt.valueOf=Vt.toJSON=function(){var t=this,r=t.constructor,e=Cc(t,t.e<=r.toExpNeg||t.e>=r.toExpPos);return t.isNeg()?"-"+e:e};var Wr=function(){function t(i,o,a){var l,u=0,p=i.length;for(i=i.slice();p--;)i[p]=(l=i[p]*o+u)%a|0,u=l/a|0;return u&&i.unshift(u),i}function r(i,o,a,l){var u,p;if(a!=l)p=a>l?1:-1;else for(u=p=0;u<a;u++)if(i[u]!=o[u]){p=i[u]>o[u]?1:-1;break}return p}function e(i,o,a,l){for(var u=0;a--;)i[a]-=u,i[a]=(u=i[a]<o[a]?1:0)*l+i[a]-o[a];for(;!i[0]&&i.length>1;)i.shift()}return function(i,o,a,l,u,p){var f,h,y,D,E,k,T,L,U,Y,N,q,j,z,J,B,H,V,K,ee,re=i.constructor,le=i.s==o.s?1:-1,ie=i.d,G=o.d;if(!(ie&&ie[0]&&G&&G[0]))return new re(i.s&&o.s&&(ie?!G||ie[0]!=G[0]:G)?ie&&0==ie[0]||!G?0*le:le/0:NaN);for(p?(E=1,h=i.e-o.e):(p=Sl,h=Vo(i.e/(E=7))-Vo(o.e/E)),K=G.length,H=ie.length,Y=(U=new re(le)).d=[],y=0;G[y]==(ie[y]||0);y++);if(G[y]>(ie[y]||0)&&h--,null==a?(z=a=re.precision,l=re.rounding):z=u?a+(i.e-o.e)+1:a,z<0)Y.push(1),k=!0;else{if(z=z/E+2|0,y=0,1==K){for(D=0,G=G[0],z++;(y<H||D)&&z--;y++)Y[y]=(J=D*p+(ie[y]||0))/G|0,D=J%G|0;k=D||y<H}else{for((D=p/(G[0]+1)|0)>1&&(G=t(G,D,p),ie=t(ie,D,p),K=G.length,H=ie.length),B=K,q=(N=ie.slice(0,K)).length;q<K;)N[q++]=0;(ee=G.slice()).unshift(0),V=G[0],G[1]>=p/2&&++V;do{D=0,(f=r(G,N,K,q))<0?(j=N[0],K!=q&&(j=j*p+(N[1]||0)),(D=j/V|0)>1?(D>=p&&(D=p-1),1==(f=r(T=t(G,D,p),N,L=T.length,q=N.length))&&(D--,e(T,K<L?ee:G,L,p))):(0==D&&(f=D=1),T=G.slice()),(L=T.length)<q&&T.unshift(0),e(N,T,q,p),-1==f&&(f=r(G,N,K,q=N.length))<1&&(D++,e(N,K<q?ee:G,q,p)),q=N.length):0===f&&(D++,N=[0]),Y[y++]=D,f&&N[0]?N[q++]=ie[B]||0:(N=[ie[B]],q=1)}while((B++<H||void 0!==N[0])&&z--);k=void 0!==N[0]}Y[0]||Y.shift()}if(1==E)U.e=h,CB=k;else{for(y=1,D=Y[0];D>=10;D/=10)y++;U.e=y+h*E-1,wn(U,u?a+U.e+1:a,l,k)}return U}}();function wn(t,r,e,i){var o,a,l,u,p,f,h,y,D,E=t.constructor;e:if(null!=r){if(!(y=t.d))return t;for(o=1,u=y[0];u>=10;u/=10)o++;if((a=r-o)<0)a+=7,p=(h=y[D=0])/ao(10,o-(l=r)-1)%10|0;else if((D=Math.ceil((a+1)/7))>=(u=y.length)){if(!i)break e;for(;u++<=D;)y.push(0);h=p=0,o=1,l=(a%=7)-7+1}else{for(h=u=y[D],o=1;u>=10;u/=10)o++;p=(l=(a%=7)-7+o)<0?0:h/ao(10,o-l-1)%10|0}if(i=i||r<0||void 0!==y[D+1]||(l<0?h:h%ao(10,o-l-1)),f=e<4?(p||i)&&(0==e||e==(t.s<0?3:2)):p>5||5==p&&(4==e||i||6==e&&(a>0?l>0?h/ao(10,o-l):0:y[D-1])%10&1||e==(t.s<0?8:7)),r<1||!y[0])return y.length=0,f?(y[0]=ao(10,(7-(r-=t.e+1)%7)%7),t.e=-r||0):y[0]=t.e=0,t;if(0==a?(y.length=D,u=1,D--):(y.length=D+1,u=ao(10,7-a),y[D]=l>0?(h/ao(10,o-l)%ao(10,l)|0)*u:0),f)for(;;){if(0==D){for(a=1,l=y[0];l>=10;l/=10)a++;for(l=y[0]+=u,u=1;l>=10;l/=10)u++;a!=u&&(t.e++,y[0]==Sl&&(y[0]=1));break}if(y[D]+=u,y[D]!=Sl)break;y[D--]=0,u=1}for(a=y.length;0===y[--a];)y.pop()}return zn&&(t.e>E.maxE?(t.d=null,t.e=NaN):t.e<E.minE&&(t.e=0,t.d=[0])),t}function Cc(t,r,e){if(!t.isFinite())return PB(t);var i,o=t.e,a=Eo(t.d),l=a.length;return r?(e&&(i=e-l)>0?a=a.charAt(0)+"."+a.slice(1)+qd(i):l>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(t.e<0?"e":"e+")+t.e):o<0?(a="0."+qd(-o-1)+a,e&&(i=e-l)>0&&(a+=qd(i))):o>=l?(a+=qd(o+1-l),e&&(i=e-o-1)>0&&(a=a+"."+qd(i))):((i=o+1)<l&&(a=a.slice(0,i)+"."+a.slice(i)),e&&(i=e-l)>0&&(o+1===l&&(a+="."),a+=qd(i))),a}function yM(t,r){var e=t[0];for(r*=7;e>=10;e/=10)r++;return r}function bM(t,r,e){if(r>Yie)throw zn=!0,e&&(t.precision=e),Error(xB);return wn(new t(mM),r,1,!0)}function Dl(t,r,e){if(r>ET)throw Error(xB);return wn(new t(gM),r,e,!0)}function DB(t){var r=t.length-1,e=7*r+1;if(r=t[r]){for(;r%10==0;r/=10)e--;for(r=t[0];r>=10;r/=10)e++}return e}function qd(t){for(var r="";t--;)r+="0";return r}function OB(t,r,e,i){var o,a=new t(1),l=Math.ceil(i/7+4);for(zn=!1;;){if(e%2&&IB((a=a.times(r)).d,l)&&(o=!0),0===(e=Vo(e/2))){e=a.d.length-1,o&&0===a.d[e]&&++a.d[e];break}IB((r=r.times(r)).d,l)}return zn=!0,a}function EB(t){return 1&t.d[t.d.length-1]}function AB(t,r,e){for(var i,o=new t(r[0]),a=0;++a<r.length;){if(!(i=new t(r[a])).s){o=i;break}o[e](i)&&(o=i)}return o}function AT(t,r){var e,i,o,a,l,u,p,f=0,h=0,y=0,D=t.constructor,E=D.rounding,k=D.precision;if(!t.d||!t.d[0]||t.e>17)return new D(t.d?t.d[0]?t.s<0?0:1/0:1:t.s?t.s<0?0:t:NaN);for(null==r?(zn=!1,p=k):p=r,u=new D(.03125);t.e>-2;)t=t.times(u),y+=5;for(p+=i=Math.log(ao(2,y))/Math.LN10*2+5|0,e=a=l=new D(1),D.precision=p;;){if(a=wn(a.times(t),p,1),e=e.times(++h),Eo((u=l.plus(Wr(a,e,p,1))).d).slice(0,p)===Eo(l.d).slice(0,p)){for(o=y;o--;)l=wn(l.times(l),p,1);if(null!=r)return D.precision=k,l;if(!(f<3&&a0(l.d,p-i,E,f)))return wn(l,D.precision=k,E,zn=!0);D.precision=p+=10,e=a=u=new D(1),h=0,f++}l=u}}function Zd(t,r){var e,i,o,a,l,u,p,f,h,y,D,E=1,T=t,L=T.d,U=T.constructor,Y=U.rounding,N=U.precision;if(T.s<0||!L||!L[0]||!T.e&&1==L[0]&&1==L.length)return new U(L&&!L[0]?-1/0:1!=T.s?NaN:L?0:T);if(null==r?(zn=!1,h=N):h=r,U.precision=h+=10,i=(e=Eo(L)).charAt(0),!(Math.abs(a=T.e)<15e14))return f=bM(U,h+2,N).times(a+""),T=Zd(new U(i+"."+e.slice(1)),h-10).plus(f),U.precision=N,null==r?wn(T,N,Y,zn=!0):T;for(;i<7&&1!=i||1==i&&e.charAt(1)>3;)i=(e=Eo((T=T.times(t)).d)).charAt(0),E++;for(a=T.e,i>1?(T=new U("0."+e),a++):T=new U(i+"."+e.slice(1)),y=T,p=l=T=Wr(T.minus(1),T.plus(1),h,1),D=wn(T.times(T),h,1),o=3;;){if(l=wn(l.times(D),h,1),Eo((f=p.plus(Wr(l,new U(o),h,1))).d).slice(0,h)===Eo(p.d).slice(0,h)){if(p=p.times(2),0!==a&&(p=p.plus(bM(U,h+2,N).times(a+""))),p=Wr(p,new U(E),h,1),null!=r)return U.precision=N,p;if(!a0(p.d,h-10,Y,u))return wn(p,U.precision=N,Y,zn=!0);U.precision=h+=10,f=l=T=Wr(y.minus(1),y.plus(1),h,1),D=wn(T.times(T),h,1),o=u=1}p=f,o+=2}}function PB(t){return String(t.s*t.s/0)}function PT(t,r){var e,i,o;for((e=r.indexOf("."))>-1&&(r=r.replace(".","")),(i=r.search(/e/i))>0?(e<0&&(e=i),e+=+r.slice(i+1),r=r.substring(0,i)):e<0&&(e=r.length),i=0;48===r.charCodeAt(i);i++);for(o=r.length;48===r.charCodeAt(o-1);--o);if(r=r.slice(i,o)){if(o-=i,t.e=e=e-i-1,t.d=[],i=(e+1)%7,e<0&&(i+=7),i<o){for(i&&t.d.push(+r.slice(0,i)),o-=7;i<o;)t.d.push(+r.slice(i,i+=7));i=7-(r=r.slice(i)).length}else i-=o;for(;i--;)r+="0";t.d.push(+r),zn&&(t.e>t.constructor.maxE?(t.d=null,t.e=NaN):t.e<t.constructor.minE&&(t.e=0,t.d=[0]))}else t.e=0,t.d=[0];return t}function Cg(t,r,e,i,o){var a,l,u,p,h=t.precision,y=Math.ceil(h/7);for(zn=!1,p=e.times(e),u=new t(i);;){if(l=Wr(u.times(p),new t(r++*r++),h,1),u=o?i.plus(l):i.minus(l),i=Wr(l.times(p),new t(r++*r++),h,1),void 0!==(l=u.plus(i)).d[y]){for(a=y;l.d[a]===u.d[a]&&a--;);if(-1==a)break}a=u,u=i,i=l,l=a}return zn=!0,l.d.length=y+1,l}function CM(t,r){for(var e=t;--r;)e*=t;return e}function TB(t,r){var e,i=r.s<0,o=Dl(t,t.precision,1),a=o.times(.5);if((r=r.abs()).lte(a))return lu=i?4:1,r;if((e=r.divToInt(o)).isZero())lu=i?3:2;else{if((r=r.minus(e.times(o))).lte(a))return lu=EB(e)?i?2:3:i?4:1,r;lu=EB(e)?i?1:4:i?3:2}return r.minus(o).abs()}function TT(t,r,e,i){var o,a,l,u,p,f,h,y,D,E=t.constructor,k=void 0!==e;if(k?(Ra(e,1,Hd),void 0===i?i=E.rounding:Ra(i,0,8)):(e=E.precision,i=E.rounding),t.isFinite()){for(k?(o=2,16==r?e=4*e-3:8==r&&(e=3*e-2)):o=r,(l=(h=Cc(t)).indexOf("."))>=0&&(h=h.replace(".",""),(D=new E(1)).e=h.length-l,D.d=vM(Cc(D),10,o),D.e=D.d.length),a=p=(y=vM(h,10,o)).length;0==y[--p];)y.pop();if(y[0]){if(l<0?a--:((t=new E(t)).d=y,t.e=a,y=(t=Wr(t,D,e,i,0,o)).d,a=t.e,f=CB),l=y[e],u=o/2,f=f||void 0!==y[e+1],f=i<4?(void 0!==l||f)&&(0===i||i===(t.s<0?3:2)):l>u||l===u&&(4===i||f||6===i&&1&y[e-1]||i===(t.s<0?8:7)),y.length=e,f)for(;++y[--e]>o-1;)y[e]=0,e||(++a,y.unshift(1));for(p=y.length;!y[p-1];--p);for(l=0,h="";l<p;l++)h+=DT.charAt(y[l]);if(k){if(p>1)if(16==r||8==r){for(l=16==r?4:3,--p;p%l;p++)h+="0";for(p=(y=vM(h,o,r)).length;!y[p-1];--p);for(l=1,h="1.";l<p;l++)h+=DT.charAt(y[l])}else h=h.charAt(0)+"."+h.slice(1);h=h+(a<0?"p":"p+")+a}else if(a<0){for(;++a;)h="0"+h;h="0."+h}else if(++a>p)for(a-=p;a--;)h+="0";else a<p&&(h=h.slice(0,a)+"."+h.slice(a))}else h=k?"0p+0":"0";h=(16==r?"0x":2==r?"0b":8==r?"0o":"")+h}else h=PB(t);return t.s<0?"-"+h:h}function IB(t,r){if(t.length>r)return t.length=r,!0}function Qie(t){return new this(t).abs()}function Jie(t){return new this(t).acos()}function Xie(t){return new this(t).acosh()}function Kie(t,r){return new this(t).plus(r)}function eoe(t){return new this(t).asin()}function toe(t){return new this(t).asinh()}function noe(t){return new this(t).atan()}function roe(t){return new this(t).atanh()}function ioe(t,r){t=new this(t),r=new this(r);var e,i=this.precision,o=this.rounding,a=i+4;return t.s&&r.s?t.d||r.d?!r.d||t.isZero()?(e=r.s<0?Dl(this,i,o):new this(0)).s=t.s:!t.d||r.isZero()?(e=Dl(this,a,1).times(.5)).s=t.s:r.s<0?(this.precision=a,this.rounding=1,e=this.atan(Wr(t,r,a,1)),r=Dl(this,a,1),this.precision=i,this.rounding=o,e=t.s<0?e.minus(r):e.plus(r)):e=this.atan(Wr(t,r,a,1)):(e=Dl(this,a,1).times(r.s>0?.25:.75)).s=t.s:e=new this(NaN),e}function ooe(t){return new this(t).cbrt()}function aoe(t){return wn(t=new this(t),t.e+1,2)}function soe(t,r,e){return new this(t).clamp(r,e)}function loe(t){if(!t||"object"!=typeof t)throw Error(_M+"Object expected");var r,e,i,o=!0===t.defaults,a=["precision",1,Hd,"rounding",0,8,"toExpNeg",-bg,0,"toExpPos",0,bg,"maxE",0,bg,"minE",-bg,0,"modulo",0,9];for(r=0;r<a.length;r+=3)if(e=a[r],o&&(this[e]=OT[e]),void 0!==(i=t[e])){if(!(Vo(i)===i&&i>=a[r+1]&&i<=a[r+2]))throw Error(jd+e+": "+i);this[e]=i}if(e="crypto",o&&(this[e]=OT[e]),void 0!==(i=t[e])){if(!0!==i&&!1!==i&&0!==i&&1!==i)throw Error(jd+e+": "+i);if(i){if(!(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes)))throw Error(wB);this[e]=!0}else this[e]=!1}return this}function coe(t){return new this(t).cos()}function uoe(t){return new this(t).cosh()}function doe(t,r){return new this(t).div(r)}function poe(t){return new this(t).exp()}function foe(t){return wn(t=new this(t),t.e+1,3)}function hoe(){var t,r,e=new this(0);for(zn=!1,t=0;t<arguments.length;)if((r=new this(arguments[t++])).d)e.d&&(e=e.plus(r.times(r)));else{if(r.s)return zn=!0,new this(1/0);e=r}return zn=!0,e.sqrt()}function FB(t){return t instanceof s0||t&&t.toStringTag===MB||!1}function moe(t){return new this(t).ln()}function goe(t,r){return new this(t).log(r)}function _oe(t){return new this(t).log(2)}function voe(t){return new this(t).log(10)}function yoe(){return AB(this,arguments,"lt")}function boe(){return AB(this,arguments,"gt")}function Coe(t,r){return new this(t).mod(r)}function xoe(t,r){return new this(t).mul(r)}function woe(t,r){return new this(t).pow(r)}function Moe(t){var r,e,i,o,a=0,l=new this(1),u=[];if(void 0===t?t=this.precision:Ra(t,1,Hd),i=Math.ceil(t/7),this.crypto)if(crypto.getRandomValues)for(r=crypto.getRandomValues(new Uint32Array(i));a<i;)(o=r[a])>=429e7?r[a]=crypto.getRandomValues(new Uint32Array(1))[0]:u[a++]=o%1e7;else{if(!crypto.randomBytes)throw Error(wB);for(r=crypto.randomBytes(i*=4);a<i;)(o=r[a]+(r[a+1]<<8)+(r[a+2]<<16)+((127&r[a+3])<<24))>=214e7?crypto.randomBytes(4).copy(r,a):(u.push(o%1e7),a+=4);a=i/4}else for(;a<i;)u[a++]=1e7*Math.random()|0;for(t%=7,(i=u[--a])&&t&&(o=ao(10,7-t),u[a]=(i/o|0)*o);0===u[a];a--)u.pop();if(a<0)e=0,u=[0];else{for(e=-1;0===u[0];e-=7)u.shift();for(i=1,o=u[0];o>=10;o/=10)i++;i<7&&(e-=7-i)}return l.e=e,l.d=u,l}function Soe(t){return wn(t=new this(t),t.e+1,this.rounding)}function Doe(t){return(t=new this(t)).d?t.d[0]?t.s:0*t.s:t.s||NaN}function Ooe(t){return new this(t).sin()}function Eoe(t){return new this(t).sinh()}function Aoe(t){return new this(t).sqrt()}function Poe(t,r){return new this(t).sub(r)}function Toe(){var t=0,r=arguments,e=new this(r[t]);for(zn=!1;e.s&&++t<r.length;)e=e.plus(r[t]);return zn=!0,wn(e,this.precision,this.rounding)}function Ioe(t){return new this(t).tan()}function koe(t){return new this(t).tanh()}function Foe(t){return wn(t=new this(t),t.e+1,1)}Vt[Symbol.for("nodejs.util.inspect.custom")]=Vt.toString,Vt[Symbol.toStringTag]="Decimal";var s0=Vt.constructor=function kB(t){var r,e,i;function o(a){var l,u,p,f=this;if(!(f instanceof o))return new o(a);if(f.constructor=o,FB(a))return f.s=a.s,void(zn?!a.d||a.e>o.maxE?(f.e=NaN,f.d=null):a.e<o.minE?(f.e=0,f.d=[0]):(f.e=a.e,f.d=a.d.slice()):(f.e=a.e,f.d=a.d?a.d.slice():a.d));if("number"==(p=typeof a)){if(0===a)return f.s=1/a<0?-1:1,f.e=0,void(f.d=[0]);if(a<0?(a=-a,f.s=-1):f.s=1,a===~~a&&a<1e7){for(l=0,u=a;u>=10;u/=10)l++;return void(zn?l>o.maxE?(f.e=NaN,f.d=null):l<o.minE?(f.e=0,f.d=[0]):(f.e=l,f.d=[a]):(f.e=l,f.d=[a]))}return 0*a!=0?(a||(f.s=NaN),f.e=NaN,void(f.d=null)):PT(f,a.toString())}if("string"!==p)throw Error(jd+a);return 45===(u=a.charCodeAt(0))?(a=a.slice(1),f.s=-1):(43===u&&(a=a.slice(1)),f.s=1),SB.test(a)?PT(f,a):function $ie(t,r){var e,i,o,a,l,u,p,f,h;if(r.indexOf("_")>-1){if(r=r.replace(/(\d)_(?=\d)/g,"$1"),SB.test(r))return PT(t,r)}else if("Infinity"===r||"NaN"===r)return+r||(t.s=NaN),t.e=NaN,t.d=null,t;if(jie.test(r))e=16,r=r.toLowerCase();else if(Hie.test(r))e=2;else{if(!qie.test(r))throw Error(jd+r);e=8}for((a=r.search(/p/i))>0?(p=+r.slice(a+1),r=r.substring(2,a)):r=r.slice(2),a=r.indexOf("."),i=t.constructor,(l=a>=0)&&(a=(u=(r=r.replace(".","")).length)-a,o=OB(i,new i(e),a,2*a)),a=h=(f=vM(r,e,Sl)).length-1;0===f[a];--a)f.pop();return a<0?new i(0*t.s):(t.e=yM(f,h),t.d=f,zn=!1,l&&(t=Wr(t,o,4*u)),p&&(t=t.times(Math.abs(p)<54?ao(2,p):s0.pow(2,p))),zn=!0,t)}(f,a)}if(o.prototype=Vt,o.ROUND_UP=0,o.ROUND_DOWN=1,o.ROUND_CEIL=2,o.ROUND_FLOOR=3,o.ROUND_HALF_UP=4,o.ROUND_HALF_DOWN=5,o.ROUND_HALF_EVEN=6,o.ROUND_HALF_CEIL=7,o.ROUND_HALF_FLOOR=8,o.EUCLID=9,o.config=o.set=loe,o.clone=kB,o.isDecimal=FB,o.abs=Qie,o.acos=Jie,o.acosh=Xie,o.add=Kie,o.asin=eoe,o.asinh=toe,o.atan=noe,o.atanh=roe,o.atan2=ioe,o.cbrt=ooe,o.ceil=aoe,o.clamp=soe,o.cos=coe,o.cosh=uoe,o.div=doe,o.exp=poe,o.floor=foe,o.hypot=hoe,o.ln=moe,o.log=goe,o.log10=voe,o.log2=_oe,o.max=yoe,o.min=boe,o.mod=Coe,o.mul=xoe,o.pow=woe,o.random=Moe,o.round=Soe,o.sign=Doe,o.sin=Ooe,o.sinh=Eoe,o.sqrt=Aoe,o.sub=Poe,o.sum=Toe,o.tan=Ioe,o.tanh=koe,o.trunc=Foe,void 0===t&&(t={}),t&&!0!==t.defaults)for(i=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],r=0;r<i.length;)t.hasOwnProperty(e=i[r++])||(t[e]=this[e]);return o.config(t),o}(OT);mM=new s0(mM),gM=new s0(gM);const xM=s0;var Loe=xe("BigNumber",["?on","config"],t=>{var{on:r,config:e}=t,i=xM.clone({precision:e.precision,modulo:xM.EUCLID});return i.prototype=Object.create(i.prototype),i.prototype.type="BigNumber",i.prototype.isBigNumber=!0,i.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},i.fromJSON=function(o){return new i(o.value)},r&&r("config",function(o,a){o.precision!==a.precision&&i.config({precision:o.precision})}),i},{isClass:!0}),Ao=se(1006),Voe=xe("Complex",[],()=>(Object.defineProperty(Ao,"name",{value:"Complex"}),Ao.prototype.constructor=Ao,Ao.prototype.type="Complex",Ao.prototype.isComplex=!0,Ao.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},Ao.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},Ao.prototype.format=function(t){var e=this.im,i=this.re,o=nh(this.re,t),a=nh(this.im,t),l=Kn(t)?t:t?t.precision:null;if(null!==l){var u=Math.pow(10,-l);Math.abs(i/e)<u&&(i=0),Math.abs(e/i)<u&&(e=0)}return 0===e?o:0===i?1===e?"i":-1===e?"-i":a+"i":e<0?-1===e?o+" - i":o+" - "+a.substring(1)+"i":1===e?o+" + i":o+" + "+a+"i"},Ao.fromPolar=function(t){switch(arguments.length){case 1:var r=arguments[0];if("object"==typeof r)return Ao(r);throw new TypeError("Input has to be an object with r and phi keys.");case 2:var e=arguments[0],i=arguments[1];if(Kn(e)){if(Rs(i)&&i.hasBase("ANGLE")&&(i=i.toNumber("rad")),Kn(i))return new Ao({r:e,phi:i});throw new TypeError("Phi is not a number nor an angle unit.")}throw new TypeError("Radius r is not a number.");default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},Ao.prototype.valueOf=Ao.prototype.toString,Ao.fromJSON=function(t){return new Ao(t)},Ao.compare=function(t,r){return t.re>r.re?1:t.re<r.re?-1:t.im>r.im?1:t.im<r.im?-1:0},Ao),{isClass:!0});function Hoe(t){var r=0,e=1,i=Object.create(null),o=Object.create(null),a=0,l=function(p){var f=o[p];if(f&&(delete i[f],delete o[p],--r,e===f)){if(!r)return a=0,void(e=1);for(;!Object.prototype.hasOwnProperty.call(i,++e););}};return t=Math.abs(t),{hit:function(p){var f=o[p],h=++a;if(i[h]=p,o[p]=h,!f)return++r<=t?void 0:(l(p=i[e]),p);if(delete i[f],e===f)for(;!Object.prototype.hasOwnProperty.call(i,++e););},delete:l,clear:function(){r=a=0,e=1,i=Object.create(null),o=Object.create(null)}}}function l0(t){var{hasher:r,limit:e}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e=e??Number.POSITIVE_INFINITY,r=r??JSON.stringify,function i(){"object"!=typeof i.cache&&(i.cache={values:new Map,lru:Hoe(e||Number.POSITIVE_INFINITY)});for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];var l=r(o);if(i.cache.values.has(l))return i.cache.lru.hit(l),i.cache.values.get(l);var u=t.apply(t,o);return i.cache.values.set(l,u),i.cache.values.delete(i.cache.lru.hit(l)),u}}function NB(t){return Object.keys(t.signatures||{}).reduce(function(r,e){var i=(e.match(/,/g)||[]).length+1;return Math.max(r,i)},-1)}var joe=l0(function(t){return new t(1).exp()},{hasher:wM}),qoe=l0(function(t){return new t(1).plus(new t(5).sqrt()).div(2)},{hasher:wM}),IT=l0(function(t){return t.acos(-1)},{hasher:wM}),Zoe=l0(function(t){return IT(t).times(2)},{hasher:wM});function wM(t){return t[0].precision}var Yoe=Math.PI,Goe=2*Math.PI,$oe=Math.E,Qoe=xe("true",[],()=>!0),Joe=xe("false",[],()=>!1),Xoe=xe("null",[],()=>null),Koe=us("Infinity",["config","?BigNumber"],t=>{var{config:r,BigNumber:e}=t;return"BigNumber"===r.number?new e(1/0):1/0}),eae=us("NaN",["config","?BigNumber"],t=>{var{config:r,BigNumber:e}=t;return"BigNumber"===r.number?new e(NaN):NaN}),tae=us("pi",["config","?BigNumber"],t=>{var{config:r,BigNumber:e}=t;return"BigNumber"===r.number?IT(e):Yoe}),nae=us("tau",["config","?BigNumber"],t=>{var{config:r,BigNumber:e}=t;return"BigNumber"===r.number?Zoe(e):Goe}),rae=us("e",["config","?BigNumber"],t=>{var{config:r,BigNumber:e}=t;return"BigNumber"===r.number?joe(e):$oe}),iae=us("phi",["config","?BigNumber"],t=>{var{config:r,BigNumber:e}=t;return"BigNumber"===r.number?qoe(e):1.618033988749895}),oae=us("LN2",["config","?BigNumber"],t=>{var{config:r,BigNumber:e}=t;return"BigNumber"===r.number?new e(2).ln():Math.LN2}),aae=us("LN10",["config","?BigNumber"],t=>{var{config:r,BigNumber:e}=t;return"BigNumber"===r.number?new e(10).ln():Math.LN10}),sae=us("LOG2E",["config","?BigNumber"],t=>{var{config:r,BigNumber:e}=t;return"BigNumber"===r.number?new e(1).div(new e(2).ln()):Math.LOG2E}),lae=us("LOG10E",["config","?BigNumber"],t=>{var{config:r,BigNumber:e}=t;return"BigNumber"===r.number?new e(1).div(new e(10).ln()):Math.LOG10E}),cae=us("SQRT1_2",["config","?BigNumber"],t=>{var{config:r,BigNumber:e}=t;return"BigNumber"===r.number?new e("0.5").sqrt():Math.SQRT1_2}),uae=us("SQRT2",["config","?BigNumber"],t=>{var{config:r,BigNumber:e}=t;return"BigNumber"===r.number?new e(2).sqrt():Math.SQRT2}),dae=us("i",["Complex"],t=>{var{Complex:r}=t;return r.I}),pae=xe("version",[],()=>"11.12.0");function us(t,r,e){return xe(t,r,e,{recreateOnConfigChange:!0})}var fae=Hn("speedOfLight","299792458","m s^-1"),hae=Hn("gravitationConstant","6.67430e-11","m^3 kg^-1 s^-2"),mae=Hn("planckConstant","6.62607015e-34","J s"),gae=Hn("reducedPlanckConstant","1.0545718176461565e-34","J s"),_ae=Hn("magneticConstant","1.25663706212e-6","N A^-2"),vae=Hn("electricConstant","8.8541878128e-12","F m^-1"),yae=Hn("vacuumImpedance","376.730313667","ohm"),bae=Hn("coulomb","8.987551792261171e9","N m^2 C^-2"),Cae=Hn("elementaryCharge","1.602176634e-19","C"),xae=Hn("bohrMagneton","9.2740100783e-24","J T^-1"),wae=Hn("conductanceQuantum","7.748091729863649e-5","S"),Mae=Hn("inverseConductanceQuantum","12906.403729652257","ohm"),Sae=Hn("magneticFluxQuantum","2.0678338484619295e-15","Wb"),Dae=Hn("nuclearMagneton","5.0507837461e-27","J T^-1"),Oae=Hn("klitzing","25812.807459304513","ohm"),Eae=Hn("bohrRadius","5.29177210903e-11","m"),Aae=Hn("classicalElectronRadius","2.8179403262e-15","m"),Pae=Hn("electronMass","9.1093837015e-31","kg"),Tae=Hn("fermiCoupling","1.1663787e-5","GeV^-2"),Iae=MM("fineStructure",.0072973525693),kae=Hn("hartreeEnergy","4.3597447222071e-18","J"),Fae=Hn("protonMass","1.67262192369e-27","kg"),Nae=Hn("deuteronMass","3.3435830926e-27","kg"),Rae=Hn("neutronMass","1.6749271613e-27","kg"),Lae=Hn("quantumOfCirculation","3.6369475516e-4","m^2 s^-1"),Bae=Hn("rydberg","10973731.568160","m^-1"),Uae=Hn("thomsonCrossSection","6.6524587321e-29","m^2"),Vae=MM("weakMixingAngle",.2229),zae=MM("efimovFactor",22.7),Hae=Hn("atomicMass","1.66053906660e-27","kg"),jae=Hn("avogadro","6.02214076e23","mol^-1"),qae=Hn("boltzmann","1.380649e-23","J K^-1"),Zae=Hn("faraday","96485.33212331001","C mol^-1"),Yae=Hn("firstRadiation","3.7417718521927573e-16","W m^2"),Gae=Hn("loschmidt","2.686780111798444e25","m^-3"),$ae=Hn("gasConstant","8.31446261815324","J K^-1 mol^-1"),Wae=Hn("molarPlanckConstant","3.990312712893431e-10","J s mol^-1"),Qae=Hn("molarVolume","0.022413969545014137","m^3 mol^-1"),Jae=MM("sackurTetrode",-1.16487052358),Xae=Hn("secondRadiation","0.014387768775039337","m K"),Kae=Hn("stefanBoltzmann","5.67037441918443e-8","W m^-2 K^-4"),ese=Hn("wienDisplacement","2.897771955e-3","m K"),tse=Hn("molarMass","0.99999999965e-3","kg mol^-1"),nse=Hn("molarMassC12","11.9999999958e-3","kg mol^-1"),rse=Hn("gravity","9.80665","m s^-2"),ise=Hn("planckLength","1.616255e-35","m"),ose=Hn("planckMass","2.176435e-8","kg"),ase=Hn("planckTime","5.391245e-44","s"),sse=Hn("planckCharge","1.87554603778e-18","C"),lse=Hn("planckTemperature","1.416785e+32","K");function Hn(t,r,e){return xe(t,["config","Unit","BigNumber"],o=>{var{config:a,Unit:l,BigNumber:u}=o,f=new l("BigNumber"===a.number?new u(r):parseFloat(r),e);return f.fixPrefix=!0,f})}function MM(t,r){return xe(t,["config","BigNumber"],i=>{var{config:o,BigNumber:a}=i;return"BigNumber"===o.number?new a(r):r})}var cu=se(4613),dse=xe("Fraction",[],()=>(Object.defineProperty(cu,"name",{value:"Fraction"}),cu.prototype.constructor=cu,cu.prototype.type="Fraction",cu.prototype.isFraction=!0,cu.prototype.toJSON=function(){return{mathjs:"Fraction",n:this.s*this.n,d:this.d}},cu.fromJSON=function(t){return new cu(t)},cu),{isClass:!0}),hse=xe("Matrix",[],()=>{function t(){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator")}return t.prototype.type="Matrix",t.prototype.isMatrix=!0,t.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},t.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},t.prototype.create=function(r,e){throw new Error("Cannot invoke create on a Matrix interface")},t.prototype.subset=function(r,e,i){throw new Error("Cannot invoke subset on a Matrix interface")},t.prototype.get=function(r){throw new Error("Cannot invoke get on a Matrix interface")},t.prototype.set=function(r,e,i){throw new Error("Cannot invoke set on a Matrix interface")},t.prototype.resize=function(r,e){throw new Error("Cannot invoke resize on a Matrix interface")},t.prototype.reshape=function(r,e){throw new Error("Cannot invoke reshape on a Matrix interface")},t.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},t.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},t.prototype.map=function(r,e){throw new Error("Cannot invoke map on a Matrix interface")},t.prototype.forEach=function(r){throw new Error("Cannot invoke forEach on a Matrix interface")},t.prototype[Symbol.iterator]=function(){throw new Error("Cannot iterate a Matrix interface")},t.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},t.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},t.prototype.format=function(r){throw new Error("Cannot invoke format on a Matrix interface")},t.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},t},{isClass:!0}),_se=xe("Range",[],()=>{function t(r,e,i){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");var o=null!=r,a=null!=e,l=null!=i;if(o)if(dr(r))r=r.toNumber();else if("number"!=typeof r)throw new TypeError("Parameter start must be a number");if(a)if(dr(e))e=e.toNumber();else if("number"!=typeof e)throw new TypeError("Parameter end must be a number");if(l)if(dr(i))i=i.toNumber();else if("number"!=typeof i)throw new TypeError("Parameter step must be a number");this.start=o?parseFloat(r):0,this.end=a?parseFloat(e):0,this.step=l?parseFloat(i):1}return t.prototype.type="Range",t.prototype.isRange=!0,t.parse=function(r){if("string"!=typeof r)return null;var i=r.split(":").map(function(a){return parseFloat(a)});if(i.some(function(a){return isNaN(a)}))return null;switch(i.length){case 2:return new t(i[0],i[1]);case 3:return new t(i[0],i[2],i[1]);default:return null}},t.prototype.clone=function(){return new t(this.start,this.end,this.step)},t.prototype.size=function(){var r=0,i=this.step,a=this.end-this.start;return Vd(i)===Vd(a)?r=Math.ceil(a/i):0===a&&(r=0),isNaN(r)&&(r=0),[r]},t.prototype.min=function(){var r=this.size()[0];if(r>0)return this.step>0?this.start:this.start+(r-1)*this.step},t.prototype.max=function(){var r=this.size()[0];if(r>0)return this.step>0?this.start+(r-1)*this.step:this.start},t.prototype.forEach=function(r){var e=this.start,i=this.step,o=this.end,a=0;if(i>0)for(;e<o;)r(e,[a],this),e+=i,a++;else if(i<0)for(;e>o;)r(e,[a],this),e+=i,a++},t.prototype.map=function(r){var e=[];return this.forEach(function(i,o,a){e[o[0]]=r(i,o,a)}),e},t.prototype.toArray=function(){var r=[];return this.forEach(function(e,i){r[i[0]]=e}),r},t.prototype.valueOf=function(){return this.toArray()},t.prototype.format=function(r){var e=nh(this.start,r);return 1!==this.step&&(e+=":"+nh(this.step,r)),e+":"+nh(this.end,r)},t.prototype.toString=function(){return this.format()},t.prototype.toJSON=function(){return{mathjs:"Range",start:this.start,end:this.end,step:this.step}},t.fromJSON=function(r){return new t(r.start,r.end,r.step)},t},{isClass:!0}),bse=xe("ResultSet",[],()=>{function t(r){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");this.entries=r||[]}return t.prototype.type="ResultSet",t.prototype.isResultSet=!0,t.prototype.valueOf=function(){return this.entries},t.prototype.toString=function(){return"["+this.entries.join(", ")+"]"},t.prototype.toJSON=function(){return{mathjs:"ResultSet",entries:this.entries}},t.fromJSON=function(r){return new t(r.entries)},t},{isClass:!0}),wse=xe("DenseMatrix",["Matrix"],t=>{var{Matrix:r}=t;function e(h,y){if(!(this instanceof e))throw new SyntaxError("Constructor must be called with the new operator");if(y&&!Uo(y))throw new Error("Invalid datatype: "+y);if(On(h))"DenseMatrix"===h.type?(this._data=Bn(h._data),this._size=Bn(h._size),this._datatype=y||h._datatype):(this._data=h.toArray(),this._size=h.size(),this._datatype=y||h._datatype);else if(h&&Er(h.data)&&Er(h.size))this._data=h.data,this._size=h.size,nL(this._data,this._size),this._datatype=y||h.datatype;else if(Er(h))this._data=f(h),this._size=Vn(this._data),nL(this._data,this._size),this._datatype=y;else{if(h)throw new TypeError("Unsupported type of data ("+Vr(h)+")");this._data=[],this._size=[0],this._datatype=y}}function i(h,y){if(!Bw(y))throw new TypeError("Invalid index");if(y.isScalar())return h.get(y.min());var E=y.size();if(E.length!==h._size.length)throw new tr(E.length,h._size.length);for(var k=y.min(),T=y.max(),L=0,U=h._size.length;L<U;L++)zr(k[L],h._size[L]),zr(T[L],h._size[L]);return new e(o(h._data,y,E.length,0),h._datatype)}function o(h,y,D,E){var k=E===D-1,T=y.dimension(E);return k?T.map(function(L){return zr(L,h.length),h[L]}).valueOf():T.map(function(L){return zr(L,h.length),o(h[L],y,D,E+1)}).valueOf()}function a(h,y,D,E){if(!y||!0!==y.isIndex)throw new TypeError("Invalid index");var L,k=y.size(),T=y.isScalar();if(On(D)?(L=D.size(),D=D.valueOf()):L=Vn(D),T){if(0!==L.length)throw new TypeError("Scalar expected");h.set(y.min(),D,E)}else{if(!th(L,k))try{L=Vn(D=gT(0===L.length?[D]:D,k))}catch{}if(k.length<h._size.length)throw new tr(k.length,h._size.length,"<");if(L.length<k.length){for(var U=0,Y=0;1===k[U]&&1===L[U];)U++;for(;1===k[U];)Y++,U++;D=oL(D,k.length,Y,L)}if(!th(k,L))throw new tr(k,L,">");p(h,y.max().map(function(z){return z+1}),E),l(h._data,y,D,k.length,0)}return h}function l(h,y,D,E,k){var T=k===E-1;y.dimension(k).forEach(T?function(U,Y){zr(U),h[U]=D[Y[0]]}:function(U,Y){zr(U),l(h[U],y,D[Y[0]],E,k+1)})}function u(h,y,D){if(0===y.length){for(var E=h._data;Er(E);)E=E[0];return E}return h._size=y.slice(0),h._data=mg(h._data,h._size,D),h}function p(h,y,D){for(var E=h._size.slice(0),k=!1;E.length<y.length;)E.push(0),k=!0;for(var T=0,L=y.length;T<L;T++)y[T]>E[T]&&(E[T]=y[T],k=!0);k&&u(h,E,D)}function f(h){return On(h)?f(h.valueOf()):Er(h)?h.map(f):h}return(e.prototype=new r).createDenseMatrix=function(h,y){return new e(h,y)},Object.defineProperty(e,"name",{value:"DenseMatrix"}),e.prototype.constructor=e,e.prototype.type="DenseMatrix",e.prototype.isDenseMatrix=!0,e.prototype.getDataType=function(){return n0(this._data,Vr)},e.prototype.storage=function(){return"dense"},e.prototype.datatype=function(){return this._datatype},e.prototype.create=function(h,y){return new e(h,y)},e.prototype.subset=function(h,y,D){switch(arguments.length){case 1:return i(this,h);case 2:case 3:return a(this,h,y,D);default:throw new SyntaxError("Wrong number of arguments")}},e.prototype.get=function(h){if(!Er(h))throw new TypeError("Array expected");if(h.length!==this._size.length)throw new tr(h.length,this._size.length);for(var y=0;y<h.length;y++)zr(h[y],this._size[y]);for(var D=this._data,E=0,k=h.length;E<k;E++){var T=h[E];zr(T,D.length),D=D[T]}return D},e.prototype.set=function(h,y,D){if(!Er(h))throw new TypeError("Array expected");if(h.length<this._size.length)throw new tr(h.length,this._size.length,"<");var E,k,T;p(this,h.map(function(Y){return Y+1}),D);var U=this._data;for(E=0,k=h.length-1;E<k;E++)zr(T=h[E],U.length),U=U[T];return zr(T=h[h.length-1],U.length),U[T]=y,this},e.prototype.resize=function(h,y,D){if(!Bd(h))throw new TypeError("Array or Matrix expected");var E=h.valueOf().map(T=>Array.isArray(T)&&1===T.length?T[0]:T);return u(D?this.clone():this,E,y)},e.prototype.reshape=function(h,y){var D=y?this.clone():this;D._data=hT(D._data,h);var E=D._size.reduce((k,T)=>k*T);return D._size=mT(h,E),D},e.prototype.clone=function(){return new e({data:Bn(this._data),size:Bn(this._size),datatype:this._datatype})},e.prototype.size=function(){return this._size.slice(0)},e.prototype.map=function(h){var y=this,D=NB(h),k=function L(U,Y){return Er(U)?U.map(function(N,q){return L(N,Y.concat(q))}):1===D?h(U):2===D?h(U,Y):h(U,Y,y)}(this._data,[]);return new e(k,void 0!==this._datatype?n0(k,Vr):void 0)},e.prototype.forEach=function(h){var y=this;!function E(k,T){Er(k)?k.forEach(function(L,U){E(L,T.concat(U))}):h(k,T,y)}(this._data,[])},e.prototype[Symbol.iterator]=function*(){yield*function*y(D,E){if(Er(D))for(var k=0;k<D.length;k++)yield*y(D[k],E.concat(k));else yield{value:D,index:E}}(this._data,[])},e.prototype.rows=function(){var h=[];if(2!==this.size().length)throw new TypeError("Rows can only be returned for a 2D matrix.");var D=this._data;for(var E of D)h.push(new e([E],this._datatype));return h},e.prototype.columns=function(){var h=this,y=[],D=this.size();if(2!==D.length)throw new TypeError("Rows can only be returned for a 2D matrix.");for(var E=this._data,k=function(U){var Y=E.map(N=>[N[U]]);y.push(new e(Y,h._datatype))},T=0;T<D[1];T++)k(T);return y},e.prototype.toArray=function(){return Bn(this._data)},e.prototype.valueOf=function(){return this._data},e.prototype.format=function(h){return er(this._data,h)},e.prototype.toString=function(){return er(this._data)},e.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},e.prototype.diagonal=function(h){if(h){if(dr(h)&&(h=h.toNumber()),!Kn(h)||!vn(h))throw new TypeError("The parameter k must be an integer number")}else h=0;for(var y=h>0?h:0,D=h<0?-h:0,T=Math.min(this._size[0]-D,this._size[1]-y),L=[],U=0;U<T;U++)L[U]=this._data[U+D][U+y];return new e({data:L,size:[T],datatype:this._datatype})},e.diagonal=function(h,y,D,E){if(!Er(h))throw new TypeError("Array expected, size parameter");if(2!==h.length)throw new Error("Only two dimensions matrix are supported");if(h=h.map(function(J){if(dr(J)&&(J=J.toNumber()),!Kn(J)||!vn(J)||J<1)throw new Error("Size values must be positive integers");return J}),D){if(dr(D)&&(D=D.toNumber()),!Kn(D)||!vn(D))throw new TypeError("The parameter k must be an integer number")}else D=0;var N,k=D>0?D:0,T=D<0?-D:0,L=h[0],U=h[1],Y=Math.min(L-T,U-k);if(Er(y)){if(y.length!==Y)throw new Error("Invalid value array length");N=function(B){return y[B]}}else if(On(y)){var q=y.size();if(1!==q.length||q[0]!==Y)throw new Error("Invalid matrix length");N=function(B){return y.get([B])}}else N=function(){return y};E||(E=dr(N(0))?N(0).mul(0):0);var j=[];if(h.length>0){j=mg(j,h,E);for(var z=0;z<Y;z++)j[z+T][z+k]=N(z)}return new e({data:j,size:[L,U]})},e.fromJSON=function(h){return new e(h)},e.prototype.swapRows=function(h,y){if(!(Kn(h)&&vn(h)&&Kn(y)&&vn(y)))throw new Error("Row index must be positive integers");if(2!==this._size.length)throw new Error("Only two dimensional matrix is supported");return zr(h,this._size[0]),zr(y,this._size[0]),e._swapRows(h,y,this._data),this},e._swapRows=function(h,y,D){var E=D[h];D[h]=D[y],D[y]=E},e},{isClass:!0}),Dse=xe("replacer",[],()=>function(r,e){return"number"!=typeof e||isFinite(e)&&!isNaN(e)?e:{mathjs:"number",value:String(e)}}),RB=function(){return RB=vg.create,vg},Ese=xe("typed",["?BigNumber","?Complex","?DenseMatrix","?Fraction"],function(r){var{BigNumber:e,Complex:i,DenseMatrix:o,Fraction:a}=r,l=RB();return l.clear(),l.addTypes([{name:"number",test:Kn},{name:"Complex",test:iu},{name:"BigNumber",test:dr},{name:"Fraction",test:Ky},{name:"Unit",test:Rs},{name:"identifier",test:u=>Uo&&/^(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])*$/.test(u)},{name:"string",test:Uo},{name:"Chain",test:L3},{name:"Array",test:Er},{name:"Matrix",test:On},{name:"DenseMatrix",test:Lw},{name:"SparseMatrix",test:Kf},{name:"Range",test:iT},{name:"Index",test:Bw},{name:"boolean",test:MQ},{name:"ResultSet",test:SQ},{name:"Help",test:R3},{name:"function",test:DQ},{name:"Date",test:OQ},{name:"RegExp",test:EQ},{name:"null",test:AQ},{name:"undefined",test:PQ},{name:"AccessorNode",test:eh},{name:"ArrayNode",test:Ls},{name:"AssignmentNode",test:TQ},{name:"BlockNode",test:IQ},{name:"ConditionalNode",test:kQ},{name:"ConstantNode",test:Cr},{name:"FunctionNode",test:Ud},{name:"FunctionAssignmentNode",test:e0},{name:"IndexNode",test:lg},{name:"Node",test:Br},{name:"ObjectNode",test:Vw},{name:"OperatorNode",test:Zi},{name:"ParenthesisNode",test:ou},{name:"RangeNode",test:FQ},{name:"RelationalNode",test:NQ},{name:"SymbolNode",test:_o},{name:"Map",test:cT},{name:"Object",test:Uw}]),l.addConversions([{from:"number",to:"BigNumber",convert:function(p){if(e||kT(p),function sJ(t){return t.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length}(p)>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+p+"). Use function bignumber(x) to convert to BigNumber.");return new e(p)}},{from:"number",to:"Complex",convert:function(p){return i||SM(p),new i(p,0)}},{from:"BigNumber",to:"Complex",convert:function(p){return i||SM(p),new i(p.toNumber(),0)}},{from:"Fraction",to:"BigNumber",convert:function(p){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(p){return i||SM(p),new i(p.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(p){a||FT(p);var f=new a(p);if(f.valueOf()!==p)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+p+"). Use function fraction(x) to convert to Fraction.");return f}},{from:"string",to:"number",convert:function(p){var f=Number(p);if(isNaN(f))throw new Error('Cannot convert "'+p+'" to a number');return f}},{from:"string",to:"BigNumber",convert:function(p){e||kT(p);try{return new e(p)}catch{throw new Error('Cannot convert "'+p+'" to BigNumber')}}},{from:"string",to:"Fraction",convert:function(p){a||FT(p);try{return new a(p)}catch{throw new Error('Cannot convert "'+p+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(p){i||SM(p);try{return new i(p)}catch{throw new Error('Cannot convert "'+p+'" to Complex')}}},{from:"boolean",to:"number",convert:function(p){return+p}},{from:"boolean",to:"BigNumber",convert:function(p){return e||kT(p),new e(+p)}},{from:"boolean",to:"Fraction",convert:function(p){return a||FT(p),new a(+p)}},{from:"boolean",to:"string",convert:function(p){return String(p)}},{from:"Array",to:"Matrix",convert:function(p){return o||function Ase(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}(),new o(p)}},{from:"Matrix",to:"Array",convert:function(p){return p.valueOf()}}]),l.onMismatch=(u,p,f)=>{var h=l.createError(u,p,f);if(["wrongType","mismatch"].includes(h.data.category)&&1===p.length&&Bd(p[0])&&f.some(D=>!D.params.includes(","))){var y=new TypeError("Function '".concat(u,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(u,")'."));throw y.data=h.data,y}throw h},l.onMismatch=(u,p,f)=>{var h=l.createError(u,p,f);if(["wrongType","mismatch"].includes(h.data.category)&&1===p.length&&Bd(p[0])&&f.some(D=>!D.params.includes(","))){var y=new TypeError("Function '".concat(u,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(u,")'."));throw y.data=h.data,y}throw h},l});function kT(t){throw new Error("Cannot convert value ".concat(t," into a BigNumber: no class 'BigNumber' provided"))}function SM(t){throw new Error("Cannot convert value ".concat(t," into a Complex number: no class 'Complex' provided"))}function FT(t){throw new Error("Cannot convert value ".concat(t," into a Fraction, no class 'Fraction' provided."))}var La="number",uu="number, number";function LB(t){return Math.abs(t)}function BB(t,r){return t+r}function UB(t,r){return t-r}function VB(t,r){return t*r}function zB(t){return-t}function HB(t){return t}function c0(t){return rJ(t)}function jB(t){return t*t*t}function qB(t){return Math.exp(t)}function ZB(t){return iJ(t)}function YB(t,r){if(!vn(t)||!vn(r))throw new Error("Parameters in function lcm must be integer numbers");if(0===t||0===r)return 0;for(var e,i=t*r;0!==r;)r=t%(e=r),t=e;return Math.abs(i/t)}function GB(t){return nJ(t)}function $B(t){return tJ(t)}function WB(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,e=r<0;if(e&&(r=-r),0===r)throw new Error("Root must be non-zero");if(t<0&&Math.abs(r)%2!=1)throw new Error("Root must be odd when a is negative.");if(0===t)return e?1/0:0;if(!isFinite(t))return e?0:t;var i=Math.pow(Math.abs(t),1/r);return i=t<0?-i:i,e?1/i:i}function NT(t){return Vd(t)}function QB(t){return t*t}function JB(t,r){var e,i,o,a=0,l=1,u=1,p=0;if(!vn(t)||!vn(r))throw new Error("Parameters in function xgcd must be integer numbers");for(;r;)o=t-(i=Math.floor(t/r))*r,e=a,a=l-i*a,l=e,e=u,u=p-i*u,p=e,t=r,r=o;return t<0?[-t,-l,-p]:[t,t?l:0,p]}function XB(t,r){return t*t<1&&r===1/0||t*t>1&&r===-1/0?0:Math.pow(t,r)}function KB(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!vn(r)||r<0||r>15)throw new Error("Number of decimals in function round must be an integer from 0 to 15 inclusive");return parseFloat($3(t,r))}LB.signature=La,BB.signature=uu,UB.signature=uu,VB.signature=uu,zB.signature=La,HB.signature=La,c0.signature=La,jB.signature=La,qB.signature=La,ZB.signature=La,YB.signature=uu,GB.signature=La,$B.signature=La,NT.signature=La,QB.signature=La,JB.signature=uu,XB.signature=uu;var e6="unaryPlus",Bse=xe(e6,["typed","config","BigNumber"],t=>{var{typed:r,config:e,BigNumber:i}=t;return r(e6,{number:HB,Complex:function(a){return a},BigNumber:function(a){return a},Fraction:function(a){return a},Unit:function(a){return a.clone()},"Array | Matrix":r.referToSelf(o=>a=>rr(a,o,!0)),"boolean | string":function(a){return"BigNumber"===e.number?new i(+a):+a}})}),Vse=xe("abs",["typed"],t=>{var{typed:r}=t;return r("abs",{number:LB,"Complex | BigNumber | Fraction | Unit":e=>e.abs(),"Array | Matrix":r.referToSelf(e=>i=>rr(i,e,!0))})}),Hse=xe("acos",["typed","config","Complex"],t=>{var{typed:r,config:e,Complex:i}=t;return r("acos",{number:function(a){return a>=-1&&a<=1||e.predictable?Math.acos(a):new i(a,0).acos()},Complex:function(a){return a.acos()},BigNumber:function(a){return a.acos()}})}),pi="number";function r6(t){return cJ(t)}function o6(t){return Math.atan(1/t)}function a6(t){return isFinite(t)?(Math.log((t+1)/t)+Math.log(t/(t-1)))/2:0}function s6(t){return Math.asin(1/t)}function l6(t){var r=1/t;return Math.log(r+Math.sqrt(r*r+1))}function c6(t){return Math.acos(1/t)}function u6(t){var r=1/t,e=Math.sqrt(r*r-1);return Math.log(e+r)}function d6(t){return uJ(t)}function p6(t){return dJ(t)}function f6(t){return 1/Math.tan(t)}function h6(t){var r=Math.exp(2*t);return(r+1)/(r-1)}function m6(t){return 1/Math.sin(t)}function g6(t){return 0===t?Number.POSITIVE_INFINITY:Math.abs(2/(Math.exp(t)-Math.exp(-t)))*Vd(t)}function _6(t){return 1/Math.cos(t)}function v6(t){return 2/(Math.exp(t)+Math.exp(-t))}function y6(t){return pJ(t)}r6.signature=pi,o6.signature=pi,a6.signature=pi,s6.signature=pi,l6.signature=pi,c6.signature=pi,u6.signature=pi,d6.signature=pi,p6.signature=pi,f6.signature=pi,h6.signature=pi,m6.signature=pi,g6.signature=pi,_6.signature=pi,v6.signature=pi,y6.signature=pi;var ele=xe("acot",["typed","BigNumber"],t=>{var{typed:r,BigNumber:e}=t;return r("acot",{number:o6,Complex:function(o){return o.acot()},BigNumber:function(o){return new e(1).div(o).atan()}})}),nle=xe("acsc",["typed","config","Complex","BigNumber"],t=>{var{typed:r,config:e,Complex:i,BigNumber:o}=t;return r("acsc",{number:function(l){return l<=-1||l>=1||e.predictable?s6(l):new i(l,0).acsc()},Complex:function(l){return l.acsc()},BigNumber:function(l){return new o(1).div(l).asin()}})}),x6="addScalar",ile=xe(x6,["typed"],t=>{var{typed:r}=t;return r(x6,{"number, number":BB,"Complex, Complex":function(i,o){return i.add(o)},"BigNumber, BigNumber":function(i,o){return i.plus(o)},"Fraction, Fraction":function(i,o){return i.add(o)},"Unit, Unit":r.referToSelf(e=>(i,o)=>{if(null==i.value)throw new Error("Parameter x contains a unit with undefined value");if(null==o.value)throw new Error("Parameter y contains a unit with undefined value");if(!i.equalBase(o))throw new Error("Units do not match");var a=i.clone();return a.value=r.find(e,[a.valueType(),o.valueType()])(a.value,o.value),a.fixPrefix=!1,a})})}),ale=xe("arg",["typed"],t=>{var{typed:r}=t;return r("arg",{number:function(i){return Math.atan2(0,i)},BigNumber:function(i){return i.constructor.atan2(0,i)},Complex:function(i){return i.arg()},"Array | Matrix":r.referToSelf(e=>i=>rr(i,e))})}),lle=xe("asech",["typed","config","Complex","BigNumber"],t=>{var{typed:r,config:e,Complex:i,BigNumber:o}=t;return r("asech",{number:function(l){if(l<=1&&l>=-1||e.predictable){var u=1/l;if(u>0||e.predictable)return u6(l);var p=Math.sqrt(u*u-1);return new i(Math.log(p-u),Math.PI)}return new i(l,0).asech()},Complex:function(l){return l.asech()},BigNumber:function(l){return new o(1).div(l).acosh()}})}),dle=xe("asinh",["typed"],t=>{var{typed:r}=t;return r("asinh",{number:d6,Complex:function(i){return i.asinh()},BigNumber:function(i){return i.asinh()}})}),hle=xe("atan",["typed"],t=>{var{typed:r}=t;return r("atan",{number:function(i){return Math.atan(i)},Complex:function(i){return i.atan()},BigNumber:function(i){return i.atan()}})}),gle=xe("atanh",["typed","config","Complex"],t=>{var{typed:r,config:e,Complex:i}=t;return r("atanh",{number:function(a){return a<=1&&a>=-1||e.predictable?p6(a):new i(a,0).atanh()},Complex:function(a){return a.atanh()},BigNumber:function(a){return a.atanh()}})}),yle=xe("bignumber",["typed","BigNumber"],t=>{var{typed:r,BigNumber:e}=t;return r("bignumber",{"":function(){return new e(0)},number:function(o){return new e(o+"")},string:function(o){var a=o.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);if(a){var l=a[2],u=e(a[1]),p=new e(2).pow(Number(l));if(u.gt(p.sub(1)))throw new SyntaxError('String "'.concat(o,'" is out of range'));var f=new e(2).pow(Number(l)-1);return u.gte(f)?u.sub(p):u}return new e(o)},BigNumber:function(o){return o},Unit:r.referToSelf(i=>o=>{var a=o.clone();return a.value=i(o.value),a}),Fraction:function(o){return new e(o.n).div(o.d).times(o.s)},null:function(o){return new e(0)},"Array | Matrix":r.referToSelf(i=>o=>rr(o,i))})});function ble(t,r){if(t.isFinite()&&!t.isInteger()||r.isFinite()&&!r.isInteger())throw new Error("Integers expected in function bitAnd");var e=t.constructor;if(t.isNaN()||r.isNaN())return new e(NaN);if(t.isZero()||r.eq(-1)||t.eq(r))return t;if(r.isZero()||t.eq(-1))return r;if(!t.isFinite()||!r.isFinite()){if(!t.isFinite()&&!r.isFinite())return t.isNegative()===r.isNegative()?t:new e(0);if(!t.isFinite())return r.isNegative()?t:t.isNegative()?new e(0):r;if(!r.isFinite())return t.isNegative()?r:r.isNegative()?new e(0):t}return RT(t,r,function(i,o){return i&o})}function u0(t){if(t.isFinite()&&!t.isInteger())throw new Error("Integer expected in function bitNot");var r=t.constructor,e=r.precision;r.config({precision:1e9});var i=t.plus(new r(1));return i.s=-i.s||null,r.config({precision:e}),i}function Cle(t,r){if(t.isFinite()&&!t.isInteger()||r.isFinite()&&!r.isInteger())throw new Error("Integers expected in function bitOr");var e=t.constructor;if(t.isNaN()||r.isNaN())return new e(NaN);var i=new e(-1);return t.isZero()||r.eq(i)||t.eq(r)?r:r.isZero()||t.eq(i)?t:t.isFinite()&&r.isFinite()?RT(t,r,function(o,a){return o|a}):!t.isFinite()&&!t.isNegative()&&r.isNegative()||t.isNegative()&&!r.isNegative()&&!r.isFinite()?i:t.isNegative()&&r.isNegative()?t.isFinite()?t:r:t.isFinite()?r:t}function RT(t,r,e){var o,a,h,y,D,i=t.constructor,l=+(t.s<0),u=+(r.s<0);if(l){o=DM(u0(t));for(var p=0;p<o.length;++p)o[p]^=1}else o=DM(t);if(u){a=DM(u0(r));for(var f=0;f<a.length;++f)a[f]^=1}else a=DM(r);o.length<=a.length?(h=o,y=a,D=l):(h=a,y=o,D=u);var E=h.length,k=y.length,T=1^e(l,u),L=new i(1^T),U=new i(1),Y=new i(2),N=i.precision;for(i.config({precision:1e9});E>0;)e(h[--E],y[--k])===T&&(L=L.plus(U)),U=U.times(Y);for(;k>0;)e(D,y[--k])===T&&(L=L.plus(U)),U=U.times(Y);return i.config({precision:N}),0===T&&(L.s=-L.s),L}function DM(t){for(var r=t.d,e=r[0]+"",i=1;i<r.length;++i){for(var o=r[i]+"",a=7-o.length;a--;)o="0"+o;e+=o}for(var l=e.length;"0"===e.charAt(l);)l--;var u=t.e,p=e.slice(0,l+1||1),f=p.length;if(u>0)if(++u>f)for(u-=f;u--;)p+="0";else u<f&&(p=p.slice(0,u)+"."+p.slice(u));for(var h=[0],y=0;y<p.length;){for(var D=h.length;D--;)h[D]*=10;h[0]+=parseInt(p.charAt(y++));for(var E=0;E<h.length;++E)h[E]>1&&(null==h[E+1]&&(h[E+1]=0),h[E+1]+=h[E]>>1,h[E]&=1)}return h.reverse()}function xle(t,r){if(t.isFinite()&&!t.isInteger()||r.isFinite()&&!r.isInteger())throw new Error("Integers expected in function bitXor");var e=t.constructor;if(t.isNaN()||r.isNaN())return new e(NaN);if(t.isZero())return r;if(r.isZero())return t;if(t.eq(r))return new e(0);var i=new e(-1);return t.eq(i)?u0(r):r.eq(i)?u0(t):t.isFinite()&&r.isFinite()?RT(t,r,function(o,a){return o^a}):t.isFinite()||r.isFinite()?new e(t.isNegative()===r.isNegative()?1/0:-1/0):i}function wle(t,r){if(t.isFinite()&&!t.isInteger()||r.isFinite()&&!r.isInteger())throw new Error("Integers expected in function leftShift");var e=t.constructor;return t.isNaN()||r.isNaN()||r.isNegative()&&!r.isZero()?new e(NaN):t.isZero()||r.isZero()?t:t.isFinite()||r.isFinite()?r.lt(55)?t.times(Math.pow(2,r.toNumber())+""):t.times(new e(2).pow(r)):new e(NaN)}function Mle(t,r){if(t.isFinite()&&!t.isInteger()||r.isFinite()&&!r.isInteger())throw new Error("Integers expected in function rightArithShift");var e=t.constructor;return t.isNaN()||r.isNaN()||r.isNegative()&&!r.isZero()?new e(NaN):t.isZero()||r.isZero()?t:r.isFinite()?r.lt(55)?t.div(Math.pow(2,r.toNumber())+"").floor():t.div(new e(2).pow(r)).floor():t.isNegative()?new e(-1):t.isFinite()?new e(0):new e(NaN)}var xg="number, number";function D6(t,r){if(!vn(t)||!vn(r))throw new Error("Integers expected in function bitAnd");return t&r}function O6(t){if(!vn(t))throw new Error("Integer expected in function bitNot");return~t}function E6(t,r){if(!vn(t)||!vn(r))throw new Error("Integers expected in function bitOr");return t|r}function A6(t,r){if(!vn(t)||!vn(r))throw new Error("Integers expected in function bitXor");return t^r}function P6(t,r){if(!vn(t)||!vn(r))throw new Error("Integers expected in function leftShift");return t<<r}function T6(t,r){if(!vn(t)||!vn(r))throw new Error("Integers expected in function rightArithShift");return t>>r}function I6(t,r){if(!vn(t)||!vn(r))throw new Error("Integers expected in function rightLogShift");return t>>>r}D6.signature=xg,O6.signature="number",E6.signature=xg,A6.signature=xg,P6.signature=xg,T6.signature=xg,I6.signature=xg;var Ole=xe("bitNot",["typed"],t=>{var{typed:r}=t;return r("bitNot",{number:O6,BigNumber:u0,"Array | Matrix":r.referToSelf(e=>i=>rr(i,e))})}),F6="boolean",Ale=xe(F6,["typed"],t=>{var{typed:r}=t;return r(F6,{"":function(){return!1},boolean:function(i){return i},number:function(i){return!!i},null:function(i){return!1},BigNumber:function(i){return!i.isZero()},string:function(i){var o=i.toLowerCase();if("true"===o)return!0;if("false"===o)return!1;var a=Number(i);if(""!==i&&!isNaN(a))return!!a;throw new Error('Cannot convert "'+i+'" to a boolean')},"Array | Matrix":r.referToSelf(e=>i=>rr(i,e))})}),Tle=xe("clone",["typed"],t=>{var{typed:r}=t;return r("clone",{any:Bn})});function du(t,r){if(r<t)return 1;if(r===t)return r;var e=r+t>>1;return du(t,e)*du(e+1,r)}function R6(t,r){if(!vn(t)||t<0)throw new TypeError("Positive integer value expected in function combinations");if(!vn(r)||r<0)throw new TypeError("Positive integer value expected in function combinations");if(r>t)throw new TypeError("k must be less than or equal to n");for(var e=t-r,i=1,a=2,l=r<e?r:e,u=r<e?e+1:r+1;u<=t;++u)for(i*=u;a<=l&&i%a==0;)i/=a,++a;return a<=l&&(i/=du(a,l)),i}R6.signature="number, number";var L6="combinations",kle=xe(L6,["typed"],t=>{var{typed:r}=t;return r(L6,{"number, number":R6,"BigNumber, BigNumber":function(i,o){var l,u,a=i.constructor,p=i.minus(o),f=new a(1);if(!B6(i)||!B6(o))throw new TypeError("Positive integer value expected in function combinations");if(o.gt(i))throw new TypeError("k must be less than n in function combinations");if(l=f,o.lt(p))for(u=f;u.lte(p);u=u.plus(f))l=l.times(o.plus(u)).dividedBy(u);else for(u=f;u.lte(o);u=u.plus(f))l=l.times(p.plus(u)).dividedBy(u);return l}})});function B6(t){return t.isInteger()&&t.gte(0)}var Rle=xe("complex",["typed","Complex"],t=>{var{typed:r,Complex:e}=t;return r("complex",{"":function(){return e.ZERO},number:function(o){return new e(o,0)},"number, number":function(o,a){return new e(o,a)},"BigNumber, BigNumber":function(o,a){return new e(o.toNumber(),a.toNumber())},Fraction:function(o){return new e(o.valueOf(),0)},Complex:function(o){return o.clone()},string:function(o){return e(o)},null:function(o){return e(0)},Object:function(o){if("re"in o&&"im"in o)return new e(o.re,o.im);if("r"in o&&"phi"in o||"abs"in o&&"arg"in o)return new e(o);throw new Error("Expected object with properties (re and im) or (r and phi) or (abs and arg)")},"Array | Matrix":r.referToSelf(i=>o=>rr(o,i))})}),Ble=xe("conj",["typed"],t=>{var{typed:r}=t;return r("conj",{"number | BigNumber | Fraction":e=>e,Complex:e=>e.conjugate(),"Array | Matrix":r.referToSelf(e=>i=>rr(i,e))})}),wg=xe("trigUnit",["typed"],t=>{var{typed:r}=t;return{Unit:r.referToSelf(e=>i=>{if(!i.hasBase(i.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function cot is no angle");return r.find(e,i.valueType())(i.value)})}}),Vle=xe("cos",["typed"],t=>{var{typed:r}=t,e=wg({typed:r});return r("cos",{number:Math.cos,"Complex | BigNumber":i=>i.cos()},e)}),Hle=xe("cot",["typed","BigNumber"],t=>{var{typed:r,BigNumber:e}=t;return r("cot",{number:f6,Complex:o=>o.cot(),BigNumber:o=>new e(1).div(o.tan())},wg({typed:r}))}),qle=xe("csc",["typed","BigNumber"],t=>{var{typed:r,BigNumber:e}=t;return r("csc",{number:m6,Complex:o=>o.csc(),BigNumber:o=>new e(1).div(o.sin())},wg({typed:r}))}),Yle=xe("cube",["typed"],t=>{var{typed:r}=t;return r("cube",{number:jB,Complex:function(i){return i.mul(i).mul(i)},BigNumber:function(i){return i.times(i).times(i)},Fraction:function(i){return i.pow(3)},Unit:function(i){return i.pow(3)}})});function xc(t,r,e){if(null==e)return t.eq(r);if(t.eq(r))return!0;if(t.isNaN()||r.isNaN())return!1;if(t.isFinite()&&r.isFinite()){var i=t.minus(r).abs();if(i.isZero())return!0;var o=t.constructor.max(t.abs(),r.abs());return i.lte(o.times(e))}return!1}var Mg=xe("compareUnits",["typed"],t=>{var{typed:r}=t;return{"Unit, Unit":r.referToSelf(e=>(i,o)=>{if(!i.equalBase(o))throw new Error("Cannot compare units with different base");return r.find(e,[i.valueType(),o.valueType()])(i.value,o.value)})}}),OM="equalScalar",Wle=xe(OM,["typed","config"],t=>{var{typed:r,config:e}=t,i=Mg({typed:r});return r(OM,{"boolean, boolean":function(a,l){return a===l},"number, number":function(a,l){return cs(a,l,e.epsilon)},"BigNumber, BigNumber":function(a,l){return a.eq(l)||xc(a,l,e.epsilon)},"Fraction, Fraction":function(a,l){return a.equals(l)},"Complex, Complex":function(a,l){return function Gle(t,r,e){return cs(t.re,r.re,e)&&cs(t.im,r.im,e)}(a,l,e.epsilon)}},i)}),Xle=(xe(OM,["typed","config"],t=>{var{typed:r,config:e}=t;return r(OM,{"number, number":function(o,a){return cs(o,a,e.epsilon)}})}),xe("erf",["typed"],t=>{var{typed:r}=t;return r("name",{number:function(l){var u=Math.abs(l);return u>=tce?Vd(l):u<=Kle?Vd(l)*function e(a){var f,l=a*a,u=pu[0][4]*l,p=l;for(f=0;f<3;f+=1)u=(u+pu[0][f])*l,p=(p+Sg[0][f])*l;return a*(u+pu[0][3])/(p+Sg[0][3])}(u):u<=4?Vd(l)*(1-function i(a){var p,l=pu[1][8]*a,u=a;for(p=0;p<7;p+=1)l=(l+pu[1][p])*a,u=(u+Sg[1][p])*a;var f=(l+pu[1][7])/(u+Sg[1][7]),h=parseInt(16*a)/16,y=(a-h)*(a+h);return Math.exp(-h*h)*Math.exp(-y)*f}(u)):Vd(l)*(1-function o(a){var f,l=1/(a*a),u=pu[2][5]*l,p=l;for(f=0;f<4;f+=1)u=(u+pu[2][f])*l,p=(p+Sg[2][f])*l;var h=l*(u+pu[2][4])/(p+Sg[2][4]);h=(ece-h)/a;var y=(a-(l=parseInt(16*a)/16))*(a+l);return Math.exp(-l*l)*Math.exp(-y)*h}(u))},"Array | Matrix":r.referToSelf(a=>l=>rr(l,a))})})),Kle=.46875,ece=.5641895835477563,pu=[[3.1611237438705655,113.86415415105016,377.485237685302,3209.3775891384694,.18577770618460315],[.5641884969886701,8.883149794388377,66.11919063714163,298.6351381974001,881.952221241769,1712.0476126340707,2051.0783778260716,1230.3393547979972,2.1531153547440383e-8],[.30532663496123236,.36034489994980445,.12578172611122926,.016083785148742275,.0006587491615298378,.016315387137302097]],Sg=[[23.601290952344122,244.02463793444417,1282.6165260773723,2844.236833439171],[15.744926110709835,117.6939508913125,537.1811018620099,1621.3895745666903,3290.7992357334597,4362.619090143247,3439.3676741437216,1230.3393548037495],[2.568520192289822,1.8729528499234604,.5279051029514285,.06051834131244132,.0023352049762686918]],tce=Math.pow(2,53),rce=xe("exp",["typed"],t=>{var{typed:r}=t;return r("exp",{number:qB,Complex:function(i){return i.exp()},BigNumber:function(i){return i.exp()}})}),oce=xe("expm1",["typed","Complex"],t=>{var{typed:r,Complex:e}=t;return r("expm1",{number:ZB,Complex:function(o){var a=Math.exp(o.re);return new e(a*Math.cos(o.im)-1,a*Math.sin(o.im))},BigNumber:function(o){return o.exp().minus(1)}})}),lce=xe("filter",["typed"],t=>{var{typed:r}=t;return r("filter",{"Array, function":Y6,"Matrix, function":function(i,o){return i.create(Y6(i.toArray(),o))},"Array, RegExp":Gw,"Matrix, RegExp":function(i,o){return i.create(Gw(i.toArray(),o))}})});function Y6(t,r){return sL(t,function(e,i,o){return yg(r,e,[i],o,"filter")})}var G6="forEach",uce=xe(G6,["typed"],t=>{var{typed:r}=t;return r(G6,{"Array, function":dce,"Matrix, function":function(i,o){i.forEach(o)}})});function dce(t,r){!function i(o,a){if(!Array.isArray(o))return yg(r,o,a,t,"forEach");Yw(o,function(l,u){i(l,a.concat(u))})}(t,[])}var fce=xe("format",["typed"],t=>{var{typed:r}=t;return r("format",{any:er,"any, Object | function | number":er})}),W6="getMatrixDataType",mce=xe(W6,["typed"],t=>{var{typed:r}=t;return r(W6,{Array:function(i){return n0(i,Vr)},Matrix:function(i){return i.getDataType()}})}),_ce=xe("hex",["typed","format"],t=>{var{typed:r,format:e}=t;return r("hex",{"number | BigNumber":function(o){return e(o,{notation:"hex"})},"number | BigNumber, number":function(o,a){return e(o,{notation:"hex",wordSize:a})}})}),yce=xe("im",["typed"],t=>{var{typed:r}=t;return r("im",{number:()=>0,"BigNumber | Fraction":e=>e.mul(0),Complex:e=>e.im,"Array | Matrix":r.referToSelf(e=>i=>rr(i,e))})}),X6="isInteger",Cce=xe(X6,["typed"],t=>{var{typed:r}=t;return r(X6,{number:vn,BigNumber:function(i){return i.isInt()},Fraction:function(i){return 1===i.d&&isFinite(i.n)},"Array | Matrix":r.referToSelf(e=>i=>rr(i,e))})}),d0="number";function K6(t){return t<0}function e4(t){return t>0}function t4(t){return 0===t}function n4(t){return Number.isNaN(t)}K6.signature=d0,e4.signature=d0,t4.signature=d0,n4.signature=d0;var r4="isNegative",Mce=xe(r4,["typed"],t=>{var{typed:r}=t;return r(r4,{number:K6,BigNumber:function(i){return i.isNeg()&&!i.isZero()&&!i.isNaN()},Fraction:function(i){return i.s<0},Unit:r.referToSelf(e=>i=>r.find(e,i.valueType())(i.value)),"Array | Matrix":r.referToSelf(e=>i=>rr(i,e))})}),o4="isPositive",Dce=xe(o4,["typed"],t=>{var{typed:r}=t;return r(o4,{number:e4,BigNumber:function(i){return!i.isNeg()&&!i.isZero()&&!i.isNaN()},Fraction:function(i){return i.s>0&&i.n>0},Unit:r.referToSelf(e=>i=>r.find(e,i.valueType())(i.value)),"Array | Matrix":r.referToSelf(e=>i=>rr(i,e))})}),Ece=xe("isZero",["typed"],t=>{var{typed:r}=t;return r("isZero",{number:t4,BigNumber:function(i){return i.isZero()},Complex:function(i){return 0===i.re&&0===i.im},Fraction:function(i){return 1===i.d&&0===i.n},Unit:r.referToSelf(e=>i=>r.find(e,i.valueType())(i.value)),"Array | Matrix":r.referToSelf(e=>i=>rr(i,e))})});function EM(t){var r;if(vn(t))return t<=0?isFinite(t)?1/0:NaN:t>171?1/0:du(1,t-1);if(t<.5)return Math.PI/(Math.sin(Math.PI*t)*EM(1-t));if(t>=171.35)return 1/0;if(t>85){var e=t*t,i=e*t,o=i*t,a=o*t;return Math.sqrt(2*Math.PI/t)*Math.pow(t/Math.E,t)*(1+1/(12*t)+1/(288*e)-139/(51840*i)-571/(2488320*o)+163879/(209018880*a)+5246819/(75246796800*a*t))}--t,r=Dg[0];for(var l=1;l<Dg.length;++l)r+=Dg[l]/(t+l);var u=t+s4+.5;return Math.sqrt(2*Math.PI)*Math.pow(u,t+.5)*Math.exp(-u)*r}EM.signature="number";var s4=4.7421875,Dg=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22],l4=.9189385332046728,c4=[1.000000000190015,76.18009172947146,-86.50532032941678,24.01409824083091,-1.231739572450155,.001208650973866179,-5395239384953e-18];function AM(t){if(t<0)return NaN;if(0===t)return 1/0;if(!isFinite(t))return t;if(t<.5)return Math.log(Math.PI/Math.sin(Math.PI*t))-AM(1-t);for(var r=5+(t-=1)+.5,e=c4[0],i=6;i>=1;i--)e+=c4[i]/(t+i);return l4+(t+.5)*Math.log(r)-r+Math.log(e)}AM.signature="number";var Ice=xe("lgamma",["Complex","typed"],t=>{var{Complex:r,typed:e}=t,a=[-.029550653594771242,.00641025641025641,-.0019175269175269176,.0008417508417508417,-.0005952380952380953,.0007936507936507937,-.002777777777777778,.08333333333333333];return e("lgamma",{number:AM,Complex:function l(f){if(f.isNaN())return new r(NaN,NaN);if(0===f.im)return new r(AM(f.re),0);if(f.re>=7||Math.abs(f.im)>=7)return u(f);if(f.re<=.1){var E=function fJ(t,r){return(t>0||!(t<0)&&1/t==1/0)^(r>0||!(r<0)&&1/r==1/0)?-t:t}(6.283185307179586,f.im)*Math.floor(.5*f.re+.25),k=f.mul(Math.PI).sin().log(),T=l(new r(1-f.re,-f.im));return new r(1.1447298858494002,E).sub(k).sub(T)}return f.im>=0?p(f):p(f.conjugate()).conjugate()},BigNumber:function(){throw new Error("mathjs doesn't yet provide an implementation of the algorithm lgamma for BigNumber")}});function u(f){for(var h=f.sub(.5).mul(f.log()).sub(f).add(l4),y=new r(1,0).div(f),D=y.div(f),E=a[0],k=a[1],T=2*D.re,L=D.re*D.re+D.im*D.im,U=2;U<8;U++){var Y=k;k=-L*E+a[U],E=T*E+Y}var N=y.mul(D.mul(E).add(k));return h.add(N)}function p(f){var h=0,y=0,D=f;for(f=f.add(1);f.re<=7;){var E=(D=D.mul(f)).im<0?1:0;0!==E&&0===y&&h++,y=E,f=f.add(1)}return u(f).sub(D.log()).sub(new r(0,2*h*Math.PI*1))}}),Fce=xe("log10",["typed","config","Complex"],t=>{var{typed:r,config:e,Complex:i}=t;return r("log10",{number:function(a){return a>=0||e.predictable?GB(a):new i(a,0).log().div(Math.LN10)},Complex:function(a){return new i(a).log().div(Math.LN10)},BigNumber:function(a){return!a.isNegative()||e.predictable?a.log():new i(a.toNumber(),0).log().div(Math.LN10)},"Array | Matrix":r.referToSelf(o=>a=>rr(a,o))})}),Rce=xe("log2",["typed","config","Complex"],t=>{var{typed:r,config:e,Complex:i}=t;return r("log2",{number:function(l){return l>=0||e.predictable?$B(l):o(new i(l,0))},Complex:o,BigNumber:function(l){return!l.isNegative()||e.predictable?l.log(2):o(new i(l.toNumber(),0))},"Array | Matrix":r.referToSelf(a=>l=>rr(l,a))});function o(a){var l=Math.sqrt(a.re*a.re+a.im*a.im);return new i(Math.log2?Math.log2(l):Math.log(l)/Math.LN2,Math.atan2(a.im,a.re)/Math.LN2)}}),Bce=xe("map",["typed"],t=>{var{typed:r}=t;return r("map",{"Array, function":Uce,"Matrix, function":function(i,o){return i.map(o)}})});function Uce(t,r){return function i(o,a){return Array.isArray(o)?o.map(function(l,u){return i(l,a.concat(u))}):yg(r,o,a,t,"map")}(t,[])}var Hce=xe("multiplyScalar",["typed"],t=>{var{typed:r}=t;return r("multiplyScalar",{"number, number":VB,"Complex, Complex":function(i,o){return i.mul(o)},"BigNumber, BigNumber":function(i,o){return i.times(o)},"Fraction, Fraction":function(i,o){return i.mul(o)},"number | Fraction | BigNumber | Complex, Unit":(e,i)=>i.multiply(e),"Unit, number | Fraction | BigNumber | Complex | Unit":(e,i)=>e.multiply(i)})}),LT="number, number";function h4(t){return!t}function m4(t,r){return!(!t&&!r)}function g4(t,r){return!!t!=!!r}function _4(t,r){return!(!t||!r)}h4.signature="number",m4.signature=LT,g4.signature=LT,_4.signature=LT;var Zce=xe("not",["typed"],t=>{var{typed:r}=t;return r("not",{"null | undefined":()=>!0,number:h4,Complex:function(i){return 0===i.re&&0===i.im},BigNumber:function(i){return i.isZero()||i.isNaN()},Unit:r.referToSelf(e=>i=>r.find(e,i.valueType())(i.value)),"Array | Matrix":r.referToSelf(e=>i=>rr(i,e))})}),Qce=xe("number",["typed"],t=>{var{typed:r}=t,e=r("number",{"":function(){return 0},number:function(o){return o},string:function(o){if("NaN"===o)return NaN;var a=function $ce(t){var r=t.match(/(0[box])([0-9a-fA-F]*)\.([0-9a-fA-F]*)/);return r?{input:t,radix:{"0b":2,"0o":8,"0x":16}[r[1]],integerPart:r[2],fractionalPart:r[3]}:null}(o);if(a)return function Wce(t){for(var r=parseInt(t.integerPart,t.radix),e=0,i=0;i<t.fractionalPart.length;i++)e+=parseInt(t.fractionalPart[i],t.radix)/Math.pow(t.radix,i+1);var a=r+e;if(isNaN(a))throw new SyntaxError('String "'+t.input+'" is no valid number');return a}(a);var l=0,u=o.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);u&&(l=Number(u[2]),o=u[1]);var p=Number(o);if(isNaN(p))throw new SyntaxError('String "'+o+'" is no valid number');if(u){if(p>2**l-1)throw new SyntaxError('String "'.concat(o,'" is out of range'));p>=2**(l-1)&&(p-=2**l)}return p},BigNumber:function(o){return o.toNumber()},Fraction:function(o){return o.valueOf()},Unit:r.referToSelf(i=>o=>{var a=o.clone();return a.value=i(o.value),a}),null:function(o){return 0},"Unit, string | Unit":function(o,a){return o.toNumber(a)},"Array | Matrix":r.referToSelf(i=>o=>rr(o,i))});return e.fromJSON=function(i){return parseFloat(i.value)},e}),Xce=xe("oct",["typed","format"],t=>{var{typed:r,format:e}=t;return r("oct",{"number | BigNumber":function(o){return e(o,{notation:"oct"})},"number | BigNumber, number":function(o,a){return e(o,{notation:"oct",wordSize:a})}})}),b4=se(340),Kce=b4(Date.now());function Og(t){var r;return function e(o){r=null===o?Kce:b4(String(o))}(t),function i(){return r()}}var C4="pickRandom",tue=xe(C4,["typed","config","?on"],t=>{var{typed:r,config:e,on:i}=t,o=Og(e.randomSeed);return i&&i("config",function(l,u){l.randomSeed!==u.randomSeed&&(o=Og(l.randomSeed))}),r(C4,{"Array | Matrix":function(u){return a(u,{})},"Array | Matrix, Object":function(u,p){return a(u,p)},"Array | Matrix, number":function(u,p){return a(u,{number:p})},"Array | Matrix, Array | Matrix":function(u,p){return a(u,{weights:p})},"Array | Matrix, Array | Matrix, number":function(u,p,f){return a(u,{number:f,weights:p})},"Array | Matrix, number, Array | Matrix":function(u,p,f){return a(u,{number:p,weights:f})}});function a(l,u){var{number:p,weights:f,elementWise:h=!0}=u,y=typeof p>"u";y&&(p=1);var D=On(l)?l.create:On(f)?f.create:null;l=l.valueOf(),f&&(f=f.valueOf()),!0===h&&(l=xr(l),f=xr(f));var E=0;if(typeof f<"u"){if(f.length!==l.length)throw new Error("Weights must have the same length as possibles");for(var k=0,T=f.length;k<T;k++){if(!Kn(f[k])||f[k]<0)throw new Error("Weights must be an array of positive numbers");E+=f[k]}}for(var Y,L=l.length,U=[];U.length<p;){if(typeof f>"u")Y=l[Math.floor(o()*L)];else for(var N=o()*E,q=0,j=l.length;q<j;q++)if((N-=f[q])<0){Y=l[q];break}U.push(Y)}return y?U[0]:D?D(U):U}});function BT(t,r){var e=[];if((t=t.slice(0)).length>1)for(var i=0,o=t.shift();i<o;i++)e.push(BT(t,r));else for(var a=0,l=t.shift();a<l;a++)e.push(r());return e}var rue=xe("random",["typed","config","?on"],t=>{var{typed:r,config:e,on:i}=t,o=Og(e.randomSeed);return i&&i("config",function(u,p){u.randomSeed!==p.randomSeed&&(o=Og(u.randomSeed))}),r("random",{"":()=>l(0,1),number:u=>l(0,u),"number, number":(u,p)=>l(u,p),"Array | Matrix":u=>a(u,0,1),"Array | Matrix, number":(u,p)=>a(u,0,p),"Array | Matrix, number, number":(u,p,f)=>a(u,p,f)});function a(u,p,f){var h=BT(u.valueOf(),()=>l(p,f));return On(u)?u.create(h):h}function l(u,p){return u+o()*(p-u)}}),oue=xe("re",["typed"],t=>{var{typed:r}=t;return r("re",{"number | BigNumber | Fraction":e=>e,Complex:e=>e.re,"Array | Matrix":r.referToSelf(e=>i=>rr(i,e))})}),sue=xe("sec",["typed","BigNumber"],t=>{var{typed:r,BigNumber:e}=t;return r("sec",{number:_6,Complex:o=>o.sec(),BigNumber:o=>new e(1).div(o.cos())},wg({typed:r}))}),cue=xe("sign",["typed","BigNumber","Fraction","complex"],t=>{var{typed:r,BigNumber:e,complex:i,Fraction:o}=t;return r("sign",{number:NT,Complex:function(l){return 0===l.im?i(NT(l.re)):l.sign()},BigNumber:function(l){return new e(l.cmp(0))},Fraction:function(l){return new o(l.s,1)},"Array | Matrix":r.referToSelf(a=>l=>rr(l,a,!0)),Unit:r.referToSelf(a=>l=>{if(!l._isDerived()&&0!==l.units[0].unit.offset)throw new TypeError("sign is ambiguous for units with offset");return r.find(a,l.valueType())(l.value)})})}),due=xe("sin",["typed"],t=>{var{typed:r}=t,e=wg({typed:r});return r("sin",{number:Math.sin,"Complex | BigNumber":i=>i.sin()},e)}),hue=xe("SparseMatrix",["typed","equalScalar","Matrix"],t=>{var{typed:r,equalScalar:e,Matrix:i}=t;function o(T,L){if(!(this instanceof o))throw new SyntaxError("Constructor must be called with the new operator");if(L&&!Uo(L))throw new Error("Invalid datatype: "+L);if(On(T))!function a(T,L,U){"SparseMatrix"===L.type?(T._values=L._values?Bn(L._values):void 0,T._index=Bn(L._index),T._ptr=Bn(L._ptr),T._size=Bn(L._size),T._datatype=U||L._datatype):l(T,L.valueOf(),U||L._datatype)}(this,T,L);else if(T&&Er(T.index)&&Er(T.ptr)&&Er(T.size))this._values=T.values,this._index=T.index,this._ptr=T.ptr,this._size=T.size,this._datatype=L||T.datatype;else if(Er(T))l(this,T,L);else{if(T)throw new TypeError("Unsupported type of data ("+Vr(T)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=L}}function l(T,L,U){T._values=[],T._index=[],T._ptr=[],T._datatype=U;var Y=L.length,N=0,q=e,j=0;if(Uo(U)&&(q=r.find(e,[U,U])||e,j=r.convert(0,U)),Y>0){var z=0;do{T._ptr.push(T._index.length);for(var J=0;J<Y;J++){var B=L[J];if(Er(B)){if(0===z&&N<B.length&&(N=B.length),z<B.length){var H=B[z];q(H,j)||(T._values.push(H),T._index.push(J))}}else 0===z&&N<1&&(N=1),q(B,j)||(T._values.push(B),T._index.push(J))}z++}while(z<N)}T._ptr.push(T._index.length),T._size=[Y,N]}function u(T,L){if(!Bw(L))throw new TypeError("Invalid index");if(L.isScalar())return T.get(L.min());var Y=L.size();if(Y.length!==T._size.length)throw new tr(Y.length,T._size.length);var N,q,j,z,J=L.min(),B=L.max();for(N=0,q=T._size.length;N<q;N++)zr(J[N],T._size[N]),zr(B[N],T._size[N]);var H=T._values,V=T._index,K=T._ptr,ee=L.dimension(0),re=L.dimension(1),le=[],ie=[];ee.forEach(function(te,me){ie[te]=me[0],le[te]=!0});var G=H?[]:void 0,W=[],ce=[];return re.forEach(function(te){for(ce.push(W.length),j=K[te],z=K[te+1];j<z;j++)!0===le[N=V[j]]&&(W.push(ie[N]),G&&G.push(H[j]))}),ce.push(W.length),new o({values:G,index:W,ptr:ce,size:Y,datatype:T._datatype})}function p(T,L,U,Y){if(!L||!0!==L.isIndex)throw new TypeError("Invalid index");var j,N=L.size(),q=L.isScalar();if(On(U)?(j=U.size(),U=U.toArray()):j=Vn(U),q){if(0!==j.length)throw new TypeError("Scalar expected");T.set(L.min(),U,Y)}else{if(1!==N.length&&2!==N.length)throw new tr(N.length,T._size.length,"<");if(j.length<N.length){for(var z=0,J=0;1===N[z]&&1===j[z];)z++;for(;1===N[z];)J++,z++;U=oL(U,N.length,J,j)}if(!th(N,j))throw new tr(N,j,">");if(1===N.length)L.dimension(0).forEach(function(K,ee){zr(K),T.set([K,0],U[ee[0]],Y)});else{var H=L.dimension(0),V=L.dimension(1);H.forEach(function(K,ee){zr(K),V.forEach(function(re,le){zr(re),T.set([K,re],U[ee[0]][le[0]],Y)})})}}return T}function f(T,L,U,Y){if(U-L==0)return U;for(var N=L;N<U;N++)if(Y[N]===T)return N;return L}function y(T,L,U,Y,N,q,j){N.splice(T,0,Y),q.splice(T,0,L);for(var z=U+1;z<j.length;z++)j[z]++}function D(T,L,U,Y){var N=Y||0,q=e,j=0;Uo(T._datatype)&&(q=r.find(e,[T._datatype,T._datatype])||e,j=r.convert(0,T._datatype),N=r.convert(N,T._datatype));var H,V,K,z=!q(N,j),J=T._size[0],B=T._size[1];if(U>B){for(V=B;V<U;V++)if(T._ptr[V]=T._values.length,z)for(H=0;H<J;H++)T._values.push(N),T._index.push(H);T._ptr[U]=T._values.length}else U<B&&(T._ptr.splice(U+1,B-U),T._values.splice(T._ptr[U],T._values.length),T._index.splice(T._ptr[U],T._index.length));if(B=U,L>J){if(z){var ee=0;for(V=0;V<B;V++){T._ptr[V]=T._ptr[V]+ee,K=T._ptr[V+1]+ee;var re=0;for(H=J;H<L;H++,re++)T._values.splice(K+re,0,N),T._index.splice(K+re,0,H),ee++}T._ptr[B]=T._values.length}}else if(L<J){var le=0;for(V=0;V<B;V++){T._ptr[V]=T._ptr[V]-le;var G=T._ptr[V+1]-le;for(K=T._ptr[V];K<G;K++)(H=T._index[K])>L-1&&(T._values.splice(K,1),T._index.splice(K,1),le++)}T._ptr[V]=T._values.length}return T._size[0]=L,T._size[1]=U,T}function k(T,L,U,Y,N){var J,B,q=Y[0],j=Y[1],z=[];for(J=0;J<q;J++)for(z[J]=[],B=0;B<j;B++)z[J][B]=0;for(B=0;B<j;B++)for(var V=U[B+1],K=U[B];K<V;K++)z[J=L[K]][B]=T?N?Bn(T[K]):T[K]:1;return z}return(o.prototype=new i).createSparseMatrix=function(T,L){return new o(T,L)},Object.defineProperty(o,"name",{value:"SparseMatrix"}),o.prototype.constructor=o,o.prototype.type="SparseMatrix",o.prototype.isSparseMatrix=!0,o.prototype.getDataType=function(){return n0(this._values,Vr)},o.prototype.storage=function(){return"sparse"},o.prototype.datatype=function(){return this._datatype},o.prototype.create=function(T,L){return new o(T,L)},o.prototype.density=function(){var T=this._size[0],L=this._size[1];return 0!==T&&0!==L?this._index.length/(T*L):0},o.prototype.subset=function(T,L,U){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return u(this,T);case 2:case 3:return p(this,T,L,U);default:throw new SyntaxError("Wrong number of arguments")}},o.prototype.get=function(T){if(!Er(T))throw new TypeError("Array expected");if(T.length!==this._size.length)throw new tr(T.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var L=T[0],U=T[1];zr(L,this._size[0]),zr(U,this._size[1]);var Y=f(L,this._ptr[U],this._ptr[U+1],this._index);return Y<this._ptr[U+1]&&this._index[Y]===L?this._values[Y]:0},o.prototype.set=function(T,L,U){if(!Er(T))throw new TypeError("Array expected");if(T.length!==this._size.length)throw new tr(T.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var Y=T[0],N=T[1],q=this._size[0],j=this._size[1],z=e,J=0;Uo(this._datatype)&&(z=r.find(e,[this._datatype,this._datatype])||e,J=r.convert(0,this._datatype)),(Y>q-1||N>j-1)&&(D(this,Math.max(Y+1,q),Math.max(N+1,j),U),q=this._size[0],j=this._size[1]),zr(Y,q),zr(N,j);var B=f(Y,this._ptr[N],this._ptr[N+1],this._index);return B<this._ptr[N+1]&&this._index[B]===Y?z(L,J)?function h(T,L,U,Y,N){U.splice(T,1),Y.splice(T,1);for(var q=L+1;q<N.length;q++)N[q]--}(B,N,this._values,this._index,this._ptr):this._values[B]=L:z(L,J)||y(B,Y,N,L,this._values,this._index,this._ptr),this},o.prototype.resize=function(T,L,U){if(!Bd(T))throw new TypeError("Array or Matrix expected");var Y=T.valueOf().map(q=>Array.isArray(q)&&1===q.length?q[0]:q);if(2!==Y.length)throw new Error("Only two dimensions matrix are supported");return Y.forEach(function(q){if(!Kn(q)||!vn(q)||q<0)throw new TypeError("Invalid size, must contain positive integers (size: "+er(Y)+")")}),D(U?this.clone():this,Y[0],Y[1],L)},o.prototype.reshape=function(T,L){if(!Er(T))throw new TypeError("Array expected");if(2!==T.length)throw new Error("Sparse matrices can only be reshaped in two dimensions");T.forEach(function(te){if(!Kn(te)||!vn(te)||te<=-2||0===te)throw new TypeError("Invalid size, must contain positive integers or -1 (size: "+er(T)+")")});var U=this._size[0]*this._size[1];if(U!==(T=mT(T,U))[0]*T[1])throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var N=L?this.clone():this;if(this._size[0]===T[0]&&this._size[1]===T[1])return N;for(var q=[],j=0;j<N._ptr.length;j++)for(var z=0;z<N._ptr[j+1]-N._ptr[j];z++)q.push(j);for(var J=N._values.slice(),B=N._index.slice(),H=0;H<N._index.length;H++){var ee=B[H]*N._size[1]+q[H];q[H]=ee%T[1],B[H]=Math.floor(ee/T[1])}N._values.length=0,N._index.length=0,N._ptr.length=T[1]+1,N._size=T.slice();for(var re=0;re<N._ptr.length;re++)N._ptr[re]=0;for(var le=0;le<J.length;le++){var ie=B[le],G=q[le],W=J[le];y(f(ie,N._ptr[G],N._ptr[G+1],N._index),ie,G,W,N._values,N._index,N._ptr)}return N},o.prototype.clone=function(){return new o({values:this._values?Bn(this._values):void 0,index:Bn(this._index),ptr:Bn(this._ptr),size:Bn(this._size),datatype:this._datatype})},o.prototype.size=function(){return this._size.slice(0)},o.prototype.map=function(T,L){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var U=this,Y=this._size[0],N=this._size[1],q=NB(T);return function E(T,L,U,Y,N,q,j){var z=[],J=[],B=[],H=e,V=0;Uo(T._datatype)&&(H=r.find(e,[T._datatype,T._datatype])||e,V=r.convert(0,T._datatype));for(var K=function(ve,Fe,Je){ve=q(ve,Fe,Je),H(ve,V)||(z.push(ve),J.push(Fe))},ee=Y;ee<=N;ee++){B.push(z.length);var re=T._ptr[ee],le=T._ptr[ee+1];if(j)for(var ie=re;ie<le;ie++){var G=T._index[ie];G>=L&&G<=U&&K(T._values[ie],G-L,ee-Y)}else{for(var W={},ce=re;ce<le;ce++)W[T._index[ce]]=T._values[ce];for(var me=L;me<=U;me++)K(me in W?W[me]:0,me-L,ee-Y)}}return B.push(z.length),new o({values:z,index:J,ptr:B,size:[U-L+1,N-Y+1]})}(this,0,Y-1,0,N-1,function(J,B,H){return 1===q?T(J):2===q?T(J,[B,H]):T(J,[B,H],U)},L)},o.prototype.forEach=function(T,L){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var Y=this._size[0],N=this._size[1],q=0;q<N;q++){var j=this._ptr[q],z=this._ptr[q+1];if(L)for(var J=j;J<z;J++)T(this._values[J],[this._index[J],q],this);else{for(var H={},V=j;V<z;V++)H[this._index[V]]=this._values[V];for(var ee=0;ee<Y;ee++)T(ee in H?H[ee]:0,[ee,q],this)}}},o.prototype[Symbol.iterator]=function*(){if(!this._values)throw new Error("Cannot iterate a Pattern only matrix");for(var T=this._size[1],L=0;L<T;L++)for(var Y=this._ptr[L+1],N=this._ptr[L];N<Y;N++){var q=this._index[N];yield{value:this._values[N],index:[q,L]}}},o.prototype.toArray=function(){return k(this._values,this._index,this._ptr,this._size,!0)},o.prototype.valueOf=function(){return k(this._values,this._index,this._ptr,this._size,!1)},o.prototype.format=function(T){for(var L=this._size[0],U=this._size[1],Y=this.density(),N="Sparse Matrix ["+er(L,T)+" x "+er(U,T)+"] density: "+er(Y,T)+"\n",q=0;q<U;q++)for(var z=this._ptr[q+1],J=this._ptr[q];J<z;J++)N+="\n    ("+er(this._index[J],T)+", "+er(q,T)+") ==> "+(this._values?er(this._values[J],T):"X");return N},o.prototype.toString=function(){return er(this.toArray())},o.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},o.prototype.diagonal=function(T){if(T){if(dr(T)&&(T=T.toNumber()),!Kn(T)||!vn(T))throw new TypeError("The parameter k must be an integer number")}else T=0;var L=T>0?T:0,U=T<0?-T:0,N=this._size[1],q=Math.min(this._size[0]-U,N-L),j=[],z=[],J=[];J[0]=0;for(var B=L;B<N&&j.length<q;B++)for(var V=this._ptr[B+1],K=this._ptr[B];K<V;K++){var ee=this._index[K];if(ee===B-L+U){j.push(this._values[K]),z[j.length-1]=ee-U;break}}return J.push(j.length),new o({values:j,index:z,ptr:J,size:[q,1]})},o.fromJSON=function(T){return new o(T)},o.diagonal=function(T,L,U,Y,N){if(!Er(T))throw new TypeError("Array expected, size parameter");if(2!==T.length)throw new Error("Only two dimensions matrix are supported");if(T=T.map(function(te){if(dr(te)&&(te=te.toNumber()),!Kn(te)||!vn(te)||te<1)throw new Error("Size values must be positive integers");return te}),U){if(dr(U)&&(U=U.toNumber()),!Kn(U)||!vn(U))throw new TypeError("The parameter k must be an integer number")}else U=0;var q=e,j=0;Uo(N)&&(q=r.find(e,[N,N])||e,j=r.convert(0,N));var K,z=U>0?U:0,J=U<0?-U:0,B=T[0],H=T[1],V=Math.min(B-J,H-z);if(Er(L)){if(L.length!==V)throw new Error("Invalid value array length");K=function(me){return L[me]}}else if(On(L)){var ee=L.size();if(1!==ee.length||ee[0]!==V)throw new Error("Invalid matrix length");K=function(me){return L.get([me])}}else K=function(){return L};for(var re=[],le=[],ie=[],G=0;G<H;G++){ie.push(re.length);var W=G-z;if(W>=0&&W<V){var ce=K(W);q(ce,j)||(le.push(W+J),re.push(ce))}}return ie.push(re.length),new o({values:re,index:le,ptr:ie,size:[B,H]})},o.prototype.swapRows=function(T,L){if(!(Kn(T)&&vn(T)&&Kn(L)&&vn(L)))throw new Error("Row index must be positive integers");if(2!==this._size.length)throw new Error("Only two dimensional matrix is supported");return zr(T,this._size[0]),zr(L,this._size[0]),o._swapRows(T,L,this._size[1],this._values,this._index,this._ptr),this},o._forEachRow=function(T,L,U,Y,N){for(var j=Y[T+1],z=Y[T];z<j;z++)N(U[z],L[z])},o._swapRows=function(T,L,U,Y,N,q){for(var j=0;j<U;j++){var z=q[j],J=q[j+1],B=f(T,z,J,N),H=f(L,z,J,N);if(B<J&&H<J&&N[B]===T&&N[H]===L){if(Y){var V=Y[B];Y[B]=Y[H],Y[H]=V}}else if(B<J&&N[B]===T&&(H>=J||N[H]!==L)){var K=Y?Y[B]:void 0;N.splice(H,0,L),Y&&Y.splice(H,0,K),N.splice(H<=B?B+1:B,1),Y&&Y.splice(H<=B?B+1:B,1)}else if(H<J&&N[H]===L&&(B>=J||N[B]!==T)){var ee=Y?Y[H]:void 0;N.splice(B,0,T),Y&&Y.splice(B,0,ee),N.splice(B<=H?H+1:H,1),Y&&Y.splice(B<=H?H+1:H,1)}}},o},{isClass:!0}),O4="splitUnit",gue=xe(O4,["typed"],t=>{var{typed:r}=t;return r(O4,{"Unit, Array":function(i,o){return i.splitUnit(o)}})}),vue=xe("square",["typed"],t=>{var{typed:r}=t;return r("square",{number:QB,Complex:function(i){return i.mul(i)},BigNumber:function(i){return i.times(i)},Fraction:function(i){return i.mul(i)},Unit:function(i){return i.pow(2)}})}),bue=xe("string",["typed"],t=>{var{typed:r}=t;return r("string",{"":function(){return""},number:nh,null:function(i){return"null"},boolean:function(i){return i+""},string:function(i){return i},"Array | Matrix":r.referToSelf(e=>i=>rr(i,e)),any:function(i){return String(i)}})}),P4="subtractScalar",xue=xe(P4,["typed"],t=>{var{typed:r}=t;return r(P4,{"number, number":UB,"Complex, Complex":function(i,o){return i.sub(o)},"BigNumber, BigNumber":function(i,o){return i.minus(o)},"Fraction, Fraction":function(i,o){return i.sub(o)},"Unit, Unit":r.referToSelf(e=>(i,o)=>{if(null==i.value)throw new Error("Parameter x contains a unit with undefined value");if(null==o.value)throw new Error("Parameter y contains a unit with undefined value");if(!i.equalBase(o))throw new Error("Units do not match");var a=i.clone();return a.value=r.find(e,[a.valueType(),o.valueType()])(a.value,o.value),a.fixPrefix=!1,a})})}),Mue=xe("tan",["typed"],t=>{var{typed:r}=t,e=wg({typed:r});return r("tan",{number:Math.tan,"Complex | BigNumber":i=>i.tan()},e)}),Due=xe("typeOf",["typed"],t=>{var{typed:r}=t;return r("typeOf",{any:Vr})}),Eue=xe("acosh",["typed","config","Complex"],t=>{var{typed:r,config:e,Complex:i}=t;return r("acosh",{number:function(a){return a>=1||e.predictable?r6(a):a<=-1?new i(Math.log(Math.sqrt(a*a-1)-a),Math.PI):new i(a,0).acosh()},Complex:function(a){return a.acosh()},BigNumber:function(a){return a.acosh()}})}),Pue=xe("acsch",["typed","BigNumber"],t=>{var{typed:r,BigNumber:e}=t;return r("acsch",{number:l6,Complex:function(o){return o.acsch()},BigNumber:function(o){return new e(1).div(o).asinh()}})}),Iue=xe("asec",["typed","config","Complex","BigNumber"],t=>{var{typed:r,config:e,Complex:i,BigNumber:o}=t;return r("asec",{number:function(l){return l<=-1||l>=1||e.predictable?c6(l):new i(l,0).asec()},Complex:function(l){return l.asec()},BigNumber:function(l){return new o(1).div(l).acos()}})}),Fue=xe("bin",["typed","format"],t=>{var{typed:r,format:e}=t;return r("bin",{"number | BigNumber":function(o){return e(o,{notation:"bin"})},"number | BigNumber, number":function(o,a){return e(o,{notation:"bin",wordSize:a})}})}),L4="combinationsWithRep",Rue=xe(L4,["typed"],t=>{var{typed:r}=t;return r(L4,{"number, number":function(i,o){if(!vn(i)||i<0)throw new TypeError("Positive integer value expected in function combinationsWithRep");if(!vn(o)||o<0)throw new TypeError("Positive integer value expected in function combinationsWithRep");if(i<1)throw new TypeError("k must be less than or equal to n + k - 1");return o<i-1?du(i,i+o-1)/du(1,o):du(o+1,i+o-1)/du(1,i-1)},"BigNumber, BigNumber":function(i,o){var l,u,p=new(0,i.constructor)(1),f=i.minus(p);if(!B4(i)||!B4(o))throw new TypeError("Positive integer value expected in function combinationsWithRep");if(i.lt(p))throw new TypeError("k must be less than or equal to n + k - 1 in function combinationsWithRep");if(l=p,o.lt(f))for(u=p;u.lte(f);u=u.plus(p))l=l.times(o.plus(u)).dividedBy(u);else for(u=p;u.lte(o);u=u.plus(p))l=l.times(f.plus(u)).dividedBy(u);return l}})});function B4(t){return t.isInteger()&&t.gte(0)}var Bue=xe("cosh",["typed"],t=>{var{typed:r}=t;return r("cosh",{number:Q3,"Complex | BigNumber":e=>e.cosh()})}),Vue=xe("csch",["typed","BigNumber"],t=>{var{typed:r,BigNumber:e}=t;return r("csch",{number:g6,Complex:i=>i.csch(),BigNumber:i=>new e(1).div(i.sinh())})}),Hue=xe("isNaN",["typed"],t=>{var{typed:r}=t;return r("isNaN",{number:n4,BigNumber:function(i){return i.isNaN()},Fraction:function(i){return!1},Complex:function(i){return i.isNaN()},Unit:function(i){return Number.isNaN(i.value)},"Array | Matrix":function(i){return rr(i,Number.isNaN)}})}),H4="isPrime",que=xe(H4,["typed"],t=>{var{typed:r}=t;return r(H4,{number:function(i){if(0*i!=0)return!1;if(i<=3)return i>1;if(i%2==0||i%3==0)return!1;for(var o=5;o*o<=i;o+=6)if(i%o==0||i%(o+2)==0)return!1;return!0},BigNumber:function(i){if(0*i.toNumber()!=0)return!1;if(i.lte(3))return i.gt(1);if(i.mod(2).eq(0)||i.mod(3).eq(0))return!1;if(i.lt(Math.pow(2,32))){for(var o=i.toNumber(),a=5;a*a<=o;a+=6)if(o%a==0||o%(a+2)==0)return!1;return!0}function l(Y,N,q){for(var j=1;!N.eq(0);)N.mod(2).eq(0)?(N=N.div(2),Y=Y.mul(Y).mod(q)):(N=N.sub(1),j=Y.mul(j).mod(q));return j}for(var u=i.constructor.clone({precision:2*i.toFixed(0).length}),p=0,f=(i=new u(i)).sub(1);f.mod(2).eq(0);)f=f.div(2),p+=1;var h=null;if(i.lt("3317044064679887385961981"))h=[2,3,5,7,11,13,17,19,23,29,31,37,41].filter(Y=>Y<i);else{var y=Math.min(i.toNumber()-2,Math.floor(2*Math.pow(i.toFixed(0).length*Math.log(10),2)));h=[];for(var D=2;D<=y;D+=1)h.push(y)}for(var E=0;E<h.length;E+=1){var k=h[E],T=l(i.sub(i).add(k),f,i);if(!T.eq(1))for(var L=0,U=T;!U.eq(i.sub(1));L+=1,U=U.mul(U).mod(i))if(L===p-1)return!1}return!0},"Array | Matrix":r.referToSelf(e=>i=>rr(i,e))})}),j4="randomInt",Yue=xe(j4,["typed","config","?on"],t=>{var{typed:r,config:e,on:i}=t,o=Og(e.randomSeed);return i&&i("config",function(u,p){u.randomSeed!==p.randomSeed&&(o=Og(u.randomSeed))}),r(j4,{"":()=>l(0,1),number:u=>l(0,u),"number, number":(u,p)=>l(u,p),"Array | Matrix":u=>a(u,0,1),"Array | Matrix, number":(u,p)=>a(u,0,p),"Array | Matrix, number, number":(u,p,f)=>a(u,p,f)});function a(u,p,f){var h=BT(u.valueOf(),()=>l(p,f));return On(u)?u.create(h):h}function l(u,p){return Math.floor(u+o()*(p-u))}}),$ue=xe("sech",["typed","BigNumber"],t=>{var{typed:r,BigNumber:e}=t;return r("sech",{number:v6,Complex:i=>i.sech(),BigNumber:i=>new e(1).div(i.cosh())})}),Que=xe("sinh",["typed"],t=>{var{typed:r}=t;return r("sinh",{number:y6,"Complex | BigNumber":e=>e.sinh()})}),Xue=xe("sparse",["typed","SparseMatrix"],t=>{var{typed:r,SparseMatrix:e}=t;return r("sparse",{"":function(){return new e([])},string:function(o){return new e([],o)},"Array | Matrix":function(o){return new e(o)},"Array | Matrix, string":function(o,a){return new e(o,a)}})}),tde=xe("sqrt",["config","typed","Complex"],t=>{var{config:r,typed:e,Complex:i}=t;return e("sqrt",{number:o,Complex:function(l){return l.sqrt()},BigNumber:function(l){return!l.isNegative()||r.predictable?l.sqrt():o(l.toNumber())},Unit:function(l){return l.pow(.5)}});function o(a){return isNaN(a)?NaN:a>=0||r.predictable?Math.sqrt(a):new i(a,0).sqrt()}}),ide=xe("tanh",["typed"],t=>{var{typed:r}=t;return r("tanh",{number:J3,"Complex | BigNumber":e=>e.tanh()})}),G4="unaryMinus",ade=xe(G4,["typed"],t=>{var{typed:r}=t;return r(G4,{number:zB,"Complex | BigNumber | Fraction":e=>e.neg(),Unit:r.referToSelf(e=>i=>{var o=i.clone();return o.value=r.find(e,o.valueType())(i.value),o}),"Array | Matrix":r.referToSelf(e=>i=>rr(i,e,!0))})}),lde=xe("acoth",["typed","config","Complex","BigNumber"],t=>{var{typed:r,config:e,Complex:i,BigNumber:o}=t;return r("acoth",{number:function(l){return l>=1||l<=-1||e.predictable?a6(l):new i(l,0).acoth()},Complex:function(l){return l.acoth()},BigNumber:function(l){return new o(1).div(l).atanh()}})}),ude=xe("coth",["typed","BigNumber"],t=>{var{typed:r,BigNumber:e}=t;return r("coth",{number:h6,Complex:i=>i.coth(),BigNumber:i=>new e(1).div(i.tanh())})}),fde=xe("fraction",["typed","Fraction"],t=>{var{typed:r,Fraction:e}=t;return r("fraction",{number:function(o){if(!isFinite(o)||isNaN(o))throw new Error(o+" cannot be represented as a fraction");return new e(o)},string:function(o){return new e(o)},"number, number":function(o,a){return new e(o,a)},null:function(o){return new e(0)},BigNumber:function(o){return new e(o.toString())},Fraction:function(o){return o},Unit:r.referToSelf(i=>o=>{var a=o.clone();return a.value=i(o.value),a}),Object:function(o){return new e(o)},"Array | Matrix":r.referToSelf(i=>o=>rr(o,i))})}),Q4="isNumeric",mde=xe(Q4,["typed"],t=>{var{typed:r}=t;return r(Q4,{"number | BigNumber | Fraction | boolean":()=>!0,"Complex | Unit | string | null | undefined | Node":()=>!1,"Array | Matrix":r.referToSelf(e=>i=>rr(i,e))})}),_de=xe("matrix",["typed","Matrix","DenseMatrix","SparseMatrix"],t=>{var{typed:r,DenseMatrix:i,SparseMatrix:o}=t;return r("matrix",{"":function(){return a([])},string:function(u){return a([],u)},"string, string":function(u,p){return a([],u,p)},Array:function(u){return a(u)},Matrix:function(u){return a(u,u.storage())},"Array | Matrix, string":a,"Array | Matrix, string, string":a});function a(l,u,p){if("dense"===u||"default"===u||void 0===u)return new i(l,p);if("sparse"===u)return new o(l,p);throw new TypeError("Unknown matrix type "+JSON.stringify(u)+".")}}),X4="matrixFromFunction",yde=xe(X4,["typed","matrix","isZero"],t=>{var{typed:r,matrix:e,isZero:i}=t;return r(X4,{"Array | Matrix, function, string, string":function(l,u,p,f){return o(l,u,p,f)},"Array | Matrix, function, string":function(l,u,p){return o(l,u,p)},"Matrix, function":function(l,u){return o(l,u,"dense")},"Array, function":function(l,u){return o(l,u,"dense").toArray()},"Array | Matrix, string, function":function(l,u,p){return o(l,p,u)},"Array | Matrix, string, string, function":function(l,u,p,f){return o(l,f,u,p)}});function o(a,l,u,p){var f;return(f=void 0!==p?e(u,p):e(u)).resize(a),f.forEach(function(h,y){var D=l(y);i(D)||f.set(y,D)}),f}}),Cde=xe("mode",["typed","isNaN","isNumeric"],t=>{var{typed:r,isNaN:e,isNumeric:i}=t;return r("mode",{"Array | Matrix":o,"...":function(l){return o(l)}});function o(a){if(0===(a=xr(a.valueOf())).length)throw new Error("Cannot calculate mode of an empty array");for(var u={},p=[],f=0,h=0;h<a.length;h++){var y=a[h];if(i(y)&&e(y))throw new Error("Cannot calculate mode of an array containing NaN values");y in u||(u[y]=0),u[y]++,u[y]===f?p.push(y):u[y]>f&&(f=u[y],p=[y])}return p}}),Mde=xe("numeric",["number","?bignumber","?fraction"],t=>{var{number:r,bignumber:e,fraction:i}=t,o={string:!0,number:!0,BigNumber:!0,Fraction:!0},a={number:l=>r(l),BigNumber:e?l=>e(l):xT,Fraction:i?l=>i(l):CL};return function(u){var p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"number",f=arguments.length>2?arguments[2]:void 0;if(void 0!==f)throw new SyntaxError("numeric() takes one or two arguments");var h=Vr(u);if(!(h in o))throw new TypeError("Cannot convert "+u+' of type "'+h+'"; valid input types are '+Object.keys(o).join(", "));if(!(p in a))throw new TypeError("Cannot convert "+u+' to type "'+p+'"; valid output types are '+Object.keys(a).join(", "));return p===h?u:a[p](u)}}),Dde=xe("prod",["typed","config","multiplyScalar","numeric"],t=>{var{typed:r,config:e,multiplyScalar:i,numeric:o}=t;return r("prod",{"Array | Matrix":a,"Array | Matrix, number | BigNumber":function(u,p){throw new Error("prod(A, dim) is not yet supported")},"...":function(u){return a(u)}});function a(l){var u;if(su(l,function(p){try{u=void 0===u?p:i(u,p)}catch(f){throw ca(f,"prod",p)}}),"string"==typeof u&&(u=o(u,e.number)),void 0===u)throw new Error("Cannot calculate prod of an empty array");return u}}),t5="reshape",Ede=xe(t5,["typed","isInteger","matrix"],t=>{var{typed:r,isInteger:e}=t;return r(t5,{"Matrix, Array":function(o,a){return o.reshape(a,!0)},"Array, Array":function(o,a){return a.forEach(function(l){if(!e(l))throw new TypeError("Invalid size for dimension: "+l)}),hT(o,a)}})}),Pde=xe("size",["typed","config","?matrix"],t=>{var{typed:r,config:e,matrix:i}=t;return r("size",{Matrix:function(a){return a.create(a.size())},Array:Vn,string:function(a){return"Array"===e.matrix?[a.length]:i([a.length])},"number | Complex | BigNumber | Unit | boolean | null":function(a){return"Array"===e.matrix?[]:i?i([]):xL()}})}),r5="squeeze",Ide=xe(r5,["typed","matrix"],t=>{var{typed:r,matrix:e}=t;return r(r5,{Array:function(o){return Zw(Bn(o))},Matrix:function(o){var a=Zw(o.toArray());return Array.isArray(a)?e(a):a},any:function(o){return Bn(o)}})}),o5="transpose",Fde=xe(o5,["typed","matrix"],t=>{var{typed:r,matrix:e}=t;return r(o5,{Array:l=>i(e(l)).valueOf(),Matrix:i,any:Bn});function i(l){var p,u=l.size();switch(u.length){case 1:p=l.clone();break;case 2:var f=u[0],h=u[1];if(0===h)throw new RangeError("Cannot transpose a 2D matrix with no columns (size: "+er(u)+")");switch(l.storage()){case"dense":p=function o(l,u,p){for(var y,f=l._data,h=[],D=0;D<p;D++){y=h[D]=[];for(var E=0;E<u;E++)y[E]=Bn(f[E][D])}return l.createDenseMatrix({data:h,size:[p,u],datatype:l._datatype})}(l,f,h);break;case"sparse":p=function a(l,u,p){for(var f=l._values,h=l._index,y=l._ptr,D=f?[]:void 0,E=[],k=[],T=[],L=0;L<u;L++)T[L]=0;var U,Y,N;for(U=0,Y=h.length;U<Y;U++)T[h[U]]++;for(var q=0,j=0;j<u;j++)k.push(q),q+=T[j],T[j]=k[j];for(k.push(q),N=0;N<p;N++)for(var J=y[N+1],B=y[N];B<J;B++){var H=T[h[B]]++;E[H]=N,f&&(D[H]=Bn(f[B]))}return l.createSparseMatrix({values:D,index:E,ptr:k,size:[p,u],datatype:l._datatype})}(l,f,h)}break;default:throw new RangeError("Matrix must be a vector or two dimensional (size: "+er(u)+")")}return p}}),Rde=xe("xgcd",["typed","config","matrix","BigNumber"],t=>{var{typed:r,config:e,matrix:i,BigNumber:o}=t;return r("xgcd",{"number, number":function(u,p){var f=JB(u,p);return"Array"===e.matrix?f:i(f)},"BigNumber, BigNumber":function a(l,u){var p,f,h,U,y=new o(0),D=new o(1),E=y,k=D,T=D,L=y;if(!l.isInt()||!u.isInt())throw new Error("Parameters in function xgcd must be integer numbers");for(;!u.isZero();)f=l.div(u).floor(),h=l.mod(u),p=E,E=k.minus(f.times(E)),k=p,p=T,T=L.minus(f.times(T)),L=p,l=u,u=h;return U=l.lt(y)?[l.neg(),k.neg(),L.neg()]:[l,l.isZero()?0:k,L],"Array"===e.matrix?U:i(U)}})}),Bde=xe("zeros",["typed","config","matrix","BigNumber"],t=>{var{typed:r,config:e,matrix:i,BigNumber:o}=t;return r("zeros",{"":function(){return"Array"===e.matrix?a([]):a([],"default")},"...number | BigNumber | string":function(f){if("string"==typeof f[f.length-1]){var y=f.pop();return a(f,y)}return"Array"===e.matrix?a(f):a(f,"default")},Array:a,Matrix:function(f){var h=f.storage();return a(f.valueOf(),h)},"Array | Matrix, string":function(f,h){return a(f.valueOf(),h)}});function a(p,f){var h=function l(p){var f=!1;return p.forEach(function(h,y,D){dr(h)&&(f=!0,D[y]=h.toNumber())}),f}(p),y=h?new o(0):0;if(function u(p){p.forEach(function(f){if("number"!=typeof f||!vn(f)||f<0)throw new Error("Parameters in function zeros must be positive integers")})}(p),f){var D=i(f);return p.length>0?D.resize(p,y):D}var E=[];return p.length>0?mg(E,p,y):E}}),Vde=xe("asin",["typed","config","Complex"],t=>{var{typed:r,config:e,Complex:i}=t;return r("asin",{number:function(a){return a>=-1&&a<=1||e.predictable?Math.asin(a):new i(a,0).asin()},Complex:function(a){return a.asin()},BigNumber:function(a){return a.asin()}})}),Hde=xe("cbrt",["config","typed","isNegative","unaryMinus","matrix","Complex","BigNumber","Fraction"],t=>{var{config:r,typed:e,isNegative:i,unaryMinus:o,matrix:a,Complex:l,BigNumber:u,Fraction:p}=t;return e("cbrt",{number:c0,Complex:f,"Complex, boolean":f,BigNumber:function(D){return D.cbrt()},Unit:function h(y){if(y.value&&iu(y.value)){var D=y.clone();return D.value=1,(D=D.pow(1/3)).value=f(y.value),D}var k,E=i(y.value);E&&(y.value=o(y.value)),k=dr(y.value)?new u(1).div(3):Ky(y.value)?new p(1,3):1/3;var T=y.pow(k);return E&&(T.value=o(T.value)),T}});function f(y,D){var E=y.arg()/3,k=y.abs(),T=new l(c0(k),0).mul(new l(0,E).exp());if(D){var L=[T,new l(c0(k),0).mul(new l(0,E+2*Math.PI/3).exp()),new l(c0(k),0).mul(new l(0,E-2*Math.PI/3).exp())];return"Array"===r.matrix?L:a(L)}return T}}),qde=xe("count",["typed","size","prod"],t=>{var{typed:r,size:e,prod:i}=t;return r("count",{string:function(a){return a.length},"Matrix | Array":function(a){return i(e(a))}})}),d5="ctranspose",Yde=xe(d5,["typed","transpose","conj"],t=>{var{typed:r,transpose:e,conj:i}=t;return r(d5,{any:function(a){return i(e(a))}})}),$de=xe("diag",["typed","matrix","DenseMatrix","SparseMatrix"],t=>{var{typed:r,matrix:e,DenseMatrix:i,SparseMatrix:o}=t;return r("diag",{Array:function(f){return a(f,0,Vn(f),null)},"Array, number":function(f,h){return a(f,h,Vn(f),null)},"Array, BigNumber":function(f,h){return a(f,h.toNumber(),Vn(f),null)},"Array, string":function(f,h){return a(f,0,Vn(f),h)},"Array, number, string":function(f,h,y){return a(f,h,Vn(f),y)},"Array, BigNumber, string":function(f,h,y){return a(f,h.toNumber(),Vn(f),y)},Matrix:function(f){return a(f,0,f.size(),f.storage())},"Matrix, number":function(f,h){return a(f,h,f.size(),f.storage())},"Matrix, BigNumber":function(f,h){return a(f,h.toNumber(),f.size(),f.storage())},"Matrix, string":function(f,h){return a(f,0,f.size(),h)},"Matrix, number, string":function(f,h,y){return a(f,h,f.size(),y)},"Matrix, BigNumber, string":function(f,h,y){return a(f,h.toNumber(),f.size(),y)}});function a(p,f,h,y){if(!vn(f))throw new TypeError("Second parameter in function diag must be an integer");var D=f>0?f:0,E=f<0?-f:0;switch(h.length){case 1:return function l(p,f,h,y,D,E){var k=[y+D,y+E];if(h&&"sparse"!==h&&"dense"!==h)throw new TypeError("Unknown matrix type ".concat(h,'"'));var T="sparse"===h?o.diagonal(k,p,f):i.diagonal(k,p,f);return null!==h?T:T.valueOf()}(p,f,y,h[0],E,D);case 2:return function u(p,f,h,y,D,E){if(On(p)){var k=p.diagonal(f);return null!==h?h!==k.storage()?e(k,h):k:k.valueOf()}for(var T=Math.min(y[0]-D,y[1]-E),L=[],U=0;U<T;U++)L[U]=p[U+D][U+E];return null!==h?e(L):L}(p,f,y,h,E,D)}throw new RangeError("Matrix for function diag must be 2 dimensional")}}),f5="divideScalar",Qde=xe(f5,["typed","numeric"],t=>{var{typed:r}=t;return r(f5,{"number, number":function(o,a){return o/a},"Complex, Complex":function(o,a){return o.div(a)},"BigNumber, BigNumber":function(o,a){return o.div(a)},"Fraction, Fraction":function(o,a){return o.div(a)},"Unit, number | Complex | Fraction | BigNumber | Unit":(i,o)=>i.divide(o),"number | Fraction | Complex | BigNumber, Unit":(i,o)=>o.divideInto(i)})}),Ol=xe("matAlgo02xDS0",["typed","equalScalar"],t=>{var{typed:r,equalScalar:e}=t;return function(o,a,l,u){var p=o._data,f=o._size,h=o._datatype,y=a._values,D=a._index,E=a._ptr,k=a._size,T=a._datatype;if(f.length!==k.length)throw new tr(f.length,k.length);if(f[0]!==k[0]||f[1]!==k[1])throw new RangeError("Dimension mismatch. Matrix A ("+f+") must match Matrix B ("+k+")");if(!y)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var Y,L=f[0],U=f[1],N=e,q=0,j=l;"string"==typeof h&&h===T&&(N=r.find(e,[Y=h,Y]),q=r.convert(0,Y),j=r.find(l,[Y,Y]));for(var z=[],J=[],B=[],H=0;H<U;H++){B[H]=J.length;for(var K=E[H+1],ee=E[H];ee<K;ee++){var re=D[ee],le=u?j(y[ee],p[re][H]):j(p[re][H],y[ee]);N(le,q)||(J.push(re),z.push(le))}}return B[U]=J.length,a.createSparseMatrix({values:z,index:J,ptr:B,size:[L,U],datatype:Y})}}),ua=xe("matAlgo03xDSf",["typed"],t=>{var{typed:r}=t;return function(i,o,a,l){var u=i._data,p=i._size,f=i._datatype,h=o._values,y=o._index,D=o._ptr,E=o._size,k=o._datatype;if(p.length!==E.length)throw new tr(p.length,E.length);if(p[0]!==E[0]||p[1]!==E[1])throw new RangeError("Dimension mismatch. Matrix A ("+p+") must match Matrix B ("+E+")");if(!h)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var U,T=p[0],L=p[1],Y=0,N=a;"string"==typeof f&&f===k&&(Y=r.convert(0,U=f),N=r.find(a,[U,U]));for(var q=[],j=0;j<T;j++)q[j]=[];for(var z=[],J=[],B=0;B<L;B++){for(var H=B+1,K=D[B+1],ee=D[B];ee<K;ee++){var re=y[ee];z[re]=l?N(h[ee],u[re][B]):N(u[re][B],h[ee]),J[re]=H}for(var le=0;le<T;le++)q[le][B]=J[le]===H?z[le]:l?N(Y,u[le][B]):N(u[le][B],Y)}return i.createDenseMatrix({data:q,size:[T,L],datatype:U})}}),wc=xe("matAlgo07xSSf",["typed","DenseMatrix"],t=>{var{typed:r,DenseMatrix:e}=t;return function(a,l,u){var p=a._size,f=a._datatype,h=l._size,y=l._datatype;if(p.length!==h.length)throw new tr(p.length,h.length);if(p[0]!==h[0]||p[1]!==h[1])throw new RangeError("Dimension mismatch. Matrix A ("+p+") must match Matrix B ("+h+")");var k,D=p[0],E=p[1],T=0,L=u;"string"==typeof f&&f===y&&(T=r.convert(0,k=f),L=r.find(u,[k,k]));var U,Y,N=[];for(U=0;U<D;U++)N[U]=[];var q=[],j=[],z=[],J=[];for(Y=0;Y<E;Y++){var B=Y+1;for(i(a,Y,z,q,B),i(l,Y,J,j,B),U=0;U<D;U++)N[U][Y]=L(z[U]===B?q[U]:T,J[U]===B?j[U]:T)}return new e({data:N,size:[D,E],datatype:k})};function i(o,a,l,u,p){for(var f=o._values,h=o._index,y=o._ptr,D=y[a],E=y[a+1];D<E;D++){var k=h[D];l[k]=p,u[k]=f[D]}}}),Po=xe("matAlgo11xS0s",["typed","equalScalar"],t=>{var{typed:r,equalScalar:e}=t;return function(o,a,l,u){var p=o._values,f=o._index,h=o._ptr,y=o._size,D=o._datatype;if(!p)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var T,E=y[0],k=y[1],L=e,U=0,Y=l;"string"==typeof D&&(L=r.find(e,[T=D,T]),U=r.convert(0,T),a=r.convert(a,T),Y=r.find(l,[T,T]));for(var N=[],q=[],j=[],z=0;z<k;z++){j[z]=q.length;for(var B=h[z+1],H=h[z];H<B;H++){var V=f[H],K=u?Y(a,p[H]):Y(p[H],a);L(K,U)||(q.push(V),N.push(K))}}return j[k]=q.length,o.createSparseMatrix({values:N,index:q,ptr:j,size:[E,k],datatype:T})}}),so=xe("matAlgo12xSfs",["typed","DenseMatrix"],t=>{var{typed:r,DenseMatrix:e}=t;return function(o,a,l,u){var p=o._values,f=o._index,h=o._ptr,y=o._size,D=o._datatype;if(!p)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var T,E=y[0],k=y[1],L=l;"string"==typeof D&&(a=r.convert(a,T=D),L=r.find(l,[T,T]));for(var U=[],Y=[],N=[],q=0;q<k;q++){for(var j=q+1,J=h[q+1],B=h[q];B<J;B++){var H=f[B];Y[H]=p[B],N[H]=j}for(var V=0;V<E;V++)0===q&&(U[V]=[]),U[V][q]=N[V]===j?u?L(a,Y[V]):L(Y[V],a):u?L(a,0):L(0,a)}return new e({data:U,size:[E,k],datatype:T})}}),cpe=xe("matAlgo13xDD",["typed"],t=>{var{typed:r}=t;return function(o,a,l){var u=o._data,p=o._size,f=o._datatype,h=a._data,y=a._size,D=a._datatype,E=[];if(p.length!==y.length)throw new tr(p.length,y.length);for(var k=0;k<p.length;k++){if(p[k]!==y[k])throw new RangeError("Dimension mismatch. Matrix A ("+p+") must match Matrix B ("+y+")");E[k]=p[k]}var T,L=l;"string"==typeof f&&f===D&&(L=r.find(l,[T=f,T]));var U=E.length>0?e(L,0,E,E[0],u,h):[];return o.createDenseMatrix({data:U,size:E,datatype:T})};function e(i,o,a,l,u,p){var f=[];if(o===a.length-1)for(var h=0;h<l;h++)f[h]=i(u[h],p[h]);else for(var y=0;y<l;y++)f[y]=e(i,o+1,a,a[o+1],u[y],p[y]);return f}}),El=xe("matAlgo14xDs",["typed"],t=>{var{typed:r}=t;return function(o,a,l,u){var y,p=o._data,f=o._size,h=o._datatype,D=l;"string"==typeof h&&(a=r.convert(a,y=h),D=r.find(l,[y,y]));var E=f.length>0?e(D,0,f,f[0],p,a,u):[];return o.createDenseMatrix({data:E,size:Bn(f),datatype:y})};function e(i,o,a,l,u,p,f){var h=[];if(o===a.length-1)for(var y=0;y<l;y++)h[y]=f?i(p,u[y]):i(u[y],p);else for(var D=0;D<l;D++)h[D]=e(i,o+1,a,a[o+1],u[D],p,f);return h}}),hpe=xe("broadcast",["concat"],t=>{var{concat:r}=t;return function(o,a){var l=Math.max(o._size.length,a._size.length);if(o._size.length===a._size.length&&o._size.every((k,T)=>k===a._size[T]))return[o,a];for(var u=e(o._size,l,0),p=e(a._size,l,0),f=[],h=0;h<l;h++)f[h]=Math.max(u[h],p[h]);Ww(u,f),Ww(p,f);var y=o.clone(),D=a.clone();y._size.length<l?y.reshape(e(y._size,l,1)):D._size.length<l&&D.reshape(e(D._size,l,1));for(var E=0;E<l;E++)y._size[E]<f[E]&&(y=i(y,f[E],E)),D._size[E]<f[E]&&(D=i(D,f[E],E));return[y,D]};function e(o,a,l){return[...Array(a-o.length).fill(l),...o]}function i(o,a,l){return r(...Array(a).fill(o),l)}}),Gr=xe("matrixAlgorithmSuite",["typed","matrix","concat"],t=>{var{typed:r,matrix:e,concat:i}=t,o=cpe({typed:r}),a=El({typed:r}),l=hpe({concat:i});return function(p){var y,f=p.elop,h=p.SD||p.DS;f?(y={"DenseMatrix, DenseMatrix":(T,L)=>o(...l(T,L),f),"Array, Array":(T,L)=>o(...l(e(T),e(L)),f).valueOf(),"Array, DenseMatrix":(T,L)=>o(...l(e(T),L),f),"DenseMatrix, Array":(T,L)=>o(...l(T,e(L)),f)},p.SS&&(y["SparseMatrix, SparseMatrix"]=(T,L)=>p.SS(...l(T,L),f,!1)),p.DS&&(y["DenseMatrix, SparseMatrix"]=(T,L)=>p.DS(...l(T,L),f,!1),y["Array, SparseMatrix"]=(T,L)=>p.DS(...l(e(T),L),f,!1)),h&&(y["SparseMatrix, DenseMatrix"]=(T,L)=>h(...l(L,T),f,!0),y["SparseMatrix, Array"]=(T,L)=>h(...l(e(L),T),f,!0))):(y={"DenseMatrix, DenseMatrix":r.referToSelf(T=>(L,U)=>o(...l(L,U),T)),"Array, Array":r.referToSelf(T=>(L,U)=>o(...l(e(L),e(U)),T).valueOf()),"Array, DenseMatrix":r.referToSelf(T=>(L,U)=>o(...l(e(L),U),T)),"DenseMatrix, Array":r.referToSelf(T=>(L,U)=>o(...l(L,e(U)),T))},p.SS&&(y["SparseMatrix, SparseMatrix"]=r.referToSelf(T=>(L,U)=>p.SS(...l(L,U),T,!1))),p.DS&&(y["DenseMatrix, SparseMatrix"]=r.referToSelf(T=>(L,U)=>p.DS(...l(L,U),T,!1)),y["Array, SparseMatrix"]=r.referToSelf(T=>(L,U)=>p.DS(...l(e(L),U),T,!1))),h&&(y["SparseMatrix, DenseMatrix"]=r.referToSelf(T=>(L,U)=>h(...l(U,L),T,!0)),y["SparseMatrix, Array"]=r.referToSelf(T=>(L,U)=>h(...l(e(U),L),T,!0))));var D=p.scalar||"any";(p.Ds||p.Ss)&&(f?(y["DenseMatrix,"+D]=(T,L)=>a(T,L,f,!1),y[D+", DenseMatrix"]=(T,L)=>a(L,T,f,!0),y["Array,"+D]=(T,L)=>a(e(T),L,f,!1).valueOf(),y[D+", Array"]=(T,L)=>a(e(L),T,f,!0).valueOf()):(y["DenseMatrix,"+D]=r.referToSelf(T=>(L,U)=>a(L,U,T,!1)),y[D+", DenseMatrix"]=r.referToSelf(T=>(L,U)=>a(U,L,T,!0)),y["Array,"+D]=r.referToSelf(T=>(L,U)=>a(e(L),U,T,!1).valueOf()),y[D+", Array"]=r.referToSelf(T=>(L,U)=>a(e(U),L,T,!0).valueOf())));var k=void 0!==p.sS?p.sS:p.Ss;return f?(p.Ss&&(y["SparseMatrix,"+D]=(T,L)=>p.Ss(T,L,f,!1)),k&&(y[D+", SparseMatrix"]=(T,L)=>k(L,T,f,!0))):(p.Ss&&(y["SparseMatrix,"+D]=r.referToSelf(T=>(L,U)=>p.Ss(L,U,T,!1))),k&&(y[D+", SparseMatrix"]=r.referToSelf(T=>(L,U)=>k(U,L,T,!0)))),f&&f.signatures&&U3(y,f.signatures),y}}),h5="dotDivide",vpe=xe(h5,["typed","matrix","equalScalar","divideScalar","DenseMatrix","concat"],t=>{var{typed:r,matrix:e,equalScalar:i,divideScalar:o,DenseMatrix:a,concat:l}=t,u=Ol({typed:r,equalScalar:i}),p=ua({typed:r}),f=wc({typed:r,DenseMatrix:a}),h=Po({typed:r,equalScalar:i}),y=so({typed:r,DenseMatrix:a}),D=Gr({typed:r,matrix:e,concat:l});return r(h5,D({elop:o,SS:f,DS:p,SD:u,Ss:h,sS:y}))}),PM="equal",bpe=xe(PM,["typed","matrix","equalScalar","DenseMatrix","concat"],t=>{var{typed:r,matrix:e,equalScalar:i,DenseMatrix:o,concat:a}=t,l=ua({typed:r}),u=wc({typed:r,DenseMatrix:o}),p=so({typed:r,DenseMatrix:o}),f=Gr({typed:r,matrix:e,concat:a});return r(PM,Cpe({typed:r,equalScalar:i}),f({elop:i,SS:u,DS:l,Ss:p}))}),Cpe=xe(PM,["typed","equalScalar"],t=>{var{typed:r,equalScalar:e}=t;return r(PM,{"any, any":function(o,a){return null===o?null===a:null===a?null===o:void 0===o?void 0===a:void 0===a?void 0===o:e(o,a)}})}),m5="flatten",wpe=xe(m5,["typed","matrix"],t=>{var{typed:r,matrix:e}=t;return r(m5,{Array:function(o){return xr(o)},Matrix:function(o){var a=xr(o.toArray());return e(a)}})}),g5="hasNumericValue",Spe=xe(g5,["typed","isNumeric"],t=>{var{typed:r,isNumeric:e}=t;return r(g5,{boolean:()=>!0,string:function(o){return o.trim().length>0&&!isNaN(Number(o))},any:function(o){return e(o)}})}),_5="identity",Ope=xe(_5,["typed","config","matrix","BigNumber","DenseMatrix","SparseMatrix"],t=>{var{typed:r,config:e,matrix:i,BigNumber:o,DenseMatrix:a,SparseMatrix:l}=t;return r(_5,{"":function(){return"Matrix"===e.matrix?i([]):[]},string:function(h){return i(h)},"number | BigNumber":function(h){return p(h,h,"Matrix"===e.matrix?"dense":void 0)},"number | BigNumber, string":function(h,y){return p(h,h,y)},"number | BigNumber, number | BigNumber":function(h,y){return p(h,y,"Matrix"===e.matrix?"dense":void 0)},"number | BigNumber, number | BigNumber, string":function(h,y,D){return p(h,y,D)},Array:function(h){return u(h)},"Array, string":function(h,y){return u(h,y)},Matrix:function(h){return u(h.valueOf(),h.storage())},"Matrix, string":function(h,y){return u(h.valueOf(),y)}});function u(f,h){switch(f.length){case 0:return h?i(h):[];case 1:return p(f[0],f[0],h);case 2:return p(f[0],f[1],h);default:throw new Error("Vector containing two values expected")}}function p(f,h,y){var D=dr(f)||dr(h)?o:null;if(dr(f)&&(f=f.toNumber()),dr(h)&&(h=h.toNumber()),!vn(f)||f<1)throw new Error("Parameters in function identity must be positive integers");if(!vn(h)||h<1)throw new Error("Parameters in function identity must be positive integers");var E=D?new o(1):1,k=D?new D(0):0,T=[f,h];if(y){if("sparse"===y)return l.diagonal(T,E,0,k);if("dense"===y)return a.diagonal(T,E,0,k);throw new TypeError('Unknown matrix type "'.concat(y,'"'))}for(var L=mg([],T,k),U=f<h?f:h,Y=0;Y<U;Y++)L[Y][Y]=E;return L}}),Ape=xe("kron",["typed","matrix","multiplyScalar"],t=>{var{typed:r,matrix:e,multiplyScalar:i}=t;return r("kron",{"Matrix, Matrix":function(l,u){return e(o(l.toArray(),u.toArray()))},"Matrix, Array":function(l,u){return e(o(l.toArray(),u))},"Array, Matrix":function(l,u){return e(o(l,u.toArray()))},"Array, Array":o});function o(a,l){if(1===Vn(a).length&&(a=[a]),1===Vn(l).length&&(l=[l]),Vn(a).length>2||Vn(l).length>2)throw new RangeError("Vectors with dimensions greater then 2 are not supported expected (Size x = "+JSON.stringify(a.length)+", y = "+JSON.stringify(l.length)+")");var u=[],p=[];return a.map(function(f){return l.map(function(h){return u.push(p=[]),f.map(function(y){return h.map(function(D){return p.push(i(y,D))})})})})&&u}}),TM="largerEq",Tpe=xe(TM,["typed","config","matrix","DenseMatrix","concat"],t=>{var{typed:r,config:e,matrix:i,DenseMatrix:o,concat:a}=t,l=ua({typed:r}),u=wc({typed:r,DenseMatrix:o}),p=so({typed:r,DenseMatrix:o}),f=Gr({typed:r,matrix:i,concat:a}),h=Mg({typed:r});return r(TM,Ipe({typed:r,config:e}),{"boolean, boolean":(y,D)=>y>=D,"BigNumber, BigNumber":function(D,E){return D.gte(E)||xc(D,E,e.epsilon)},"Fraction, Fraction":(y,D)=>-1!==y.compare(D),"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},h,f({SS:u,DS:l,Ss:p}))}),Ipe=xe(TM,["typed","config"],t=>{var{typed:r,config:e}=t;return r(TM,{"number, number":function(o,a){return o>=a||cs(o,a,e.epsilon)}})}),Yd=xe("matAlgo01xDSid",["typed"],t=>{var{typed:r}=t;return function(i,o,a,l){var u=i._data,p=i._size,f=i._datatype,h=o._values,y=o._index,D=o._ptr,E=o._size,k=o._datatype;if(p.length!==E.length)throw new tr(p.length,E.length);if(p[0]!==E[0]||p[1]!==E[1])throw new RangeError("Dimension mismatch. Matrix A ("+p+") must match Matrix B ("+E+")");if(!h)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var N,q,T=p[0],L=p[1],U="string"==typeof f&&f===k?f:void 0,Y=U?r.find(a,[U,U]):a,j=[];for(N=0;N<T;N++)j[N]=[];var z=[],J=[];for(q=0;q<L;q++){for(var B=q+1,V=D[q+1],K=D[q];K<V;K++)z[N=y[K]]=l?Y(h[K],u[N][q]):Y(u[N][q],h[K]),J[N]=B;for(N=0;N<T;N++)j[N][q]=J[N]===B?z[N]:u[N][q]}return i.createDenseMatrix({data:j,size:[T,L],datatype:U})}}),rh=xe("matAlgo10xSids",["typed","DenseMatrix"],t=>{var{typed:r,DenseMatrix:e}=t;return function(o,a,l,u){var p=o._values,f=o._index,h=o._ptr,y=o._size,D=o._datatype;if(!p)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var T,E=y[0],k=y[1],L=l;"string"==typeof D&&(a=r.convert(a,T=D),L=r.find(l,[T,T]));for(var U=[],Y=[],N=[],q=0;q<k;q++){for(var j=q+1,J=h[q+1],B=h[q];B<J;B++){var H=f[B];Y[H]=p[B],N[H]=j}for(var V=0;V<E;V++)0===q&&(U[V]=[]),U[V][q]=N[V]===j?u?L(a,Y[V]):L(Y[V],a):a}return new e({data:U,size:[E,k],datatype:T})}}),UT=xe("matAlgo08xS0Sid",["typed","equalScalar"],t=>{var{typed:r,equalScalar:e}=t;return function(o,a,l){var u=o._values,p=o._index,f=o._ptr,h=o._size,y=o._datatype,D=a._values,E=a._index,k=a._ptr,T=a._size,L=a._datatype;if(h.length!==T.length)throw new tr(h.length,T.length);if(h[0]!==T[0]||h[1]!==T[1])throw new RangeError("Dimension mismatch. Matrix A ("+h+") must match Matrix B ("+T+")");if(!u||!D)throw new Error("Cannot perform operation on Pattern Sparse Matrices");var N,U=h[0],Y=h[1],q=e,j=0,z=l;"string"==typeof y&&y===L&&(q=r.find(e,[N=y,N]),j=r.convert(0,N),z=r.find(l,[N,N]));for(var ee,le,ie,J=[],B=[],H=[],V=[],K=[],G=0;G<Y;G++){H[G]=B.length;var W=G+1;for(le=f[G+1],ee=f[G];ee<le;ee++)K[ie=p[ee]]=W,V[ie]=u[ee],B.push(ie);for(le=k[G+1],ee=k[G];ee<le;ee++)K[ie=E[ee]]===W&&(V[ie]=z(V[ie],D[ee]));for(ee=H[G];ee<B.length;){var ce=V[ie=B[ee]];q(ce,j)?B.splice(ee,1):(J.push(ce),ee++)}}return H[Y]=B.length,o.createSparseMatrix({values:J,index:B,ptr:H,size:[U,Y],datatype:N})}}),VT=xe("useMatrixForArrayScalar",["typed","matrix"],t=>{var{typed:r,matrix:e}=t;return{"Array, number":r.referTo("DenseMatrix, number",i=>(o,a)=>i(e(o),a).valueOf()),"Array, BigNumber":r.referTo("DenseMatrix, BigNumber",i=>(o,a)=>i(e(o),a).valueOf()),"number, Array":r.referTo("number, DenseMatrix",i=>(o,a)=>i(o,e(a)).valueOf()),"BigNumber, Array":r.referTo("BigNumber, DenseMatrix",i=>(o,a)=>i(o,e(a)).valueOf())}}),y5="leftShift",Vpe=xe(y5,["typed","matrix","equalScalar","zeros","DenseMatrix","concat"],t=>{var{typed:r,matrix:e,equalScalar:i,zeros:o,DenseMatrix:a,concat:l}=t,u=Yd({typed:r}),p=Ol({typed:r,equalScalar:i}),f=UT({typed:r,equalScalar:i}),h=rh({typed:r,DenseMatrix:a}),y=Po({typed:r,equalScalar:i}),D=El({typed:r}),E=Gr({typed:r,matrix:e,concat:l}),k=VT({typed:r,matrix:e});return r(y5,{"number, number":P6,"BigNumber, BigNumber":wle,"SparseMatrix, number | BigNumber":r.referToSelf(T=>(L,U)=>i(U,0)?L.clone():y(L,U,T,!1)),"DenseMatrix, number | BigNumber":r.referToSelf(T=>(L,U)=>i(U,0)?L.clone():D(L,U,T,!1)),"number | BigNumber, SparseMatrix":r.referToSelf(T=>(L,U)=>i(L,0)?o(U.size(),U.storage()):h(U,L,T,!0)),"number | BigNumber, DenseMatrix":r.referToSelf(T=>(L,U)=>i(L,0)?o(U.size(),U.storage()):D(U,L,T,!0))},k,E({SS:f,DS:u,SD:p}))});function p0(t){var{DenseMatrix:r}=t;return function(i,o,a){var l=i.size();if(2!==l.length)throw new RangeError("Matrix must be two dimensional (size: "+er(l)+")");var u=l[0];if(u!==l[1])throw new RangeError("Matrix must be square (size: "+er(l)+")");var f=[];if(On(o)){var h=o.size(),y=o._data;if(1===h.length){if(h[0]!==u)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var D=0;D<u;D++)f[D]=[y[D]];return new r({data:f,size:[u,1],datatype:o._datatype})}if(2===h.length){if(h[0]!==u||1!==h[1])throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");if(Lw(o)){if(a){f=[];for(var E=0;E<u;E++)f[E]=[y[E][0]];return new r({data:f,size:[u,1],datatype:o._datatype})}return o}if(Kf(o)){for(var k=0;k<u;k++)f[k]=[0];for(var T=o._values,L=o._index,U=o._ptr,Y=U[1],N=U[0];N<Y;N++)f[L[N]][0]=T[N];return new r({data:f,size:[u,1],datatype:o._datatype})}}throw new RangeError("Dimension mismatch. The right side has to be either 1- or 2-dimensional vector.")}if(Er(o)){var j=Vn(o);if(1===j.length){if(j[0]!==u)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var z=0;z<u;z++)f[z]=[o[z]];return new r({data:f,size:[u,1]})}if(2===j.length){if(j[0]!==u||1!==j[1])throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var J=0;J<u;J++)f[J]=[o[J][0]];return new r({data:f,size:[u,1]})}throw new RangeError("Dimension mismatch. The right side has to be either 1- or 2-dimensional vector.")}}}var Hpe=xe("lsolve",["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],t=>{var{typed:r,matrix:e,divideScalar:i,multiplyScalar:o,subtractScalar:a,equalScalar:l,DenseMatrix:u}=t,p=p0({DenseMatrix:u});return r("lsolve",{"SparseMatrix, Array | Matrix":function(D,E){return function h(y,D){for(var E=(D=p(y,D,!0))._data,k=y._size[0],T=y._size[1],L=y._values,U=y._index,Y=y._ptr,N=[],q=0;q<T;q++){var j=E[q][0]||0;if(l(j,0))N[q]=[0];else{for(var z=0,J=[],B=[],V=Y[q+1],K=Y[q];K<V;K++){var ee=U[K];ee===q?z=L[K]:ee>q&&(J.push(L[K]),B.push(ee))}if(l(z,0))throw new Error("Linear system cannot be solved since matrix is singular");for(var re=i(j,z),le=0,ie=B.length;le<ie;le++){var G=B[le];E[G]=[a(E[G][0]||0,o(re,J[le]))]}N[q]=[re]}}return new u({data:N,size:[k,1]})}(D,E)},"DenseMatrix, Array | Matrix":function(D,E){return f(D,E)},"Array, Array | Matrix":function(D,E){return f(e(D),E).valueOf()}});function f(y,D){for(var E=(D=p(y,D,!0))._data,k=y._size[0],T=y._size[1],L=[],U=y._data,Y=0;Y<T;Y++){var N=E[Y][0]||0,q=void 0;if(l(N,0))q=0;else{var j=U[Y][Y];if(l(j,0))throw new Error("Linear system cannot be solved since matrix is singular");q=i(N,j);for(var z=Y+1;z<k;z++)E[z]=[a(E[z][0]||0,o(q,U[z][Y]))]}L[Y]=[q]}return new u({data:L,size:[k,1]})}}),C5="matrixFromColumns",qpe=xe(C5,["typed","matrix","flatten","size"],t=>{var{typed:r,matrix:e,flatten:i,size:o}=t;return r(C5,{"...Array":function(p){return a(p)},"...Matrix":function(p){return e(a(p.map(f=>f.toArray())))}});function a(u){if(0===u.length)throw new TypeError("At least one column is needed to construct a matrix.");for(var p=l(u[0]),f=[],h=0;h<p;h++)f[h]=[];for(var y of u){var D=l(y);if(D!==p)throw new TypeError("The vectors had different length: "+(0|p)+" \u2260 "+(0|D));for(var E=i(y),k=0;k<p;k++)f[k].push(E[k])}return f}function l(u){var p=o(u);if(1===p.length)return p[0];if(2===p.length){if(1===p[0])return p[1];if(1===p[1])return p[0];throw new TypeError("At least one of the arguments is not a vector.")}throw new TypeError("Only one- or two-dimensional vectors are supported.")}}),IM=xe("matAlgo06xS0S0",["typed","equalScalar"],t=>{var{typed:r,equalScalar:e}=t;return function(o,a,l){var u=o._values,p=o._size,f=o._datatype,h=a._values,y=a._size,D=a._datatype;if(p.length!==y.length)throw new tr(p.length,y.length);if(p[0]!==y[0]||p[1]!==y[1])throw new RangeError("Dimension mismatch. Matrix A ("+p+") must match Matrix B ("+y+")");var T,E=p[0],k=p[1],L=e,U=0,Y=l;"string"==typeof f&&f===D&&(L=r.find(e,[T=f,T]),U=r.convert(0,T),Y=r.find(l,[T,T]));for(var N=u&&h?[]:void 0,q=[],j=[],z=N?[]:void 0,J=[],B=[],H=0;H<k;H++){j[H]=q.length;var V=H+1;if(vL(o,H,J,z,B,V,q,Y),vL(a,H,J,z,B,V,q,Y),z)for(var K=j[H];K<q.length;){var ee=q[K];if(B[ee]===V){var re=z[ee];L(re,U)?q.splice(K,1):(N.push(re),K++)}else q.splice(K,1)}else for(var le=j[H];le<q.length;)B[q[le]]!==V?q.splice(le,1):le++}return j[k]=q.length,o.createSparseMatrix({values:N,index:q,ptr:j,size:[E,k],datatype:T})}}),x5="nthRoot",$pe=xe(x5,["typed","matrix","equalScalar","BigNumber","concat"],t=>{var{typed:r,matrix:e,equalScalar:i,BigNumber:o,concat:a}=t,l=Yd({typed:r}),u=Ol({typed:r,equalScalar:i}),p=IM({typed:r,equalScalar:i}),f=Po({typed:r,equalScalar:i}),h=Gr({typed:r,matrix:e,concat:a});function y(){throw new Error("Complex number not supported in function nthRoot. Use nthRoots instead.")}return r(x5,{number:WB,"number, number":WB,BigNumber:E=>D(E,new o(2)),"BigNumber, BigNumber":D,Complex:y,"Complex, number":y,Array:r.referTo("DenseMatrix,number",E=>k=>E(e(k),2).valueOf()),DenseMatrix:r.referTo("DenseMatrix,number",E=>k=>E(k,2)),SparseMatrix:r.referTo("SparseMatrix,number",E=>k=>E(k,2)),"SparseMatrix, SparseMatrix":r.referToSelf(E=>(k,T)=>{if(1===T.density())return p(k,T,E);throw new Error("Root must be non-zero")}),"DenseMatrix, SparseMatrix":r.referToSelf(E=>(k,T)=>{if(1===T.density())return l(k,T,E,!1);throw new Error("Root must be non-zero")}),"Array, SparseMatrix":r.referTo("DenseMatrix,SparseMatrix",E=>(k,T)=>E(e(k),T)),"number | BigNumber, SparseMatrix":r.referToSelf(E=>(k,T)=>{if(1===T.density())return f(T,k,E,!0);throw new Error("Root must be non-zero")})},h({scalar:"number | BigNumber",SD:u,Ss:f,sS:!1}));function D(E,k){var T=o.precision,L=o.clone({precision:T+2}),U=new o(0),Y=new L(1),N=k.isNegative();if(N&&(k=k.neg()),k.isZero())throw new Error("Root must be non-zero");if(E.isNegative()&&!k.abs().mod(2).equals(1))throw new Error("Root must be odd when a is negative.");if(E.isZero())return N?new L(1/0):0;if(!E.isFinite())return N?U:E;var q=E.abs().pow(Y.div(k));return q=E.isNeg()?q.neg():q,new o((N?Y.div(q):q).toPrecision(T))}}),Jpe=xe("ones",["typed","config","matrix","BigNumber"],t=>{var{typed:r,config:e,matrix:i,BigNumber:o}=t;return r("ones",{"":function(){return"Array"===e.matrix?a([]):a([],"default")},"...number | BigNumber | string":function(f){if("string"==typeof f[f.length-1]){var y=f.pop();return a(f,y)}return"Array"===e.matrix?a(f):a(f,"default")},Array:a,Matrix:function(f){var h=f.storage();return a(f.valueOf(),h)},"Array | Matrix, string":function(f,h){return a(f.valueOf(),h)}});function a(p,f){var h=function l(p){var f=!1;return p.forEach(function(h,y,D){dr(h)&&(f=!0,D[y]=h.toNumber())}),f}(p),y=h?new o(1):1;if(function u(p){p.forEach(function(f){if("number"!=typeof f||!vn(f)||f<0)throw new Error("Parameters in function ones must be positive integers")})}(p),f){var D=i(f);return p.length>0?D.resize(p,y):D}var E=[];return p.length>0?mg(E,p,y):E}}),Kpe=xe("qr",["typed","matrix","zeros","identity","isZero","equal","sign","sqrt","conj","unaryMinus","addScalar","divideScalar","multiplyScalar","subtractScalar","complex"],t=>{var{typed:r,matrix:e,zeros:i,identity:o,isZero:a,equal:l,sign:u,sqrt:p,conj:f,unaryMinus:h,addScalar:y,divideScalar:D,multiplyScalar:E,subtractScalar:k,complex:T}=t;return go(r("qr",{DenseMatrix:function(q){return U(q)},SparseMatrix:function(q){return function Y(N){throw new Error("qr not implemented for sparse matrices yet")}()},Array:function(q){var z=U(e(q));return{Q:z.Q.valueOf(),R:z.R.valueOf()}}}),{_denseQRimpl:L});function L(N){var V,K,ee,q=N._size[0],j=N._size[1],z=o([q],"dense"),J=z._data,B=N.clone(),H=B._data,re=i([q],"");for(ee=0;ee<Math.min(j,q);++ee){var le=H[ee][ee],ie=h(l(le,0)?1:u(le)),G=f(ie),W=0;for(V=ee;V<q;V++)W=y(W,E(H[V][ee],f(H[V][ee])));var ce=E(ie,p(W));if(!a(ce)){var te=k(le,ce);for(re[ee]=1,V=ee+1;V<q;V++)re[V]=D(H[V][ee],te);var me=h(f(D(te,ce))),Ee=void 0;for(K=ee;K<j;K++){for(Ee=0,V=ee;V<q;V++)Ee=y(Ee,E(f(re[V]),H[V][K]));for(Ee=E(Ee,me),V=ee;V<q;V++)H[V][K]=E(k(H[V][K],E(re[V],Ee)),G)}for(V=0;V<q;V++){for(Ee=0,K=ee;K<q;K++)Ee=y(Ee,E(J[V][K],re[K]));for(Ee=E(Ee,me),K=ee;K<q;++K)J[V][K]=D(k(J[V][K],E(Ee,f(re[K]))),G)}}}return{Q:z,R:B,toString:function(){return"Q: "+this.Q.toString()+"\nR: "+this.R.toString()}}}function U(N){var q=L(N),j=q.R._data;if(N._data.length>0)for(var z="Complex"===j[0][0].type?T(0):0,J=0;J<j.length;++J)for(var B=0;B<J&&B<(j[0]||[]).length;++B)j[J][B]=z;return q}});function ih(t,r,e,i){if(!(this instanceof ih))throw new SyntaxError("Constructor must be called with the new operator");this.fn=t,this.count=r,this.min=e,this.max=i,this.message="Wrong number of arguments in function "+t+" ("+r+" provided, "+e+(null!=i?"-"+i:"")+" expected)",this.stack=(new Error).stack}(ih.prototype=new Error).constructor=Error,ih.prototype.name="ArgumentsError",ih.prototype.isArgumentsError=!0;var nfe=xe("resize",["config","matrix"],t=>{var{config:r,matrix:e}=t;return function(a,l,u){if(2!==arguments.length&&3!==arguments.length)throw new ih("resize",arguments.length,2,3);if(On(l)&&(l=l.valueOf()),dr(l[0])&&(l=l.map(function(h){return dr(h)?h.toNumber():h})),On(a))return a.resize(l,u,!0);if("string"==typeof a)return i(a,l,u);var p=!Array.isArray(a)&&"Array"!==r.matrix;if(0===l.length){for(;Array.isArray(a);)a=a[0];return Bn(a)}Array.isArray(a)||(a=[a]);var f=mg(a=Bn(a),l,u);return p?e(f):f};function i(o,a,l){if(void 0!==l){if("string"!=typeof l||1!==l.length)throw new TypeError("Single character expected as defaultValue")}else l=" ";if(1!==a.length)throw new tr(a.length,1);var u=a[0];if("number"!=typeof u||!vn(u))throw new TypeError("Invalid size, must contain positive integers (size: "+er(a)+")");if(o.length>u)return o.substring(0,u);if(o.length<u){for(var p=o,f=0,h=u-o.length;f<h;f++)p+=l;return p}return o}}),M5="rightArithShift",ife=xe(M5,["typed","matrix","equalScalar","zeros","DenseMatrix","concat"],t=>{var{typed:r,matrix:e,equalScalar:i,zeros:o,DenseMatrix:a,concat:l}=t,u=Yd({typed:r}),p=Ol({typed:r,equalScalar:i}),f=UT({typed:r,equalScalar:i}),h=rh({typed:r,DenseMatrix:a}),y=Po({typed:r,equalScalar:i}),D=El({typed:r}),E=Gr({typed:r,matrix:e,concat:l}),k=VT({typed:r,matrix:e});return r(M5,{"number, number":T6,"BigNumber, BigNumber":Mle,"SparseMatrix, number | BigNumber":r.referToSelf(T=>(L,U)=>i(U,0)?L.clone():y(L,U,T,!1)),"DenseMatrix, number | BigNumber":r.referToSelf(T=>(L,U)=>i(U,0)?L.clone():D(L,U,T,!1)),"number | BigNumber, SparseMatrix":r.referToSelf(T=>(L,U)=>i(L,0)?o(U.size(),U.storage()):h(U,L,T,!0)),"number | BigNumber, DenseMatrix":r.referToSelf(T=>(L,U)=>i(L,0)?o(U.size(),U.storage()):D(U,L,T,!0))},k,E({SS:f,DS:u,SD:p}))}),Eg="Number of decimals in function round must be an integer",afe=xe("round",["typed","matrix","equalScalar","zeros","BigNumber","DenseMatrix"],t=>{var{typed:r,matrix:e,equalScalar:i,zeros:o,BigNumber:a,DenseMatrix:l}=t,u=Po({typed:r,equalScalar:i}),p=so({typed:r,DenseMatrix:l}),f=El({typed:r});return r("round",{number:KB,"number, number":KB,"number, BigNumber":function(y,D){if(!D.isInteger())throw new TypeError(Eg);return new a(y).toDecimalPlaces(D.toNumber())},Complex:function(y){return y.round()},"Complex, number":function(y,D){if(D%1)throw new TypeError(Eg);return y.round(D)},"Complex, BigNumber":function(y,D){if(!D.isInteger())throw new TypeError(Eg);var E=D.toNumber();return y.round(E)},BigNumber:function(y){return y.toDecimalPlaces(0)},"BigNumber, BigNumber":function(y,D){if(!D.isInteger())throw new TypeError(Eg);return y.toDecimalPlaces(D.toNumber())},Fraction:function(y){return y.round()},"Fraction, number":function(y,D){if(D%1)throw new TypeError(Eg);return y.round(D)},"Fraction, BigNumber":function(y,D){if(!D.isInteger())throw new TypeError(Eg);return y.round(D.toNumber())},"Array | Matrix":r.referToSelf(h=>y=>rr(y,h,!0)),"SparseMatrix, number | BigNumber":r.referToSelf(h=>(y,D)=>u(y,D,h,!1)),"DenseMatrix, number | BigNumber":r.referToSelf(h=>(y,D)=>f(y,D,h,!1)),"Array, number | BigNumber":r.referToSelf(h=>(y,D)=>f(e(y),D,h,!1).valueOf()),"number | Complex | BigNumber | Fraction, SparseMatrix":r.referToSelf(h=>(y,D)=>i(y,0)?o(D.size(),D.storage()):p(D,y,h,!0)),"number | Complex | BigNumber | Fraction, DenseMatrix":r.referToSelf(h=>(y,D)=>i(y,0)?o(D.size(),D.storage()):f(D,y,h,!0)),"number | Complex | BigNumber | Fraction, Array":r.referToSelf(h=>(y,D)=>f(e(D),y,h,!0).valueOf())})}),kM="smaller",lfe=xe(kM,["typed","config","matrix","DenseMatrix","concat"],t=>{var{typed:r,config:e,matrix:i,DenseMatrix:o,concat:a}=t,l=ua({typed:r}),u=wc({typed:r,DenseMatrix:o}),p=so({typed:r,DenseMatrix:o}),f=Gr({typed:r,matrix:i,concat:a}),h=Mg({typed:r});return r(kM,cfe({typed:r,config:e}),{"boolean, boolean":(y,D)=>y<D,"BigNumber, BigNumber":function(D,E){return D.lt(E)&&!xc(D,E,e.epsilon)},"Fraction, Fraction":(y,D)=>-1===y.compare(D),"Complex, Complex":function(D,E){throw new TypeError("No ordering relation is defined for complex numbers")}},h,f({SS:u,DS:l,Ss:p}))}),cfe=xe(kM,["typed","config"],t=>{var{typed:r,config:e}=t;return r(kM,{"number, number":function(o,a){return o<a&&!cs(o,a,e.epsilon)}})}),FM=xe("matAlgo05xSfSf",["typed","equalScalar"],t=>{var{typed:r,equalScalar:e}=t;return function(o,a,l){var u=o._values,p=o._index,f=o._ptr,h=o._size,y=o._datatype,D=a._values,E=a._index,k=a._ptr,T=a._size,L=a._datatype;if(h.length!==T.length)throw new tr(h.length,T.length);if(h[0]!==T[0]||h[1]!==T[1])throw new RangeError("Dimension mismatch. Matrix A ("+h+") must match Matrix B ("+T+")");var N,U=h[0],Y=h[1],q=e,j=0,z=l;"string"==typeof y&&y===L&&(q=r.find(e,[N=y,N]),j=r.convert(0,N),z=r.find(l,[N,N]));var le,ie,G,W,J=u&&D?[]:void 0,B=[],H=[],V=J?[]:void 0,K=J?[]:void 0,ee=[],re=[];for(ie=0;ie<Y;ie++){H[ie]=B.length;var ce=ie+1;for(G=f[ie],W=f[ie+1];G<W;G++)B.push(le=p[G]),ee[le]=ce,V&&(V[le]=u[G]);for(G=k[ie],W=k[ie+1];G<W;G++)ee[le=E[G]]!==ce&&B.push(le),re[le]=ce,K&&(K[le]=D[G]);if(J)for(G=H[ie];G<B.length;){var te=ee[le=B[G]],me=re[le];if(te===ce||me===ce){var ve=z(te===ce?V[le]:j,me===ce?K[le]:j);q(ve,j)?B.splice(G,1):(J.push(ve),G++)}}}return H[Y]=B.length,o.createSparseMatrix({values:J,index:B,ptr:H,size:[U,Y],datatype:N})}}),D5="subtract",ffe=xe(D5,["typed","matrix","equalScalar","subtractScalar","unaryMinus","DenseMatrix","concat"],t=>{var{typed:r,matrix:e,equalScalar:i,subtractScalar:o,DenseMatrix:l,concat:u}=t,p=Yd({typed:r}),f=ua({typed:r}),h=FM({typed:r,equalScalar:i}),y=rh({typed:r,DenseMatrix:l}),D=so({typed:r,DenseMatrix:l}),E=Gr({typed:r,matrix:e,concat:u});return r(D5,{"any, any":o},E({elop:o,SS:h,DS:p,SD:f,Ss:D,sS:y}))}),mfe=xe("to",["typed","matrix","concat"],t=>{var{typed:r,matrix:e,concat:i}=t;return r("to",{"Unit, Unit | string":(a,l)=>a.to(l)},Gr({typed:r,matrix:e,concat:i})({Ds:!0}))}),NM="unequal",_fe=xe(NM,["typed","config","equalScalar","matrix","DenseMatrix","concat"],t=>{var{typed:r,equalScalar:i,matrix:o,DenseMatrix:a,concat:l}=t,u=ua({typed:r}),p=wc({typed:r,DenseMatrix:a}),f=so({typed:r,DenseMatrix:a}),h=Gr({typed:r,matrix:o,concat:l});return r(NM,vfe({typed:r,equalScalar:i}),h({elop:function y(D,E){return!i(D,E)},SS:p,DS:u,Ss:f}))}),vfe=xe(NM,["typed","equalScalar"],t=>{var{typed:r,equalScalar:e}=t;return r(NM,{"any, any":function(o,a){return null===o?null!==a:null===a?null!==o:void 0===o?void 0!==a:void 0===a?void 0!==o:!e(o,a)}})}),bfe=xe("usolve",["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],t=>{var{typed:r,matrix:e,divideScalar:i,multiplyScalar:o,subtractScalar:a,equalScalar:l,DenseMatrix:u}=t,p=p0({DenseMatrix:u});return r("usolve",{"SparseMatrix, Array | Matrix":function(D,E){return function h(y,D){for(var E=(D=p(y,D,!0))._data,k=y._size[0],L=y._values,U=y._index,Y=y._ptr,N=[],q=y._size[1]-1;q>=0;q--){var j=E[q][0]||0;if(l(j,0))N[q]=[0];else{for(var z=0,J=[],B=[],H=Y[q],K=Y[q+1]-1;K>=H;K--){var ee=U[K];ee===q?z=L[K]:ee<q&&(J.push(L[K]),B.push(ee))}if(l(z,0))throw new Error("Linear system cannot be solved since matrix is singular");for(var re=i(j,z),le=0,ie=B.length;le<ie;le++){var G=B[le];E[G]=[a(E[G][0],o(re,J[le]))]}N[q]=[re]}}return new u({data:N,size:[k,1]})}(D,E)},"DenseMatrix, Array | Matrix":function(D,E){return f(D,E)},"Array, Array | Matrix":function(D,E){return f(e(D),E).valueOf()}});function f(y,D){for(var E=(D=p(y,D,!0))._data,k=y._size[0],L=[],U=y._data,Y=y._size[1]-1;Y>=0;Y--){var N=E[Y][0]||0,q=void 0;if(l(N,0))q=0;else{var j=U[Y][Y];if(l(j,0))throw new Error("Linear system cannot be solved since matrix is singular");q=i(N,j);for(var z=Y-1;z>=0;z--)E[z]=[a(E[z][0]||0,o(q,U[z][Y]))]}L[Y]=[q]}return new u({data:L,size:[k,1]})}}),xfe=xe("xor",["typed","matrix","DenseMatrix","concat"],t=>{var{typed:r,matrix:e,DenseMatrix:i,concat:o}=t,a=ua({typed:r}),l=wc({typed:r,DenseMatrix:i}),u=so({typed:r,DenseMatrix:i}),p=Gr({typed:r,matrix:e,concat:o});return r("xor",{"number, number":g4,"Complex, Complex":function(h,y){return(0!==h.re||0!==h.im)!=(0!==y.re||0!==y.im)},"BigNumber, BigNumber":function(h,y){return(!h.isZero()&&!h.isNaN())!=(!y.isZero()&&!y.isNaN())},"Unit, Unit":r.referToSelf(f=>(h,y)=>f(h.value||0,y.value||0))},p({SS:l,DS:a,Ss:u}))}),zT=xe("matAlgo04xSidSid",["typed","equalScalar"],t=>{var{typed:r,equalScalar:e}=t;return function(o,a,l){var u=o._values,p=o._index,f=o._ptr,h=o._size,y=o._datatype,D=a._values,E=a._index,k=a._ptr,T=a._size,L=a._datatype;if(h.length!==T.length)throw new tr(h.length,T.length);if(h[0]!==T[0]||h[1]!==T[1])throw new RangeError("Dimension mismatch. Matrix A ("+h+") must match Matrix B ("+T+")");var N,U=h[0],Y=h[1],q=e,j=0,z=l;"string"==typeof y&&y===L&&(q=r.find(e,[N=y,N]),j=r.convert(0,N),z=r.find(l,[N,N]));var le,ie,G,ce,J=u&&D?[]:void 0,B=[],H=[],V=u&&D?[]:void 0,K=u&&D?[]:void 0,ee=[],re=[];for(ie=0;ie<Y;ie++){H[ie]=B.length;var te=ie+1;for(ce=f[ie+1],G=f[ie];G<ce;G++)B.push(le=p[G]),ee[le]=te,V&&(V[le]=u[G]);for(ce=k[ie+1],G=k[ie];G<ce;G++)if(ee[le=E[G]]===te){if(V){var me=z(V[le],D[G]);q(me,j)?ee[le]=null:V[le]=me}}else B.push(le),re[le]=te,K&&(K[le]=D[G]);if(V&&K)for(G=H[ie];G<B.length;)ee[le=B[G]]===te?(J[G]=V[le],G++):re[le]===te?(J[G]=K[le],G++):B.splice(G,1)}return H[Y]=B.length,o.createSparseMatrix({values:J,index:B,ptr:H,size:[U,Y],datatype:N})}}),Dfe=xe("add",["typed","matrix","addScalar","equalScalar","DenseMatrix","SparseMatrix","concat"],t=>{var{typed:r,matrix:e,addScalar:i,equalScalar:o,DenseMatrix:a,concat:u}=t,p=Yd({typed:r}),f=zT({typed:r,equalScalar:o}),h=rh({typed:r,DenseMatrix:a}),y=Gr({typed:r,matrix:e,concat:u});return r("add",{"any, any":i,"any, any, ...any":r.referToSelf(D=>(E,k,T)=>{for(var L=D(E,k),U=0;U<T.length;U++)L=D(L,T[U]);return L})},y({elop:i,DS:p,SS:f,Ss:h}))}),T5=xe("matAlgo09xS0Sf",["typed","equalScalar"],t=>{var{typed:r,equalScalar:e}=t;return function(o,a,l){var u=o._values,p=o._index,f=o._ptr,h=o._size,y=o._datatype,D=a._values,E=a._index,k=a._ptr,T=a._size,L=a._datatype;if(h.length!==T.length)throw new tr(h.length,T.length);if(h[0]!==T[0]||h[1]!==T[1])throw new RangeError("Dimension mismatch. Matrix A ("+h+") must match Matrix B ("+T+")");var N,U=h[0],Y=h[1],q=e,j=0,z=l;"string"==typeof y&&y===L&&(q=r.find(e,[N=y,N]),j=r.convert(0,N),z=r.find(l,[N,N]));var ee,re,le,G,J=u&&D?[]:void 0,B=[],H=[],V=J?[]:void 0,K=[];for(re=0;re<Y;re++){H[re]=B.length;var W=re+1;if(V)for(G=k[re+1],le=k[re];le<G;le++)K[ee=E[le]]=W,V[ee]=D[le];for(G=f[re+1],le=f[re];le<G;le++)if(ee=p[le],V){var te=z(u[le],K[ee]===W?V[ee]:j);q(te,j)||(B.push(ee),J.push(te))}else B.push(ee)}return H[Y]=B.length,o.createSparseMatrix({values:J,index:B,ptr:H,size:[U,Y],datatype:N})}}),Pfe=xe("atan2",["typed","matrix","equalScalar","BigNumber","DenseMatrix","concat"],t=>{var{typed:r,matrix:e,equalScalar:i,BigNumber:o,DenseMatrix:a,concat:l}=t,u=Ol({typed:r,equalScalar:i}),p=ua({typed:r}),f=T5({typed:r,equalScalar:i}),h=Po({typed:r,equalScalar:i}),y=so({typed:r,DenseMatrix:a}),D=Gr({typed:r,matrix:e,concat:l});return r("atan2",{"number, number":Math.atan2,"BigNumber, BigNumber":(E,k)=>o.atan2(E,k)},D({scalar:"number | BigNumber",SS:f,DS:p,SD:u,Ss:h,sS:y}))}),Ife=xe("bitAnd",["typed","matrix","equalScalar","concat"],t=>{var{typed:r,matrix:e,equalScalar:i,concat:o}=t,a=Ol({typed:r,equalScalar:i}),l=IM({typed:r,equalScalar:i}),u=Po({typed:r,equalScalar:i});return r("bitAnd",{"number, number":D6,"BigNumber, BigNumber":ble},Gr({typed:r,matrix:e,concat:o})({SS:l,DS:a,Ss:u}))}),Ffe=xe("bitXor",["typed","matrix","DenseMatrix","concat"],t=>{var{typed:r,matrix:e,DenseMatrix:i,concat:o}=t,a=ua({typed:r}),l=wc({typed:r,DenseMatrix:i}),u=so({typed:r,DenseMatrix:i});return r("bitXor",{"number, number":A6,"BigNumber, BigNumber":xle},Gr({typed:r,matrix:e,concat:o})({SS:l,DS:a,Ss:u}))}),N5="catalan",Rfe=xe(N5,["typed","addScalar","divideScalar","multiplyScalar","combinations","isNegative","isInteger"],t=>{var{typed:r,addScalar:e,divideScalar:i,multiplyScalar:o,combinations:a,isNegative:l,isInteger:u}=t;return r(N5,{"number | BigNumber":function(f){if(!u(f)||l(f))throw new TypeError("Non-negative integer value expected in function catalan");return i(a(o(f,2),f),e(f,1))}})}),RM="compare",Bfe=xe(RM,["typed","config","matrix","equalScalar","BigNumber","Fraction","DenseMatrix","concat"],t=>{var{typed:r,config:e,equalScalar:i,matrix:o,BigNumber:a,Fraction:l,DenseMatrix:u,concat:p}=t,f=ua({typed:r}),h=FM({typed:r,equalScalar:i}),y=so({typed:r,DenseMatrix:u}),D=Gr({typed:r,matrix:o,concat:p}),E=Mg({typed:r});return r(RM,Ufe({typed:r,config:e}),{"boolean, boolean":function(T,L){return T===L?0:T>L?1:-1},"BigNumber, BigNumber":function(T,L){return xc(T,L,e.epsilon)?new a(0):new a(T.cmp(L))},"Fraction, Fraction":function(T,L){return new l(T.compare(L))},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},E,D({SS:h,DS:f,Ss:y}))}),Ufe=xe(RM,["typed","config"],t=>{var{typed:r,config:e}=t;return r(RM,{"number, number":function(o,a){return cs(o,a,e.epsilon)?0:o>a?1:-1}})}),R5="compareText",Vfe=["typed","matrix","concat"];pT.signature="any, any";var zfe=xe(R5,Vfe,t=>{var{typed:r,matrix:e,concat:i}=t,o=Gr({typed:r,matrix:e,concat:i});return r(R5,pT,o({elop:pT,Ds:!0}))}),L5="deepEqual",jfe=xe(L5,["typed","equal"],t=>{var{typed:r,equal:e}=t;return r(L5,{"any, any":function(a,l){return i(a.valueOf(),l.valueOf())}});function i(o,a){if(Array.isArray(o)){if(Array.isArray(a)){var l=o.length;if(l!==a.length)return!1;for(var u=0;u<l;u++)if(!i(o[u],a[u]))return!1;return!0}return!1}return!Array.isArray(a)&&e(o,a)}}),B5="distance",Zfe=xe(B5,["typed","addScalar","subtractScalar","divideScalar","multiplyScalar","deepEqual","sqrt","abs"],t=>{var{typed:r,addScalar:e,subtractScalar:i,multiplyScalar:o,divideScalar:a,deepEqual:l,sqrt:u,abs:p}=t;return r(B5,{"Array, Array, Array":function(j,z,J){if(2===j.length&&2===z.length&&2===J.length){if(!h(j))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!h(z))throw new TypeError("Array with 2 numbers or BigNumbers expected for second argument");if(!h(J))throw new TypeError("Array with 2 numbers or BigNumbers expected for third argument");if(l(z,J))throw new TypeError("LinePoint1 should not be same with LinePoint2");var B=i(J[1],z[1]),H=i(z[0],J[0]),V=i(o(J[0],z[1]),o(z[0],J[1]));return L(j[0],j[1],B,H,V)}throw new TypeError("Invalid Arguments: Try again")},"Object, Object, Object":function(j,z,J){if(2===Object.keys(j).length&&2===Object.keys(z).length&&2===Object.keys(J).length){if(!h(j))throw new TypeError("Values of pointX and pointY should be numbers or BigNumbers");if(!h(z))throw new TypeError("Values of lineOnePtX and lineOnePtY should be numbers or BigNumbers");if(!h(J))throw new TypeError("Values of lineTwoPtX and lineTwoPtY should be numbers or BigNumbers");if(l(k(z),k(J)))throw new TypeError("LinePoint1 should not be same with LinePoint2");if("pointX"in j&&"pointY"in j&&"lineOnePtX"in z&&"lineOnePtY"in z&&"lineTwoPtX"in J&&"lineTwoPtY"in J){var B=i(J.lineTwoPtY,z.lineOnePtY),H=i(z.lineOnePtX,J.lineTwoPtX),V=i(o(J.lineTwoPtX,z.lineOnePtY),o(z.lineOnePtX,J.lineTwoPtY));return L(j.pointX,j.pointY,B,H,V)}throw new TypeError("Key names do not match")}throw new TypeError("Invalid Arguments: Try again")},"Array, Array":function(j,z){if(2===j.length&&3===z.length){if(!h(j))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!y(z))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");return L(j[0],j[1],z[0],z[1],z[2])}if(3===j.length&&6===z.length){if(!y(j))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!E(z))throw new TypeError("Array with 6 numbers or BigNumbers expected for second argument");return U(j[0],j[1],j[2],z[0],z[1],z[2],z[3],z[4],z[5])}if(j.length===z.length&&j.length>0){if(!D(j))throw new TypeError("All values of an array should be numbers or BigNumbers");if(!D(z))throw new TypeError("All values of an array should be numbers or BigNumbers");return Y(j,z)}throw new TypeError("Invalid Arguments: Try again")},"Object, Object":function(j,z){if(2===Object.keys(j).length&&3===Object.keys(z).length){if(!h(j))throw new TypeError("Values of pointX and pointY should be numbers or BigNumbers");if(!y(z))throw new TypeError("Values of xCoeffLine, yCoeffLine and constant should be numbers or BigNumbers");if("pointX"in j&&"pointY"in j&&"xCoeffLine"in z&&"yCoeffLine"in z&&"constant"in z)return L(j.pointX,j.pointY,z.xCoeffLine,z.yCoeffLine,z.constant);throw new TypeError("Key names do not match")}if(3===Object.keys(j).length&&6===Object.keys(z).length){if(!y(j))throw new TypeError("Values of pointX, pointY and pointZ should be numbers or BigNumbers");if(!E(z))throw new TypeError("Values of x0, y0, z0, a, b and c should be numbers or BigNumbers");if("pointX"in j&&"pointY"in j&&"x0"in z&&"y0"in z&&"z0"in z&&"a"in z&&"b"in z&&"c"in z)return U(j.pointX,j.pointY,j.pointZ,z.x0,z.y0,z.z0,z.a,z.b,z.c);throw new TypeError("Key names do not match")}if(2===Object.keys(j).length&&2===Object.keys(z).length){if(!h(j))throw new TypeError("Values of pointOneX and pointOneY should be numbers or BigNumbers");if(!h(z))throw new TypeError("Values of pointTwoX and pointTwoY should be numbers or BigNumbers");if("pointOneX"in j&&"pointOneY"in j&&"pointTwoX"in z&&"pointTwoY"in z)return Y([j.pointOneX,j.pointOneY],[z.pointTwoX,z.pointTwoY]);throw new TypeError("Key names do not match")}if(3===Object.keys(j).length&&3===Object.keys(z).length){if(!y(j))throw new TypeError("Values of pointOneX, pointOneY and pointOneZ should be numbers or BigNumbers");if(!y(z))throw new TypeError("Values of pointTwoX, pointTwoY and pointTwoZ should be numbers or BigNumbers");if("pointOneX"in j&&"pointOneY"in j&&"pointOneZ"in j&&"pointTwoX"in z&&"pointTwoY"in z&&"pointTwoZ"in z)return Y([j.pointOneX,j.pointOneY,j.pointOneZ],[z.pointTwoX,z.pointTwoY,z.pointTwoZ]);throw new TypeError("Key names do not match")}throw new TypeError("Invalid Arguments: Try again")},Array:function(j){if(!function T(q){if(2===q[0].length&&f(q[0][0])&&f(q[0][1])){if(q.some(j=>2!==j.length||!f(j[0])||!f(j[1])))return!1}else{if(!(3===q[0].length&&f(q[0][0])&&f(q[0][1])&&f(q[0][2])))return!1;if(q.some(j=>3!==j.length||!f(j[0])||!f(j[1])||!f(j[2])))return!1}return!0}(j))throw new TypeError("Incorrect array format entered for pairwise distance calculation");return function N(q){for(var j=[],z=[],J=[],B=0;B<q.length-1;B++)for(var H=B+1;H<q.length;H++)2===q[0].length?(z=[q[B][0],q[B][1]],J=[q[H][0],q[H][1]]):3===q[0].length&&(z=[q[B][0],q[B][1],q[B][2]],J=[q[H][0],q[H][1],q[H][2]]),j.push(Y(z,J));return j}(j)}});function f(q){return"number"==typeof q||dr(q)}function h(q){return q.constructor!==Array&&(q=k(q)),f(q[0])&&f(q[1])}function y(q){return q.constructor!==Array&&(q=k(q)),f(q[0])&&f(q[1])&&f(q[2])}function D(q){return Array.isArray(q)||(q=k(q)),q.every(f)}function E(q){return q.constructor!==Array&&(q=k(q)),f(q[0])&&f(q[1])&&f(q[2])&&f(q[3])&&f(q[4])&&f(q[5])}function k(q){for(var j=Object.keys(q),z=[],J=0;J<j.length;J++)z.push(q[j[J]]);return z}function L(q,j,z,J,B){var H=p(e(e(o(z,q),o(J,j)),B)),V=u(e(o(z,z),o(J,J)));return a(H,V)}function U(q,j,z,J,B,H,V,K,ee){var re=[i(o(i(B,j),ee),o(i(H,z),K)),i(o(i(H,z),V),o(i(J,q),ee)),i(o(i(J,q),K),o(i(B,j),V))];re=u(e(e(o(re[0],re[0]),o(re[1],re[1])),o(re[2],re[2])));var le=u(e(e(o(V,V),o(K,K)),o(ee,ee)));return a(re,le)}function Y(q,j){for(var z=q.length,J=0,B=0,H=0;H<z;H++)B=i(q[H],j[H]),J=e(o(B,B),J);return u(J)}}),Gfe=xe("dot",["typed","addScalar","multiplyScalar","conj","size"],t=>{var{typed:r,addScalar:e,multiplyScalar:i,conj:o,size:a}=t;return r("dot",{"Array | DenseMatrix, Array | DenseMatrix":function u(h,y){var D=l(h,y),E=On(h)?h._data:h,k=On(h)?h._datatype:void 0,T=On(y)?y._data:y,L=On(y)?y._datatype:void 0,U=2===f(h).length,Y=2===f(y).length,N=e,q=i;if(k&&L&&k===L&&"string"==typeof k){var j=k;N=r.find(e,[j,j]),q=r.find(i,[j,j])}if(!U&&!Y){for(var z=q(o(E[0]),T[0]),J=1;J<D;J++)z=N(z,q(o(E[J]),T[J]));return z}if(!U&&Y){for(var B=q(o(E[0]),T[0][0]),H=1;H<D;H++)B=N(B,q(o(E[H]),T[H][0]));return B}if(U&&!Y){for(var V=q(o(E[0][0]),T[0]),K=1;K<D;K++)V=N(V,q(o(E[K][0]),T[K]));return V}if(U&&Y){for(var ee=q(o(E[0][0]),T[0][0]),re=1;re<D;re++)ee=N(ee,q(o(E[re][0]),T[re][0]));return ee}},"SparseMatrix, SparseMatrix":function p(h,y){l(h,y);for(var D=h._index,E=h._values,k=y._index,T=y._values,L=0,U=e,Y=i,N=0,q=0;N<D.length&&q<k.length;){var j=D[N],z=k[q];j<z?N++:j>z?q++:j===z&&(L=U(L,Y(E[N],T[q])),N++,q++)}return L}});function l(h,y){var k,T,D=f(h),E=f(y);if(1===D.length)k=D[0];else{if(2!==D.length||1!==D[1])throw new RangeError("Expected a column vector, instead got a matrix of size ("+D.join(", ")+")");k=D[0]}if(1===E.length)T=E[0];else{if(2!==E.length||1!==E[1])throw new RangeError("Expected a column vector, instead got a matrix of size ("+E.join(", ")+")");T=E[0]}if(k!==T)throw new RangeError("Vectors must have equal length ("+k+" != "+T+")");if(0===k)throw new RangeError("Cannot calculate the dot product of empty vectors");return k}function f(h){return On(h)?h.size():a(h)}}),V5="equalText",Wfe=xe(V5,["typed","compareText","isZero"],t=>{var{typed:r,compareText:e,isZero:i}=t;return r(V5,{"any, any":function(a,l){return i(e(a,l))}})}),HT="floor",Qfe=["typed","config","round","matrix","equalScalar","zeros","DenseMatrix"],Jfe=xe(HT,["typed","config","round"],t=>{var{typed:r,config:e,round:i}=t;return r(HT,{number:function(a){return cs(a,i(a),e.epsilon)?i(a):Math.floor(a)},"number, number":function(a,l){if(cs(a,i(a,l),e.epsilon))return i(a,l);var[u,p]="".concat(a,"e").split("e"),f=Math.floor(Number("".concat(u,"e").concat(Number(p)+l)));return[u,p]="".concat(f,"e").split("e"),Number("".concat(u,"e").concat(Number(p)-l))}})}),z5=xe(HT,Qfe,t=>{var{typed:r,config:e,round:i,matrix:o,equalScalar:a,zeros:l,DenseMatrix:u}=t,p=Po({typed:r,equalScalar:a}),f=so({typed:r,DenseMatrix:u}),h=El({typed:r}),y=Jfe({typed:r,config:e,round:i});return r("floor",{number:y.signatures.number,"number,number":y.signatures["number,number"],Complex:function(E){return E.floor()},"Complex, number":function(E,k){return E.floor(k)},"Complex, BigNumber":function(E,k){return E.floor(k.toNumber())},BigNumber:function(E){return xc(E,i(E),e.epsilon)?i(E):E.floor()},"BigNumber, BigNumber":function(E,k){return xc(E,i(E,k),e.epsilon)?i(E,k):E.toDecimalPlaces(k.toNumber(),xM.ROUND_FLOOR)},Fraction:function(E){return E.floor()},"Fraction, number":function(E,k){return E.floor(k)},"Fraction, BigNumber":function(E,k){return E.floor(k.toNumber())},"Array | Matrix":r.referToSelf(D=>E=>rr(E,D,!0)),"Array, number | BigNumber":r.referToSelf(D=>(E,k)=>rr(E,T=>D(T,k),!0)),"SparseMatrix, number | BigNumber":r.referToSelf(D=>(E,k)=>p(E,k,D,!1)),"DenseMatrix, number | BigNumber":r.referToSelf(D=>(E,k)=>h(E,k,D,!1)),"number | Complex | Fraction | BigNumber, Array":r.referToSelf(D=>(E,k)=>h(o(k),E,D,!0).valueOf()),"number | Complex | Fraction | BigNumber, Matrix":r.referToSelf(D=>(E,k)=>a(E,0)?l(k.size(),k.storage()):"dense"===k.storage()?h(k,E,D,!0):f(k,E,D,!0))})}),j5=xe("mod",["typed","config","round","matrix","equalScalar","zeros","DenseMatrix","concat"],t=>{var{typed:r,config:e,round:i,matrix:o,equalScalar:a,zeros:l,DenseMatrix:u,concat:p}=t,f=z5({typed:r,config:e,round:i,matrix:o,equalScalar:a,zeros:l,DenseMatrix:u}),h=Ol({typed:r,equalScalar:a}),y=ua({typed:r}),D=FM({typed:r,equalScalar:a}),E=Po({typed:r,equalScalar:a}),k=so({typed:r,DenseMatrix:u});return r("mod",{"number, number":function L(U,Y){return 0===Y?U:U-Y*f(U/Y)},"BigNumber, BigNumber":function(Y,N){if(N.isNeg())throw new Error("Cannot calculate mod for a negative divisor");return N.isZero()?Y:Y.mod(N)},"Fraction, Fraction":function(Y,N){if(N.compare(0)<0)throw new Error("Cannot calculate mod for a negative divisor");return Y.compare(0)>=0?Y.mod(N):Y.mod(N).add(N).mod(N)}},Gr({typed:r,matrix:o,concat:p})({SS:D,DS:y,SD:h,Ss:E,sS:k}))}),Kfe=["typed","config","round","matrix","equalScalar","zeros","BigNumber","DenseMatrix","concat"],jT="number | BigNumber | Fraction | Matrix | Array",ehe="".concat(jT,", ").concat(jT,", ...").concat(jT);function Z5(t){return!t.some(r=>Array.isArray(r))}var the=xe("gcd",Kfe,t=>{var{typed:r,matrix:e,config:i,round:o,equalScalar:a,zeros:l,BigNumber:u,DenseMatrix:p,concat:f}=t,h=j5({typed:r,config:i,round:o,matrix:e,equalScalar:a,zeros:l,DenseMatrix:p,concat:f}),y=Yd({typed:r}),D=zT({typed:r,equalScalar:a}),E=rh({typed:r,DenseMatrix:p});return r("gcd",{"number, number":function T(U,Y){if(!vn(U)||!vn(Y))throw new Error("Parameters in function gcd must be integer numbers");for(var N;0!==Y;)N=h(U,Y),U=Y,Y=N;return U<0?-U:U},"BigNumber, BigNumber":function L(U,Y){if(!U.isInt()||!Y.isInt())throw new Error("Parameters in function gcd must be integer numbers");for(var N=new u(0);!Y.isZero();){var q=h(U,Y);U=Y,Y=q}return U.lt(N)?U.neg():U},"Fraction, Fraction":(U,Y)=>U.gcd(Y)},Gr({typed:r,matrix:e,concat:f})({SS:D,DS:y,Ss:E}),{[ehe]:r.referToSelf(U=>(Y,N,q)=>{for(var j=U(Y,N),z=0;z<q.length;z++)j=U(j,q[z]);return j}),Array:r.referToSelf(U=>Y=>{if(1===Y.length&&Array.isArray(Y[0])&&Z5(Y[0]))return U(...Y[0]);if(Z5(Y))return U(...Y);throw new ih("gcd() supports only 1d matrices!")}),Matrix:r.referToSelf(U=>Y=>U(Y.toArray()))})}),rhe=xe("hypot",["typed","abs","addScalar","divideScalar","multiplyScalar","sqrt","smaller","isPositive"],t=>{var{typed:r,abs:e,addScalar:i,divideScalar:o,multiplyScalar:a,sqrt:l,smaller:u,isPositive:p}=t;return r("hypot",{"... number | BigNumber":f,Array:f,Matrix:h=>f(xr(h.toArray()))});function f(h){for(var y=0,D=0,E=0;E<h.length;E++){if(iu(h[E]))throw new TypeError("Unexpected type of argument to hypot");var k=e(h[E]);u(D,k)?(y=a(y,a(o(D,k),o(D,k))),y=i(y,1),D=k):y=i(y,p(k)?a(o(k,D),o(k,D)):k)}return a(D,l(y))}}),ahe=xe("ImmutableDenseMatrix",["smaller","DenseMatrix"],t=>{var{smaller:r,DenseMatrix:e}=t;function i(o,a){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");if(a&&!Uo(a))throw new Error("Invalid datatype: "+a);if(On(o)||Er(o)){var l=new e(o,a);this._data=l._data,this._size=l._size,this._datatype=l._datatype,this._min=null,this._max=null}else if(o&&Er(o.data)&&Er(o.size))this._data=o.data,this._size=o.size,this._datatype=o.datatype,this._min=typeof o.min<"u"?o.min:null,this._max=typeof o.max<"u"?o.max:null;else{if(o)throw new TypeError("Unsupported type of data ("+Vr(o)+")");this._data=[],this._size=[0],this._datatype=a,this._min=null,this._max=null}}return(i.prototype=new e).type="ImmutableDenseMatrix",i.prototype.isImmutableDenseMatrix=!0,i.prototype.subset=function(o){switch(arguments.length){case 1:var a=e.prototype.subset.call(this,o);return On(a)?new i({data:a._data,size:a._size,datatype:a._datatype}):a;case 2:case 3:throw new Error("Cannot invoke set subset on an Immutable Matrix instance");default:throw new SyntaxError("Wrong number of arguments")}},i.prototype.set=function(){throw new Error("Cannot invoke set on an Immutable Matrix instance")},i.prototype.resize=function(){throw new Error("Cannot invoke resize on an Immutable Matrix instance")},i.prototype.reshape=function(){throw new Error("Cannot invoke reshape on an Immutable Matrix instance")},i.prototype.clone=function(){return new i({data:Bn(this._data),size:Bn(this._size),datatype:this._datatype})},i.prototype.toJSON=function(){return{mathjs:"ImmutableDenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},i.fromJSON=function(o){return new i(o)},i.prototype.swapRows=function(){throw new Error("Cannot invoke swapRows on an Immutable Matrix instance")},i.prototype.min=function(){if(null===this._min){var o=null;this.forEach(function(a){(null===o||r(a,o))&&(o=a)}),this._min=null!==o?o:void 0}return this._min},i.prototype.max=function(){if(null===this._max){var o=null;this.forEach(function(a){(null===o||r(o,a))&&(o=a)}),this._max=null!==o?o:void 0}return this._max},i},{isClass:!0}),che=xe("Index",["ImmutableDenseMatrix","getMatrixDataType"],t=>{var{ImmutableDenseMatrix:r,getMatrixDataType:e}=t;function i(a){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");this._dimensions=[],this._sourceSize=[],this._isScalar=!0;for(var l=0,u=arguments.length;l<u;l++){var p=arguments[l],f=Er(p),h=On(p),y=null;if(iT(p))this._dimensions.push(p),this._isScalar=!1;else if(f||h){var D=void 0;"boolean"===e(p)?(f&&(D=o(G5(p).valueOf())),h&&(D=o(G5(p._data).valueOf())),y=p.valueOf().length):D=o(p.valueOf()),this._dimensions.push(D);var E=D.size();(1!==E.length||1!==E[0]||null!==y)&&(this._isScalar=!1)}else if("number"==typeof p)this._dimensions.push(o([p]));else{if("string"!=typeof p)throw new TypeError("Dimension must be an Array, Matrix, number, string, or Range");this._dimensions.push(p)}this._sourceSize.push(y)}}function o(a){for(var l=0,u=a.length;l<u;l++)if("number"!=typeof a[l]||!vn(a[l]))throw new TypeError("Index parameters must be positive integer numbers");return new r(a)}return i.prototype.type="Index",i.prototype.isIndex=!0,i.prototype.clone=function(){var a=new i;return a._dimensions=Bn(this._dimensions),a._isScalar=this._isScalar,a._sourceSize=this._sourceSize,a},i.create=function(a){var l=new i;return i.apply(l,a),l},i.prototype.size=function(){for(var a=[],l=0,u=this._dimensions.length;l<u;l++){var p=this._dimensions[l];a[l]="string"==typeof p?1:p.size()[0]}return a},i.prototype.max=function(){for(var a=[],l=0,u=this._dimensions.length;l<u;l++){var p=this._dimensions[l];a[l]="string"==typeof p?p:p.max()}return a},i.prototype.min=function(){for(var a=[],l=0,u=this._dimensions.length;l<u;l++){var p=this._dimensions[l];a[l]="string"==typeof p?p:p.min()}return a},i.prototype.forEach=function(a){for(var l=0,u=this._dimensions.length;l<u;l++)a(this._dimensions[l],l,this)},i.prototype.dimension=function(a){return this._dimensions[a]||null},i.prototype.isObjectProperty=function(){return 1===this._dimensions.length&&"string"==typeof this._dimensions[0]},i.prototype.getObjectProperty=function(){return this.isObjectProperty()?this._dimensions[0]:null},i.prototype.isScalar=function(){return this._isScalar},i.prototype.valueOf=i.prototype.toArray=function(){for(var a=[],l=0,u=this._dimensions.length;l<u;l++){var p=this._dimensions[l];a.push("string"==typeof p?p:p.toArray())}return a},i.prototype.toString=function(){for(var a=[],l=0,u=this._dimensions.length;l<u;l++){var p=this._dimensions[l];a.push("string"==typeof p?JSON.stringify(p):p.toString())}return"["+a.join(", ")+"]"},i.prototype.toJSON=function(){return{mathjs:"Index",dimensions:this._dimensions}},i.fromJSON=function(a){return i.create(a.dimensions)},i},{isClass:!0});function G5(t){var r=[];return t.forEach((e,i)=>{e&&r.push(i)}),r}var LM="larger",dhe=xe(LM,["typed","config","matrix","DenseMatrix","concat"],t=>{var{typed:r,config:e,matrix:i,DenseMatrix:o,concat:a}=t,l=ua({typed:r}),u=wc({typed:r,DenseMatrix:o}),p=so({typed:r,DenseMatrix:o}),f=Gr({typed:r,matrix:i,concat:a}),h=Mg({typed:r});return r(LM,phe({typed:r,config:e}),{"boolean, boolean":(y,D)=>y>D,"BigNumber, BigNumber":function(D,E){return D.gt(E)&&!xc(D,E,e.epsilon)},"Fraction, Fraction":(y,D)=>1===y.compare(D),"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},h,f({SS:u,DS:l,Ss:p}))}),phe=xe(LM,["typed","config"],t=>{var{typed:r,config:e}=t;return r(LM,{"number, number":function(o,a){return o>a&&!cs(o,a,e.epsilon)}})}),hhe=xe("log",["config","typed","divideScalar","Complex"],t=>{var{typed:r,config:e,divideScalar:i,Complex:o}=t;return r("log",{number:function(l){return l>=0||e.predictable?function Ise(t,r){return r?Math.log(t)/Math.log(r):Math.log(t)}(l):new o(l,0).log()},Complex:function(l){return l.log()},BigNumber:function(l){return!l.isNegative()||e.predictable?l.ln():new o(l.toNumber(),0).log()},"any, any":r.referToSelf(a=>(l,u)=>i(a(l),a(u)))})}),W5="lsolveAll",ghe=xe(W5,["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],t=>{var{typed:r,matrix:e,divideScalar:i,multiplyScalar:o,subtractScalar:a,equalScalar:l,DenseMatrix:u}=t,p=p0({DenseMatrix:u});return r(W5,{"SparseMatrix, Array | Matrix":function(D,E){return function h(y,D){for(var E=[p(y,D,!0)._data.map(Ee=>Ee[0])],k=y._size[0],T=y._size[1],L=y._values,U=y._index,Y=y._ptr,N=0;N<T;N++)for(var q=E.length,j=0;j<q;j++){for(var z=E[j],J=[],B=[],V=Y[N+1],K=0,ee=Y[N];ee<V;ee++){var re=U[ee];re===N?K=L[ee]:re>N&&(J.push(L[ee]),B.push(re))}if(l(K,0))if(l(z[N],0)){if(0===j){var W=[...z];W[N]=1;for(var ce=0,te=B.length;ce<te;ce++){var me=B[ce];W[me]=a(W[me],J[ce])}E.push(W)}}else{if(0===j)return[];E.splice(j,1),j-=1,q-=1}else{z[N]=i(z[N],K);for(var le=0,ie=B.length;le<ie;le++){var G=B[le];z[G]=a(z[G],o(z[N],J[le]))}}}return E.map(Ee=>new u({data:Ee.map(Le=>[Le]),size:[k,1]}))}(D,E)},"DenseMatrix, Array | Matrix":function(D,E){return f(D,E)},"Array, Array | Matrix":function(D,E){return f(e(D),E).map(L=>L.valueOf())}});function f(y,D){for(var E=[p(y,D,!0)._data.map(B=>B[0])],k=y._data,T=y._size[0],L=y._size[1],U=0;U<L;U++)for(var Y=E.length,N=0;N<Y;N++){var q=E[N];if(l(k[U][U],0))if(l(q[U],0)){if(0===N){var z=[...q];z[U]=1;for(var J=U+1;J<L;J++)z[J]=a(z[J],k[J][U]);E.push(z)}}else{if(0===N)return[];E.splice(N,1),N-=1,Y-=1}else{q[U]=i(q[U],k[U][U]);for(var j=U+1;j<L;j++)q[j]=a(q[j],o(q[U],k[j][U]))}}return E.map(B=>new u({data:B.map(H=>[H]),size:[T,1]}))}}),Q5="matrixFromRows",vhe=xe(Q5,["typed","matrix","flatten","size"],t=>{var{typed:r,matrix:e,flatten:i,size:o}=t;return r(Q5,{"...Array":function(p){return a(p)},"...Matrix":function(p){return e(a(p.map(f=>f.toArray())))}});function a(u){if(0===u.length)throw new TypeError("At least one row is needed to construct a matrix.");var p=l(u[0]),f=[];for(var h of u){var y=l(h);if(y!==p)throw new TypeError("The vectors had different length: "+(0|p)+" \u2260 "+(0|y));f.push(i(h))}return f}function l(u){var p=o(u);if(1===p.length)return p[0];if(2===p.length){if(1===p[0])return p[1];if(1===p[1])return p[0];throw new TypeError("At least one of the arguments is not a vector.")}throw new TypeError("Only one- or two-dimensional vectors are supported.")}}),J5="multiply",bhe=xe(J5,["typed","matrix","addScalar","multiplyScalar","equalScalar","dot"],t=>{var{typed:r,matrix:e,addScalar:i,multiplyScalar:o,equalScalar:a,dot:l}=t,u=Po({typed:r,equalScalar:a}),p=El({typed:r});function f(j,z){switch(j.length){case 1:switch(z.length){case 1:if(j[0]!==z[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(j[0]!==z[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+j[0]+") must match Matrix rows ("+z[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+z.length+" dimensions)")}break;case 2:switch(z.length){case 1:if(j[1]!==z[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+j[1]+") must match Vector length ("+z[0]+")");break;case 2:if(j[1]!==z[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+j[1]+") must match Matrix B rows ("+z[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+z.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+j.length+" dimensions)")}}var E=r("_multiplyMatrixVector",{"DenseMatrix, any":function T(j,z){var le,J=j._data,B=j._size,H=j._datatype,V=z._data,K=z._datatype,ee=B[0],re=B[1],ie=i,G=o;H&&K&&H===K&&"string"==typeof H&&(ie=r.find(i,[le=H,le]),G=r.find(o,[le,le]));for(var W=[],ce=0;ce<ee;ce++){for(var te=J[ce],me=G(te[0],V[0]),Ee=1;Ee<re;Ee++)me=ie(me,G(te[Ee],V[Ee]));W[ce]=me}return j.createDenseMatrix({data:W,size:[ee],datatype:le})},"SparseMatrix, any":function Y(j,z){var J=j._values,B=j._index,H=j._ptr,V=j._datatype;if(!J)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var ce,K=z._data,ee=z._datatype,re=j._size[0],le=z._size[0],ie=[],G=[],W=[],te=i,me=o,Ee=a,Le=0;V&&ee&&V===ee&&"string"==typeof V&&(te=r.find(i,[ce=V,ce]),me=r.find(o,[ce,ce]),Ee=r.find(a,[ce,ce]),Le=r.convert(0,ce));var ve=[],Fe=[];W[0]=0;for(var Je=0;Je<le;Je++){var Ye=K[Je];if(!Ee(Ye,Le))for(var Dt=H[Je+1],ft=H[Je];ft<Dt;ft++){var st=B[ft];Fe[st]?ve[st]=te(ve[st],me(Ye,J[ft])):(Fe[st]=!0,G.push(st),ve[st]=me(Ye,J[ft]))}}for(var Tt=G.length,Qt=0;Qt<Tt;Qt++)ie[Qt]=ve[G[Qt]];return W[1]=G.length,j.createSparseMatrix({values:ie,index:G,ptr:W,size:[re,1],datatype:ce})}}),k=r("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":function L(j,z){var G,J=j._data,B=j._size,H=j._datatype,V=z._data,ee=z._datatype,re=B[0],le=B[1],ie=z._size[1],W=i,ce=o;H&&ee&&H===ee&&"string"==typeof H&&(W=r.find(i,[G=H,G]),ce=r.find(o,[G,G]));for(var te=[],me=0;me<re;me++){var Ee=J[me];te[me]=[];for(var Le=0;Le<ie;Le++){for(var ve=ce(Ee[0],V[0][Le]),Fe=1;Fe<le;Fe++)ve=W(ve,ce(Ee[Fe],V[Fe][Le]));te[me][Le]=ve}}return j.createDenseMatrix({data:te,size:[re,ie],datatype:G})},"DenseMatrix, SparseMatrix":function U(j,z){var J=j._data,B=j._size,H=j._datatype,V=z._values,K=z._index,ee=z._ptr,re=z._size,le=z._datatype;if(!V)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var W,ie=B[0],G=re[1],ce=i,te=o,me=a,Ee=0;H&&le&&H===le&&"string"==typeof H&&(ce=r.find(i,[W=H,W]),te=r.find(o,[W,W]),me=r.find(a,[W,W]),Ee=r.convert(0,W));for(var Le=[],ve=[],Fe=[],Je=z.createSparseMatrix({values:Le,index:ve,ptr:Fe,size:[ie,G],datatype:W}),Ye=0;Ye<G;Ye++){Fe[Ye]=ve.length;var at=ee[Ye],Dt=ee[Ye+1];if(Dt>at)for(var ft=0,st=0;st<ie;st++){for(var Tt=st+1,Qt=void 0,Ut=at;Ut<Dt;Ut++){var Ht=K[Ut];ft!==Tt?(Qt=te(J[st][Ht],V[Ut]),ft=Tt):Qt=ce(Qt,te(J[st][Ht],V[Ut]))}ft===Tt&&!me(Qt,Ee)&&(ve.push(st),Le.push(Qt))}}return Fe[G]=ve.length,Je},"SparseMatrix, DenseMatrix":function N(j,z){var J=j._values,B=j._index,H=j._ptr,V=j._datatype;if(!J)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var G,K=z._data,ee=z._datatype,re=j._size[0],le=z._size[0],ie=z._size[1],W=i,ce=o,te=a,me=0;V&&ee&&V===ee&&"string"==typeof V&&(W=r.find(i,[G=V,G]),ce=r.find(o,[G,G]),te=r.find(a,[G,G]),me=r.convert(0,G));for(var Ee=[],Le=[],ve=[],Fe=j.createSparseMatrix({values:Ee,index:Le,ptr:ve,size:[re,ie],datatype:G}),Je=[],Ye=[],at=0;at<ie;at++){ve[at]=Le.length;for(var Dt=at+1,ft=0;ft<le;ft++){var st=K[ft][at];if(!te(st,me))for(var Qt=H[ft+1],Ut=H[ft];Ut<Qt;Ut++){var Ht=B[Ut];Ye[Ht]!==Dt?(Ye[Ht]=Dt,Le.push(Ht),Je[Ht]=ce(st,J[Ut])):Je[Ht]=W(Je[Ht],ce(st,J[Ut]))}}for(var Be=Le.length,ut=ve[at];ut<Be;ut++)Ee[ut]=Je[Le[ut]]}return ve[ie]=Le.length,Fe},"SparseMatrix, SparseMatrix":function q(j,z){var ce,J=j._values,B=j._index,H=j._ptr,V=j._datatype,K=z._values,ee=z._index,re=z._ptr,le=z._datatype,ie=j._size[0],G=z._size[1],W=J&&K,te=i,me=o;V&&le&&V===le&&"string"==typeof V&&(te=r.find(i,[ce=V,ce]),me=r.find(o,[ce,ce]));for(var at,ft,st,Qt,Ut,Ht,Ee=W?[]:void 0,Le=[],ve=[],Fe=j.createSparseMatrix({values:Ee,index:Le,ptr:ve,size:[ie,G],datatype:ce}),Je=W?[]:void 0,Ye=[],Se=0;Se<G;Se++){ve[Se]=Le.length;var Be=Se+1;for(Qt=re[Se+1],st=re[Se];st<Qt;st++)if(Ht=ee[st],W)for(ft=H[Ht+1],at=H[Ht];at<ft;at++)Ye[Ut=B[at]]!==Be?(Ye[Ut]=Be,Le.push(Ut),Je[Ut]=me(K[st],J[at])):Je[Ut]=te(Je[Ut],me(K[st],J[at]));else for(ft=H[Ht+1],at=H[Ht];at<ft;at++)Ye[Ut=B[at]]!==Be&&(Ye[Ut]=Be,Le.push(Ut));if(W)for(var Te=Le.length,Ve=ve[Se];Ve<Te;Ve++)Ee[Ve]=Je[Le[Ve]]}return ve[G]=Le.length,Fe}});return r(J5,o,{"Array, Array":r.referTo("Matrix, Matrix",j=>(z,J)=>{f(Vn(z),Vn(J));var B=j(e(z),e(J));return On(B)?B.valueOf():B}),"Matrix, Matrix":function(z,J){var B=z.size(),H=J.size();return f(B,H),1===B.length?1===H.length?function h(j,z,J){if(0===J)throw new Error("Cannot multiply two empty vectors");return l(j,z)}(z,J,B[0]):function y(j,z){if("dense"!==z.storage())throw new Error("Support for SparseMatrix not implemented");return function D(j,z){var ie,J=j._data,H=j._datatype,V=z._data,ee=z._datatype,re=j._size[0],le=z._size[1],G=i,W=o;H&&ee&&H===ee&&"string"==typeof H&&(G=r.find(i,[ie=H,ie]),W=r.find(o,[ie,ie]));for(var ce=[],te=0;te<le;te++){for(var me=W(J[0],V[0][te]),Ee=1;Ee<re;Ee++)me=G(me,W(J[Ee],V[Ee][te]));ce[te]=me}return j.createDenseMatrix({data:ce,size:[le],datatype:ie})}(j,z)}(z,J):1===H.length?E(z,J):k(z,J)},"Matrix, Array":r.referTo("Matrix,Matrix",j=>(z,J)=>j(z,e(J))),"Array, Matrix":r.referToSelf(j=>(z,J)=>j(e(z,J.storage()),J)),"SparseMatrix, any":function(z,J){return u(z,J,o,!1)},"DenseMatrix, any":function(z,J){return p(z,J,o,!1)},"any, SparseMatrix":function(z,J){return u(J,z,o,!0)},"any, DenseMatrix":function(z,J){return p(J,z,o,!0)},"Array, any":function(z,J){return p(e(z),J,o,!1).valueOf()},"any, Array":function(z,J){return p(e(J),z,o,!0).valueOf()},"any, any":o,"any, any, ...any":r.referToSelf(j=>(z,J,B)=>{for(var H=j(z,J),V=0;V<B.length;V++)H=j(H,B[V]);return H})})}),X5="nthRoots",xhe=xe(X5,["config","typed","divideScalar","Complex"],t=>{var{typed:r,Complex:o}=t,a=[function(p){return new o(p,0)},function(p){return new o(0,p)},function(p){return new o(-p,0)},function(p){return new o(0,-p)}];function l(u,p){if(p<0)throw new Error("Root must be greater than zero");if(0===p)throw new Error("Root must be non-zero");if(p%1!=0)throw new Error("Root must be an integer");if(0===u||0===u.abs())return[new o(0,0)];var h,f="number"==typeof u;(f||0===u.re||0===u.im)&&(h=f?2*+(u<0):0===u.im?2*+(u.re<0):2*+(u.im<0)+1);for(var y=u.arg(),D=u.abs(),E=[],k=Math.pow(D,1/p),T=0;T<p;T++){var L=(h+4*T)/p;L!==Math.round(L)?E.push(new o({r:k,phi:(y+2*Math.PI*T)/p})):E.push(a[L%4](k))}return E}return r(X5,{Complex:function(p){return l(p,2)},"Complex, number":l})}),Mhe=xe("or",["typed","matrix","equalScalar","DenseMatrix","concat"],t=>{var{typed:r,matrix:e,equalScalar:i,DenseMatrix:o,concat:a}=t,l=ua({typed:r}),u=FM({typed:r,equalScalar:i}),p=so({typed:r,DenseMatrix:o}),f=Gr({typed:r,matrix:e,concat:a});return r("or",{"number, number":m4,"Complex, Complex":function(y,D){return 0!==y.re||0!==y.im||0!==D.re||0!==D.im},"BigNumber, BigNumber":function(y,D){return!y.isZero()&&!y.isNaN()||!D.isZero()&&!D.isNaN()},"Unit, Unit":r.referToSelf(h=>(y,D)=>h(y.value||0,D.value||0))},f({SS:u,DS:l,Ss:p}))}),eU="partitionSelect",Dhe=xe(eU,["typed","isNumeric","isNaN","compare"],t=>{var{typed:r,isNumeric:e,isNaN:i,compare:o}=t,a=o,l=(f,h)=>-o(f,h);return r(eU,{"Array | Matrix, number":function(h,y){return u(h,y,a)},"Array | Matrix, number, string":function(h,y,D){if("asc"===D)return u(h,y,a);if("desc"===D)return u(h,y,l);throw new Error('Compare string must be "asc" or "desc"')},"Array | Matrix, number, function":u});function u(f,h,y){if(!vn(h)||h<0)throw new Error("k must be a non-negative integer");if(On(f)){if(f.size().length>1)throw new Error("Only one dimensional matrices supported");return p(f.valueOf(),h,y)}if(Array.isArray(f))return p(f,h,y)}function p(f,h,y){if(h>=f.length)throw new Error("k out of bounds");for(var D=0;D<f.length;D++)if(e(f[D])&&i(f[D]))return f[D];for(var E=0,k=f.length-1;E<k;){for(var T=E,L=k,U=f[Math.floor(Math.random()*(k-E+1))+E];T<L;)if(y(f[T],U)>=0){var Y=f[L];f[L]=f[T],f[T]=Y,--L}else++T;y(f[T],U)>0&&--T,h<=T?k=T:E=T+1}return f[h]}}),tU="rightLogShift",Ehe=xe(tU,["typed","matrix","equalScalar","zeros","DenseMatrix","concat"],t=>{var{typed:r,matrix:e,equalScalar:i,zeros:o,DenseMatrix:a,concat:l}=t,u=Yd({typed:r}),p=Ol({typed:r,equalScalar:i}),f=UT({typed:r,equalScalar:i}),h=rh({typed:r,DenseMatrix:a}),y=Po({typed:r,equalScalar:i}),D=El({typed:r}),E=Gr({typed:r,matrix:e,concat:l}),k=VT({typed:r,matrix:e});return r(tU,{"number, number":I6,"SparseMatrix, number | BigNumber":r.referToSelf(T=>(L,U)=>i(U,0)?L.clone():y(L,U,T,!1)),"DenseMatrix, number | BigNumber":r.referToSelf(T=>(L,U)=>i(U,0)?L.clone():D(L,U,T,!1)),"number | BigNumber, SparseMatrix":r.referToSelf(T=>(L,U)=>i(L,0)?o(U.size(),U.storage()):h(U,L,T,!0)),"number | BigNumber, DenseMatrix":r.referToSelf(T=>(L,U)=>i(L,0)?o(U.size(),U.storage()):D(U,L,T,!0))},k,E({SS:f,DS:u,SD:p}))});function nU(t,r,e,i,o,a,l){var u=0;for(e[l]=t;u>=0;){var p=e[l+u],f=e[i+p];-1===f?(u--,a[r++]=p):(e[i+p]=e[o+f],e[l+ ++u]=f)}return r}function Gd(t){return-t-2}var Nhe=xe("csAmd",["add","multiply","transpose"],t=>{var{add:r,multiply:e,transpose:i}=t;return function(h,y){if(!y||h<=0||h>3)return null;var D=y._size,E=D[0],k=D[1],T=0,L=Math.max(16,10*Math.sqrt(k)),U=function o(f,h,y,D,E){var k=i(h);if(1===f&&D===y)return r(h,k);if(2===f){for(var T=k._index,L=k._ptr,U=0,Y=0;Y<y;Y++){var N=L[Y];if(L[Y]=U,!(L[Y+1]-N>E))for(var q=L[Y+1];N<q;N++)T[U++]=T[N]}return L[y]=U,h=i(k),e(k,h)}return e(k,h)}(h,y,E,k,L=Math.min(k-2,L));!function Ihe(t,r,e){for(var i=t._values,o=t._index,a=t._ptr,u=t._size[1],p=0,f=0;f<u;f++){var h=a[f];for(a[f]=p;h<a[f+1];h++)r(o[h],f,i?i[h]:1,e)&&(o[p]=o[h],i&&(i[p]=i[h]),p++)}a[u]=p,o.splice(p,o.length-p),i&&i.splice(p,i.length-p)}(U,p,null);for(var te,me,Ee,Le,ve,Fe,Je,Ye,at,Dt,ft,st,Tt,Qt,Ut,Ht,Y=U._index,N=U._ptr,q=N[k],j=[],z=[],B=k+1,H=2*(k+1),V=3*(k+1),K=4*(k+1),ee=5*(k+1),re=6*(k+1),le=7*(k+1),ie=j,G=function a(f,h,y,D,E,k,T,L,U,Y,N,q){for(var j=0;j<f;j++)y[D+j]=h[j+1]-h[j];y[D+f]=0;for(var z=0;z<=f;z++)y[E+z]=-1,k[z]=-1,y[T+z]=-1,y[L+z]=-1,y[U+z]=1,y[Y+z]=1,y[N+z]=0,y[q+z]=y[D+z];var J=u(0,0,y,Y,f);return y[N+f]=-2,h[f]=-1,y[Y+f]=0,J}(k,N,z,0,V,ie,H,le,B,re,K,ee),W=function l(f,h,y,D,E,k,T,L,U,Y,N){for(var q=0,j=0;j<f;j++){var z=y[D+j];if(0===z)y[E+j]=-2,q++,h[j]=-1,y[k+j]=0;else if(z>T)y[L+j]=0,y[E+j]=-1,q++,h[j]=Gd(f),y[L+f]++;else{var J=y[U+z];-1!==J&&(Y[J]=j),y[N+j]=y[U+z],y[U+z]=j}}return q}(k,N,z,ee,K,re,L,B,V,ie,H),ce=0;W<k;){for(Ee=-1;ce<k&&-1===(Ee=z[V+ce]);ce++);-1!==z[H+Ee]&&(ie[z[H+Ee]]=-1),z[V+ce]=z[H+Ee];var Se=z[K+Ee],Be=z[B+Ee];W+=Be;var ut=0;z[B+Ee]=-Be;var Te=N[Ee],Ve=0===Se?Te:q,tt=Ve;for(Le=1;Le<=Se+1;Le++){for(Le>Se?(Fe=Ee,Je=Te,Ye=z[0+Ee]-Se):(Je=N[Fe=Y[Te++]],Ye=z[0+Fe]),ve=1;ve<=Ye;ve++)!((at=z[B+(te=Y[Je++])])<=0)&&(ut+=at,z[B+te]=-at,Y[tt++]=te,-1!==z[H+te]&&(ie[z[H+te]]=ie[te]),-1!==ie[te]?z[H+ie[te]]=z[H+te]:z[V+z[ee+te]]=z[H+te]);Fe!==Ee&&(N[Fe]=Gd(Ee),z[re+Fe]=0)}for(0!==Se&&(q=tt),z[ee+Ee]=ut,N[Ee]=Ve,z[0+Ee]=tt-Ve,z[K+Ee]=-2,G=u(G,T,z,re,k),Dt=Ve;Dt<tt;Dt++)if(!((ft=z[K+(te=Y[Dt])])<=0)){var Rt=G-(at=-z[B+te]);for(Te=N[te],st=N[te]+ft-1;Te<=st;Te++)z[re+(Fe=Y[Te])]>=G?z[re+Fe]-=at:0!==z[re+Fe]&&(z[re+Fe]=z[ee+Fe]+Rt)}for(Dt=Ve;Dt<tt;Dt++){for(Tt=(st=N[te=Y[Dt]])+z[K+te]-1,Qt=st,Ut=0,Ht=0,Te=st;Te<=Tt;Te++)if(0!==z[re+(Fe=Y[Te])]){var Ot=z[re+Fe]-G;Ot>0?(Ht+=Ot,Y[Qt++]=Fe,Ut+=Fe):(N[Fe]=Gd(Ee),z[re+Fe]=0)}z[K+te]=Qt-st+1;var en=Qt,zt=st+z[0+te];for(Te=Tt+1;Te<zt;Te++){var Dn=z[B+(me=Y[Te])];Dn<=0||(Ht+=Dn,Y[Qt++]=me,Ut+=me)}0===Ht?(N[te]=Gd(Ee),ut-=at=-z[B+te],Be+=at,W+=at,z[B+te]=0,z[K+te]=-1):(z[ee+te]=Math.min(z[ee+te],Ht),Y[Qt]=Y[en],Y[en]=Y[st],Y[st]=Ee,z[0+te]=Qt-st+1,z[H+te]=z[le+(Ut=(Ut<0?-Ut:Ut)%k)],z[le+Ut]=te,ie[te]=Ut)}for(z[ee+Ee]=ut,G=u(G+(T=Math.max(T,ut)),T,z,re,k),Dt=Ve;Dt<tt;Dt++)if(!(z[B+(te=Y[Dt])]>=0))for(te=z[le+(Ut=ie[te])],z[le+Ut]=-1;-1!==te&&-1!==z[H+te];te=z[H+te],G++){for(Ye=z[0+te],ft=z[K+te],Te=N[te]+1;Te<=N[te]+Ye-1;Te++)z[re+Y[Te]]=G;var hr=te;for(me=z[H+te];-1!==me;){var Fr=z[0+me]===Ye&&z[K+me]===ft;for(Te=N[me]+1;Fr&&Te<=N[me]+Ye-1;Te++)z[re+Y[Te]]!==G&&(Fr=0);Fr?(N[me]=Gd(te),z[B+te]+=z[B+me],z[B+me]=0,z[K+me]=-1,z[H+hr]=me=z[H+me]):(hr=me,me=z[H+me])}}for(Te=Ve,Dt=Ve;Dt<tt;Dt++)!((at=-z[B+(te=Y[Dt])])<=0)&&(z[B+te]=at,Ht=z[ee+te]+ut-at,-1!==z[V+(Ht=Math.min(Ht,k-W-at))]&&(ie[z[V+Ht]]=te),z[H+te]=z[V+Ht],ie[te]=-1,z[V+Ht]=te,ce=Math.min(ce,Ht),z[ee+te]=Ht,Y[Te++]=te);z[B+Ee]=Be,0==(z[0+Ee]=Te-Ve)&&(N[Ee]=-1,z[re+Ee]=0),0!==Se&&(q=Te)}for(te=0;te<k;te++)N[te]=Gd(N[te]);for(me=0;me<=k;me++)z[V+me]=-1;for(me=k;me>=0;me--)z[B+me]>0||(z[H+me]=z[V+N[me]],z[V+N[me]]=me);for(Fe=k;Fe>=0;Fe--)z[B+Fe]<=0||-1!==N[Fe]&&(z[H+Fe]=z[V+N[Fe]],z[V+N[Fe]]=Fe);for(Ee=0,te=0;te<=k;te++)-1===N[te]&&(Ee=nU(te,Ee,z,V,H,j,re));return j.splice(j.length-1,1),j};function u(f,h,y,D,E){if(f<2||f+h<0){for(var k=0;k<E;k++)0!==y[D+k]&&(y[D+k]=1);f=2}return f}function p(f,h){return f!==h}});function Rhe(t,r,e,i,o,a,l){var u,p,h,f=0;if(t<=r||e[i+r]<=e[o+t])return-1;e[o+t]=e[i+r];var y=e[a+t];if(e[a+t]=r,-1===y)f=1,h=t;else{for(f=2,h=y;h!==e[l+h];h=e[l+h]);for(u=y;u!==h;u=p)p=e[l+u],e[l+u]=h}return{jleaf:f,q:h}}var Uhe=xe("csCounts",["transpose"],t=>{var{transpose:r}=t;return function(e,i,o,a){if(!e||!i||!o)return null;var f,h,y,D,E,T,l=e._size,u=l[0],p=l[1],L=4*p+(a?p+u+1:0),U=[],N=p,q=2*p,j=3*p,z=4*p,J=5*p+1;for(y=0;y<L;y++)U[y]=-1;var B=[],H=r(e),V=H._index,K=H._ptr;for(y=0;y<p;y++)for(B[h=o[y]]=-1===U[j+h]?1:0;-1!==h&&-1===U[j+h];h=i[h])U[j+h]=y;if(a){for(y=0;y<p;y++)U[o[y]]=y;for(f=0;f<u;f++){for(y=p,T=K[f+1],E=K[f];E<T;E++)y=Math.min(y,U[V[E]]);U[J+f]=U[z+y],U[z+y]=f}}for(f=0;f<p;f++)U[0+f]=f;for(y=0;y<p;y++){for(-1!==i[h=o[y]]&&B[i[h]]--,D=a?U[z+y]:h;-1!==D;D=a?U[J+D]:-1)for(E=K[D];E<K[D+1];E++){var ee=Rhe(f=V[E],h,U,j,N,q,0);ee.jleaf>=1&&B[h]++,2===ee.jleaf&&B[ee.q]--}-1!==i[h]&&(U[0+h]=i[h])}for(h=0;h<p;h++)-1!==i[h]&&(B[i[h]]+=B[h]);return B}}),Hhe=xe("csSqr",["add","multiply","transpose"],t=>{var{add:r,multiply:e,transpose:i}=t,o=Nhe({add:r,multiply:e,transpose:i}),a=Uhe({transpose:i});return function(p,f,h){var k,y=f._ptr,E=f._size[1],T={};if(T.q=o(p,f),p&&!T.q)return null;if(h){var L=p?function Ahe(t,r,e,i){for(var o=t._values,a=t._index,l=t._ptr,u=t._size,p=t._datatype,f=u[0],h=u[1],y=i&&t._values?[]:null,D=[],E=[],k=0,T=0;T<h;T++){E[T]=k;for(var L=e?e[T]:T,Y=l[L+1],N=l[L];N<Y;N++)D[k]=r?r[a[N]]:a[N],y&&(y[k]=o[N]),k++}return E[h]=k,t.createSparseMatrix({values:y,index:D,ptr:E,size:[f,h],datatype:p})}(f,null,T.q,0):f;T.parent=function The(t,r){if(!t)return null;var y,D,e=t._index,i=t._ptr,o=t._size,a=o[0],l=o[1],u=[],p=[],h=l;if(r)for(y=0;y<a;y++)p[h+y]=-1;for(var E=0;E<l;E++){u[E]=-1,p[0+E]=-1;for(var T=i[E+1],L=i[E];L<T;L++){var U=e[L];for(y=r?p[h+U]:U;-1!==y&&y<E;y=D)D=p[0+y],p[0+y]=E,-1===D&&(u[y]=E);r&&(p[h+U]=E)}}return u}(L,1);var U=function Phe(t,r){if(!t)return null;var i,e=0,o=[],a=[],u=r,p=2*r;for(i=0;i<r;i++)a[0+i]=-1;for(i=r-1;i>=0;i--)-1!==t[i]&&(a[u+i]=a[0+t[i]],a[0+t[i]]=i);for(i=0;i<r;i++)-1===t[i]&&(e=nU(i,e,a,0,u,o,p));return o}(T.parent,E);if(T.cp=a(L,T.parent,U,1),L&&T.parent&&T.cp&&function l(u,p){var f=u._ptr,h=u._index,y=u._size,D=y[0],E=y[1];p.pinv=[],p.leftmost=[];var z,J,B,V,k=p.parent,T=p.pinv,L=p.leftmost,U=[],N=D,q=D+E,j=D+2*E;for(J=0;J<E;J++)U[N+J]=-1,U[q+J]=-1,U[j+J]=0;for(z=0;z<D;z++)L[z]=-1;for(J=E-1;J>=0;J--)for(V=f[J+1],B=f[J];B<V;B++)L[h[B]]=J;for(z=D-1;z>=0;z--)T[z]=-1,-1!==(J=L[z])&&(0==U[j+J]++&&(U[q+J]=z),U[0+z]=U[N+J],U[N+J]=z);for(p.lnz=0,p.m2=D,J=0;J<E;J++)if(z=U[N+J],p.lnz++,z<0&&(z=p.m2++),T[z]=J,!(--j[J]<=0)){p.lnz+=U[j+J];var K=k[J];-1!==K&&(0===U[j+K]&&(U[q+K]=U[q+J]),U[0+U[q+J]]=U[N+K],U[N+K]=U[0+z],U[j+K]+=U[j+J])}for(z=0;z<D;z++)T[z]<0&&(T[z]=J++);return!0}(L,T))for(T.unz=0,k=0;k<E;k++)T.unz+=T.cp[k]}else T.unz=4*y[E]+E,T.lnz=T.unz;return T}});function qT(t,r){return t[r]<0}function rU(t,r){t[r]=Gd(t[r])}function iU(t){return t<0?Gd(t):t}function jhe(t,r,e,i,o){var f,h,y,a=r._index,l=r._ptr,p=r._size[1],D=0;for(i[0]=t;D>=0;){t=i[D];var E=o?o[t]:t;qT(l,t)||(rU(l,t),i[p+D]=E<0?0:iU(l[E]));var k=1;for(h=i[p+D],y=E<0?0:iU(l[E+1]);h<y;h++)if(!qT(l,f=a[h])){i[p+D]=h,i[++D]=f,k=0;break}k&&(D--,i[--e]=t)}return e}var Ghe=xe("csSpsolve",["divideScalar","multiply","subtract"],t=>{var{divideScalar:r,multiply:e,subtract:i}=t;return function(a,l,u,p,f,h,y){var q,j,z,J,D=a._values,E=a._index,k=a._ptr,L=a._size[1],U=l._values,Y=l._index,N=l._ptr,B=function qhe(t,r,e,i,o){var h,D,a=t._ptr,u=r._index,p=r._ptr,f=t._size[1],E=f;for(D=p[e+1],h=p[e];h<D;h++){var k=u[h];qT(a,k)||(E=jhe(k,t,E,i,o))}for(h=E;h<f;h++)rU(a,i[h]);return E}(a,l,u,p,h);for(q=B;q<L;q++)f[p[q]]=0;for(z=N[u+1],q=j=N[u];q<z;q++)f[Y[q]]=U[q];for(var H=B;H<L;H++){var V=p[H],K=h?h[V]:V;if(!(K<0))for(j=k[K],z=k[K+1],f[V]=r(f[V],D[y?j:z-1]),q=y?j+1:j,J=y?z:z-1;q<J;q++){var ee=E[q];f[ee]=i(f[ee],e(D[q],f[V]))}}return B}}),Qhe=xe("csLu",["abs","divideScalar","multiply","subtract","larger","largerEq","SparseMatrix"],t=>{var{abs:r,divideScalar:e,multiply:i,subtract:o,larger:a,largerEq:l,SparseMatrix:u}=t,p=Ghe({divideScalar:e,multiply:i,subtract:o});return function(h,y,D){if(!h)return null;var T,k=h._size[1],L=100,U=100;y&&(T=y.q,L=y.lnz||L,U=y.unz||U);var K,ee,Y=[],N=[],q=[],j=new u({values:Y,index:N,ptr:q,size:[k,k]}),z=[],J=[],B=[],H=new u({values:z,index:J,ptr:B,size:[k,k]}),V=[],re=[],le=[];for(K=0;K<k;K++)re[K]=0,V[K]=-1,q[K+1]=0;L=0,U=0;for(var ie=0;ie<k;ie++){q[ie]=L,B[ie]=U;var G=T?T[ie]:ie,W=p(j,h,G,le,re,V,1),ce=-1,te=-1;for(ee=W;ee<k;ee++)if(V[K=le[ee]]<0){var me=r(re[K]);a(me,te)&&(te=me,ce=K)}else J[U]=V[K],z[U++]=re[K];if(-1===ce||te<=0)return null;V[G]<0&&l(r(re[G]),i(te,D))&&(ce=G);var Ee=re[ce];for(J[U]=ie,z[U++]=Ee,V[ce]=ie,N[L]=ce,Y[L++]=1,ee=W;ee<k;ee++)V[K=le[ee]]<0&&(N[L]=K,Y[L++]=e(re[K],Ee)),re[K]=0}for(q[k]=L,B[k]=U,ee=0;ee<L;ee++)N[ee]=V[N[ee]];return Y.splice(L,Y.length-L),N.splice(L,N.length-L),z.splice(U,z.length-U),J.splice(U,J.length-U),{L:j,U:H,pinv:V}}}),Xhe=xe("slu",["typed","abs","add","multiply","transpose","divideScalar","subtract","larger","largerEq","SparseMatrix"],t=>{var{typed:r,abs:e,add:i,multiply:o,transpose:a,divideScalar:l,subtract:u,larger:p,largerEq:f,SparseMatrix:h}=t,y=Hhe({add:i,multiply:o,transpose:a}),D=Qhe({abs:e,divideScalar:l,multiply:o,subtract:u,larger:p,largerEq:f,SparseMatrix:h});return r("slu",{"SparseMatrix, number, number":function(k,T,L){if(!vn(T)||T<0||T>3)throw new Error("Symbolic Ordering and Analysis order must be an integer number in the interval [0, 3]");if(L<0||L>1)throw new Error("Partial pivoting threshold must be a number from 0 to 1");var U=y(T,k,!1),Y=D(k,U,L);return{L:Y.L,U:Y.U,p:Y.pinv,q:U.q,toString:function(){return"L: "+this.L.toString()+"\nU: "+this.U.toString()+"\np: "+this.p.toString()+(this.q?"\nq: "+this.q.toString():"")+"\n"}}}})}),tme=xe("trace",["typed","matrix","add"],t=>{var{typed:r,matrix:e,add:i}=t;return r("trace",{Array:function(u){return o(e(u))},SparseMatrix:function a(l){var u=l._values,p=l._index,f=l._ptr,h=l._size,D=h[1];if(h[0]===D){var E=0;if(u.length>0)for(var k=0;k<D;k++)for(var L=f[k+1],U=f[k];U<L;U++){var Y=p[U];if(Y===k){E=i(E,u[U]);break}if(Y>k)break}return E}throw new RangeError("Matrix must be square (size: "+er(h)+")")},DenseMatrix:o,any:Bn});function o(l){var u=l._size,p=l._data;switch(u.length){case 1:if(1===u[0])return Bn(p[0]);throw new RangeError("Matrix must be square (size: "+er(u)+")");case 2:var f=u[0];if(f===u[1]){for(var y=0,D=0;D<f;D++)y=i(y,p[D][D]);return y}throw new RangeError("Matrix must be square (size: "+er(u)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+er(u)+")")}}}),aU="usolveAll",rme=xe(aU,["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],t=>{var{typed:r,matrix:e,divideScalar:i,multiplyScalar:o,subtractScalar:a,equalScalar:l,DenseMatrix:u}=t,p=p0({DenseMatrix:u});return r(aU,{"SparseMatrix, Array | Matrix":function(D,E){return function h(y,D){for(var E=[p(y,D,!0)._data.map(Ee=>Ee[0])],k=y._size[0],L=y._values,U=y._index,Y=y._ptr,N=y._size[1]-1;N>=0;N--)for(var q=E.length,j=0;j<q;j++){for(var z=E[j],J=[],B=[],H=Y[N],K=0,ee=Y[N+1]-1;ee>=H;ee--){var re=U[ee];re===N?K=L[ee]:re<N&&(J.push(L[ee]),B.push(re))}if(l(K,0))if(l(z[N],0)){if(0===j){var W=[...z];W[N]=1;for(var ce=0,te=B.length;ce<te;ce++){var me=B[ce];W[me]=a(W[me],J[ce])}E.push(W)}}else{if(0===j)return[];E.splice(j,1),j-=1,q-=1}else{z[N]=i(z[N],K);for(var le=0,ie=B.length;le<ie;le++){var G=B[le];z[G]=a(z[G],o(z[N],J[le]))}}}return E.map(Ee=>new u({data:Ee.map(Le=>[Le]),size:[k,1]}))}(D,E)},"DenseMatrix, Array | Matrix":function(D,E){return f(D,E)},"Array, Array | Matrix":function(D,E){return f(e(D),E).map(L=>L.valueOf())}});function f(y,D){for(var E=[p(y,D,!0)._data.map(B=>B[0])],k=y._data,T=y._size[0],U=y._size[1]-1;U>=0;U--)for(var Y=E.length,N=0;N<Y;N++){var q=E[N];if(l(k[U][U],0))if(l(q[U],0)){if(0===N){var z=[...q];z[U]=1;for(var J=U-1;J>=0;J--)z[J]=a(z[J],k[J][U]);E.push(z)}}else{if(0===N)return[];E.splice(N,1),N-=1,Y-=1}else{q[U]=i(q[U],k[U][U]);for(var j=U-1;j>=0;j--)q[j]=a(q[j],o(q[U],k[j][U]))}}return E.map(B=>new u({data:B.map(H=>[H]),size:[T,1]}))}}),ome=xe("zpk2tf",["typed","add","multiply","Complex","number"],t=>{var{typed:r,add:e,multiply:i,Complex:o,number:a}=t;return r("zpk2tf",{"Array,Array,number":function(f,h,y){return l(f,h,y)},"Array,Array":function(f,h){return l(f,h,1)},"Matrix,Matrix,number":function(f,h,y){return l(f.valueOf(),h.valueOf(),y)},"Matrix,Matrix":function(f,h){return l(f.valueOf(),h.valueOf(),1)}});function l(p,f,h){p.some(Y=>"BigNumber"===Y.type)&&(p=p.map(Y=>a(Y))),f.some(Y=>"BigNumber"===Y.type)&&(f=f.map(Y=>a(Y)));for(var y=[o(1,0)],D=[o(1,0)],E=0;E<p.length;E++){var k=p[E];"number"==typeof k&&(k=o(k,0)),y=u(y,[o(1,0),o(-k.re,-k.im)])}for(var T=0;T<f.length;T++){var L=f[T];"number"==typeof L&&(L=o(L,0)),D=u(D,[o(1,0),o(-L.re,-L.im)])}for(var U=0;U<y.length;U++)y[U]=i(y[U],h);return[y,D]}function u(p,f){for(var h=[],y=0;y<p.length+f.length-1;y++){h[y]=o(0,0);for(var D=0;D<p.length;D++)y-D>=0&&y-D<f.length&&(h[y]=e(h[y],i(p[D],f[y-D])))}return h}}),sme=xe("bitOr",["typed","matrix","equalScalar","DenseMatrix","concat"],t=>{var{typed:r,matrix:e,equalScalar:i,DenseMatrix:o,concat:a}=t,l=Yd({typed:r}),u=zT({typed:r,equalScalar:i}),p=rh({typed:r,DenseMatrix:o});return r("bitOr",{"number, number":E6,"BigNumber, BigNumber":Cle},Gr({typed:r,matrix:e,concat:a})({SS:u,DS:l,Ss:p}))}),ZT="ceil",lme=["typed","config","round","matrix","equalScalar","zeros","DenseMatrix"],cme=xe(ZT,["typed","config","round"],t=>{var{typed:r,config:e,round:i}=t;return r(ZT,{number:function(a){return cs(a,i(a),e.epsilon)?i(a):Math.ceil(a)},"number, number":function(a,l){if(cs(a,i(a,l),e.epsilon))return i(a,l);var[u,p]="".concat(a,"e").split("e"),f=Math.ceil(Number("".concat(u,"e").concat(Number(p)+l)));return[u,p]="".concat(f,"e").split("e"),Number("".concat(u,"e").concat(Number(p)-l))}})}),ume=xe(ZT,lme,t=>{var{typed:r,config:e,round:i,matrix:o,equalScalar:a,zeros:l,DenseMatrix:u}=t,p=Po({typed:r,equalScalar:a}),f=so({typed:r,DenseMatrix:u}),h=El({typed:r}),y=cme({typed:r,config:e,round:i});return r("ceil",{number:y.signatures.number,"number,number":y.signatures["number,number"],Complex:function(E){return E.ceil()},"Complex, number":function(E,k){return E.ceil(k)},"Complex, BigNumber":function(E,k){return E.ceil(k.toNumber())},BigNumber:function(E){return xc(E,i(E),e.epsilon)?i(E):E.ceil()},"BigNumber, BigNumber":function(E,k){return xc(E,i(E,k),e.epsilon)?i(E,k):E.toDecimalPlaces(k.toNumber(),xM.ROUND_CEIL)},Fraction:function(E){return E.ceil()},"Fraction, number":function(E,k){return E.ceil(k)},"Fraction, BigNumber":function(E,k){return E.ceil(k.toNumber())},"Array | Matrix":r.referToSelf(D=>E=>rr(E,D,!0)),"Array, number | BigNumber":r.referToSelf(D=>(E,k)=>rr(E,T=>D(T,k),!0)),"SparseMatrix, number | BigNumber":r.referToSelf(D=>(E,k)=>p(E,k,D,!1)),"DenseMatrix, number | BigNumber":r.referToSelf(D=>(E,k)=>h(E,k,D,!1)),"number | Complex | Fraction | BigNumber, Array":r.referToSelf(D=>(E,k)=>h(o(k),E,D,!0).valueOf()),"number | Complex | Fraction | BigNumber, Matrix":r.referToSelf(D=>(E,k)=>a(E,0)?l(k.size(),k.storage()):"dense"===k.storage()?h(k,E,D,!0):f(k,E,D,!0))})}),Ag=se(9286),cU="compareNatural",pme=xe(cU,["typed","compare"],t=>{var{typed:r,compare:e}=t,i=e.signatures["boolean,boolean"];return r(cU,{"any, any":function o(p,f){var D,h=Vr(p),y=Vr(f);if(!("number"!==h&&"BigNumber"!==h&&"Fraction"!==h||"number"!==y&&"BigNumber"!==y&&"Fraction"!==y))return"0"!==(D=e(p,f)).toString()?D>0?1:-1:Ag(h,y);var E=["Array","DenseMatrix","SparseMatrix"];if(E.includes(h)||E.includes(y))return 0!==(D=a(o,p,f))?D:Ag(h,y);if(h!==y)return Ag(h,y);if("Complex"===h)return function fme(t,r){return t.re>r.re?1:t.re<r.re?-1:t.im>r.im?1:t.im<r.im?-1:0}(p,f);if("Unit"===h)return p.equalBase(f)?o(p.value,f.value):l(o,p.formatUnits(),f.formatUnits());if("boolean"===h)return i(p,f);if("string"===h)return Ag(p,f);if("Object"===h)return function u(p,f,h){var y=Object.keys(f),D=Object.keys(h);y.sort(Ag),D.sort(Ag);var E=l(p,y,D);if(0!==E)return E;for(var k=0;k<y.length;k++){var T=p(f[y[k]],h[D[k]]);if(0!==T)return T}return 0}(o,p,f);if("null"===h||"undefined"===h)return 0;throw new TypeError('Unsupported type of value "'+h+'"')}});function a(p,f,h){return Kf(f)&&Kf(h)?l(p,f.toJSON().values,h.toJSON().values):Kf(f)?a(p,f.toArray(),h):Kf(h)?a(p,f,h.toArray()):Lw(f)?a(p,f.toJSON().data,h):Lw(h)?a(p,f,h.toJSON().data):Array.isArray(f)?Array.isArray(h)?l(p,f,h):a(p,f,[h]):a(p,[f],h)}function l(p,f,h){for(var y=0,D=Math.min(f.length,h.length);y<D;y++){var E=p(f[y],h[y]);if(0!==E)return E}return f.length>h.length?1:f.length<h.length?-1:0}}),uU="composition",mme=xe(uU,["typed","addScalar","combinations","isNegative","isPositive","isInteger","larger"],t=>{var{typed:r,addScalar:e,combinations:i,isPositive:o,isInteger:l,larger:u}=t;return r(uU,{"number | BigNumber, number | BigNumber":function(f,h){if(!(l(f)&&o(f)&&l(h)&&o(h)))throw new TypeError("Positive integer value expected in function composition");if(u(h,f))throw new TypeError("k must be less than or equal to n in function composition");return i(e(f,-1),e(h,-1))}})}),_me=xe("cross",["typed","matrix","subtract","multiply"],t=>{var{typed:r,matrix:e,subtract:i,multiply:o}=t;return r("cross",{"Matrix, Matrix":function(u,p){return e(a(u.toArray(),p.toArray()))},"Matrix, Array":function(u,p){return e(a(u.toArray(),p))},"Array, Matrix":function(u,p){return e(a(u,p.toArray()))},"Array, Array":a});function a(l,u){var p=Math.max(Vn(l).length,Vn(u).length);l=Zw(l),u=Zw(u);var f=Vn(l),h=Vn(u);if(1!==f.length||1!==h.length||3!==f[0]||3!==h[0])throw new RangeError("Vectors with length 3 expected (Size A = ["+f.join(", ")+"], B = ["+h.join(", ")+"])");var y=[i(o(l[1],u[2]),o(l[2],u[1])),i(o(l[2],u[0]),o(l[0],u[2])),i(o(l[0],u[1]),o(l[1],u[0]))];return p>1?[y]:y}}),yme=xe("det",["typed","matrix","subtractScalar","multiply","divideScalar","isZero","unaryMinus"],t=>{var{typed:r,matrix:e,subtractScalar:i,multiply:o,divideScalar:a,isZero:l,unaryMinus:u}=t;return r("det",{any:function(h){return Bn(h)},"Array | Matrix":function(h){var y;switch((y=On(h)?h.size():Array.isArray(h)?(h=e(h)).size():[]).length){case 0:return Bn(h);case 1:if(1===y[0])return Bn(h.valueOf()[0]);if(0===y[0])return 1;throw new RangeError("Matrix must be square (size: "+er(y)+")");case 2:var D=y[0],E=y[1];if(D===E)return function p(f,h,y){if(1===h)return Bn(f[0][0]);if(2===h)return i(o(f[0][0],f[1][1]),o(f[1][0],f[0][1]));for(var D=!1,E=new Array(h).fill(0).map((J,B)=>B),k=0;k<h;k++){var T=E[k];if(l(f[T][k])){var L=void 0;for(L=k+1;L<h;L++)if(!l(f[E[L]][k])){T=E[L],E[L]=E[k],E[k]=T,D=!D;break}if(L===h)return f[T][k]}for(var U=f[T][k],Y=0===k?1:f[E[k-1]][k-1],N=k+1;N<h;N++)for(var q=E[N],j=k+1;j<h;j++)f[q][j]=a(i(o(f[q][j],U),o(f[q][k],f[T][j])),Y)}var z=f[E[h-1]][h-1];return D?u(z):z}(h.clone().valueOf(),D);if(0===E)return 1;throw new RangeError("Matrix must be square (size: "+er(y)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+er(y)+")")}}})}),fU="dotMultiply",Cme=xe(fU,["typed","matrix","equalScalar","multiplyScalar","concat"],t=>{var{typed:r,matrix:e,equalScalar:i,multiplyScalar:o,concat:a}=t,l=Ol({typed:r,equalScalar:i}),u=T5({typed:r,equalScalar:i}),p=Po({typed:r,equalScalar:i}),f=Gr({typed:r,matrix:e,concat:a});return r(fU,f({elop:o,SS:u,DS:l,Ss:p}))}),Mme=xe("FibonacciHeap",["smaller","larger"],t=>{var{smaller:r,larger:e}=t,i=1/Math.log((1+Math.sqrt(5))/2);function o(){if(!(this instanceof o))throw new SyntaxError("Constructor must be called with the new operator");this._minimum=null,this._size=0}function l(h,y,D){y.left.right=y.right,y.right.left=y.left,D.degree--,D.child===y&&(D.child=y.right),0===D.degree&&(D.child=null),y.left=h,y.right=h.right,h.right=y,y.right.left=y,y.parent=null,y.mark=!1}function u(h,y){var D=y.parent;!D||(y.mark?(l(h,y,D),u(D)):y.mark=!0)}o.prototype.type="FibonacciHeap",o.prototype.isFibonacciHeap=!0,o.prototype.insert=function(h,y){var D={key:h,value:y,degree:0};if(this._minimum){var E=this._minimum;D.left=E,D.right=E.right,E.right=D,D.right.left=D,r(h,E.key)&&(this._minimum=D)}else D.left=D,D.right=D,this._minimum=D;return this._size++,D},o.prototype.size=function(){return this._size},o.prototype.clear=function(){this._minimum=null,this._size=0},o.prototype.isEmpty=function(){return 0===this._size},o.prototype.extractMinimum=function(){var h=this._minimum;if(null===h)return h;for(var y=this._minimum,D=h.degree,E=h.child;D>0;){var k=E.right;E.left.right=E.right,E.right.left=E.left,E.left=y,E.right=y.right,y.right=E,E.right.left=E,E.parent=null,E=k,D--}return h.left.right=h.right,h.right.left=h.left,y=h===h.right?null:function f(h,y){var L,D=Math.floor(Math.log(y)*i)+1,E=new Array(D),k=0,T=h;if(T)for(k++,T=T.right;T!==h;)k++,T=T.right;for(;k>0;){for(var U=T.degree,Y=T.right;L=E[U];){if(e(T.key,L.key)){var N=L;L=T,T=N}p(L,T),E[U]=null,U++}E[U]=T,T=Y,k--}h=null;for(var q=0;q<D;q++)(L=E[q])&&(h?(L.left.right=L.right,L.right.left=L.left,L.left=h,L.right=h.right,h.right=L,L.right.left=L,r(L.key,h.key)&&(h=L)):h=L);return h}(y=h.right,this._size),this._size--,this._minimum=y,h},o.prototype.remove=function(h){this._minimum=function a(h,y,D){y.key=D;var E=y.parent;return E&&r(y.key,E.key)&&(l(h,y,E),u(h,E)),r(y.key,h.key)&&(h=y),h}(this._minimum,h,-1),this.extractMinimum()};var p=function(y,D){y.left.right=y.right,y.right.left=y.left,y.parent=D,D.child?(y.left=D.child,y.right=D.child.right,D.child.right=y,y.right.left=y):(D.child=y,y.right=y,y.left=y),D.degree++,y.mark=!1};return o},{isClass:!0}),Sme=["typed","Complex","matrix","ceil","floor","equalScalar","zeros","DenseMatrix"],Dme=xe("fix",["typed","ceil","floor"],t=>{var{typed:r,ceil:e,floor:i}=t;return r("fix",{number:function(a){return a>0?i(a):e(a)},"number, number":function(a,l){return a>0?i(a,l):e(a,l)}})}),Ome=xe("fix",Sme,t=>{var{typed:r,Complex:e,matrix:i,ceil:o,floor:a,equalScalar:l,zeros:u,DenseMatrix:p}=t,f=so({typed:r,DenseMatrix:p}),h=El({typed:r}),y=Dme({typed:r,ceil:o,floor:a});return r("fix",{number:y.signatures.number,"number, number | BigNumber":y.signatures["number,number"],Complex:function(E){return new e(E.re>0?Math.floor(E.re):Math.ceil(E.re),E.im>0?Math.floor(E.im):Math.ceil(E.im))},"Complex, number":function(E,k){return new e(E.re>0?a(E.re,k):o(E.re,k),E.im>0?a(E.im,k):o(E.im,k))},"Complex, BigNumber":function(E,k){var T=k.toNumber();return new e(E.re>0?a(E.re,T):o(E.re,T),E.im>0?a(E.im,T):o(E.im,T))},BigNumber:function(E){return E.isNegative()?o(E):a(E)},"BigNumber, number | BigNumber":function(E,k){return E.isNegative()?o(E,k):a(E,k)},Fraction:function(E){return E.s<0?E.ceil():E.floor()},"Fraction, number | BigNumber":function(E,k){return E.s<0?o(E,k):a(E,k)},"Array | Matrix":r.referToSelf(D=>E=>rr(E,D,!0)),"Array | Matrix, number | BigNumber":r.referToSelf(D=>(E,k)=>rr(E,T=>D(T,k),!0)),"number | Complex | Fraction | BigNumber, Array":r.referToSelf(D=>(E,k)=>h(i(k),E,D,!0).valueOf()),"number | Complex | Fraction | BigNumber, Matrix":r.referToSelf(D=>(E,k)=>l(E,0)?u(k.size(),k.storage()):"dense"===k.storage()?h(k,E,D,!0):f(k,E,D,!0))})}),Ame=xe("index",["typed","Index"],t=>{var{typed:r,Index:e}=t;return r("index",{"...number | string | BigNumber | Range | Array | Matrix":function(o){var a=o.map(function(u){return dr(u)?u.toNumber():Er(u)||On(u)?u.map(function(p){return dr(p)?p.toNumber():p}):u}),l=new e;return e.apply(l,a),l}})}),Ime=xe("intersect",["typed","config","abs","add","addScalar","matrix","multiply","multiplyScalar","divideScalar","subtract","smaller","equalScalar","flatten","isZero","isNumeric"],t=>{var{typed:r,config:e,abs:i,add:o,addScalar:a,matrix:l,multiply:u,multiplyScalar:p,divideScalar:f,subtract:h,smaller:y,equalScalar:D,flatten:E,isZero:k,isNumeric:T}=t;return r("intersect",{"Array, Array, Array":L,"Array, Array, Array, Array":U,"Matrix, Matrix, Matrix":function(K,ee,re){var le=L(K.valueOf(),ee.valueOf(),re.valueOf());return null===le?null:l(le)},"Matrix, Matrix, Matrix, Matrix":function(K,ee,re,le){var ie=U(K.valueOf(),ee.valueOf(),re.valueOf(),le.valueOf());return null===ie?null:l(ie)}});function L(V,K,ee){if(V=Y(V),K=Y(K),ee=Y(ee),!q(V))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!q(K))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");if(!function j(V){return 4===V.length&&T(V[0])&&T(V[1])&&T(V[2])&&T(V[3])}(ee))throw new TypeError("Array with 4 numbers expected as third argument");return function H(V,K,ee,re,le,ie,G,W,ce,te){var me=p(V,G),Ee=p(re,G),Le=p(K,W),ve=p(le,W),Fe=p(ee,ce),Je=p(ie,ce),Ye=h(h(h(te,me),Le),Fe),at=h(h(h(a(a(Ee,ve),Je),me),Le),Fe),Dt=f(Ye,at);return[a(V,p(Dt,h(re,V))),a(K,p(Dt,h(le,K))),a(ee,p(Dt,h(ie,ee)))]}(V[0],V[1],V[2],K[0],K[1],K[2],ee[0],ee[1],ee[2],ee[3])}function U(V,K,ee,re){if(V=Y(V),K=Y(K),ee=Y(ee),re=Y(re),2===V.length){if(!N(V))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!N(K))throw new TypeError("Array with 2 numbers or BigNumbers expected for second argument");if(!N(ee))throw new TypeError("Array with 2 numbers or BigNumbers expected for third argument");if(!N(re))throw new TypeError("Array with 2 numbers or BigNumbers expected for fourth argument");return function z(V,K,ee,re){var le=V,ie=ee,G=h(le,K),W=h(ie,re),ce=h(p(G[0],W[1]),p(W[0],G[1]));if(k(ce)||y(i(ce),e.epsilon))return null;var te=p(W[0],le[1]),me=p(W[1],le[0]),Ee=p(W[0],ie[1]),Le=p(W[1],ie[0]),ve=f(a(h(h(te,me),Ee),Le),ce);return o(u(G,ve),le)}(V,K,ee,re)}if(3===V.length){if(!q(V))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!q(K))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");if(!q(ee))throw new TypeError("Array with 3 numbers or BigNumbers expected for third argument");if(!q(re))throw new TypeError("Array with 3 numbers or BigNumbers expected for fourth argument");return function B(V,K,ee,re,le,ie,G,W,ce,te,me,Ee){var Le=J(V,G,te,G,K,W,me,W,ee,ce,Ee,ce),ve=J(te,G,re,V,me,W,le,K,Ee,ce,ie,ee),Fe=J(V,G,re,V,K,W,le,K,ee,ce,ie,ee),Je=J(te,G,te,G,me,W,me,W,Ee,ce,Ee,ce),Ye=J(re,V,re,V,le,K,le,K,ie,ee,ie,ee),at=h(p(Le,ve),p(Fe,Je)),Dt=h(p(Ye,Je),p(ve,ve));if(k(Dt))return null;var ft=f(at,Dt),st=f(a(Le,p(ft,ve)),Je),Tt=a(V,p(ft,h(re,V))),Qt=a(K,p(ft,h(le,K))),Ut=a(ee,p(ft,h(ie,ee))),Ht=a(G,p(st,h(te,G))),Se=a(W,p(st,h(me,W))),Be=a(ce,p(st,h(Ee,ce)));return D(Tt,Ht)&&D(Qt,Se)&&D(Ut,Be)?[Tt,Qt,Ut]:null}(V[0],V[1],V[2],K[0],K[1],K[2],ee[0],ee[1],ee[2],re[0],re[1],re[2])}throw new TypeError("Arrays with two or thee dimensional points expected")}function Y(V){return 1===V.length?V[0]:V.length>1&&Array.isArray(V[0])&&V.every(K=>Array.isArray(K)&&1===K.length)?E(V):V}function N(V){return 2===V.length&&T(V[0])&&T(V[1])}function q(V){return 3===V.length&&T(V[0])&&T(V[1])&&T(V[2])}function J(V,K,ee,re,le,ie,G,W,ce,te,me,Ee){var Le=p(h(V,K),h(ee,re)),ve=p(h(le,ie),h(G,W)),Fe=p(h(ce,te),h(me,Ee));return a(a(Le,ve),Fe)}}),Fme=xe("invmod",["typed","config","BigNumber","xgcd","equal","smaller","mod","add","isInteger"],t=>{var{typed:r,BigNumber:i,xgcd:o,equal:a,smaller:l,mod:u,add:p,isInteger:f}=t;return r("invmod",{"number, number":h,"BigNumber, BigNumber":h});function h(y,D){if(!f(y)||!f(D))throw new Error("Parameters in function invmod must be integer numbers");if(y=u(y,D),a(D,0))throw new Error("Divisor must be non zero");var E=o(y,D);E=E.valueOf();var[k,T]=E;return a(k,i(1))?(T=u(T,D),l(T,i(0))&&(T=p(T,D)),T):NaN}}),Rme=xe("lcm",["typed","matrix","equalScalar","concat"],t=>{var{typed:r,matrix:e,equalScalar:i,concat:o}=t,a=Ol({typed:r,equalScalar:i}),l=IM({typed:r,equalScalar:i}),u=Po({typed:r,equalScalar:i}),p=Gr({typed:r,matrix:e,concat:o}),f="number | BigNumber | Fraction | Matrix | Array",h={};return h["".concat(f,", ").concat(f,", ...").concat(f)]=r.referToSelf(D=>(E,k,T)=>{for(var L=D(E,k),U=0;U<T.length;U++)L=D(L,T[U]);return L}),r("lcm",{"number, number":YB,"BigNumber, BigNumber":function y(D,E){if(!D.isInt()||!E.isInt())throw new Error("Parameters in function lcm must be integer numbers");if(D.isZero())return D;if(E.isZero())return E;for(var k=D.times(E);!E.isZero();){var T=E;E=D.mod(T),D=T}return k.div(D).abs()},"Fraction, Fraction":(D,E)=>D.lcm(E)},p({SS:l,DS:a,Ss:u}),h)}),Bme=xe("log1p",["typed","config","divideScalar","log","Complex"],t=>{var{typed:r,config:e,divideScalar:i,log:o,Complex:a}=t;return r("log1p",{number:function(p){return p>=-1||e.predictable?G3(p):l(new a(p,0))},Complex:l,BigNumber:function(p){var f=p.plus(1);return!f.isNegative()||e.predictable?f.ln():l(new a(p.toNumber(),0))},"Array | Matrix":r.referToSelf(u=>p=>rr(p,u)),"any, any":r.referToSelf(u=>(p,f)=>i(u(p),o(f)))});function l(u){var p=u.re+1;return new a(Math.log(Math.sqrt(p*p+u.im*u.im)),Math.atan2(u.im,p))}}),vU="setCartesian",Vme=xe(vU,["typed","size","subset","compareNatural","Index","DenseMatrix"],t=>{var{typed:r,size:e,subset:i,compareNatural:o,Index:a,DenseMatrix:l}=t;return r(vU,{"Array | Matrix, Array | Matrix":function(p,f){var h=[];if(0!==i(e(p),new a(0))&&0!==i(e(f),new a(0))){var y=xr(Array.isArray(p)?p:p.toArray()).sort(o),D=xr(Array.isArray(f)?f:f.toArray()).sort(o);h=[];for(var E=0;E<y.length;E++)for(var k=0;k<D.length;k++)h.push([y[E],D[k]])}return Array.isArray(p)&&Array.isArray(f)?h:new l(h)}})}),yU="setDistinct",Hme=xe(yU,["typed","size","subset","compareNatural","Index","DenseMatrix"],t=>{var{typed:r,size:e,subset:i,compareNatural:o,Index:a,DenseMatrix:l}=t;return r(yU,{"Array | Matrix":function(p){var f;if(0===i(e(p),new a(0)))f=[];else{var h=xr(Array.isArray(p)?p:p.toArray()).sort(o);(f=[]).push(h[0]);for(var y=1;y<h.length;y++)0!==o(h[y],h[y-1])&&f.push(h[y])}return Array.isArray(p)?f:new l(f)}})}),bU="setIsSubset",qme=xe(bU,["typed","size","subset","compareNatural","Index"],t=>{var{typed:r,size:e,subset:i,compareNatural:o,Index:a}=t;return r(bU,{"Array | Matrix, Array | Matrix":function(u,p){if(0===i(e(u),new a(0)))return!0;if(0===i(e(p),new a(0)))return!1;for(var y,f=gg(xr(Array.isArray(u)?u:u.toArray()).sort(o)),h=gg(xr(Array.isArray(p)?p:p.toArray()).sort(o)),D=0;D<f.length;D++){y=!1;for(var E=0;E<h.length;E++)if(0===o(f[D].value,h[E].value)&&f[D].identifier===h[E].identifier){y=!0;break}if(!1===y)return!1}return!0}})}),CU="setPowerset",Yme=xe(CU,["typed","size","subset","compareNatural","Index"],t=>{var{typed:r,size:e,subset:i,compareNatural:o,Index:a}=t;return r(CU,{"Array | Matrix":function(f){if(0===i(e(f),new a(0)))return[];for(var h=xr(Array.isArray(f)?f:f.toArray()).sort(o),y=[],D=0;D.toString(2).length<=h.length;)y.push(l(h,D.toString(2).split("").reverse())),D++;return function u(p){for(var f=[],h=p.length-1;h>0;h--)for(var y=0;y<h;y++)p[y].length>p[y+1].length&&(f=p[y],p[y]=p[y+1],p[y+1]=f);return p}(y)}});function l(p,f){for(var h=[],y=0;y<f.length;y++)"1"===f[y]&&h.push(p[y]);return h}}),BM="smallerEq",$me=xe(BM,["typed","config","matrix","DenseMatrix","concat"],t=>{var{typed:r,config:e,matrix:i,DenseMatrix:o,concat:a}=t,l=ua({typed:r}),u=wc({typed:r,DenseMatrix:o}),p=so({typed:r,DenseMatrix:o}),f=Gr({typed:r,matrix:i,concat:a}),h=Mg({typed:r});return r(BM,Wme({typed:r,config:e}),{"boolean, boolean":(y,D)=>y<=D,"BigNumber, BigNumber":function(D,E){return D.lte(E)||xc(D,E,e.epsilon)},"Fraction, Fraction":(y,D)=>1!==y.compare(D),"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},h,f({SS:u,DS:l,Ss:p}))}),Wme=xe(BM,["typed","config"],t=>{var{typed:r,config:e}=t;return r(BM,{"number, number":function(o,a){return o<=a||cs(o,a,e.epsilon)}})}),Jme=xe("sort",["typed","matrix","compare","compareNatural"],t=>{var{typed:r,matrix:e,compare:i,compareNatural:o}=t,a=i,l=(h,y)=>-i(h,y);return r("sort",{Array:function(y){return p(y),y.sort(a)},Matrix:function(y){return f(y),e(y.toArray().sort(a),y.storage())},"Array, function":function(y,D){return p(y),y.sort(D)},"Matrix, function":function(y,D){return f(y),e(y.toArray().sort(D),y.storage())},"Array, string":function(y,D){return p(y),y.sort(u(D))},"Matrix, string":function(y,D){return f(y),e(y.toArray().sort(u(D)),y.storage())}});function u(h){if("asc"===h)return a;if("desc"===h)return l;if("natural"===h)return o;throw new Error('String "asc", "desc", or "natural" expected')}function p(h){if(1!==Vn(h).length)throw new Error("One dimensional array expected")}function f(h){if(1!==h.size().length)throw new Error("One dimensional matrix expected")}}),Kme=xe("and",["typed","matrix","equalScalar","zeros","not","concat"],t=>{var{typed:r,matrix:e,equalScalar:i,zeros:o,not:a,concat:l}=t,u=Ol({typed:r,equalScalar:i}),p=IM({typed:r,equalScalar:i}),f=Po({typed:r,equalScalar:i}),h=El({typed:r}),y=Gr({typed:r,matrix:e,concat:l});return r("and",{"number, number":_4,"Complex, Complex":function(E,k){return!(0===E.re&&0===E.im||0===k.re&&0===k.im)},"BigNumber, BigNumber":function(E,k){return!(E.isZero()||k.isZero()||E.isNaN()||k.isNaN())},"Unit, Unit":r.referToSelf(D=>(E,k)=>D(E.value||0,k.value||0)),"SparseMatrix, any":r.referToSelf(D=>(E,k)=>a(k)?o(E.size(),E.storage()):f(E,k,D,!1)),"DenseMatrix, any":r.referToSelf(D=>(E,k)=>a(k)?o(E.size(),E.storage()):h(E,k,D,!1)),"any, SparseMatrix":r.referToSelf(D=>(E,k)=>a(E)?o(E.size(),E.storage()):f(k,E,D,!0)),"any, DenseMatrix":r.referToSelf(D=>(E,k)=>a(E)?o(E.size(),E.storage()):h(k,E,D,!0)),"Array, any":r.referToSelf(D=>(E,k)=>D(e(E),k).valueOf()),"any, Array":r.referToSelf(D=>(E,k)=>D(E,e(k)).valueOf())},y({SS:p,DS:u}))}),MU="setDifference",tge=xe(MU,["typed","size","subset","compareNatural","Index","DenseMatrix"],t=>{var{typed:r,size:e,subset:i,compareNatural:o,Index:a,DenseMatrix:l}=t;return r(MU,{"Array | Matrix, Array | Matrix":function(p,f){var h;if(0===i(e(p),new a(0)))h=[];else{if(0===i(e(f),new a(0)))return xr(p.toArray());var y=gg(xr(Array.isArray(p)?p:p.toArray()).sort(o)),D=gg(xr(Array.isArray(f)?f:f.toArray()).sort(o));h=[];for(var E,k=0;k<y.length;k++){E=!1;for(var T=0;T<D.length;T++)if(0===o(y[k].value,D[T].value)&&y[k].identifier===D[T].identifier){E=!0;break}E||h.push(y[k])}}return Array.isArray(p)&&Array.isArray(f)?$w(h):new l($w(h))}})}),SU="setMultiplicity",rge=xe(SU,["typed","size","subset","compareNatural","Index"],t=>{var{typed:r,size:e,subset:i,compareNatural:o,Index:a}=t;return r(SU,{"number | BigNumber | Fraction | Complex, Array | Matrix":function(u,p){if(0===i(e(p),new a(0)))return 0;for(var f=xr(Array.isArray(p)?p:p.toArray()),h=0,y=0;y<f.length;y++)0===o(f[y],u)&&h++;return h}})}),DU="setSymDifference",oge=xe(DU,["typed","size","concat","subset","setDifference","Index"],t=>{var{typed:r,size:e,concat:i,subset:o,setDifference:a,Index:l}=t;return r(DU,{"Array | Matrix, Array | Matrix":function(p,f){if(0===o(e(p),new l(0)))return xr(f);if(0===o(e(f),new l(0)))return xr(p);var h=xr(p),y=xr(f);return i(a(h,y),a(y,h))}})}),lge=xe("Spa",["addScalar","equalScalar","FibonacciHeap"],t=>{var{addScalar:r,equalScalar:e,FibonacciHeap:i}=t;function o(){if(!(this instanceof o))throw new SyntaxError("Constructor must be called with the new operator");this._values=[],this._heap=new i}return o.prototype.type="Spa",o.prototype.isSpa=!0,o.prototype.set=function(a,l){if(this._values[a])this._values[a].value=l;else{var u=this._heap.insert(a,l);this._values[a]=u}},o.prototype.get=function(a){var l=this._values[a];return l?l.value:0},o.prototype.accumulate=function(a,l){var u=this._values[a];u?u.value=r(u.value,l):(u=this._heap.insert(a,l),this._values[a]=u)},o.prototype.forEach=function(a,l,u){var p=this._heap,f=this._values,h=[],y=p.extractMinimum();for(y&&h.push(y);y&&y.key<=l;)y.key>=a&&(e(y.value,0)||u(y.key,y.value,this)),(y=p.extractMinimum())&&h.push(y);for(var D=0;D<h.length;D++){var E=h[D];f[(y=p.insert(E.key,E.value)).key]=y}},o.prototype.swap=function(a,l){var u=this._values[a],p=this._values[l];if(!u&&p)u=this._heap.insert(a,p.value),this._heap.remove(p),this._values[a]=u,this._values[l]=void 0;else if(u&&!p)p=this._heap.insert(l,u.value),this._heap.remove(u),this._values[l]=p,this._values[a]=void 0;else if(u&&p){var f=u.value;u.value=p.value,p.value=f}},o},{isClass:!0}),uge=xe("inv",["typed","matrix","divideScalar","addScalar","multiply","unaryMinus","det","identity","abs"],t=>{var{typed:r,matrix:e,divideScalar:i,addScalar:o,multiply:a,unaryMinus:l,det:u,identity:p,abs:f}=t;return r("inv",{"Array | Matrix":function(D){var E=On(D)?D.size():Vn(D);switch(E.length){case 1:if(1===E[0])return On(D)?e([i(1,D.valueOf()[0])]):[i(1,D[0])];throw new RangeError("Matrix must be square (size: "+er(E)+")");case 2:var k=E[0],T=E[1];if(k===T)return On(D)?e(h(D.valueOf(),k,T),D.storage()):h(D,k,T);throw new RangeError("Matrix must be square (size: "+er(E)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+er(E)+")")}},any:function(D){return i(1,D)}});function h(y,D,E){var k,T,L,U,Y;if(1===D){if(0===(U=y[0][0]))throw Error("Cannot calculate inverse, determinant is zero");return[[i(1,U)]]}if(2===D){var N=u(y);if(0===N)throw Error("Cannot calculate inverse, determinant is zero");return[[i(y[1][1],N),i(l(y[0][1]),N)],[i(l(y[1][0]),N),i(y[0][0],N)]]}var q=y.concat();for(k=0;k<D;k++)q[k]=q[k].concat();for(var j=p(D).valueOf(),z=0;z<E;z++){var J=f(q[z][z]),B=z;for(k=z+1;k<D;)f(q[k][z])>J&&(J=f(q[k][z]),B=k),k++;if(0===J)throw Error("Cannot calculate inverse, determinant is zero");(k=B)!==z&&(Y=q[z],q[z]=q[k],q[k]=Y,Y=j[z],j[z]=j[k],j[k]=Y);var H=q[z],V=j[z];for(k=0;k<D;k++){var K=q[k],ee=j[k];if(k!==z){if(0!==K[z]){for(L=i(l(K[z]),H[z]),T=z;T<E;T++)K[T]=o(K[T],a(L,H[T]));for(T=0;T<E;T++)ee[T]=o(ee[T],a(L,V[T]))}}else{for(L=H[z],T=z;T<E;T++)K[T]=i(K[T],L);for(T=0;T<E;T++)ee[T]=i(ee[T],L)}}}return j}}),pge=xe("lup",["typed","matrix","abs","addScalar","divideScalar","multiplyScalar","subtractScalar","larger","equalScalar","unaryMinus","DenseMatrix","SparseMatrix","Spa"],t=>{var{typed:r,matrix:e,abs:i,addScalar:o,divideScalar:a,multiplyScalar:l,subtractScalar:u,larger:p,equalScalar:f,unaryMinus:h,DenseMatrix:y,SparseMatrix:D,Spa:E}=t;return r("lup",{DenseMatrix:function(U){return k(U)},SparseMatrix:function(U){return function T(L){var ie,G,W,U=L._size[0],Y=L._size[1],N=Math.min(U,Y),q=L._values,j=L._index,z=L._ptr,J=[],B=[],H=[],V=[U,N],K=[],ee=[],re=[],le=[N,Y],ce=[],te=[];for(ie=0;ie<U;ie++)ce[ie]=ie,te[ie]=ie;var Ee=function(){var ve=new E;G<U&&(H.push(J.length),J.push(1),B.push(G)),re.push(K.length);var Je=z[G+1];for(W=z[G];W<Je;W++)ve.set(ce[ie=j[W]],q[W]);G>0&&ve.forEach(0,G-1,function(ft,st){D._forEachRow(ft,J,B,H,function(Tt,Qt){Tt>ft&&ve.accumulate(Tt,h(l(Qt,st)))})});var Ye=G,at=ve.get(G),Dt=i(at);ve.forEach(G+1,U-1,function(ft,st){var Tt=i(st);p(Tt,Dt)&&(Ye=ft,Dt=Tt,at=st)}),G!==Ye&&(D._swapRows(G,Ye,V[1],J,B,H),D._swapRows(G,Ye,le[1],K,ee,re),ve.swap(G,Ye),function(ve,Fe){var Je=te[ve],Ye=te[Fe];ce[Je]=Fe,ce[Ye]=ve,te[ve]=Ye,te[Fe]=Je}(G,Ye)),ve.forEach(0,U-1,function(ft,st){ft<=G?(K.push(st),ee.push(ft)):(st=a(st,at),f(st,0)||(J.push(st),B.push(ft)))})};for(G=0;G<Y;G++)Ee();return re.push(K.length),H.push(J.length),{L:new D({values:J,index:B,ptr:H,size:V}),U:new D({values:K,index:ee,ptr:re,size:le}),p:ce,toString:function(){return"L: "+this.L.toString()+"\nU: "+this.U.toString()+"\nP: "+this.p}}}(U)},Array:function(U){var N=k(e(U));return{L:N.L.valueOf(),U:N.U.valueOf(),p:N.p}}});function k(L){var H,V,K,U=L._size[0],Y=L._size[1],N=Math.min(U,Y),q=Bn(L._data),j=[],z=[U,N],J=[],B=[N,Y],ee=[];for(H=0;H<U;H++)ee[H]=H;for(V=0;V<Y;V++){if(V>0)for(H=0;H<U;H++){var re=Math.min(H,V),le=0;for(K=0;K<re;K++)le=o(le,l(q[H][K],q[K][V]));q[H][V]=u(q[H][V],le)}var ie=V,G=0,W=0;for(H=V;H<U;H++){var ce=q[H][V],te=i(ce);p(te,G)&&(ie=H,G=te,W=ce)}if(V!==ie&&(ee[V]=[ee[ie],ee[ie]=ee[V]][0],y._swapRows(V,ie,q)),V<U)for(H=V+1;H<U;H++)f(q[H][V],0)||(q[H][V]=a(q[H][V],W))}for(V=0;V<Y;V++)for(H=0;H<U;H++)0===V&&(H<Y&&(J[H]=[]),j[H]=[]),H<V?(H<Y&&(J[H][V]=q[H][V]),V<U&&(j[H][V]=0)):H!==V?(H<Y&&(J[H][V]=0),V<U&&(j[H][V]=q[H][V])):(H<Y&&(J[H][V]=q[H][V]),V<U&&(j[H][V]=1));var Ee=new y({data:j,size:z}),Le=new y({data:J,size:B}),ve=[];for(H=0,N=ee.length;H<N;H++)ve[ee[H]]=H;return{L:Ee,U:Le,p:ve,toString:function(){return"L: "+this.L.toString()+"\nU: "+this.U.toString()+"\nP: "+this.p}}}}),hge=xe("pinv",["typed","matrix","inv","deepEqual","equal","dotDivide","dot","ctranspose","divideScalar","multiply","add","Complex"],t=>{var{typed:r,matrix:e,inv:i,deepEqual:o,equal:a,dotDivide:l,dot:u,ctranspose:p,divideScalar:f,multiply:h,add:y,Complex:D}=t;return r("pinv",{"Array | Matrix":function(N){var q=On(N)?N.size():Vn(N);switch(q.length){case 1:return U(N)?p(N):1===q[0]?i(N):l(p(N),u(N,N));case 2:if(U(N))return p(N);var j=q[0],z=q[1];if(j===z)try{return i(N)}catch(J){if(!(J instanceof Error&&J.message.match(/Cannot calculate inverse, determinant is zero/)))throw J}return On(N)?e(E(N.valueOf(),j,z),N.storage()):E(N,j,z);default:throw new RangeError("Matrix must be two dimensional (size: "+er(q)+")")}},any:function(N){return a(N,0)?Bn(N):f(1,N)}});function E(Y,N,q){var{C:j,F:z}=function T(Y,N,q){var j=function k(Y,N,q){for(var j=Bn(Y),z=0,J=0;J<N;J++){if(q<=z)return j;for(var B=J;L(j[B][z]);)if(N===++B&&(B=J,q===++z))return j;[j[B],j[J]]=[j[J],j[B]];for(var H=j[J][z],V=0;V<q;V++)j[J][V]=l(j[J][V],H);for(var K=0;K<N;K++)if(K!==J){H=j[K][z];for(var ee=0;ee<q;ee++)j[K][ee]=y(j[K][ee],h(-1,h(H,j[J][ee])))}z++}return j}(Y,N,q),z=Y.map((B,H)=>B.filter((V,K)=>K<N&&!L(u(j[K],j[K]))));return{C:z,F:j.filter((B,H)=>!L(u(j[H],j[H])))}}(Y,N,q),J=h(i(h(p(j),j)),p(j)),B=h(p(z),i(h(z,p(z))));return h(B,J)}function L(Y){return a(y(Y,D(1,1)),y(0,D(1,1)))}function U(Y){return o(y(Y,D(1,1)),y(h(Y,0),D(1,1)))}}),gge=xe("pow",["typed","config","identity","multiply","matrix","inv","fraction","number","Complex"],t=>{var{typed:r,config:e,identity:i,multiply:o,matrix:a,inv:l,number:u,fraction:p,Complex:f}=t;return r("pow",{"number, number":h,"Complex, Complex":function(k,T){return k.pow(T)},"BigNumber, BigNumber":function(k,T){return T.isInteger()||k>=0||e.predictable?k.pow(T):new f(k.toNumber(),0).pow(T.toNumber(),0)},"Fraction, Fraction":function(k,T){var L=k.pow(T);if(null!=L)return L;if(e.predictable)throw new Error("Result of pow is non-rational and cannot be expressed as a fraction");return h(k.valueOf(),T.valueOf())},"Array, number":y,"Array, BigNumber":function(k,T){return y(k,T.toNumber())},"Matrix, number":D,"Matrix, BigNumber":function(k,T){return D(k,T.toNumber())},"Unit, number | BigNumber":function(k,T){return k.pow(T)}});function h(E,k){if(e.predictable&&!vn(k)&&E<0)try{var T=p(k),L=u(T);if((k===L||Math.abs((k-L)/k)<1e-14)&&T.d%2==1)return(T.n%2==0?1:-1)*Math.pow(-E,k)}catch{}return e.predictable&&(E<-1&&k===1/0||E>-1&&E<0&&k===-1/0)?NaN:vn(k)||E>=0||e.predictable?XB(E,k):E*E<1&&k===1/0||E*E>1&&k===-1/0?0:new f(E,0).pow(k,0)}function y(E,k){if(!vn(k))throw new TypeError("For A^b, b must be an integer (value is "+k+")");var T=Vn(E);if(2!==T.length)throw new Error("For A^b, A must be 2 dimensional (A has "+T.length+" dimensions)");if(T[0]!==T[1])throw new Error("For A^b, A must be square (size is "+T[0]+"x"+T[1]+")");if(k<0)try{return y(l(E),-k)}catch(Y){throw"Cannot calculate inverse, determinant is zero"===Y.message?new TypeError("For A^b, when A is not invertible, b must be a positive integer (value is "+k+")"):Y}for(var L=i(T[0]).valueOf(),U=E;k>=1;)1==(1&k)&&(L=o(U,L)),k>>=1,U=o(U,U);return L}function D(E,k){return a(y(E.valueOf(),k))}}),TU="setIntersect",vge=xe(TU,["typed","size","subset","compareNatural","Index","DenseMatrix"],t=>{var{typed:r,size:e,subset:i,compareNatural:o,Index:a,DenseMatrix:l}=t;return r(TU,{"Array | Matrix, Array | Matrix":function(p,f){var h;if(0===i(e(p),new a(0))||0===i(e(f),new a(0)))h=[];else{var y=gg(xr(Array.isArray(p)?p:p.toArray()).sort(o)),D=gg(xr(Array.isArray(f)?f:f.toArray()).sort(o));h=[];for(var E=0;E<y.length;E++)for(var k=0;k<D.length;k++)if(0===o(y[E].value,D[k].value)&&y[E].identifier===D[k].identifier){h.push(y[E]);break}}return Array.isArray(p)&&Array.isArray(f)?$w(h):new l($w(h))}})}),IU="setUnion",bge=xe(IU,["typed","size","concat","subset","setIntersect","setSymDifference","Index"],t=>{var{typed:r,size:e,concat:i,subset:o,setIntersect:a,setSymDifference:l,Index:u}=t;return r(IU,{"Array | Matrix, Array | Matrix":function(f,h){if(0===o(e(f),new u(0)))return xr(h);if(0===o(e(h),new u(0)))return xr(f);var y=xr(f),D=xr(h);return i(l(y,D),a(y,D))}})}),xge=xe("sqrtm",["typed","abs","add","multiply","map","sqrt","subtract","inv","size","max","identity"],t=>{var{typed:r,abs:e,add:i,multiply:o,map:a,sqrt:l,subtract:u,inv:p,size:f,max:h,identity:y}=t,E=1e-6;return r("sqrtm",{"Array | Matrix":function(L){var U=On(L)?L.size():Vn(L);switch(U.length){case 1:if(1===U[0])return a(L,l);throw new RangeError("Matrix must be square (size: "+er(U)+")");case 2:if(U[0]===U[1])return function k(T){var L,U=0,Y=T,N=y(f(T));do{var q=Y;if(Y=o(.5,i(q,p(N))),N=o(.5,i(N,p(q))),(L=h(e(u(Y,q))))>E&&++U>1e3)throw new Error("computing square root of matrix: iterative method could not converge")}while(L>E);return Y}(L);throw new RangeError("Matrix must be square (size: "+er(U)+")");default:throw new RangeError("Matrix must be at most two dimensional (size: "+er(U)+")")}}})});function FU(t,r){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);r&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),e.push.apply(e,i)}return e}function GT(t){for(var r=1;r<arguments.length;r++){var e=null!=arguments[r]?arguments[r]:{};r%2?FU(Object(e),!0).forEach(function(i){oo(t,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):FU(Object(e)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(e,i))})}return t}var Sge=xe("Unit",["?on","config","addScalar","subtractScalar","multiplyScalar","divideScalar","pow","abs","fix","round","equal","isNumeric","format","number","Complex","BigNumber","Fraction"],t=>{var q,j,z,{on:r,config:e,addScalar:i,subtractScalar:o,multiplyScalar:a,divideScalar:l,pow:u,abs:p,fix:f,round:h,equal:y,isNumeric:D,format:E,number:k,Complex:T,BigNumber:L,Fraction:U}=t,Y=k;function N(Se,Be){if(!(this instanceof N))throw new Error("Constructor must be called with the new operator");if(null!=Se&&!D(Se)&&!iu(Se))throw new TypeError("First parameter in Unit constructor must be number, BigNumber, Fraction, Complex, or undefined");if(this.fixPrefix=!1,this.skipAutomaticSimplification=!0,void 0===Be)this.units=[],this.dimensions=ce.map(Te=>0);else if("string"==typeof Be){var ut=N.parse(Be);this.units=ut.units,this.dimensions=ut.dimensions}else{if(!Rs(Be)||null!==Be.value)throw new TypeError("Second parameter in Unit constructor must be a string or valueless Unit");this.fixPrefix=Be.fixPrefix,this.skipAutomaticSimplification=Be.skipAutomaticSimplification,this.dimensions=Be.dimensions.slice(0),this.units=Be.units.map(Te=>go({},Te))}this.value=this._normalize(Se)}function J(){for(;" "===z||"\t"===z;)V()}function H(Se){return Se>="0"&&Se<="9"}function V(){j++,z=q.charAt(j)}function K(Se){z=q.charAt(j=Se)}function ee(){var Se="",Be=j;if("+"===z?V():"-"===z&&(Se+=z,V()),!function B(Se){return Se>="0"&&Se<="9"||"."===Se}(z))return K(Be),null;if("."===z){if(Se+=z,V(),!H(z))return K(Be),null}else{for(;H(z);)Se+=z,V();"."===z&&(Se+=z,V())}for(;H(z);)Se+=z,V();if("E"===z||"e"===z){var ut="",Te=j;if(ut+=z,V(),("+"===z||"-"===z)&&(ut+=z,V()),!H(z))return K(Te),Se;for(Se+=ut;H(z);)Se+=z,V()}return Se}function re(){for(var Se="";H(z)||N.isValidAlpha(z);)Se+=z,V();var Be=Se.charAt(0);return N.isValidAlpha(Be)?Se:null}function le(Se){return z===Se?(V(),Se):null}Object.defineProperty(N,"name",{value:"Unit"}),N.prototype.constructor=N,N.prototype.type="Unit",N.prototype.isUnit=!0,N.parse=function(Se,Be){if(Be=Be||{},j=-1,z="","string"!=typeof(q=Se))throw new TypeError("Invalid argument in Unit.parse, string expected");var ut=new N;ut.units=[];var Te=1,Ve=!1;V(),J();var tt=ee(),Rt=null;if(tt){if("BigNumber"===e.number)Rt=new L(tt);else if("Fraction"===e.number)try{Rt=new U(tt)}catch{Rt=parseFloat(tt)}else Rt=parseFloat(tt);J(),le("*")?(Te=1,Ve=!0):le("/")&&(Te=-1,Ve=!0)}for(var Ot=[],en=1;;){for(J();"("===z;)Ot.push(Te),en*=Te,Te=1,V(),J();var zt;if(!z)break;var Dn=z;if(null===(zt=re()))throw new SyntaxError('Unexpected "'+Dn+'" in "'+q+'" at index '+j.toString());var hr=ie(zt);if(null===hr)throw new SyntaxError('Unit "'+zt+'" not found.');var Fr=Te*en;if(J(),le("^")){J();var Xr=ee();if(null===Xr)throw new SyntaxError('In "'+Se+'", "^" must be followed by a floating-point number');Fr*=Xr}ut.units.push({unit:hr.unit,prefix:hr.prefix,power:Fr});for(var Kr=0;Kr<ce.length;Kr++)ut.dimensions[Kr]+=(hr.unit.dimensions[Kr]||0)*Fr;for(J();")"===z;){if(0===Ot.length)throw new SyntaxError('Unmatched ")" in "'+q+'" at index '+j.toString());en/=Ot.pop(),V(),J()}Ve=!1,le("*")?(Te=1,Ve=!0):le("/")?(Te=-1,Ve=!0):Te=1,hr.unit.base&&(Ye.auto[hr.unit.base.key]={unit:hr.unit,prefix:hr.prefix})}if(J(),z)throw new SyntaxError('Could not parse: "'+Se+'"');if(Ve)throw new SyntaxError('Trailing characters: "'+Se+'"');if(0!==Ot.length)throw new SyntaxError('Unmatched "(" in "'+q+'"');if(0===ut.units.length&&!Be.allowNoUnits)throw new SyntaxError('"'+Se+'" contains no units');return ut.value=void 0!==Rt?ut._normalize(Rt):null,ut},N.prototype.clone=function(){var Se=new N;Se.fixPrefix=this.fixPrefix,Se.skipAutomaticSimplification=this.skipAutomaticSimplification,Se.value=Bn(this.value),Se.dimensions=this.dimensions.slice(0),Se.units=[];for(var Be=0;Be<this.units.length;Be++)for(var ut in Se.units[Be]={},this.units[Be])mn(this.units[Be],ut)&&(Se.units[Be][ut]=this.units[Be][ut]);return Se},N.prototype.valueType=function(){return Vr(this.value)},N.prototype._isDerived=function(){return 0!==this.units.length&&(this.units.length>1||Math.abs(this.units[0].power-1)>1e-15)},N.prototype._normalize=function(Se){if(null==Se||0===this.units.length)return Se;for(var Be=Se,ut=N._getNumberConverter(Vr(Se)),Te=0;Te<this.units.length;Te++){var Ve=ut(this.units[Te].unit.value),tt=ut(this.units[Te].prefix.value),Rt=ut(this.units[Te].power);Be=a(Be,u(a(Ve,tt),Rt))}return Be},N.prototype._denormalize=function(Se,Be){if(null==Se||0===this.units.length)return Se;for(var ut=Se,Te=N._getNumberConverter(Vr(Se)),Ve=0;Ve<this.units.length;Ve++){var tt=Te(this.units[Ve].unit.value),Rt=Te(this.units[Ve].prefix.value),Ot=Te(this.units[Ve].power);ut=l(ut,u(a(tt,Rt),Ot))}return ut};var ie=l0(Se=>{if(mn(ve,Se)){var Be=ve[Se];return{unit:Be,prefix:Be.prefixes[""]}}for(var Te in ve)if(mn(ve,Te)&&_J(Se,Te)){var Ve=ve[Te],Rt=Se.substring(0,Se.length-Te.length),Ot=mn(Ve.prefixes,Rt)?Ve.prefixes[Rt]:void 0;if(void 0!==Ot)return{unit:Ve,prefix:Ot}}return null},{hasher:Se=>Se[0],limit:100});function G(Se){return Se.equalBase(te.NONE)&&null!==Se.value&&!e.predictable?Se.value:Se}N.isValuelessUnit=function(Se){return null!==ie(Se)},N.prototype.hasBase=function(Se){if("string"==typeof Se&&(Se=te[Se]),!Se)return!1;for(var Be=0;Be<ce.length;Be++)if(Math.abs((this.dimensions[Be]||0)-(Se.dimensions[Be]||0))>1e-12)return!1;return!0},N.prototype.equalBase=function(Se){for(var Be=0;Be<ce.length;Be++)if(Math.abs((this.dimensions[Be]||0)-(Se.dimensions[Be]||0))>1e-12)return!1;return!0},N.prototype.equals=function(Se){return this.equalBase(Se)&&y(this.value,Se.value)},N.prototype.multiply=function(Se){for(var Be=this.clone(),ut=Rs(Se)?Se:new N(Se),Te=0;Te<ce.length;Te++)Be.dimensions[Te]=(this.dimensions[Te]||0)+(ut.dimensions[Te]||0);for(var Ve=0;Ve<ut.units.length;Ve++){var tt=GT({},ut.units[Ve]);Be.units.push(tt)}if(null!==this.value||null!==ut.value){var Rt=null===this.value?this._normalize(1):this.value,Ot=null===ut.value?ut._normalize(1):ut.value;Be.value=a(Rt,Ot)}else Be.value=null;return Rs(Se)&&(Be.skipAutomaticSimplification=!1),G(Be)},N.prototype.divideInto=function(Se){return new N(Se).divide(this)},N.prototype.divide=function(Se){for(var Be=this.clone(),ut=Rs(Se)?Se:new N(Se),Te=0;Te<ce.length;Te++)Be.dimensions[Te]=(this.dimensions[Te]||0)-(ut.dimensions[Te]||0);for(var Ve=0;Ve<ut.units.length;Ve++){var tt=GT(GT({},ut.units[Ve]),{},{power:-ut.units[Ve].power});Be.units.push(tt)}if(null!==this.value||null!==ut.value){var Rt=null===this.value?this._normalize(1):this.value,Ot=null===ut.value?ut._normalize(1):ut.value;Be.value=l(Rt,Ot)}else Be.value=null;return Rs(Se)&&(Be.skipAutomaticSimplification=!1),G(Be)},N.prototype.pow=function(Se){for(var Be=this.clone(),ut=0;ut<ce.length;ut++)Be.dimensions[ut]=(this.dimensions[ut]||0)*Se;for(var Te=0;Te<Be.units.length;Te++)Be.units[Te].power*=Se;return Be.value=null!==Be.value?u(Be.value,Se):null,Be.skipAutomaticSimplification=!1,G(Be)},N.prototype.abs=function(){var Se=this.clone();if(null!==Se.value)if(Se._isDerived()||0===Se.units[0].unit.offset)Se.value=p(Se.value);else{var Be=Se._numberConverter(),ut=Be(Se.units[0].unit.value),Te=Be(Se.units[0].unit.offset),Ve=a(ut,Te);Se.value=o(p(i(Se.value,Ve)),Ve)}for(var tt in Se.units)("VA"===Se.units[tt].unit.name||"VAR"===Se.units[tt].unit.name)&&(Se.units[tt].unit=ve.W);return Se},N.prototype.to=function(Se){var ut,Be=null===this.value?this._normalize(1):this.value;if("string"==typeof Se)ut=N.parse(Se);else{if(!Rs(Se))throw new Error("String or Unit expected as parameter");ut=Se.clone()}if(!this.equalBase(ut))throw new Error("Units do not match ('".concat(ut.toString(),"' != '").concat(this.toString(),"')"));if(null!==ut.value)throw new Error("Cannot convert to a unit with a value");if(null===this.value||this._isDerived()||this.units[0].unit.offset===ut.units[0].unit.offset)ut.value=Bn(Be);else{var Te=N._getNumberConverter(Vr(Be)),Rt=a(this.units[0].unit.value,this.units[0].unit.offset),zt=a(ut.units[0].unit.value,ut.units[0].unit.offset);ut.value=i(Be,Te(o(Rt,zt)))}return ut.fixPrefix=!0,ut.skipAutomaticSimplification=!0,ut},N.prototype.toNumber=function(Se){return Y(this.toNumeric(Se))},N.prototype.toNumeric=function(Se){var Be;return(Be=Se?this.to(Se):this.clone())._isDerived()||0===Be.units.length?Be._denormalize(Be.value):Be._denormalize(Be.value,Be.units[0].prefix.value)},N.prototype.toString=function(){return this.format()},N.prototype.toJSON=function(){return{mathjs:"Unit",value:this._denormalize(this.value),unit:this.formatUnits(),fixPrefix:this.fixPrefix}},N.fromJSON=function(Se){var Be=new N(Se.value,Se.unit);return Be.fixPrefix=Se.fixPrefix||!1,Be},N.prototype.valueOf=N.prototype.toString,N.prototype.simplify=function(){var ut,Ve,Se=this.clone(),Be=[];for(var Te in at)if(mn(at,Te)&&Se.hasBase(te[Te])){ut=Te;break}if("NONE"===ut)Se.units=[];else if(ut&&mn(at,ut)&&(Ve=at[ut]),Ve)Se.units=[{unit:Ve.unit,prefix:Ve.prefix,power:1}];else{for(var tt=!1,Rt=0;Rt<ce.length;Rt++){var Ot=ce[Rt];Math.abs(Se.dimensions[Rt]||0)>1e-12&&(mn(at,Ot)?Be.push({unit:at[Ot].unit,prefix:at[Ot].prefix,power:Se.dimensions[Rt]||0}):tt=!0)}Be.length<Se.units.length&&!tt&&(Se.units=Be)}return Se},N.prototype.toSI=function(){for(var Se=this.clone(),Be=[],ut=0;ut<ce.length;ut++){var Te=ce[ut];if(Math.abs(Se.dimensions[ut]||0)>1e-12){if(!mn(Ye.si,Te))throw new Error("Cannot express custom unit "+Te+" in SI units");Be.push({unit:Ye.si[Te].unit,prefix:Ye.si[Te].prefix,power:Se.dimensions[ut]||0})}}return Se.units=Be,Se.fixPrefix=!0,Se.skipAutomaticSimplification=!0,Se},N.prototype.formatUnits=function(){for(var Se="",Be="",ut=0,Te=0,Ve=0;Ve<this.units.length;Ve++)this.units[Ve].power>0?(ut++,Se+=" "+this.units[Ve].prefix.name+this.units[Ve].unit.name,Math.abs(this.units[Ve].power-1)>1e-15&&(Se+="^"+this.units[Ve].power)):this.units[Ve].power<0&&Te++;if(Te>0)for(var tt=0;tt<this.units.length;tt++)this.units[tt].power<0&&(ut>0?(Be+=" "+this.units[tt].prefix.name+this.units[tt].unit.name,Math.abs(this.units[tt].power+1)>1e-15&&(Be+="^"+-this.units[tt].power)):(Be+=" "+this.units[tt].prefix.name+this.units[tt].unit.name,Be+="^"+this.units[tt].power));Se=Se.substr(1),Be=Be.substr(1),ut>1&&Te>0&&(Se="("+Se+")"),Te>1&&ut>0&&(Be="("+Be+")");var Rt=Se;return ut>0&&Te>0&&(Rt+=" / "),Rt+Be},N.prototype.format=function(Se){var Be=this.skipAutomaticSimplification||null===this.value?this.clone():this.simplify(),ut=!1;for(var Te in typeof Be.value<"u"&&null!==Be.value&&iu(Be.value)&&(ut=Math.abs(Be.value.re)<1e-14),Be.units)mn(Be.units,Te)&&Be.units[Te].unit&&("VA"===Be.units[Te].unit.name&&ut?Be.units[Te].unit=ve.VAR:"VAR"===Be.units[Te].unit.name&&!ut&&(Be.units[Te].unit=ve.VA));1===Be.units.length&&!Be.fixPrefix&&Math.abs(Be.units[0].power-Math.round(Be.units[0].power))<1e-14&&(Be.units[0].prefix=Be._bestPrefix());var Ve=Be._denormalize(Be.value),tt=null!==Be.value?E(Ve,Se||{}):"",Rt=Be.formatUnits();return Be.value&&iu(Be.value)&&(tt="("+tt+")"),Rt.length>0&&tt.length>0&&(tt+=" "),tt+Rt},N.prototype._bestPrefix=function(){if(1!==this.units.length)throw new Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");if(Math.abs(this.units[0].power-Math.round(this.units[0].power))>=1e-14)throw new Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");var Se=null!==this.value?p(this.value):0,Be=p(this.units[0].unit.value),ut=this.units[0].prefix;if(0===Se)return ut;var Te=this.units[0].power,Ve=Math.log(Se/Math.pow(ut.value*Be,Te))/Math.LN10-1.2;if(Ve>-2.200001&&Ve<1.800001)return ut;Ve=Math.abs(Ve);var tt=this.units[0].unit.prefixes;for(var Rt in tt)if(mn(tt,Rt)){var Ot=tt[Rt];if(Ot.scientific){var en=Math.abs(Math.log(Se/Math.pow(Ot.value*Be,Te))/Math.LN10-1.2);(en<Ve||en===Ve&&Ot.name.length<ut.name.length)&&(ut=Ot,Ve=en)}}return ut},N.prototype.splitUnit=function(Se){for(var Be=this.clone(),ut=[],Te=0;Te<Se.length&&(Be=Be.to(Se[Te]),Te!==Se.length-1);Te++){var Ve=Be.toNumeric(),tt=h(Ve),en=new N(y(tt,Ve)?tt:f(Be.toNumeric()),Se[Te].toString());ut.push(en),Be=o(Be,en)}for(var zt=0,Dn=0;Dn<ut.length;Dn++)zt=i(zt,ut[Dn].value);return y(zt,this.value)&&(Be.value=0),ut.push(Be),ut};var W={NONE:{"":{name:"",value:1,scientific:!0}},SHORT:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:10,scientific:!1},h:{name:"h",value:100,scientific:!1},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0},d:{name:"d",value:.1,scientific:!1},c:{name:"c",value:.01,scientific:!1},m:{name:"m",value:.001,scientific:!0},u:{name:"u",value:1e-6,scientific:!0},n:{name:"n",value:1e-9,scientific:!0},p:{name:"p",value:1e-12,scientific:!0},f:{name:"f",value:1e-15,scientific:!0},a:{name:"a",value:1e-18,scientific:!0},z:{name:"z",value:1e-21,scientific:!0},y:{name:"y",value:1e-24,scientific:!0}},LONG:{"":{name:"",value:1,scientific:!0},deca:{name:"deca",value:10,scientific:!1},hecto:{name:"hecto",value:100,scientific:!1},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0},deci:{name:"deci",value:.1,scientific:!1},centi:{name:"centi",value:.01,scientific:!1},milli:{name:"milli",value:.001,scientific:!0},micro:{name:"micro",value:1e-6,scientific:!0},nano:{name:"nano",value:1e-9,scientific:!0},pico:{name:"pico",value:1e-12,scientific:!0},femto:{name:"femto",value:1e-15,scientific:!0},atto:{name:"atto",value:1e-18,scientific:!0},zepto:{name:"zepto",value:1e-21,scientific:!0},yocto:{name:"yocto",value:1e-24,scientific:!0}},SQUARED:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:100,scientific:!1},h:{name:"h",value:1e4,scientific:!1},k:{name:"k",value:1e6,scientific:!0},M:{name:"M",value:1e12,scientific:!0},G:{name:"G",value:1e18,scientific:!0},T:{name:"T",value:1e24,scientific:!0},P:{name:"P",value:1e30,scientific:!0},E:{name:"E",value:1e36,scientific:!0},Z:{name:"Z",value:1e42,scientific:!0},Y:{name:"Y",value:1e48,scientific:!0},d:{name:"d",value:.01,scientific:!1},c:{name:"c",value:1e-4,scientific:!1},m:{name:"m",value:1e-6,scientific:!0},u:{name:"u",value:1e-12,scientific:!0},n:{name:"n",value:1e-18,scientific:!0},p:{name:"p",value:1e-24,scientific:!0},f:{name:"f",value:1e-30,scientific:!0},a:{name:"a",value:1e-36,scientific:!0},z:{name:"z",value:1e-42,scientific:!0},y:{name:"y",value:1e-48,scientific:!0}},CUBIC:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:1e3,scientific:!1},h:{name:"h",value:1e6,scientific:!1},k:{name:"k",value:1e9,scientific:!0},M:{name:"M",value:1e18,scientific:!0},G:{name:"G",value:1e27,scientific:!0},T:{name:"T",value:1e36,scientific:!0},P:{name:"P",value:1e45,scientific:!0},E:{name:"E",value:1e54,scientific:!0},Z:{name:"Z",value:1e63,scientific:!0},Y:{name:"Y",value:1e72,scientific:!0},d:{name:"d",value:.001,scientific:!1},c:{name:"c",value:1e-6,scientific:!1},m:{name:"m",value:1e-9,scientific:!0},u:{name:"u",value:1e-18,scientific:!0},n:{name:"n",value:1e-27,scientific:!0},p:{name:"p",value:1e-36,scientific:!0},f:{name:"f",value:1e-45,scientific:!0},a:{name:"a",value:1e-54,scientific:!0},z:{name:"z",value:1e-63,scientific:!0},y:{name:"y",value:1e-72,scientific:!0}},BINARY_SHORT_SI:{"":{name:"",value:1,scientific:!0},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0}},BINARY_SHORT_IEC:{"":{name:"",value:1,scientific:!0},Ki:{name:"Ki",value:1024,scientific:!0},Mi:{name:"Mi",value:Math.pow(1024,2),scientific:!0},Gi:{name:"Gi",value:Math.pow(1024,3),scientific:!0},Ti:{name:"Ti",value:Math.pow(1024,4),scientific:!0},Pi:{name:"Pi",value:Math.pow(1024,5),scientific:!0},Ei:{name:"Ei",value:Math.pow(1024,6),scientific:!0},Zi:{name:"Zi",value:Math.pow(1024,7),scientific:!0},Yi:{name:"Yi",value:Math.pow(1024,8),scientific:!0}},BINARY_LONG_SI:{"":{name:"",value:1,scientific:!0},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0}},BINARY_LONG_IEC:{"":{name:"",value:1,scientific:!0},kibi:{name:"kibi",value:1024,scientific:!0},mebi:{name:"mebi",value:Math.pow(1024,2),scientific:!0},gibi:{name:"gibi",value:Math.pow(1024,3),scientific:!0},tebi:{name:"tebi",value:Math.pow(1024,4),scientific:!0},pebi:{name:"pebi",value:Math.pow(1024,5),scientific:!0},exi:{name:"exi",value:Math.pow(1024,6),scientific:!0},zebi:{name:"zebi",value:Math.pow(1024,7),scientific:!0},yobi:{name:"yobi",value:Math.pow(1024,8),scientific:!0}},BTU:{"":{name:"",value:1,scientific:!0},MM:{name:"MM",value:1e6,scientific:!0}}};W.SHORTLONG=go({},W.SHORT,W.LONG),W.BINARY_SHORT=go({},W.BINARY_SHORT_SI,W.BINARY_SHORT_IEC),W.BINARY_LONG=go({},W.BINARY_LONG_SI,W.BINARY_LONG_IEC);var ce=["MASS","LENGTH","TIME","CURRENT","TEMPERATURE","LUMINOUS_INTENSITY","AMOUNT_OF_SUBSTANCE","ANGLE","BIT"],te={NONE:{dimensions:[0,0,0,0,0,0,0,0,0]},MASS:{dimensions:[1,0,0,0,0,0,0,0,0]},LENGTH:{dimensions:[0,1,0,0,0,0,0,0,0]},TIME:{dimensions:[0,0,1,0,0,0,0,0,0]},CURRENT:{dimensions:[0,0,0,1,0,0,0,0,0]},TEMPERATURE:{dimensions:[0,0,0,0,1,0,0,0,0]},LUMINOUS_INTENSITY:{dimensions:[0,0,0,0,0,1,0,0,0]},AMOUNT_OF_SUBSTANCE:{dimensions:[0,0,0,0,0,0,1,0,0]},FORCE:{dimensions:[1,1,-2,0,0,0,0,0,0]},SURFACE:{dimensions:[0,2,0,0,0,0,0,0,0]},VOLUME:{dimensions:[0,3,0,0,0,0,0,0,0]},ENERGY:{dimensions:[1,2,-2,0,0,0,0,0,0]},POWER:{dimensions:[1,2,-3,0,0,0,0,0,0]},PRESSURE:{dimensions:[1,-1,-2,0,0,0,0,0,0]},ELECTRIC_CHARGE:{dimensions:[0,0,1,1,0,0,0,0,0]},ELECTRIC_CAPACITANCE:{dimensions:[-1,-2,4,2,0,0,0,0,0]},ELECTRIC_POTENTIAL:{dimensions:[1,2,-3,-1,0,0,0,0,0]},ELECTRIC_RESISTANCE:{dimensions:[1,2,-3,-2,0,0,0,0,0]},ELECTRIC_INDUCTANCE:{dimensions:[1,2,-2,-2,0,0,0,0,0]},ELECTRIC_CONDUCTANCE:{dimensions:[-1,-2,3,2,0,0,0,0,0]},MAGNETIC_FLUX:{dimensions:[1,2,-2,-1,0,0,0,0,0]},MAGNETIC_FLUX_DENSITY:{dimensions:[1,0,-2,-1,0,0,0,0,0]},FREQUENCY:{dimensions:[0,0,-1,0,0,0,0,0,0]},ANGLE:{dimensions:[0,0,0,0,0,0,0,1,0]},BIT:{dimensions:[0,0,0,0,0,0,0,0,1]}};for(var me in te)mn(te,me)&&(te[me].key=me);var Le={name:"",base:{},value:1,offset:0,dimensions:ce.map(Se=>0)},ve={meter:{name:"meter",base:te.LENGTH,prefixes:W.LONG,value:1,offset:0},inch:{name:"inch",base:te.LENGTH,prefixes:W.NONE,value:.0254,offset:0},foot:{name:"foot",base:te.LENGTH,prefixes:W.NONE,value:.3048,offset:0},yard:{name:"yard",base:te.LENGTH,prefixes:W.NONE,value:.9144,offset:0},mile:{name:"mile",base:te.LENGTH,prefixes:W.NONE,value:1609.344,offset:0},link:{name:"link",base:te.LENGTH,prefixes:W.NONE,value:.201168,offset:0},rod:{name:"rod",base:te.LENGTH,prefixes:W.NONE,value:5.0292,offset:0},chain:{name:"chain",base:te.LENGTH,prefixes:W.NONE,value:20.1168,offset:0},angstrom:{name:"angstrom",base:te.LENGTH,prefixes:W.NONE,value:1e-10,offset:0},m:{name:"m",base:te.LENGTH,prefixes:W.SHORT,value:1,offset:0},in:{name:"in",base:te.LENGTH,prefixes:W.NONE,value:.0254,offset:0},ft:{name:"ft",base:te.LENGTH,prefixes:W.NONE,value:.3048,offset:0},yd:{name:"yd",base:te.LENGTH,prefixes:W.NONE,value:.9144,offset:0},mi:{name:"mi",base:te.LENGTH,prefixes:W.NONE,value:1609.344,offset:0},li:{name:"li",base:te.LENGTH,prefixes:W.NONE,value:.201168,offset:0},rd:{name:"rd",base:te.LENGTH,prefixes:W.NONE,value:5.02921,offset:0},ch:{name:"ch",base:te.LENGTH,prefixes:W.NONE,value:20.1168,offset:0},mil:{name:"mil",base:te.LENGTH,prefixes:W.NONE,value:254e-7,offset:0},m2:{name:"m2",base:te.SURFACE,prefixes:W.SQUARED,value:1,offset:0},sqin:{name:"sqin",base:te.SURFACE,prefixes:W.NONE,value:64516e-8,offset:0},sqft:{name:"sqft",base:te.SURFACE,prefixes:W.NONE,value:.09290304,offset:0},sqyd:{name:"sqyd",base:te.SURFACE,prefixes:W.NONE,value:.83612736,offset:0},sqmi:{name:"sqmi",base:te.SURFACE,prefixes:W.NONE,value:2589988.110336,offset:0},sqrd:{name:"sqrd",base:te.SURFACE,prefixes:W.NONE,value:25.29295,offset:0},sqch:{name:"sqch",base:te.SURFACE,prefixes:W.NONE,value:404.6873,offset:0},sqmil:{name:"sqmil",base:te.SURFACE,prefixes:W.NONE,value:6.4516e-10,offset:0},acre:{name:"acre",base:te.SURFACE,prefixes:W.NONE,value:4046.86,offset:0},hectare:{name:"hectare",base:te.SURFACE,prefixes:W.NONE,value:1e4,offset:0},m3:{name:"m3",base:te.VOLUME,prefixes:W.CUBIC,value:1,offset:0},L:{name:"L",base:te.VOLUME,prefixes:W.SHORT,value:.001,offset:0},l:{name:"l",base:te.VOLUME,prefixes:W.SHORT,value:.001,offset:0},litre:{name:"litre",base:te.VOLUME,prefixes:W.LONG,value:.001,offset:0},cuin:{name:"cuin",base:te.VOLUME,prefixes:W.NONE,value:16387064e-12,offset:0},cuft:{name:"cuft",base:te.VOLUME,prefixes:W.NONE,value:.028316846592,offset:0},cuyd:{name:"cuyd",base:te.VOLUME,prefixes:W.NONE,value:.764554857984,offset:0},teaspoon:{name:"teaspoon",base:te.VOLUME,prefixes:W.NONE,value:5e-6,offset:0},tablespoon:{name:"tablespoon",base:te.VOLUME,prefixes:W.NONE,value:15e-6,offset:0},drop:{name:"drop",base:te.VOLUME,prefixes:W.NONE,value:5e-8,offset:0},gtt:{name:"gtt",base:te.VOLUME,prefixes:W.NONE,value:5e-8,offset:0},minim:{name:"minim",base:te.VOLUME,prefixes:W.NONE,value:6.161152e-8,offset:0},fluiddram:{name:"fluiddram",base:te.VOLUME,prefixes:W.NONE,value:36966911e-13,offset:0},fluidounce:{name:"fluidounce",base:te.VOLUME,prefixes:W.NONE,value:2957353e-11,offset:0},gill:{name:"gill",base:te.VOLUME,prefixes:W.NONE,value:.0001182941,offset:0},cc:{name:"cc",base:te.VOLUME,prefixes:W.NONE,value:1e-6,offset:0},cup:{name:"cup",base:te.VOLUME,prefixes:W.NONE,value:.0002365882,offset:0},pint:{name:"pint",base:te.VOLUME,prefixes:W.NONE,value:.0004731765,offset:0},quart:{name:"quart",base:te.VOLUME,prefixes:W.NONE,value:.0009463529,offset:0},gallon:{name:"gallon",base:te.VOLUME,prefixes:W.NONE,value:.003785412,offset:0},beerbarrel:{name:"beerbarrel",base:te.VOLUME,prefixes:W.NONE,value:.1173478,offset:0},oilbarrel:{name:"oilbarrel",base:te.VOLUME,prefixes:W.NONE,value:.1589873,offset:0},hogshead:{name:"hogshead",base:te.VOLUME,prefixes:W.NONE,value:.238481,offset:0},fldr:{name:"fldr",base:te.VOLUME,prefixes:W.NONE,value:36966911e-13,offset:0},floz:{name:"floz",base:te.VOLUME,prefixes:W.NONE,value:2957353e-11,offset:0},gi:{name:"gi",base:te.VOLUME,prefixes:W.NONE,value:.0001182941,offset:0},cp:{name:"cp",base:te.VOLUME,prefixes:W.NONE,value:.0002365882,offset:0},pt:{name:"pt",base:te.VOLUME,prefixes:W.NONE,value:.0004731765,offset:0},qt:{name:"qt",base:te.VOLUME,prefixes:W.NONE,value:.0009463529,offset:0},gal:{name:"gal",base:te.VOLUME,prefixes:W.NONE,value:.003785412,offset:0},bbl:{name:"bbl",base:te.VOLUME,prefixes:W.NONE,value:.1173478,offset:0},obl:{name:"obl",base:te.VOLUME,prefixes:W.NONE,value:.1589873,offset:0},g:{name:"g",base:te.MASS,prefixes:W.SHORT,value:.001,offset:0},gram:{name:"gram",base:te.MASS,prefixes:W.LONG,value:.001,offset:0},ton:{name:"ton",base:te.MASS,prefixes:W.SHORT,value:907.18474,offset:0},t:{name:"t",base:te.MASS,prefixes:W.SHORT,value:1e3,offset:0},tonne:{name:"tonne",base:te.MASS,prefixes:W.LONG,value:1e3,offset:0},grain:{name:"grain",base:te.MASS,prefixes:W.NONE,value:6479891e-11,offset:0},dram:{name:"dram",base:te.MASS,prefixes:W.NONE,value:.0017718451953125,offset:0},ounce:{name:"ounce",base:te.MASS,prefixes:W.NONE,value:.028349523125,offset:0},poundmass:{name:"poundmass",base:te.MASS,prefixes:W.NONE,value:.45359237,offset:0},hundredweight:{name:"hundredweight",base:te.MASS,prefixes:W.NONE,value:45.359237,offset:0},stick:{name:"stick",base:te.MASS,prefixes:W.NONE,value:.115,offset:0},stone:{name:"stone",base:te.MASS,prefixes:W.NONE,value:6.35029318,offset:0},gr:{name:"gr",base:te.MASS,prefixes:W.NONE,value:6479891e-11,offset:0},dr:{name:"dr",base:te.MASS,prefixes:W.NONE,value:.0017718451953125,offset:0},oz:{name:"oz",base:te.MASS,prefixes:W.NONE,value:.028349523125,offset:0},lbm:{name:"lbm",base:te.MASS,prefixes:W.NONE,value:.45359237,offset:0},cwt:{name:"cwt",base:te.MASS,prefixes:W.NONE,value:45.359237,offset:0},s:{name:"s",base:te.TIME,prefixes:W.SHORT,value:1,offset:0},min:{name:"min",base:te.TIME,prefixes:W.NONE,value:60,offset:0},h:{name:"h",base:te.TIME,prefixes:W.NONE,value:3600,offset:0},second:{name:"second",base:te.TIME,prefixes:W.LONG,value:1,offset:0},sec:{name:"sec",base:te.TIME,prefixes:W.LONG,value:1,offset:0},minute:{name:"minute",base:te.TIME,prefixes:W.NONE,value:60,offset:0},hour:{name:"hour",base:te.TIME,prefixes:W.NONE,value:3600,offset:0},day:{name:"day",base:te.TIME,prefixes:W.NONE,value:86400,offset:0},week:{name:"week",base:te.TIME,prefixes:W.NONE,value:604800,offset:0},month:{name:"month",base:te.TIME,prefixes:W.NONE,value:2629800,offset:0},year:{name:"year",base:te.TIME,prefixes:W.NONE,value:31557600,offset:0},decade:{name:"decade",base:te.TIME,prefixes:W.NONE,value:315576e3,offset:0},century:{name:"century",base:te.TIME,prefixes:W.NONE,value:315576e4,offset:0},millennium:{name:"millennium",base:te.TIME,prefixes:W.NONE,value:315576e5,offset:0},hertz:{name:"Hertz",base:te.FREQUENCY,prefixes:W.LONG,value:1,offset:0,reciprocal:!0},Hz:{name:"Hz",base:te.FREQUENCY,prefixes:W.SHORT,value:1,offset:0,reciprocal:!0},rad:{name:"rad",base:te.ANGLE,prefixes:W.SHORT,value:1,offset:0},radian:{name:"radian",base:te.ANGLE,prefixes:W.LONG,value:1,offset:0},deg:{name:"deg",base:te.ANGLE,prefixes:W.SHORT,value:null,offset:0},degree:{name:"degree",base:te.ANGLE,prefixes:W.LONG,value:null,offset:0},grad:{name:"grad",base:te.ANGLE,prefixes:W.SHORT,value:null,offset:0},gradian:{name:"gradian",base:te.ANGLE,prefixes:W.LONG,value:null,offset:0},cycle:{name:"cycle",base:te.ANGLE,prefixes:W.NONE,value:null,offset:0},arcsec:{name:"arcsec",base:te.ANGLE,prefixes:W.NONE,value:null,offset:0},arcmin:{name:"arcmin",base:te.ANGLE,prefixes:W.NONE,value:null,offset:0},A:{name:"A",base:te.CURRENT,prefixes:W.SHORT,value:1,offset:0},ampere:{name:"ampere",base:te.CURRENT,prefixes:W.LONG,value:1,offset:0},K:{name:"K",base:te.TEMPERATURE,prefixes:W.SHORT,value:1,offset:0},degC:{name:"degC",base:te.TEMPERATURE,prefixes:W.SHORT,value:1,offset:273.15},degF:{name:"degF",base:te.TEMPERATURE,prefixes:W.SHORT,value:new U(5,9),offset:459.67},degR:{name:"degR",base:te.TEMPERATURE,prefixes:W.SHORT,value:new U(5,9),offset:0},kelvin:{name:"kelvin",base:te.TEMPERATURE,prefixes:W.LONG,value:1,offset:0},celsius:{name:"celsius",base:te.TEMPERATURE,prefixes:W.LONG,value:1,offset:273.15},fahrenheit:{name:"fahrenheit",base:te.TEMPERATURE,prefixes:W.LONG,value:new U(5,9),offset:459.67},rankine:{name:"rankine",base:te.TEMPERATURE,prefixes:W.LONG,value:new U(5,9),offset:0},mol:{name:"mol",base:te.AMOUNT_OF_SUBSTANCE,prefixes:W.SHORT,value:1,offset:0},mole:{name:"mole",base:te.AMOUNT_OF_SUBSTANCE,prefixes:W.LONG,value:1,offset:0},cd:{name:"cd",base:te.LUMINOUS_INTENSITY,prefixes:W.SHORT,value:1,offset:0},candela:{name:"candela",base:te.LUMINOUS_INTENSITY,prefixes:W.LONG,value:1,offset:0},N:{name:"N",base:te.FORCE,prefixes:W.SHORT,value:1,offset:0},newton:{name:"newton",base:te.FORCE,prefixes:W.LONG,value:1,offset:0},dyn:{name:"dyn",base:te.FORCE,prefixes:W.SHORT,value:1e-5,offset:0},dyne:{name:"dyne",base:te.FORCE,prefixes:W.LONG,value:1e-5,offset:0},lbf:{name:"lbf",base:te.FORCE,prefixes:W.NONE,value:4.4482216152605,offset:0},poundforce:{name:"poundforce",base:te.FORCE,prefixes:W.NONE,value:4.4482216152605,offset:0},kip:{name:"kip",base:te.FORCE,prefixes:W.LONG,value:4448.2216,offset:0},kilogramforce:{name:"kilogramforce",base:te.FORCE,prefixes:W.NONE,value:9.80665,offset:0},J:{name:"J",base:te.ENERGY,prefixes:W.SHORT,value:1,offset:0},joule:{name:"joule",base:te.ENERGY,prefixes:W.LONG,value:1,offset:0},erg:{name:"erg",base:te.ENERGY,prefixes:W.SHORTLONG,value:1e-7,offset:0},Wh:{name:"Wh",base:te.ENERGY,prefixes:W.SHORT,value:3600,offset:0},BTU:{name:"BTU",base:te.ENERGY,prefixes:W.BTU,value:1055.05585262,offset:0},eV:{name:"eV",base:te.ENERGY,prefixes:W.SHORT,value:1602176565e-28,offset:0},electronvolt:{name:"electronvolt",base:te.ENERGY,prefixes:W.LONG,value:1602176565e-28,offset:0},W:{name:"W",base:te.POWER,prefixes:W.SHORT,value:1,offset:0},watt:{name:"watt",base:te.POWER,prefixes:W.LONG,value:1,offset:0},hp:{name:"hp",base:te.POWER,prefixes:W.NONE,value:745.6998715386,offset:0},VAR:{name:"VAR",base:te.POWER,prefixes:W.SHORT,value:T.I,offset:0},VA:{name:"VA",base:te.POWER,prefixes:W.SHORT,value:1,offset:0},Pa:{name:"Pa",base:te.PRESSURE,prefixes:W.SHORT,value:1,offset:0},psi:{name:"psi",base:te.PRESSURE,prefixes:W.NONE,value:6894.75729276459,offset:0},atm:{name:"atm",base:te.PRESSURE,prefixes:W.NONE,value:101325,offset:0},bar:{name:"bar",base:te.PRESSURE,prefixes:W.SHORTLONG,value:1e5,offset:0},torr:{name:"torr",base:te.PRESSURE,prefixes:W.NONE,value:133.322,offset:0},mmHg:{name:"mmHg",base:te.PRESSURE,prefixes:W.NONE,value:133.322,offset:0},mmH2O:{name:"mmH2O",base:te.PRESSURE,prefixes:W.NONE,value:9.80665,offset:0},cmH2O:{name:"cmH2O",base:te.PRESSURE,prefixes:W.NONE,value:98.0665,offset:0},coulomb:{name:"coulomb",base:te.ELECTRIC_CHARGE,prefixes:W.LONG,value:1,offset:0},C:{name:"C",base:te.ELECTRIC_CHARGE,prefixes:W.SHORT,value:1,offset:0},farad:{name:"farad",base:te.ELECTRIC_CAPACITANCE,prefixes:W.LONG,value:1,offset:0},F:{name:"F",base:te.ELECTRIC_CAPACITANCE,prefixes:W.SHORT,value:1,offset:0},volt:{name:"volt",base:te.ELECTRIC_POTENTIAL,prefixes:W.LONG,value:1,offset:0},V:{name:"V",base:te.ELECTRIC_POTENTIAL,prefixes:W.SHORT,value:1,offset:0},ohm:{name:"ohm",base:te.ELECTRIC_RESISTANCE,prefixes:W.SHORTLONG,value:1,offset:0},henry:{name:"henry",base:te.ELECTRIC_INDUCTANCE,prefixes:W.LONG,value:1,offset:0},H:{name:"H",base:te.ELECTRIC_INDUCTANCE,prefixes:W.SHORT,value:1,offset:0},siemens:{name:"siemens",base:te.ELECTRIC_CONDUCTANCE,prefixes:W.LONG,value:1,offset:0},S:{name:"S",base:te.ELECTRIC_CONDUCTANCE,prefixes:W.SHORT,value:1,offset:0},weber:{name:"weber",base:te.MAGNETIC_FLUX,prefixes:W.LONG,value:1,offset:0},Wb:{name:"Wb",base:te.MAGNETIC_FLUX,prefixes:W.SHORT,value:1,offset:0},tesla:{name:"tesla",base:te.MAGNETIC_FLUX_DENSITY,prefixes:W.LONG,value:1,offset:0},T:{name:"T",base:te.MAGNETIC_FLUX_DENSITY,prefixes:W.SHORT,value:1,offset:0},b:{name:"b",base:te.BIT,prefixes:W.BINARY_SHORT,value:1,offset:0},bits:{name:"bits",base:te.BIT,prefixes:W.BINARY_LONG,value:1,offset:0},B:{name:"B",base:te.BIT,prefixes:W.BINARY_SHORT,value:8,offset:0},bytes:{name:"bytes",base:te.BIT,prefixes:W.BINARY_LONG,value:8,offset:0}},Fe={meters:"meter",inches:"inch",feet:"foot",yards:"yard",miles:"mile",links:"link",rods:"rod",chains:"chain",angstroms:"angstrom",lt:"l",litres:"litre",liter:"litre",liters:"litre",teaspoons:"teaspoon",tablespoons:"tablespoon",minims:"minim",fluiddrams:"fluiddram",fluidounces:"fluidounce",gills:"gill",cups:"cup",pints:"pint",quarts:"quart",gallons:"gallon",beerbarrels:"beerbarrel",oilbarrels:"oilbarrel",hogsheads:"hogshead",gtts:"gtt",grams:"gram",tons:"ton",tonnes:"tonne",grains:"grain",drams:"dram",ounces:"ounce",poundmasses:"poundmass",hundredweights:"hundredweight",sticks:"stick",lb:"lbm",lbs:"lbm",kips:"kip",kgf:"kilogramforce",acres:"acre",hectares:"hectare",sqfeet:"sqft",sqyard:"sqyd",sqmile:"sqmi",sqmiles:"sqmi",mmhg:"mmHg",mmh2o:"mmH2O",cmh2o:"cmH2O",seconds:"second",secs:"second",minutes:"minute",mins:"minute",hours:"hour",hr:"hour",hrs:"hour",days:"day",weeks:"week",months:"month",years:"year",decades:"decade",centuries:"century",millennia:"millennium",hertz:"hertz",radians:"radian",degrees:"degree",gradians:"gradian",cycles:"cycle",arcsecond:"arcsec",arcseconds:"arcsec",arcminute:"arcmin",arcminutes:"arcmin",BTUs:"BTU",watts:"watt",joules:"joule",amperes:"ampere",amps:"ampere",amp:"ampere",coulombs:"coulomb",volts:"volt",ohms:"ohm",farads:"farad",webers:"weber",teslas:"tesla",electronvolts:"electronvolt",moles:"mole",bit:"bits",byte:"bytes"};function Je(Se){if("BigNumber"===Se.number){var Be=IT(L);ve.rad.value=new L(1),ve.deg.value=Be.div(180),ve.grad.value=Be.div(200),ve.cycle.value=Be.times(2),ve.arcsec.value=Be.div(648e3),ve.arcmin.value=Be.div(10800)}else ve.rad.value=1,ve.deg.value=Math.PI/180,ve.grad.value=Math.PI/200,ve.cycle.value=2*Math.PI,ve.arcsec.value=Math.PI/648e3,ve.arcmin.value=Math.PI/10800;ve.radian.value=ve.rad.value,ve.degree.value=ve.deg.value,ve.gradian.value=ve.grad.value}Je(e),r&&r("config",function(Se,Be){Se.number!==Be.number&&Je(Se)});var Ye={si:{NONE:{unit:Le,prefix:W.NONE[""]},LENGTH:{unit:ve.m,prefix:W.SHORT[""]},MASS:{unit:ve.g,prefix:W.SHORT.k},TIME:{unit:ve.s,prefix:W.SHORT[""]},CURRENT:{unit:ve.A,prefix:W.SHORT[""]},TEMPERATURE:{unit:ve.K,prefix:W.SHORT[""]},LUMINOUS_INTENSITY:{unit:ve.cd,prefix:W.SHORT[""]},AMOUNT_OF_SUBSTANCE:{unit:ve.mol,prefix:W.SHORT[""]},ANGLE:{unit:ve.rad,prefix:W.SHORT[""]},BIT:{unit:ve.bits,prefix:W.SHORT[""]},FORCE:{unit:ve.N,prefix:W.SHORT[""]},ENERGY:{unit:ve.J,prefix:W.SHORT[""]},POWER:{unit:ve.W,prefix:W.SHORT[""]},PRESSURE:{unit:ve.Pa,prefix:W.SHORT[""]},ELECTRIC_CHARGE:{unit:ve.C,prefix:W.SHORT[""]},ELECTRIC_CAPACITANCE:{unit:ve.F,prefix:W.SHORT[""]},ELECTRIC_POTENTIAL:{unit:ve.V,prefix:W.SHORT[""]},ELECTRIC_RESISTANCE:{unit:ve.ohm,prefix:W.SHORT[""]},ELECTRIC_INDUCTANCE:{unit:ve.H,prefix:W.SHORT[""]},ELECTRIC_CONDUCTANCE:{unit:ve.S,prefix:W.SHORT[""]},MAGNETIC_FLUX:{unit:ve.Wb,prefix:W.SHORT[""]},MAGNETIC_FLUX_DENSITY:{unit:ve.T,prefix:W.SHORT[""]},FREQUENCY:{unit:ve.Hz,prefix:W.SHORT[""]}}};Ye.cgs=JSON.parse(JSON.stringify(Ye.si)),Ye.cgs.LENGTH={unit:ve.m,prefix:W.SHORT.c},Ye.cgs.MASS={unit:ve.g,prefix:W.SHORT[""]},Ye.cgs.FORCE={unit:ve.dyn,prefix:W.SHORT[""]},Ye.cgs.ENERGY={unit:ve.erg,prefix:W.NONE[""]},Ye.us=JSON.parse(JSON.stringify(Ye.si)),Ye.us.LENGTH={unit:ve.ft,prefix:W.NONE[""]},Ye.us.MASS={unit:ve.lbm,prefix:W.NONE[""]},Ye.us.TEMPERATURE={unit:ve.degF,prefix:W.NONE[""]},Ye.us.FORCE={unit:ve.lbf,prefix:W.NONE[""]},Ye.us.ENERGY={unit:ve.BTU,prefix:W.BTU[""]},Ye.us.POWER={unit:ve.hp,prefix:W.NONE[""]},Ye.us.PRESSURE={unit:ve.psi,prefix:W.NONE[""]},Ye.auto=JSON.parse(JSON.stringify(Ye.si));var at=Ye.auto;for(var Dt in N.setUnitSystem=function(Se){if(!mn(Ye,Se))throw new Error("Unit system "+Se+" does not exist. Choices are: "+Object.keys(Ye).join(", "));at=Ye[Se]},N.getUnitSystem=function(){for(var Se in Ye)if(mn(Ye,Se)&&Ye[Se]===at)return Se},N.typeConverters={BigNumber:function(Be){return null!=Be&&Be.isFraction?new L(Be.n).div(Be.d).times(Be.s):new L(Be+"")},Fraction:function(Be){return new U(Be)},Complex:function(Be){return Be},number:function(Be){return null!=Be&&Be.isFraction?k(Be):Be}},N.prototype._numberConverter=function(){var Se=N.typeConverters[this.valueType()];if(Se)return Se;throw new TypeError('Unsupported Unit value type "'+this.valueType()+'"')},N._getNumberConverter=function(Se){if(!N.typeConverters[Se])throw new TypeError('Unsupported type "'+Se+'"');return N.typeConverters[Se]},ve)if(mn(ve,Dt)){var ft=ve[Dt];ft.dimensions=ft.base.dimensions}for(var st in Fe)if(mn(Fe,st)){var Tt=ve[Fe[st]],Qt={};for(var Ut in Tt)mn(Tt,Ut)&&(Qt[Ut]=Tt[Ut]);Qt.name=st,ve[st]=Qt}return N.isValidAlpha=function(Be){return/^[a-zA-Z]$/.test(Be)},N.createUnit=function(Se,Be){if("object"!=typeof Se)throw new TypeError("createUnit expects first parameter to be of type 'Object'");if(Be&&Be.override)for(var ut in Se)if(mn(Se,ut)&&N.deleteUnit(ut),Se[ut].aliases)for(var Te=0;Te<Se[ut].aliases.length;Te++)N.deleteUnit(Se[ut].aliases[Te]);var Ve;for(var tt in Se)mn(Se,tt)&&(Ve=N.createUnitSingle(tt,Se[tt]));return Ve},N.createUnitSingle=function(Se,Be){if((typeof Be>"u"||null===Be)&&(Be={}),"string"!=typeof Se)throw new TypeError("createUnitSingle expects first parameter to be of type 'string'");if(mn(ve,Se))throw new Error('Cannot create unit "'+Se+'": a unit with that name already exists');!function Ht(Se){for(var Be=0;Be<Se.length;Be++){if(z=Se.charAt(Be),0===Be&&!N.isValidAlpha(z))throw new Error('Invalid unit name (must begin with alpha character): "'+Se+'"');if(Be>0&&!N.isValidAlpha(z)&&!H(z))throw new Error('Invalid unit name (only alphanumeric characters are allowed): "'+Se+'"')}}(Se);var tt,Rt,Ot,ut=null,Te=[],Ve=0;if(Be&&"Unit"===Be.type)ut=Be.clone();else if("string"==typeof Be)""!==Be&&(tt=Be);else{if("object"!=typeof Be)throw new TypeError('Cannot create unit "'+Se+'" from "'+Be.toString()+'": expecting "string" or "Unit" or "Object"');tt=Be.definition,Rt=Be.prefixes,Ve=Be.offset,Ot=Be.baseName,Be.aliases&&(Te=Be.aliases.valueOf())}if(Te)for(var en=0;en<Te.length;en++)if(mn(ve,Te[en]))throw new Error('Cannot create alias "'+Te[en]+'": a unit with that name already exists');if(tt&&"string"==typeof tt&&!ut)try{ut=N.parse(tt,{allowNoUnits:!0})}catch(oe){throw oe.message='Could not create unit "'+Se+'" from "'+tt+'": '+oe.message,oe}else tt&&"Unit"===tt.type&&(ut=tt.clone());Te=Te||[],Ve=Ve||0,Rt=Rt&&Rt.toUpperCase&&W[Rt.toUpperCase()]||W.NONE;var zt={};if(ut){zt={name:Se,value:ut.value,dimensions:ut.dimensions.slice(0),prefixes:Rt,offset:Ve};var Xr=!1;for(var Kr in te)if(mn(te,Kr)){for(var ma=!0,qo=0;qo<ce.length;qo++)if(Math.abs((zt.dimensions[qo]||0)-(te[Kr].dimensions[qo]||0))>1e-12){ma=!1;break}if(ma){Xr=!0,zt.base=te[Kr];break}}if(!Xr){Ot=Ot||Se+"_STUFF";var ip={dimensions:ut.dimensions.slice(0)};ip.key=Ot,te[Ot]=ip,at[Ot]={unit:zt,prefix:W.NONE[""]},zt.base=te[Ot]}}else{if(ce.indexOf(Ot=Ot||Se+"_STUFF")>=0)throw new Error('Cannot create new base unit "'+Se+'": a base unit with that name already exists (and cannot be overridden)');for(var Dn in ce.push(Ot),te)mn(te,Dn)&&(te[Dn].dimensions[ce.length-1]=0);for(var hr={dimensions:[]},Fr=0;Fr<ce.length;Fr++)hr.dimensions[Fr]=0;hr.dimensions[ce.length-1]=1,hr.key=Ot,te[Ot]=hr,zt={name:Se,value:1,dimensions:te[Ot].dimensions.slice(0),prefixes:Rt,offset:Ve,base:te[Ot]},at[Ot]={unit:zt,prefix:W.NONE[""]}}N.UNITS[Se]=zt;for(var Dc=0;Dc<Te.length;Dc++){var Nl=Te[Dc],yr={};for(var op in zt)mn(zt,op)&&(yr[op]=zt[op]);yr.name=Nl,N.UNITS[Nl]=yr}return delete ie.cache,new N(null,Se)},N.deleteUnit=function(Se){delete N.UNITS[Se]},N.PREFIXES=W,N.BASE_DIMENSIONS=ce,N.BASE_UNITS=te,N.UNIT_SYSTEMS=Ye,N.UNITS=ve,N},{isClass:!0}),Oge=xe("dotPow",["typed","equalScalar","matrix","pow","DenseMatrix","concat"],t=>{var{typed:r,equalScalar:e,matrix:i,pow:o,DenseMatrix:a,concat:l}=t,u=ua({typed:r}),p=wc({typed:r,DenseMatrix:a}),f=Po({typed:r,equalScalar:e}),h=so({typed:r,DenseMatrix:a}),y=Gr({typed:r,matrix:i,concat:l}),D={};for(var E in o.signatures)Object.prototype.hasOwnProperty.call(o.signatures,E)&&!E.includes("Matrix")&&!E.includes("Array")&&(D[E]=o.signatures[E]);var k=r(D);return r("dotPow",y({elop:k,SS:p,DS:u,Ss:f,sS:h}))}),Age=xe("expm",["typed","abs","add","identity","inv","multiply"],t=>{var{typed:r,abs:e,add:i,identity:o,inv:a,multiply:l}=t;return r("expm",{Matrix:function(y){var D=y.size();if(2!==D.length||D[0]!==D[1])throw new RangeError("Matrix must be square (size: "+er(D)+")");for(var E=D[0],T=function u(h){for(var y=h.size()[0],D=0,E=0;E<y;E++){for(var k=0,T=0;T<y;T++)k+=e(h.get([E,T]));D=Math.max(k,D)}return D}(y),L=function p(h,y){for(var E=0;E<30;E++)for(var k=0;k<=E;k++){var T=E-k;if(f(h,k,T)<y)return{q:k,j:T}}throw new Error("Could not find acceptable parameters to compute the matrix exponential (try increasing maxSearchSize in expm.js)")}(T,1e-15),U=L.q,Y=L.j,N=l(y,Math.pow(2,-Y)),q=o(E),j=o(E),z=1,J=N,B=-1,H=1;H<=U;H++)H>1&&(J=l(J,N),B=-B),q=i(q,l(z=z*(U-H+1)/((2*U-H+1)*H),J)),j=i(j,l(z*B,J));for(var V=l(a(j),q),K=0;K<Y;K++)V=l(V,V);return Kf(y)?y.createSparseMatrix(V):V}});function f(h,y,D){for(var E=1,k=2;k<=y;k++)E*=k;for(var T=E,L=y+1;L<=2*y;L++)T*=L;var U=T*(2*y+1);return 8*Math.pow(h/Math.pow(2,D),2*y)*E*E/(T*U)}}),Tge=xe("fft",["typed","matrix","addScalar","multiplyScalar","divideScalar","exp","tau","i","dotDivide","conj","pow","ceil","log2"],t=>{var{typed:r,addScalar:i,multiplyScalar:o,divideScalar:a,exp:l,tau:u,i:p,dotDivide:f,conj:h,pow:y,ceil:D,log2:E}=t;return r("fft",{Array:k,Matrix:function(N){return N.create(k(N.toArray()))}});function k(Y){var N=Vn(Y);return 1===N.length?U(Y):T(Y.map(q=>k(q,N.slice(1))),0)}function T(Y,N){var q=Vn(Y);if(0!==N)return new Array(q[0]).fill(0).map((z,J)=>T(Y[J],N-1));if(1===q.length)return U(Y);function j(z){var J=Vn(z);return new Array(J[1]).fill(0).map((B,H)=>new Array(J[0]).fill(0).map((V,K)=>z[K][H]))}return j(T(j(Y),1))}function U(Y){var N=Y.length;if(1===N)return[Y[0]];if(N%2==0){for(var q=[...U(Y.filter((B,H)=>H%2==0)),...U(Y.filter((B,H)=>H%2==1))],j=0;j<N/2;j++){var z=q[j],J=o(q[j+N/2],l(o(o(u,p),a(-j,N))));q[j]=i(z,J),q[j+N/2]=i(z,o(-1,J))}return q}return function L(Y){for(var N=Y.length,q=l(a(o(-1,o(p,u)),N)),j=[],z=1-N;z<N;z++)j.push(y(q,a(y(z,2),2)));for(var J=y(2,D(E(N+N-1))),B=[...new Array(N).fill(0).map((G,W)=>o(Y[W],j[N-1+W])),...new Array(J-N).fill(0)],H=[...new Array(N+N-1).fill(0).map((G,W)=>a(1,j[W])),...new Array(J-(N+N-1)).fill(0)],V=U(B),K=U(H),ee=new Array(J).fill(0).map((G,W)=>o(V[W],K[W])),re=f(h(k(h(ee))),J),le=[],ie=N-1;ie<N+N-1;ie++)le.push(o(re[ie],j[ie]));return le}(Y)}}),kge=xe("gamma",["typed","config","multiplyScalar","pow","BigNumber","Complex"],t=>{var{typed:r,config:e,BigNumber:a,Complex:l}=t;return r("gamma",{number:EM,Complex:function u(f){if(0===f.im)return EM(f.re);if(f.re<.5){var h=new l(1-f.re,-f.im),y=new l(Math.PI*f.re,Math.PI*f.im);return new l(Math.PI).div(y.sin()).div(u(h))}f=new l(f.re-1,f.im);for(var D=new l(Dg[0],0),E=1;E<Dg.length;++E){var k=new l(Dg[E],0);D=D.add(k.div(f.add(E)))}var T=new l(f.re+s4+.5,f.im),L=Math.sqrt(2*Math.PI),U=T.pow(f.add(.5)),Y=T.neg().exp();return D.mul(L).mul(U).mul(Y)},BigNumber:function(h){if(h.isInteger())return h.isNegative()||h.isZero()?new a(1/0):p(h.minus(1));if(!h.isFinite())return new a(h.isNegative()?NaN:1/0);throw new Error("Integer BigNumber expected")}});function p(f){if(f<8)return new a([1,1,2,6,24,120,720,5040][f]);var h=e.precision+(0|Math.log(f.toNumber())),y=a.clone({precision:h});if(f%2==1)return f.times(p(new a(f-1)));for(var D=f,E=new y(f),k=f.toNumber();D>2;)E=E.times(k+=D-=2);return new a(E.toPrecision(a.precision))}}),Nge=xe("ifft",["typed","fft","dotDivide","conj"],t=>{var{typed:r,fft:e,dotDivide:i,conj:o}=t;return r("ifft",{"Array | Matrix":function(l){var u=On(l)?l.size():Vn(l);return i(o(e(o(l))),u.reduce((p,f)=>p*f,1))}})}),VU="createUnit",Lge=xe(VU,["typed","Unit"],t=>{var{typed:r,Unit:e}=t;return r(VU,{"Object, Object":function(o,a){return e.createUnit(o,a)},Object:function(o){return e.createUnit(o,{})},"string, Unit | string | Object, Object":function(o,a,l){var u={};return u[o]=a,e.createUnit(u,l)},"string, Unit | string | Object":function(o,a){var l={};return l[o]=a,e.createUnit(l,{})},string:function(o){var a={};return a[o]={},e.createUnit(a,{})}})}),Vge=xe("divide",["typed","matrix","multiply","equalScalar","divideScalar","inv"],t=>{var{typed:r,matrix:e,multiply:i,equalScalar:o,divideScalar:a,inv:l}=t,u=Po({typed:r,equalScalar:o}),p=El({typed:r});return r("divide",U3({"Array | Matrix, Array | Matrix":function(h,y){return i(h,l(y))},"DenseMatrix, any":function(h,y){return p(h,y,a,!1)},"SparseMatrix, any":function(h,y){return u(h,y,a,!1)},"Array, any":function(h,y){return p(e(h),y,a,!1).valueOf()},"any, Array | Matrix":function(h,y){return i(h,l(y))}},a.signatures))}),zU="factorial",Hge=xe(zU,["typed","gamma"],t=>{var{typed:r,gamma:e}=t;return r(zU,{number:function(o){if(o<0)throw new Error("Value must be non-negative");return e(o+1)},BigNumber:function(o){if(o.isNegative())throw new Error("Value must be non-negative");return e(o.plus(1))},"Array | Matrix":r.referToSelf(i=>o=>rr(o,i))})});function HU(t,r){var e,i=r.length,o=[];if(t)for(e=0;e<i;e++)o[t[e]]=r[e];else for(e=0;e<i;e++)o[e]=r[e];return o}var jU="lusolve",qge=xe(jU,["typed","matrix","lup","slu","usolve","lsolve","DenseMatrix"],t=>{var{typed:r,matrix:e,lup:i,slu:o,usolve:a,lsolve:l,DenseMatrix:u}=t,p=p0({DenseMatrix:u});return r(jU,{"Array, Array | Matrix":function(D,E){D=e(D);var k=i(D);return h(k.L,k.U,k.p,null,E).valueOf()},"DenseMatrix, Array | Matrix":function(D,E){var k=i(D);return h(k.L,k.U,k.p,null,E)},"SparseMatrix, Array | Matrix":function(D,E){var k=i(D);return h(k.L,k.U,k.p,null,E)},"SparseMatrix, Array | Matrix, number, number":function(D,E,k,T){var L=o(D,k,T);return h(L.L,L.U,L.p,L.q,E)},"Object, Array | Matrix":function(D,E){return h(D.L,D.U,D.p,D.q,E)}});function f(y){if(On(y))return y;if(Er(y))return e(y);throw new TypeError("Invalid Matrix LU decomposition")}function h(y,D,E,k,T){y=f(y),D=f(D),E&&((T=p(y,T,!0))._data=HU(E,T._data));var L=l(y,T),U=a(D,L);return k&&(U._data=HU(k,U._data)),U}}),qU="multinomial",Yge=xe(qU,["typed","add","divide","multiply","factorial","isInteger","isPositive"],t=>{var{typed:r,add:e,divide:i,multiply:o,factorial:a,isInteger:l,isPositive:u}=t;return r(qU,{"Array | Matrix":function(f){var h=0,y=1;return su(f,function(D){if(!l(D)||!u(D))throw new TypeError("Positive integer value expected in function multinomial");h=e(h,D),y=o(y,a(D))}),i(a(h),y)}})}),ZU="permutations",$ge=xe(ZU,["typed","factorial"],t=>{var{typed:r,factorial:e}=t;return r(ZU,{"number | BigNumber":e,"number, number":function(o,a){if(!vn(o)||o<0)throw new TypeError("Positive integer value expected in function permutations");if(!vn(a)||a<0)throw new TypeError("Positive integer value expected in function permutations");if(a>o)throw new TypeError("second argument k must be less than or equal to first argument n");return du(o-a+1,o)},"BigNumber, BigNumber":function(o,a){var l,u;if(!YU(o)||!YU(a))throw new TypeError("Positive integer value expected in function permutations");if(a.gt(o))throw new TypeError("second argument k must be less than or equal to first argument n");for(l=o.mul(0).add(1),u=o.minus(a).plus(1);u.lte(o);u=u.plus(1))l=l.times(u);return l}})});function YU(t){return t.isInteger()&&t.gte(0)}var GU="polynomialRoot",Qge=xe(GU,["typed","isZero","equalScalar","add","subtract","multiply","divide","sqrt","unaryMinus","cbrt","typeOf","im","re"],t=>{var{typed:r,isZero:e,equalScalar:i,add:o,subtract:a,multiply:l,divide:u,sqrt:p,unaryMinus:f,cbrt:h,typeOf:y,im:D,re:E}=t;return r(GU,{"number|Complex, ...number|Complex":(k,T)=>{for(var L=[k,...T];L.length>0&&e(L[L.length-1]);)L.pop();if(L.length<2)throw new RangeError("Polynomial [".concat(k,", ").concat(T,"] must have a non-zero non-constant coefficient"));switch(L.length){case 2:return[f(u(L[0],L[1]))];case 3:var[U,Y,N]=L,q=l(2,N),j=l(Y,Y),z=l(4,N,U);if(i(j,z))return[u(f(Y),q)];var J=p(a(j,z));return[u(a(J,Y),q),u(a(f(J),Y),q)];case 4:var[B,H,V,K]=L,ee=f(l(3,K)),re=l(V,V),le=l(3,K,H),ie=o(l(2,V,V,V),l(27,K,K,B)),G=l(9,K,V,H);if(i(re,le)&&i(ie,G))return[u(V,ee)];var Ee,W=a(re,le),ce=a(ie,G),te=o(l(18,K,V,H,B),l(V,V,H,H)),me=o(l(4,V,V,V,B),l(4,K,H,H,H),l(27,K,K,B,B));return i(te,me)?[u(a(l(4,K,V,H),o(l(9,K,K,B),l(V,V,V))),l(K,W)),u(a(l(9,K,B),l(V,H)),l(2,W))]:(Ee=i(re,le)?ce:u(o(ce,p(a(l(ce,ce),l(4,W,W,W)))),2),h(Ee,!0).toArray().map(Fe=>u(o(V,Fe,u(W,Fe)),ee)).map(Fe=>"Complex"===y(Fe)&&i(E(Fe),E(Fe)+D(Fe))?E(Fe):Fe));default:throw new RangeError("only implemented for cubic or lower-order polynomials, not ".concat(L))}}})}),$U="setSize",Xge=xe($U,["typed","compareNatural"],t=>{var{typed:r,compareNatural:e}=t;return r($U,{"Array | Matrix":function(o){return Array.isArray(o)?xr(o).length:xr(o.toArray()).length},"Array | Matrix, boolean":function(o,a){if(!1===a||0===o.length)return Array.isArray(o)?xr(o).length:xr(o.toArray()).length;for(var l=xr(Array.isArray(o)?o:o.toArray()).sort(e),u=1,p=1;p<l.length;p++)0!==e(l[p],l[p-1])&&u++;return u}})});function WU(t,r){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);r&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),e.push.apply(e,i)}return e}var n_e=xe("solveODE",["typed","add","subtract","multiply","divide","max","map","abs","isPositive","isNegative","larger","smaller","matrix","bignumber","unaryMinus"],t=>{var{typed:r,add:e,subtract:i,multiply:o,divide:a,max:l,map:u,abs:p,isPositive:f,isNegative:h,larger:y,smaller:D,matrix:E,bignumber:k,unaryMinus:T}=t;function L(B){return function(H,V,K,ee){if(2!==V.length||!V.every(z)&&!V.every(Rs))throw new Error('"tspan" must be an Array of two numeric values or two units [tStart, tEnd]');var le=V[0],ie=V[1],G=y(ie,le),W=ee.firstStep;if(void 0!==W&&!f(W))throw new Error('"firstStep" must be positive');var ce=ee.maxStep;if(void 0!==ce&&!f(ce))throw new Error('"maxStep" must be positive');var te=ee.minStep;if(te&&h(te))throw new Error('"minStep" must be positive or zero');var me=[le,ie,W,te,ce].filter(en=>void 0!==en);if(!me.every(z)&&!me.every(Rs))throw new Error('Inconsistent type of "t" dependant variables');for(var Le=ee.tol?ee.tol:1e-4,ve=ee.minDelta?ee.minDelta:.2,Fe=ee.maxDelta?ee.maxDelta:5,Je=ee.maxIter?ee.maxIter:1e4,Ye=[le,ie,...K,ce,te].some(dr),[at,Dt,ft,st]=Ye?[k(B.a),k(B.c),k(B.b),k(B.bp)]:[B.a,B.c,B.b,B.bp],Tt=W?G?W:T(W):a(i(ie,le),1),Qt=[le],Ut=[K],Ht=i(ft,st),Se=0,Be=0,ut=function q(B){return B?D:y}(G),Te=function j(B){var H=B?y:D;return function(V,K,ee){var re=e(V,ee);return H(re,K)?i(K,V):ee}}(G);ut(Qt[Se],ie);){var Ve=[];Tt=Te(Qt[Se],ie,Tt),Ve.push(H(Qt[Se],Ut[Se]));for(var tt=1;tt<Dt.length;++tt)Ve.push(H(e(Qt[Se],o(Dt[tt],Tt)),e(Ut[Se],o(Tt,at[tt],Ve))));var Rt=l(p(u(o(Ht,Ve),en=>Rs(en)?en.value:en)));Rt<Le&&Le/Rt>1/4&&(Qt.push(e(Qt[Se],Tt)),Ut.push(e(Ut[Se],o(Tt,ft,Ve))),Se++);var Ot=.84*(Le/Rt)**.2;if(D(Ot,ve)?Ot=ve:y(Ot,Fe)&&(Ot=Fe),Ot=Ye?k(Ot):Ot,Tt=o(Tt,Ot),ce&&y(p(Tt),ce)?Tt=G?ce:T(ce):te&&D(p(Tt),te)&&(Tt=G?te:T(te)),++Be>Je)throw new Error("Maximum number of iterations reached, try changing options")}return{t:Qt,y:Ut}}}function U(B,H,V,K){return L({a:[[],[.5],[0,.75],[.2222222222222222,.3333333333333333,.4444444444444444]],c:[null,.5,3/4,1],b:[2/9,1/3,4/9,0],bp:[7/24,1/4,1/3,1/8]})(B,H,V,K)}function Y(B,H,V,K){return L({a:[[],[.2],[.075,.225],[.9777777777777777,-3.7333333333333334,3.5555555555555554],[2.9525986892242035,-11.595793324188385,9.822892851699436,-.2908093278463649],[2.8462752525252526,-10.757575757575758,8.906422717743473,.2784090909090909,-.2735313036020583],[.09114583333333333,0,.44923629829290207,.6510416666666666,-.322376179245283,.13095238095238096]],c:[null,.2,.3,.8,8/9,1,1],b:[35/384,0,500/1113,125/192,-2187/6784,11/84,0],bp:[5179/57600,0,7571/16695,393/640,-92097/339200,187/2100,1/40]})(B,H,V,K)}function N(B,H,V,K){var ee=K.method?K.method:"RK45",re={RK23:U,RK45:Y};if(ee.toUpperCase()in re){var le=function Kge(t){for(var r=1;r<arguments.length;r++){var e=null!=arguments[r]?arguments[r]:{};r%2?WU(Object(e),!0).forEach(function(i){oo(t,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):WU(Object(e)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(e,i))})}return t}({},K);return delete le.method,re[ee.toUpperCase()](B,H,V,le)}var ie=Object.keys(re).map(W=>'"'.concat(W,'"')),G="".concat(ie.slice(0,-1).join(", ")," and ").concat(ie.slice(-1));throw new Error('Unavailable method "'.concat(ee,'". Available methods are ').concat(G))}function z(B){return dr(B)||Kn(B)}function J(B,H,V,K){var ee=N(B,H.toArray(),V.toArray(),K);return{t:E(ee.t),y:E(ee.y)}}return r("solveODE",{"function, Array, Array, Object":N,"function, Matrix, Matrix, Object":J,"function, Array, Array":(B,H,V)=>N(B,H,V,{}),"function, Matrix, Matrix":(B,H,V)=>J(B,H,V,{}),"function, Array, number | BigNumber | Unit":(B,H,V)=>{var K=N(B,H,[V],{});return{t:K.t,y:K.y.map(ee=>ee[0])}},"function, Matrix, number | BigNumber | Unit":(B,H,V)=>{var K=N(B,H.toArray(),[V],{});return{t:E(K.t),y:E(K.y.map(ee=>ee[0]))}},"function, Array, number | BigNumber | Unit, Object":(B,H,V,K)=>{var ee=N(B,H,[V],K);return{t:ee.t,y:ee.y.map(re=>re[0])}},"function, Matrix, number | BigNumber | Unit, Object":(B,H,V,K)=>{var ee=N(B,H.toArray(),[V],K);return{t:E(ee.t),y:E(ee.y.map(re=>re[0]))}}})}),QU="stirlingS2",i_e=xe(QU,["typed","addScalar","subtractScalar","multiplyScalar","divideScalar","pow","factorial","combinations","isNegative","isInteger","number","?bignumber","larger"],t=>{var{typed:r,addScalar:e,multiplyScalar:o,isNegative:f,isInteger:h,number:y,bignumber:D,larger:E}=t,k=[],T=[];return r(QU,{"number | BigNumber, number | BigNumber":function(U,Y){if(!h(U)||f(U)||!h(Y)||f(Y))throw new TypeError("Non-negative integer value expected in function stirlingS2");if(E(Y,U))throw new TypeError("k must be less than or equal to n in function stirlingS2");var N=!(Kn(U)&&Kn(Y)),q=N?T:k,j=N?D:y,z=y(U),J=y(Y);if(q[z]&&q[z].length>J)return q[z][J];for(var B=0;B<=z;++B)if(q[B]||(q[B]=[j(0===B?1:0)]),0!==B)for(var H=q[B],V=q[B-1],K=H.length;K<=B&&K<=J;++K)H[K]=K===B?1:e(o(j(K),V[K]),V[K-1]);return q[z][J]}})}),a_e=xe("unit",["typed","Unit"],t=>{var{typed:r,Unit:e}=t;return r("unit",{Unit:function(o){return o.clone()},string:function(o){return e.isValuelessUnit(o)?new e(null,o):e.parse(o,{allowNoUnits:!0})},"number | BigNumber | Fraction | Complex, string | Unit":function(o,a){return new e(o,a)},"number | BigNumber | Fraction":function(o){return new e(o)},"Array | Matrix":r.referToSelf(i=>o=>rr(o,i))})}),XU="bellNumbers",l_e=xe(XU,["typed","addScalar","isNegative","isInteger","stirlingS2"],t=>{var{typed:r,addScalar:e,isNegative:i,isInteger:o,stirlingS2:a}=t;return r(XU,{"number | BigNumber":function(u){if(!o(u)||i(u))throw new TypeError("Non-negative integer value expected in function bellNumbers");for(var p=0,f=0;f<=u;f++)p=e(p,a(u,f));return p}})});var p_e=["config","typed","matrix","addScalar","equal","subtract","abs","atan","cos","sin","multiplyScalar","divideScalar","inv","bignumber","multiply","add","larger","column","flatten","number","complex","sqrt","diag","qr","usolve","usolveAll","im","re","smaller","matrixFromColumns","dot"],f_e=xe("eigs",p_e,t=>{var{config:r,typed:e,matrix:i,addScalar:o,subtract:a,equal:l,abs:u,atan:p,cos:f,sin:h,multiplyScalar:y,divideScalar:D,inv:E,bignumber:k,multiply:T,add:L,larger:U,column:Y,flatten:N,number:q,complex:j,sqrt:z,diag:J,qr:B,usolve:H,usolveAll:V,im:K,re:ee,smaller:re,matrixFromColumns:le,dot:ie}=t,G=function u_e(t){var{config:r,addScalar:e,subtract:i,abs:o,atan:a,cos:l,sin:u,multiplyScalar:p,inv:f,bignumber:h,multiply:y,add:D}=t;function k(V,K){for(var le,ee=V.length,re=Math.abs(K/ee),ie=new Array(ee),G=0;G<ee;G++)ie[G]=H(ee,0),ie[G][G]=1;for(var W=z(V);Math.abs(W[1])>=Math.abs(re);){var ce=W[0][0],te=W[0][1];V=j(V,le=L(V[ce][ce],V[te][te],V[ce][te]),ce,te),ie=Y(ie,le,ce,te),W=z(V)}for(var me=H(ee,0),Ee=0;Ee<ee;Ee++)me[Ee]=V[Ee][Ee];return B(Bn(me),Bn(ie))}function T(V,K){for(var le,ee=V.length,re=o(K/ee),ie=new Array(ee),G=0;G<ee;G++)ie[G]=H(ee,0),ie[G][G]=1;for(var W=J(V);o(W[1])>=o(re);){var ce=W[0][0],te=W[0][1];V=q(V,le=U(V[ce][ce],V[te][te],V[ce][te]),ce,te),ie=N(ie,le,ce,te),W=J(V)}for(var me=H(ee,0),Ee=0;Ee<ee;Ee++)me[Ee]=V[Ee][Ee];return B(Bn(me),Bn(ie))}function L(V,K,ee){return Math.abs(K-V)<=r.epsilon?Math.PI/4:.5*Math.atan(2*ee/(K-V))}function U(V,K,ee){var re=i(K,V);return o(re)<=r.epsilon?h(-1).acos().div(4):p(.5,a(y(2,ee,f(re))))}function Y(V,K,ee,re){for(var le=V.length,ie=Math.cos(K),G=Math.sin(K),W=H(le,0),ce=H(le,0),te=0;te<le;te++)W[te]=ie*V[te][ee]-G*V[te][re],ce[te]=G*V[te][ee]+ie*V[te][re];for(var me=0;me<le;me++)V[me][ee]=W[me],V[me][re]=ce[me];return V}function N(V,K,ee,re){for(var le=V.length,ie=l(K),G=u(K),W=H(le,h(0)),ce=H(le,h(0)),te=0;te<le;te++)W[te]=i(p(ie,V[te][ee]),p(G,V[te][re])),ce[te]=e(p(G,V[te][ee]),p(ie,V[te][re]));for(var me=0;me<le;me++)V[me][ee]=W[me],V[me][re]=ce[me];return V}function q(V,K,ee,re){for(var le=V.length,ie=h(l(K)),G=h(u(K)),W=p(ie,ie),ce=p(G,G),te=H(le,h(0)),me=H(le,h(0)),Ee=y(h(2),ie,G,V[ee][re]),Le=e(i(p(W,V[ee][ee]),Ee),p(ce,V[re][re])),ve=D(p(ce,V[ee][ee]),Ee,p(W,V[re][re])),Fe=0;Fe<le;Fe++)te[Fe]=i(p(ie,V[ee][Fe]),p(G,V[re][Fe])),me[Fe]=e(p(G,V[ee][Fe]),p(ie,V[re][Fe]));V[ee][ee]=Le,V[re][re]=ve,V[ee][re]=h(0),V[re][ee]=h(0);for(var Je=0;Je<le;Je++)Je!==ee&&Je!==re&&(V[ee][Je]=te[Je],V[Je][ee]=te[Je],V[re][Je]=me[Je],V[Je][re]=me[Je]);return V}function j(V,K,ee,re){for(var le=V.length,ie=Math.cos(K),G=Math.sin(K),W=ie*ie,ce=G*G,te=H(le,0),me=H(le,0),Ee=W*V[ee][ee]-2*ie*G*V[ee][re]+ce*V[re][re],Le=ce*V[ee][ee]+2*ie*G*V[ee][re]+W*V[re][re],ve=0;ve<le;ve++)te[ve]=ie*V[ee][ve]-G*V[re][ve],me[ve]=G*V[ee][ve]+ie*V[re][ve];V[ee][ee]=Ee,V[re][re]=Le,V[ee][re]=0,V[re][ee]=0;for(var Fe=0;Fe<le;Fe++)Fe!==ee&&Fe!==re&&(V[ee][Fe]=te[Fe],V[Fe][ee]=te[Fe],V[re][Fe]=me[Fe],V[Fe][re]=me[Fe]);return V}function z(V){for(var K=V.length,ee=0,re=[0,1],le=0;le<K;le++)for(var ie=le+1;ie<K;ie++)Math.abs(ee)<Math.abs(V[le][ie])&&(ee=Math.abs(V[le][ie]),re=[le,ie]);return[re,ee]}function J(V){for(var K=V.length,ee=0,re=[0,1],le=0;le<K;le++)for(var ie=le+1;ie<K;ie++)o(ee)<o(V[le][ie])&&(ee=o(V[le][ie]),re=[le,ie]);return[re,ee]}function B(V,K){for(var ee=V.length,re=Array(ee),le=Array(ee),ie=0;ie<ee;ie++)le[ie]=Array(ee);for(var G=0;G<ee;G++){for(var W=0,ce=V[0],te=0;te<V.length;te++)o(V[te])<o(ce)&&(ce=V[W=te]);re[G]=V.splice(W,1)[0];for(var me=0;me<ee;me++)le[me][G]=K[me][W],K[me].splice(W,1)}return{values:re,vectors:le}}function H(V,K){for(var ee=new Array(V),re=0;re<V;re++)ee[re]=K;return ee}return function E(V,K){var ee=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r.epsilon,re=arguments.length>3?arguments[3]:void 0;if("number"===re)return k(V,ee);if("BigNumber"===re)return T(V,ee);throw TypeError("Unsupported data type: "+re)}}({config:r,addScalar:o,subtract:a,column:Y,flatten:N,equal:l,abs:u,atan:p,cos:f,sin:h,multiplyScalar:y,inv:E,bignumber:k,complex:j,multiply:T,add:L}),W=function c_e(t){var{addScalar:r,subtract:e,flatten:i,multiply:o,multiplyScalar:a,divideScalar:l,sqrt:u,abs:p,bignumber:f,diag:h,inv:y,qr:D,usolve:E,usolveAll:k,equal:T,complex:L,larger:U,smaller:Y,matrixFromColumns:N,dot:q}=t;function V(me,Ee,Le,ve){var Fe=r(me,ve),Je=e(a(me,ve),a(Ee,Le)),Ye=a(Fe,.5),at=a(u(e(a(Fe,Fe),a(4,Je))),.5);return[r(Ye,at),e(Ye,at)]}function K(me,Ee,Le,ve,Fe,Je,Ye,at){var Dt="BigNumber"===at,ft="Complex"===at,st=Dt?f(0):ft?L(0):0,Tt=Dt?f(1):ft?L(1):1;if(Y(p(Le),Ye))return[[Tt,st],[st,Tt]];if(U(p(e(Fe,Je)),Ye))return[[e(Fe,ve),e(Je,ve)],[Le,Le]];var Qt=e(me,Fe),Ut=e(Ee,Fe),Ht=e(Le,Fe),Se=e(ve,Fe);return Y(p(Ut),Ye)?[[Qt,Tt],[Ht,st]]:[[Ut,st],[Se,Tt]]}function ee(me,Ee){for(var Le=0;Le<me.length;Le++)me[Le].push(...Array(Ee-me[Le].length).fill(0));for(var ve=me.length;ve<Ee;ve++)me.push(Array(Ee).fill(0)),me[ve][ve]=1;return me}function le(me,Ee,Le){for(var ve=0;ve<me.length;ve++)if(Le(me[ve],Ee))return ve;return-1}function ie(me,Ee,Le,ve,Fe){for(var Ye,Je="BigNumber"===Fe?f(1e3):1e3,at=0;Ye=G(Ee,Le,Fe),Ye=E(me,Ye),!U(ce(Ye),Je);)if(++at>=5)return null;for(at=0;;){var Dt=E(me,Ye);if(Y(ce(W(Ye,[Dt])),ve))break;if(++at>=10)return null;Ye=te(Dt)}return Ye}function G(me,Ee,Le){var ve="BigNumber"===Le,Fe="Complex"===Le,Je=Array(me).fill(0).map(Ye=>2*Math.random()-1);return ve&&(Je=Je.map(Ye=>f(Ye))),Fe&&(Je=Je.map(Ye=>L(Ye))),te(Je=W(Je,Ee),Le)}function W(me,Ee){for(var Le of Ee)me=e(me,o(l(q(Le,me),q(Le,Le)),Le));return me}function ce(me){return p(u(q(me,me)))}function te(me,Ee){var ve="Complex"===Ee,Fe="BigNumber"===Ee?f(1):ve?L(1):1;return o(l(Fe,ce(me)),me)}return function j(me,Ee,Le,ve,Fe){void 0===Fe&&(Fe=!0);var Je=function z(me,Ee,Le,ve,Fe){var Qt,Je="BigNumber"===ve,Ye="Complex"===ve,at=Je?f(0):0,Dt=Je?f(1):Ye?L(1):1,ft=Je?f(1):1,st=Je?f(10):2,Tt=a(st,st);Fe&&(Qt=Array(Ee).fill(Dt));for(var Ut=!1;!Ut;){Ut=!0;for(var Ht=0;Ht<Ee;Ht++){for(var Se=at,Be=at,ut=0;ut<Ee;ut++)if(Ht!==ut){var Te=p(me[Ht][ut]);Se=r(Se,Te),Be=r(Be,Te)}if(!T(Se,0)&&!T(Be,0)){for(var Ve=ft,tt=Se,Rt=l(Be,st),Ot=a(Be,st);Y(tt,Rt);)tt=a(tt,Tt),Ve=a(Ve,st);for(;U(tt,Ot);)tt=l(tt,Tt),Ve=l(Ve,st);if(Y(l(r(tt,Be),Ve),a(r(Se,Be),.95))){Ut=!1;for(var zt=l(1,Ve),Dn=0;Dn<Ee;Dn++)Ht!==Dn&&(me[Ht][Dn]=a(me[Ht][Dn],Ve),me[Dn][Ht]=a(me[Dn][Ht],zt));Fe&&(Qt[Ht]=a(Qt[Ht],Ve))}}}}return h(Qt)}(me,Ee,0,ve,Fe);!function J(me,Ee,Le,ve,Fe,Je){var Ye="BigNumber"===ve,at="Complex"===ve,Dt=Ye?f(0):at?L(0):0;Ye&&(Le=f(Le));for(var ft=0;ft<Ee-2;ft++){for(var st=0,Tt=Dt,Qt=ft+1;Qt<Ee;Qt++){var Ut=me[Qt][ft];Y(p(Tt),p(Ut))&&(Tt=Ut,st=Qt)}if(!Y(p(Tt),Le)){if(st!==ft+1){var Ht=me[st];me[st]=me[ft+1],me[ft+1]=Ht;for(var Se=0;Se<Ee;Se++){var Be=me[Se][st];me[Se][st]=me[Se][ft+1],me[Se][ft+1]=Be}if(Fe){var ut=Je[st];Je[st]=Je[ft+1],Je[ft+1]=ut}}for(var Te=ft+2;Te<Ee;Te++){var Ve=l(me[Te][ft],Tt);if(0!==Ve){for(var tt=0;tt<Ee;tt++)me[Te][tt]=e(me[Te][tt],a(Ve,me[ft+1][tt]));for(var Rt=0;Rt<Ee;Rt++)me[Rt][ft+1]=r(me[Rt][ft+1],a(Ve,me[Rt][Te]));if(Fe)for(var Ot=0;Ot<Ee;Ot++)Je[Te][Ot]=e(Je[Te][Ot],a(Ve,Je[ft+1][Ot]))}}}}}(me,Ee,Le,ve,Fe,Je);var Dt,{values:Ye,C:at}=function B(me,Ee,Le,ve,Fe){var Je="BigNumber"===ve,Ye="Complex"===ve,at=Je?f(1):Ye?L(1):1;Je&&(Le=f(Le));for(var Dt=Bn(me),ft=[],st=Ee,Tt=[],Qt=Fe?h(Array(Ee).fill(at)):void 0,Ut=Fe?h(Array(st).fill(at)):void 0,Ht=0;Ht<=100;){Ht+=1;for(var Be=0;Be<st;Be++)Dt[Be][Be]=e(Dt[Be][Be],0);var{Q:ut,R:Te}=D(Dt);Dt=o(Te,ut);for(var Ve=0;Ve<st;Ve++)Dt[Ve][Ve]=r(Dt[Ve][Ve],0);if(Fe&&(Ut=o(Ut,ut)),1===st||Y(p(Dt[st-1][st-2]),Le)){Ht=0,ft.push(Dt[st-1][st-1]),Fe&&(Tt.unshift([[1]]),ee(Ut,Ee),Qt=o(Qt,Ut),st>1&&(Ut=h(Array(st-1).fill(at)))),st-=1,Dt.pop();for(var tt=0;tt<st;tt++)Dt[tt].pop()}else if(2===st||Y(p(Dt[st-2][st-3]),Le)){Ht=0;var Rt=V(Dt[st-2][st-2],Dt[st-2][st-1],Dt[st-1][st-2],Dt[st-1][st-1]);ft.push(...Rt),Fe&&(Tt.unshift(K(Dt[st-2][st-2],Dt[st-2][st-1],Dt[st-1][st-2],Dt[st-1][st-1],Rt[0],Rt[1],Le,ve)),ee(Ut,Ee),Qt=o(Qt,Ut),st>2&&(Ut=h(Array(st-2).fill(at)))),st-=2,Dt.pop(),Dt.pop();for(var Ot=0;Ot<st;Ot++)Dt[Ot].pop(),Dt[Ot].pop()}if(0===st)break}if(ft.sort((Dn,hr)=>+e(p(Dn),p(hr))),Ht>100){var en=Error("The eigenvalues failed to converge. Only found these eigenvalues: "+ft.join(", "));throw en.values=ft,en.vectors=[],en}var zt=Fe?o(Qt,function re(me,Ee){for(var Le=[],ve=0;ve<Ee;ve++)Le[ve]=Array(Ee).fill(0);var Fe=0;for(var Je of me){for(var Ye=Je.length,at=0;at<Ye;at++)for(var Dt=0;Dt<Ye;Dt++)Le[Fe+at][Fe+Dt]=Je[at][Dt];Fe+=Ye}return Le}(Tt,Ee)):void 0;return{values:ft,C:zt}}(me,Ee,Le,ve,Fe);return Fe&&(Dt=function H(me,Ee,Le,ve,Fe,Je,Ye){var at=y(Le),Dt=o(at,me,Le),ft="BigNumber"===Ye,st="Complex"===Ye,Tt=ft?f(0):st?L(0):0,Qt=ft?f(1):st?L(1):1,Ut=[],Ht=[];for(var Se of Fe){var Be=le(Ut,Se,T);-1===Be?(Ut.push(Se),Ht.push(1)):Ht[Be]+=1}for(var ut=[],Te=Ut.length,Ve=Array(Ee).fill(Tt),tt=h(Array(Ee).fill(Qt)),Rt=[],Ot=function(){var hr=Ut[en],Fr=e(Dt,o(hr,tt)),Xr=k(Fr,Ve);for(Xr.shift();Xr.length<Ht[en];){var Kr=ie(Fr,Ee,Xr,Je,Ye);if(null==Kr){Rt.push(hr);break}Xr.push(Kr)}var ma=o(y(ve),Le);Xr=Xr.map(qo=>o(ma,qo)),ut.push(...Xr.map(qo=>i(qo)))},en=0;en<Te;en++)Ot();if(0!==Rt.length){var zt=new Error("Failed to find eigenvectors for the following eigenvalues: "+Rt.join(", "));throw zt.values=Fe,zt.vectors=ut,zt}return ut}(me,Ee,at,Je,Ye,Le,ve),Dt=N(...Dt)),{values:Ye,vectors:Dt}}}({config:r,addScalar:o,subtract:a,multiply:T,multiplyScalar:y,flatten:N,divideScalar:D,sqrt:z,abs:u,bignumber:k,diag:J,qr:B,inv:E,usolve:H,usolveAll:V,equal:l,complex:j,larger:U,smaller:re,matrixFromColumns:le,dot:ie});return e("eigs",{Array:function(Fe){return ce(i(Fe))},"Array, number|BigNumber":function(Fe,Je){return ce(i(Fe),Je)},Matrix:function(Fe){var{values:Je,vectors:Ye}=ce(Fe);return{values:i(Je),vectors:i(Ye)}},"Matrix, number|BigNumber":function(Fe,Je){var{values:Ye,vectors:at}=ce(Fe,Je);return{values:i(Ye),vectors:i(at)}}});function ce(ve,Fe){void 0===Fe&&(Fe=r.epsilon);var Je=ve.size();if(2!==Je.length||Je[0]!==Je[1])throw new RangeError("Matrix must be square (size: "+er(Je)+")");var Ye=ve.toArray(),at=Je[0];if(function me(ve,Fe,Je){for(var Ye=0;Ye<Fe;Ye++)for(var at=0;at<Fe;at++)if(U(k(u(K(ve[Ye][at]))),Je))return!1;return!0}(Ye,at,Fe)&&(function Ee(ve,Fe){for(var Je=0;Je<Fe;Je++)for(var Ye=0;Ye<Fe;Ye++)ve[Je][Ye]=ee(ve[Je][Ye])}(Ye,at),function te(ve,Fe,Je){for(var Ye=0;Ye<Fe;Ye++)for(var at=Ye;at<Fe;at++)if(U(k(u(a(ve[Ye][at],ve[at][Ye]))),Je))return!1;return!0}(Ye,at,Fe))){var Dt=Le(ve,Ye,at);return G(Ye,at,Fe,Dt)}var ft=Le(ve,Ye,at);return W(Ye,at,Fe,ft)}function Le(ve,Fe,Je){var Ye=ve.datatype();if("number"===Ye||"BigNumber"===Ye||"Complex"===Ye)return Ye;for(var at=!1,Dt=!1,ft=!1,st=0;st<Je;st++)for(var Tt=0;Tt<Je;Tt++){var Qt=Fe[st][Tt];if(Kn(Qt)||Ky(Qt))at=!0;else if(dr(Qt))Dt=!0;else{if(!iu(Qt))throw TypeError("Unsupported type in Matrix: "+Vr(Qt));ft=!0}}if(Dt&&ft&&console.warn("Complex BigNumbers not supported, this operation will lose precission."),ft){for(var Ut=0;Ut<Je;Ut++)for(var Ht=0;Ht<Je;Ht++)Fe[Ut][Ht]=j(Fe[Ut][Ht]);return"Complex"}if(Dt){for(var Se=0;Se<Je;Se++)for(var Be=0;Be<Je;Be++)Fe[Se][Be]=k(Fe[Se][Be]);return"BigNumber"}if(at){for(var ut=0;ut<Je;ut++)for(var Te=0;Te<Je;Te++)Fe[ut][Te]=q(Fe[ut][Te]);return"number"}throw TypeError("Matrix contains unsupported types only.")}}),h_e=["typed","add","divide","compare","partitionSelect"],m_e=xe("median",h_e,t=>{var{typed:r,add:e,divide:i,compare:o,partitionSelect:a}=t;function l(f){try{var h=(f=xr(f.valueOf())).length;if(0===h)throw new Error("Cannot calculate median of an empty array");if(h%2==0){for(var y=h/2-1,D=a(f,y+1),E=f[y],k=0;k<y;++k)o(f[k],E)>0&&(E=f[k]);return p(E,D)}var T=a(f,(h-1)/2);return u(T)}catch(L){throw ca(L,"median")}}var u=r({"number | BigNumber | Complex | Unit":function(h){return h}}),p=r({"number | BigNumber | Complex | Unit, number | BigNumber | Complex | Unit":function(h,y){return i(e(h,y),2)}});return r("median",{"Array | Matrix":l,"Array | Matrix, number | BigNumber":function(h,y){throw new Error("median(A, dim) is not yet supported")},"...":function(h){if(_g(h))throw new TypeError("Scalar values expected in function median");return l(h)}})}),g_e=["typed","matrix","mean","sqrt","sum","add","subtract","multiply","pow","divide"],__e=xe("corr",g_e,t=>{var{typed:r,matrix:e,sqrt:i,sum:o,add:a,subtract:l,multiply:u,pow:p,divide:f}=t;return r("corr",{"Array, Array":function(E,k){return h(E,k)},"Matrix, Matrix":function(E,k){var T=h(E.toArray(),k.toArray());return Array.isArray(T)?e(T):T}});function h(D,E){var k=[];if(Array.isArray(D[0])&&Array.isArray(E[0])){if(D.length!==E.length)throw new SyntaxError("Dimension mismatch. Array A and B must have the same length.");for(var T=0;T<D.length;T++){if(D[T].length!==E[T].length)throw new SyntaxError("Dimension mismatch. Array A and B must have the same number of elements.");k.push(y(D[T],E[T]))}return k}if(D.length!==E.length)throw new SyntaxError("Dimension mismatch. Array A and B must have the same number of elements.");return y(D,E)}function y(D,E){var k=D.length,T=o(D),L=o(E),U=D.reduce((z,J,B)=>a(z,u(J,E[B])),0),Y=o(D.map(z=>p(z,2))),N=o(E.map(z=>p(z,2))),q=l(u(k,U),u(T,L)),j=i(u(l(u(k,Y),p(T,2)),l(u(k,N),p(L,2))));return f(q,j)}}),v_e=["typed","add","multiply","Complex","divide","matrix"],y_e=xe("freqz",v_e,t=>{var{typed:r,add:e,multiply:i,Complex:o,divide:a,matrix:l}=t;return r("freqz",{"Array, Array":function(h,y){return u(h,y,p(512))},"Array, Array, Array":function(h,y,D){return u(h,y,D)},"Array, Array, number":function(h,y,D){if(D<0)throw new Error("w must be a positive number");return u(h,y,p(D))},"Matrix, Matrix":function(h,y){var D=p(512),{w:E,h:k}=u(h.valueOf(),y.valueOf(),D);return{w:l(E),h:l(k)}},"Matrix, Matrix, Matrix":function(h,y,D){var{h:E}=u(h.valueOf(),y.valueOf(),D.valueOf());return{h:l(E),w:l(D)}},"Matrix, Matrix, number":function(h,y,D){if(D<0)throw new Error("w must be a positive number");var E=p(D),{h:k}=u(h.valueOf(),y.valueOf(),E);return{h:l(k),w:l(E)}}});function u(f,h,y){for(var D=[],E=[],k=0;k<y.length;k++){for(var T=o(0,0),L=o(0,0),U=0;U<f.length;U++)T=e(T,i(f[U],o(Math.cos(-U*y[k]),Math.sin(-U*y[k]))));for(var Y=0;Y<h.length;Y++)L=e(L,i(h[Y],o(Math.cos(-Y*y[k]),Math.sin(-Y*y[k]))));D.push(T),E.push(L)}for(var N=[],q=0;q<D.length;q++)N.push(a(D[q],E[q]));return{h:N,w:y}}function p(f){for(var h=[],y=0;y<f;y++)h.push(y/f*Math.PI);return h}}),b_e=["typed","abs","map","median","subtract"],C_e=xe("mad",b_e,t=>{var{typed:r,abs:e,map:i,median:o,subtract:a}=t;return r("mad",{"Array | Matrix":l,"...":function(p){return l(p)}});function l(u){if(0===(u=xr(u.valueOf())).length)throw new Error("Cannot calculate median absolute deviation (mad) of an empty array");try{var p=o(u);return o(i(u,function(f){return e(a(f,p))}))}catch(f){throw f instanceof TypeError&&-1!==f.message.indexOf("median")?new TypeError(f.message.replace("median","mad")):ca(f,"mad")}}}),x_e=["typed","config","multiply","pow","divide","factorial","equal","smallerEq","isNegative","gamma","sin","subtract","add","?Complex","?BigNumber","pi"],w_e=xe("zeta",x_e,t=>{var{typed:r,config:e,multiply:i,pow:o,divide:a,factorial:l,equal:u,smallerEq:p,isNegative:f,gamma:h,sin:y,subtract:D,add:E,Complex:k,BigNumber:T,pi:L}=t;return r("zeta",{number:z=>U(z,J=>J,()=>20),BigNumber:z=>U(z,J=>new T(J),()=>Math.abs(Math.log10(e.epsilon))),Complex:function Y(z){return 0===z.re&&0===z.im?new k(-.5):1===z.re?new k(NaN,NaN):z.re===1/0&&0===z.im?new k(1):z.im===1/0||z.re===-1/0?new k(NaN,NaN):N(z,J=>J,J=>Math.round(19.5+.9*Math.abs(J.im)),J=>J.re)}});function U(z,J,B){return u(z,0)?J(-.5):u(z,1)?J(NaN):isFinite(z)?N(z,J,B,H=>H):f(z)?J(NaN):J(1)}function N(z,J,B,H){var V=B(z);if(H(z)>-(V-1)/2)return function j(z,J,B){for(var H=a(1,i(q(B(0),J),D(1,o(2,D(1,z))))),V=B(0),K=B(1);p(K,J);K=E(K,1))V=E(V,a(i((-1)**(K-1),q(K,J)),o(K,z)));return i(H,V)}(z,J(V),J);var K=i(o(2,z),o(J(L),D(z,1)));return K=i(K,y(i(a(J(L),2),z))),K=i(K,h(D(1,z))),i(K,N(D(1,z),J,B,H))}function q(z,J){for(var B=z,H=z;p(H,J);H=E(H,1)){var V=a(i(l(E(J,D(H,1))),o(4,H)),i(l(D(J,H)),l(i(2,H))));B=E(B,V)}return i(J,B)}}),M_e=["typed","abs","add","pow","conj","sqrt","multiply","equalScalar","larger","smaller","matrix","ctranspose","eigs"],S_e=xe("norm",M_e,t=>{var{typed:r,abs:e,add:i,pow:o,conj:a,sqrt:l,multiply:u,equalScalar:p,larger:f,smaller:h,matrix:y,ctranspose:D,eigs:E}=t;return r("norm",{number:Math.abs,Complex:function(B){return B.abs()},BigNumber:function(B){return B.abs()},boolean:function(B){return Math.abs(B)},Array:function(B){return z(y(B),2)},Matrix:function(B){return z(B,2)},"Array, number | BigNumber | string":function(B,H){return z(y(B),H)},"Matrix, number | BigNumber | string":function(B,H){return z(B,H)}});function z(J,B){var H=J.size();if(1===H.length)return function L(J,B){if(B===Number.POSITIVE_INFINITY||"inf"===B)return function k(J){var B=0;return J.forEach(function(H){var V=e(H);f(V,B)&&(B=V)},!0),B}(J);if(B===Number.NEGATIVE_INFINITY||"-inf"===B)return function T(J){var B;return J.forEach(function(H){var V=e(H);(!B||h(V,B))&&(B=V)},!0),B||0}(J);if("fro"===B)return z(J,2);if("number"==typeof B&&!isNaN(B)){if(!p(B,0)){var H=0;return J.forEach(function(V){H=i(o(e(V),B),H)},!0),o(H,1/B)}return Number.POSITIVE_INFINITY}throw new Error("Unsupported parameter value")}(J,B);if(2===H.length){if(H[0]&&H[1])return function j(J,B){if(1===B)return function Y(J){var B=[],H=0;return J.forEach(function(V,K){var ee=K[1],re=i(B[ee]||0,e(V));f(re,H)&&(H=re),B[ee]=re},!0),H}(J);if(B===Number.POSITIVE_INFINITY||"inf"===B)return function q(J){var B=[],H=0;return J.forEach(function(V,K){var ee=K[0],re=i(B[ee]||0,e(V));f(re,H)&&(H=re),B[ee]=re},!0),H}(J);if("fro"===B)return function U(J){var B=0;return J.forEach(function(H,V){B=i(B,u(H,a(H)))}),e(l(B))}(J);if(2===B)return function N(J){var B=J.size();if(B[0]!==B[1])throw new RangeError("Invalid matrix dimensions");var H=D(J),V=u(H,J),K=E(V).values.toArray();return e(l(K[K.length-1]))}(J);throw new Error("Unsupported parameter value "+B)}(J,B);throw new RangeError("Invalid matrix dimensions")}}}),oV="rotationMatrix",D_e=["typed","config","multiplyScalar","addScalar","unaryMinus","norm","matrix","BigNumber","DenseMatrix","SparseMatrix","cos","sin"],O_e=xe(oV,D_e,t=>{var{typed:r,config:e,multiplyScalar:i,addScalar:o,unaryMinus:a,norm:l,BigNumber:u,matrix:p,DenseMatrix:f,SparseMatrix:h,cos:y,sin:D}=t;return r(oV,{"":function(){return"Matrix"===e.matrix?p([]):[]},string:function(N){return p(N)},"number | BigNumber | Complex | Unit":function(N){return E(N,"Matrix"===e.matrix?"dense":void 0)},"number | BigNumber | Complex | Unit, string":function(N,q){return E(N,q)},"number | BigNumber | Complex | Unit, Array":function(N,q){var j=p(q);return k(j),U(N,j,void 0)},"number | BigNumber | Complex | Unit, Matrix":function(N,q){k(q);var j=q.storage()||("Matrix"===e.matrix?"dense":void 0);return U(N,q,j)},"number | BigNumber | Complex | Unit, Array, string":function(N,q,j){var z=p(q);return k(z),U(N,z,j)},"number | BigNumber | Complex | Unit, Matrix, string":function(N,q,j){return k(q),U(N,q,j)}});function E(Y,N){var j=dr(Y)?new u(-1):-1,z=y(Y),J=D(Y);return L([[z,i(j,J)],[J,z]],N)}function k(Y){var N=Y.size();if(N.length<1||3!==N[0])throw new RangeError("Vector must be of dimensions 1x3")}function T(Y){return Y.reduce((N,q)=>i(N,q))}function L(Y,N){if(N){if("sparse"===N)return new h(Y);if("dense"===N)return new f(Y);throw new TypeError('Unknown matrix type "'.concat(N,'"'))}return Y}function U(Y,N,q){var j=l(N);if(0===j)throw new RangeError("Rotation around zero vector");var z=dr(Y)?u:null,J=z?new z(1):1,B=z?new z(-1):-1,H=z?new z(N.get([0])/j):N.get([0])/j,V=z?new z(N.get([1])/j):N.get([1])/j,K=z?new z(N.get([2])/j):N.get([2])/j,ee=y(Y),re=o(J,a(ee)),le=D(Y);return L([[o(ee,T([H,H,re])),o(T([H,V,re]),T([B,K,le])),o(T([H,K,re]),T([V,le]))],[o(T([H,V,re]),T([K,le])),o(ee,T([V,V,re])),o(T([V,K,re]),T([B,H,le]))],[o(T([H,K,re]),T([B,V,le])),o(T([V,K,re]),T([H,le])),o(ee,T([K,K,re]))]],q)}}),aV="kldivergence",E_e=["typed","matrix","divide","sum","multiply","map","dotDivide","log","isNumeric"],A_e=xe(aV,E_e,t=>{var{typed:r,matrix:e,divide:i,sum:o,multiply:a,map:l,dotDivide:u,log:p,isNumeric:f}=t;return r(aV,{"Array, Array":function(D,E){return h(e(D),e(E))},"Matrix, Array":function(D,E){return h(D,e(E))},"Array, Matrix":function(D,E){return h(e(D),E)},"Matrix, Matrix":function(D,E){return h(D,E)}});function h(y,D){var E=D.size().length,k=y.size().length;if(E>1)throw new Error("first object must be one dimensional");if(k>1)throw new Error("second object must be one dimensional");if(E!==k)throw new Error("Length of two vectors must be equal");if(0===o(y))throw new Error("Sum of elements in first object must be non zero");if(0===o(D))throw new Error("Sum of elements in second object must be non zero");var U=i(y,o(y)),Y=i(D,o(D)),N=o(a(U,l(u(U,Y),q=>p(q))));return f(N)?N:Number.NaN}}),P_e=["typed","matrix","identity","multiply","qr","norm","subtract"],T_e=xe("schur",P_e,t=>{var{typed:r,matrix:e,identity:i,multiply:o,qr:a,norm:l,subtract:u}=t;return r("schur",{Array:function(h){var y=p(e(h));return{U:y.U.valueOf(),T:y.T.valueOf()}},Matrix:function(h){return p(h)}});function p(f){var k,h=f.size()[0],y=f,D=i(h),E=0;do{k=y;var T=a(y),L=T.Q;if(y=o(T.R,L),D=o(D,L),E++>100)break}while(l(u(y,k))>1e-4);return{U:D,T:y}}}),I_e=["typed","multiply","rotationMatrix"],k_e=xe("rotate",I_e,t=>{var{typed:r,multiply:e,rotationMatrix:i}=t;return r("rotate",{"Array , number | BigNumber | Complex | Unit":function(l,u){return o(l,2),e(i(u),l).toArray()},"Matrix , number | BigNumber | Complex | Unit":function(l,u){return o(l,2),e(i(u),l)},"Array, number | BigNumber | Complex | Unit, Array | Matrix":function(l,u,p){return o(l,3),e(i(u,p),l)},"Matrix, number | BigNumber | Complex | Unit, Array | Matrix":function(l,u,p){return o(l,3),e(i(u,p),l)}});function o(a,l){var u=Array.isArray(a)?Vn(a):a.size();if(u.length>2)throw new RangeError("Vector must be of dimensions 1x".concat(l));if(2===u.length&&1!==u[1])throw new RangeError("Vector must be of dimensions 1x".concat(l));if(u[0]!==l)throw new RangeError("Vector must be of dimensions 1x".concat(l))}}),cV="sylvester",F_e=["typed","schur","matrixFromColumns","matrix","multiply","range","concat","transpose","index","subset","add","subtract","identity","lusolve","abs"],N_e=xe(cV,F_e,t=>{var{typed:r,schur:e,matrixFromColumns:i,matrix:o,multiply:a,range:l,concat:u,transpose:p,index:f,subset:h,add:y,subtract:D,identity:E,lusolve:k,abs:T}=t;return r(cV,{"Matrix, Matrix, Matrix":L,"Array, Matrix, Matrix":function(Y,N,q){return L(o(Y),N,q)},"Array, Array, Matrix":function(Y,N,q){return L(o(Y),o(N),q)},"Array, Matrix, Array":function(Y,N,q){return L(o(Y),N,o(q))},"Matrix, Array, Matrix":function(Y,N,q){return L(Y,o(N),q)},"Matrix, Array, Array":function(Y,N,q){return L(Y,o(N),o(q))},"Matrix, Matrix, Array":function(Y,N,q){return L(Y,N,o(q))},"Array, Array, Array":function(Y,N,q){return L(o(Y),o(N),o(q)).toArray()}});function L(U,Y,N){for(var q=Y.size()[0],j=U.size()[0],z=e(U),J=z.T,B=z.U,H=e(a(-1,Y)),V=H.T,K=H.U,ee=a(a(p(B),N),K),re=l(0,j),le=[],ie=(Qt,Ut)=>u(Qt,Ut,1),G=(Qt,Ut)=>u(Qt,Ut,0),W=0;W<q;W++)if(W<q-1&&T(h(V,f(W+1,W)))>1e-5){for(var ce=G(h(ee,f(re,W)),h(ee,f(re,W+1))),te=0;te<W;te++)ce=y(ce,G(a(le[te],h(V,f(te,W))),a(le[te],h(V,f(te,W+1)))));var me=a(E(j),a(-1,h(V,f(W,W)))),Ee=a(E(j),a(-1,h(V,f(W+1,W)))),Le=a(E(j),a(-1,h(V,f(W,W+1)))),ve=a(E(j),a(-1,h(V,f(W+1,W+1)))),Fe=G(ie(y(J,me),Ee),ie(Le,y(J,ve))),Je=k(Fe,ce);le[W]=Je.subset(f(l(0,j),0)),le[W+1]=Je.subset(f(l(j,2*j),0)),W++}else{for(var Ye=h(ee,f(re,W)),at=0;at<W;at++)Ye=y(Ye,a(le[at],h(V,f(at,W))));var Dt=h(V,f(W,W)),ft=D(J,a(Dt,E(j)));le[W]=k(ft,Ye)}var st=o(i(...le));return a(B,a(st,p(K)))}}),R_e=["typed","matrix","sylvester","multiply","transpose"],L_e=xe("lyap",R_e,t=>{var{typed:r,matrix:e,sylvester:i,multiply:o,transpose:a}=t;return r("lyap",{"Matrix, Matrix":function(u,p){return i(u,a(u),o(-1,p))},"Array, Matrix":function(u,p){return i(e(u),a(e(u)),o(-1,p))},"Matrix, Array":function(u,p){return i(u,a(e(u)),e(o(-1,p)))},"Array, Array":function(u,p){return i(e(u),a(e(u)),e(o(-1,p))).toArray()}})}),Yt=Loe({config:Ft}),jr=Voe({}),dV=rae({BigNumber:Yt,config:Ft}),B_e=Joe({}),U_e=Iae({BigNumber:Yt,config:Ft}),oh=dse({}),pV=dae({Complex:jr}),V_e=Koe({BigNumber:Yt,config:Ft}),z_e=aae({BigNumber:Yt,config:Ft}),H_e=lae({BigNumber:Yt,config:Ft}),UM=hse({}),j_e=eae({BigNumber:Yt,config:Ft}),q_e=Xoe({}),Z_e=iae({BigNumber:Yt,config:Ft}),Y_e=_se({}),fV=bse({}),G_e=cae({BigNumber:Yt,config:Ft}),$_e=Jae({BigNumber:Yt,config:Ft}),hV=nae({BigNumber:Yt,config:Ft}),W_e=Qoe({}),Q_e=pae({}),nr=wse({Matrix:UM}),J_e=zae({BigNumber:Yt,config:Ft}),X_e=oae({BigNumber:Yt,config:Ft}),$T=tae({BigNumber:Yt,config:Ft}),K_e=Dse({}),eve=uae({BigNumber:Yt,config:Ft}),Re=Ese({BigNumber:Yt,Complex:jr,DenseMatrix:nr,Fraction:oh}),WT=Bse({BigNumber:Yt,config:Ft,typed:Re}),tve=Vae({BigNumber:Yt,config:Ft}),da=Vse({typed:Re}),nve=Hse({Complex:jr,config:Ft,typed:Re}),rve=ele({BigNumber:Yt,typed:Re}),ive=nle({BigNumber:Yt,Complex:jr,config:Ft,typed:Re}),lo=ile({typed:Re}),ove=ale({typed:Re}),ave=lle({BigNumber:Yt,Complex:jr,config:Ft,typed:Re}),sve=dle({typed:Re}),mV=hle({typed:Re}),lve=gle({Complex:jr,config:Ft,typed:Re}),ds=yle({BigNumber:Yt,typed:Re}),cve=Ole({typed:Re}),uve=Ale({typed:Re}),dve=Tle({typed:Re}),VM=kle({typed:Re}),zM=Rle({Complex:jr,typed:Re}),ah=Ble({typed:Re}),QT=Vle({typed:Re}),pve=Hle({BigNumber:Yt,typed:Re}),fve=qle({BigNumber:Yt,typed:Re}),hve=Yle({typed:Re}),gr=Wle({config:Ft,typed:Re}),mve=Xle({typed:Re}),gV=rce({typed:Re}),gve=oce({Complex:jr,typed:Re}),_ve=lce({typed:Re}),vve=uce({typed:Re}),f0=fce({typed:Re}),JT=mce({typed:Re}),yve=_ce({format:f0,typed:Re}),XT=yce({typed:Re}),Ba=Cce({typed:Re}),$d=Mce({typed:Re}),sh=Dce({typed:Re}),Al=Ece({typed:Re}),bve=sae({BigNumber:Yt,config:Ft}),Cve=Ice({Complex:jr,typed:Re}),xve=Fce({Complex:jr,config:Ft,typed:Re}),_V=Rce({Complex:jr,config:Ft,typed:Re}),lh=Bce({typed:Re}),Ai=Hce({typed:Re}),vV=Zce({typed:Re}),Pl=Qce({typed:Re}),wve=Xce({format:f0,typed:Re}),Mve=tue({config:Ft,typed:Re}),Sve=qL({typed:Re}),Dve=rue({config:Ft,typed:Re}),KT=oue({typed:Re}),Ove=sue({BigNumber:Yt,typed:Re}),yV=cue({BigNumber:Yt,Fraction:oh,complex:zM,typed:Re}),HM=due({typed:Re}),fu=hue({Matrix:UM,equalScalar:gr,typed:Re}),Eve=gue({typed:Re}),Ave=vue({typed:Re}),Pve=bue({typed:Re}),Us=xue({typed:Re}),Tve=Mue({typed:Re}),bV=Due({typed:Re}),Ive=Eue({Complex:jr,config:Ft,typed:Re}),kve=Pue({BigNumber:Yt,typed:Re}),eI=MT({isInteger:Ba,typed:Re}),Fve=Iue({BigNumber:Yt,Complex:jr,config:Ft,typed:Re}),Nve=Fue({format:f0,typed:Re}),Rve=Rue({typed:Re}),Lve=Bue({typed:Re}),Bve=Vue({BigNumber:Yt,typed:Re}),h0=Hue({typed:Re}),Uve=que({typed:Re}),Vve=Yue({config:Ft,typed:Re}),zve=$ue({BigNumber:Yt,typed:Re}),Hve=Que({typed:Re}),jve=Xue({SparseMatrix:fu,typed:Re}),Tl=tde({Complex:jr,config:Ft,typed:Re}),qve=ide({typed:Re}),Mc=ade({typed:Re}),Zve=lde({BigNumber:Yt,Complex:jr,config:Ft,typed:Re}),Yve=ude({BigNumber:Yt,typed:Re}),Pg=fde({Fraction:oh,typed:Re}),ch=mde({typed:Re}),Gt=_de({DenseMatrix:nr,Matrix:UM,SparseMatrix:fu,typed:Re}),Gve=yde({isZero:Al,matrix:Gt,typed:Re}),$ve=Cde({isNaN:h0,isNumeric:ch,typed:Re}),Il=Mde({bignumber:ds,fraction:Pg,number:Pl}),CV=Dde({config:Ft,multiplyScalar:Ai,numeric:Il,typed:Re}),Wve=Ede({isInteger:Ba,matrix:Gt,typed:Re}),zo=Pde({matrix:Gt,config:Ft,typed:Re}),Qve=Ide({matrix:Gt,typed:Re}),m0=Fde({matrix:Gt,typed:Re}),xV=Rde({BigNumber:Yt,config:Ft,matrix:Gt,typed:Re}),pa=Bde({BigNumber:Yt,config:Ft,matrix:Gt,typed:Re}),Jve=Vde({Complex:jr,config:Ft,typed:Re}),wV=Hde({BigNumber:Yt,Complex:jr,Fraction:oh,config:Ft,isNegative:$d,matrix:Gt,typed:Re,unaryMinus:Mc}),Ir=UL({isInteger:Ba,matrix:Gt,typed:Re}),Xve=qde({prod:CV,size:zo,typed:Re}),tI=Yde({conj:ah,transpose:m0,typed:Re}),MV=$de({DenseMatrix:nr,SparseMatrix:fu,matrix:Gt,typed:Re}),fi=Qde({numeric:Il,typed:Re}),g0=vpe({DenseMatrix:nr,concat:Ir,divideScalar:fi,equalScalar:gr,matrix:Gt,typed:Re}),Vs=bpe({DenseMatrix:nr,concat:Ir,equalScalar:gr,matrix:Gt,typed:Re}),_0=wpe({matrix:Gt,typed:Re}),Kve=Spe({isNumeric:ch,typed:Re}),Wd=Ope({BigNumber:Yt,DenseMatrix:nr,SparseMatrix:fu,config:Ft,matrix:Gt,typed:Re}),eye=Ape({matrix:Gt,multiplyScalar:Ai,typed:Re}),jM=Tpe({DenseMatrix:nr,concat:Ir,config:Ft,matrix:Gt,typed:Re}),tye=Vpe({DenseMatrix:nr,concat:Ir,equalScalar:gr,matrix:Gt,typed:Re,zeros:pa}),SV=Hpe({DenseMatrix:nr,divideScalar:fi,equalScalar:gr,matrix:Gt,multiplyScalar:Ai,subtractScalar:Us,typed:Re}),nI=qpe({flatten:_0,matrix:Gt,size:zo,typed:Re}),nye=$pe({BigNumber:Yt,concat:Ir,equalScalar:gr,matrix:Gt,typed:Re}),rye=Jpe({BigNumber:Yt,config:Ft,matrix:Gt,typed:Re}),rI=Kpe({addScalar:lo,complex:zM,conj:ah,divideScalar:fi,equal:Vs,identity:Wd,isZero:Al,matrix:Gt,multiplyScalar:Ai,sign:yV,sqrt:Tl,subtractScalar:Us,typed:Re,unaryMinus:Mc,zeros:pa}),iye=nfe({config:Ft,matrix:Gt}),oye=ife({DenseMatrix:nr,concat:Ir,equalScalar:gr,matrix:Gt,typed:Re,zeros:pa}),Tg=afe({BigNumber:Yt,DenseMatrix:nr,equalScalar:gr,matrix:Gt,typed:Re,zeros:pa}),fa=lfe({DenseMatrix:nr,concat:Ir,config:Ft,matrix:Gt,typed:Re}),Pi=ffe({DenseMatrix:nr,concat:Ir,equalScalar:gr,matrix:Gt,subtractScalar:Us,typed:Re,unaryMinus:Mc}),aye=mfe({concat:Ir,matrix:Gt,typed:Re}),sye=_fe({DenseMatrix:nr,concat:Ir,config:Ft,equalScalar:gr,matrix:Gt,typed:Re}),iI=bfe({DenseMatrix:nr,divideScalar:fi,equalScalar:gr,matrix:Gt,multiplyScalar:Ai,subtractScalar:Us,typed:Re}),lye=xfe({DenseMatrix:nr,concat:Ir,matrix:Gt,typed:Re}),_r=Dfe({DenseMatrix:nr,SparseMatrix:fu,addScalar:lo,concat:Ir,equalScalar:gr,matrix:Gt,typed:Re}),cye=Pfe({BigNumber:Yt,DenseMatrix:nr,concat:Ir,equalScalar:gr,matrix:Gt,typed:Re}),uye=Ife({concat:Ir,equalScalar:gr,matrix:Gt,typed:Re}),dye=Ffe({DenseMatrix:nr,concat:Ir,matrix:Gt,typed:Re}),pye=Rfe({addScalar:lo,combinations:VM,divideScalar:fi,isInteger:Ba,isNegative:$d,multiplyScalar:Ai,typed:Re}),uh=Bfe({BigNumber:Yt,DenseMatrix:nr,Fraction:oh,concat:Ir,config:Ft,equalScalar:gr,matrix:Gt,typed:Re}),DV=zfe({concat:Ir,matrix:Gt,typed:Re}),fye=tB({add:_r,typed:Re,unaryPlus:WT}),oI=jfe({equal:Vs,typed:Re}),hye=$L({matrix:Gt,number:Pl,subtract:Pi,typed:Re}),mye=Zfe({abs:da,addScalar:lo,deepEqual:oI,divideScalar:fi,multiplyScalar:Ai,sqrt:Tl,subtractScalar:Us,typed:Re}),qM=Gfe({addScalar:lo,conj:ah,multiplyScalar:Ai,size:zo,typed:Re}),gye=Wfe({compareText:DV,isZero:Al,typed:Re}),OV=z5({DenseMatrix:nr,config:Ft,equalScalar:gr,matrix:Gt,round:Tg,typed:Re,zeros:pa}),_ye=the({BigNumber:Yt,DenseMatrix:nr,concat:Ir,config:Ft,equalScalar:gr,matrix:Gt,round:Tg,typed:Re,zeros:pa}),vye=rhe({abs:da,addScalar:lo,divideScalar:fi,isPositive:sh,multiplyScalar:Ai,smaller:fa,sqrt:Tl,typed:Re}),EV=ahe({DenseMatrix:nr,smaller:fa}),Ho=che({ImmutableDenseMatrix:EV,getMatrixDataType:JT}),ha=dhe({DenseMatrix:nr,concat:Ir,config:Ft,matrix:Gt,typed:Re}),aI=hhe({Complex:jr,config:Ft,divideScalar:fi,typed:Re}),yye=ghe({DenseMatrix:nr,divideScalar:fi,equalScalar:gr,matrix:Gt,multiplyScalar:Ai,subtractScalar:Us,typed:Re}),bye=vhe({flatten:_0,matrix:Gt,size:zo,typed:Re}),Cye=JL({config:Ft,numeric:Il,smaller:fa,typed:Re}),AV=j5({DenseMatrix:nr,concat:Ir,config:Ft,equalScalar:gr,matrix:Gt,round:Tg,typed:Re,zeros:pa}),kr=bhe({addScalar:lo,dot:qM,equalScalar:gr,matrix:Gt,multiplyScalar:Ai,typed:Re}),xye=xhe({Complex:jr,config:Ft,divideScalar:fi,typed:Re}),wye=Mhe({DenseMatrix:nr,concat:Ir,equalScalar:gr,matrix:Gt,typed:Re}),ZM=Dhe({compare:uh,isNaN:h0,isNumeric:ch,typed:Re}),Mye=Ehe({DenseMatrix:nr,concat:Ir,equalScalar:gr,matrix:Gt,typed:Re,zeros:pa}),PV=Xhe({SparseMatrix:fu,abs:da,add:_r,divideScalar:fi,larger:ha,largerEq:jM,multiply:kr,subtract:Pi,transpose:m0,typed:Re}),ps=KL({add:_r,matrix:Gt,typed:Re,zeros:pa}),sI=iB({add:_r,config:Ft,numeric:Il,typed:Re}),Sye=tme({add:_r,matrix:Gt,typed:Re}),TV=rme({DenseMatrix:nr,divideScalar:fi,equalScalar:gr,matrix:Gt,multiplyScalar:Ai,subtractScalar:Us,typed:Re}),Dye=ome({Complex:jr,add:_r,multiply:kr,number:Pl,typed:Re}),Oye=sme({DenseMatrix:nr,concat:Ir,equalScalar:gr,matrix:Gt,typed:Re}),lI=ume({DenseMatrix:nr,config:Ft,equalScalar:gr,matrix:Gt,round:Tg,typed:Re,zeros:pa}),Sc=pme({compare:uh,typed:Re}),Eye=mme({addScalar:lo,combinations:VM,isInteger:Ba,isNegative:$d,isPositive:sh,larger:ha,typed:Re}),Aye=_me({matrix:Gt,multiply:kr,subtract:Pi,typed:Re}),IV=yme({divideScalar:fi,isZero:Al,matrix:Gt,multiply:kr,subtractScalar:Us,typed:Re,unaryMinus:Mc}),Pye=Cme({concat:Ir,equalScalar:gr,matrix:Gt,multiplyScalar:Ai,typed:Re}),kV=Mme({larger:ha,smaller:fa}),FV=Ome({Complex:jr,DenseMatrix:nr,ceil:lI,equalScalar:gr,floor:OV,matrix:Gt,typed:Re,zeros:pa}),NV=Ame({Index:Ho,typed:Re}),Tye=Ime({abs:da,add:_r,addScalar:lo,config:Ft,divideScalar:fi,equalScalar:gr,flatten:_0,isNumeric:ch,isZero:Al,matrix:Gt,multiply:kr,multiplyScalar:Ai,smaller:fa,subtract:Pi,typed:Re}),Iye=Fme({BigNumber:Yt,add:_r,config:Ft,equal:Vs,isInteger:Ba,mod:AV,smaller:fa,typed:Re,xgcd:xV}),kye=Rme({concat:Ir,equalScalar:gr,matrix:Gt,typed:Re}),Fye=Bme({Complex:jr,config:Ft,divideScalar:fi,log:aI,typed:Re}),cI=zL({config:Ft,larger:ha,numeric:Il,typed:Re}),Nye=Vme({DenseMatrix:nr,Index:Ho,compareNatural:Sc,size:zo,subset:ps,typed:Re}),Rye=Hme({DenseMatrix:nr,Index:Ho,compareNatural:Sc,size:zo,subset:ps,typed:Re}),Lye=qme({Index:Ho,compareNatural:Sc,size:zo,subset:ps,typed:Re}),Bye=Yme({Index:Ho,compareNatural:Sc,size:zo,subset:ps,typed:Re}),Ig=$me({DenseMatrix:nr,concat:Ir,config:Ft,matrix:Gt,typed:Re}),Uye=Jme({compare:uh,compareNatural:Sc,matrix:Gt,typed:Re}),Vye=Kme({concat:Ir,equalScalar:gr,matrix:Gt,not:vV,typed:Re,zeros:pa}),kg=sB({bignumber:ds,matrix:Gt,add:_r,config:Ft,isPositive:sh,larger:ha,largerEq:jM,smaller:fa,smallerEq:Ig,typed:Re}),zye=cB({Index:Ho,matrix:Gt,range:kg,typed:Re}),RV=tge({DenseMatrix:nr,Index:Ho,compareNatural:Sc,size:zo,subset:ps,typed:Re}),Hye=rge({Index:Ho,compareNatural:Sc,size:zo,subset:ps,typed:Re}),LV=oge({Index:Ho,concat:Ir,setDifference:RV,size:zo,subset:ps,typed:Re}),BV=lge({FibonacciHeap:kV,addScalar:lo,equalScalar:gr}),UV=dB({Index:Ho,matrix:Gt,range:kg,typed:Re}),dh=uge({abs:da,addScalar:lo,det:IV,divideScalar:fi,identity:Wd,matrix:Gt,multiply:kr,typed:Re,unaryMinus:Mc}),VV=pge({DenseMatrix:nr,Spa:BV,SparseMatrix:fu,abs:da,addScalar:lo,divideScalar:fi,equalScalar:gr,larger:ha,matrix:Gt,multiplyScalar:Ai,subtractScalar:Us,typed:Re,unaryMinus:Mc}),jye=hge({Complex:jr,add:_r,ctranspose:tI,deepEqual:oI,divideScalar:fi,dot:qM,dotDivide:g0,equal:Vs,inv:dh,matrix:Gt,multiply:kr,typed:Re}),zs=gge({Complex:jr,config:Ft,fraction:Pg,identity:Wd,inv:dh,matrix:Gt,multiply:kr,number:Pl,typed:Re}),zV=vge({DenseMatrix:nr,Index:Ho,compareNatural:Sc,size:zo,subset:ps,typed:Re}),qye=bge({Index:Ho,concat:Ir,setIntersect:zV,setSymDifference:LV,size:zo,subset:ps,typed:Re}),Zye=xge({abs:da,add:_r,identity:Wd,inv:dh,map:lh,max:cI,multiply:kr,size:zo,sqrt:Tl,subtract:Pi,typed:Re}),Nn=Sge({BigNumber:Yt,Complex:jr,Fraction:oh,abs:da,addScalar:lo,config:Ft,divideScalar:fi,equal:Vs,fix:FV,format:f0,isNumeric:ch,multiplyScalar:Ai,number:Pl,pow:zs,round:Tg,subtractScalar:Us}),Yye=yae({BigNumber:Yt,Unit:Nn,config:Ft}),Gye=ese({BigNumber:Yt,Unit:Nn,config:Ft}),$ye=Hae({BigNumber:Yt,Unit:Nn,config:Ft}),Wye=xae({BigNumber:Yt,Unit:Nn,config:Ft}),Qye=qae({BigNumber:Yt,Unit:Nn,config:Ft}),Jye=wae({BigNumber:Yt,Unit:Nn,config:Ft}),Xye=bae({BigNumber:Yt,Unit:Nn,config:Ft}),Kye=Nae({BigNumber:Yt,Unit:Nn,config:Ft}),e0e=Oge({DenseMatrix:nr,concat:Ir,equalScalar:gr,matrix:Gt,pow:zs,typed:Re}),t0e=vae({BigNumber:Yt,Unit:Nn,config:Ft}),n0e=Cae({BigNumber:Yt,Unit:Nn,config:Ft}),r0e=Age({abs:da,add:_r,identity:Wd,inv:dh,multiply:kr,typed:Re}),i0e=Zae({BigNumber:Yt,Unit:Nn,config:Ft}),HV=Tge({addScalar:lo,ceil:lI,conj:ah,divideScalar:fi,dotDivide:g0,exp:gV,i:pV,log2:_V,matrix:Gt,multiplyScalar:Ai,pow:zs,tau:hV,typed:Re}),uI=kge({BigNumber:Yt,Complex:jr,config:Ft,multiplyScalar:Ai,pow:zs,typed:Re}),o0e=hae({BigNumber:Yt,Unit:Nn,config:Ft}),a0e=kae({BigNumber:Yt,Unit:Nn,config:Ft}),s0e=Nge({conj:ah,dotDivide:g0,fft:HV,typed:Re}),l0e=Oae({BigNumber:Yt,Unit:Nn,config:Ft}),c0e=Gae({BigNumber:Yt,Unit:Nn,config:Ft}),u0e=_ae({BigNumber:Yt,Unit:Nn,config:Ft}),d0e=tse({BigNumber:Yt,Unit:Nn,config:Ft}),p0e=Wae({BigNumber:Yt,Unit:Nn,config:Ft}),f0e=Rae({BigNumber:Yt,Unit:Nn,config:Ft}),h0e=Dae({BigNumber:Yt,Unit:Nn,config:Ft}),m0e=sse({BigNumber:Yt,Unit:Nn,config:Ft}),g0e=ise({BigNumber:Yt,Unit:Nn,config:Ft}),_0e=lse({BigNumber:Yt,Unit:Nn,config:Ft}),v0e=Fae({BigNumber:Yt,Unit:Nn,config:Ft}),y0e=Lae({BigNumber:Yt,Unit:Nn,config:Ft}),b0e=gae({BigNumber:Yt,Unit:Nn,config:Ft}),C0e=Bae({BigNumber:Yt,Unit:Nn,config:Ft}),x0e=Xae({BigNumber:Yt,Unit:Nn,config:Ft}),w0e=fae({BigNumber:Yt,Unit:Nn,config:Ft}),M0e=Kae({BigNumber:Yt,Unit:Nn,config:Ft}),S0e=Uae({BigNumber:Yt,Unit:Nn,config:Ft}),D0e=jae({BigNumber:Yt,Unit:Nn,config:Ft}),O0e=Eae({BigNumber:Yt,Unit:Nn,config:Ft}),E0e=Lge({Unit:Nn,typed:Re}),vo=Vge({divideScalar:fi,equalScalar:gr,inv:dh,matrix:Gt,multiply:kr,typed:Re}),A0e=Pae({BigNumber:Yt,Unit:Nn,config:Ft}),v0=Hge({gamma:uI,typed:Re}),P0e=Yae({BigNumber:Yt,Unit:Nn,config:Ft}),T0e=rse({BigNumber:Yt,Unit:Nn,config:Ft}),I0e=Mae({BigNumber:Yt,Unit:Nn,config:Ft}),jV=qge({DenseMatrix:nr,lsolve:SV,lup:VV,matrix:Gt,slu:PV,typed:Re,usolve:iI}),k0e=Sae({BigNumber:Yt,Unit:Nn,config:Ft}),F0e=nse({BigNumber:Yt,Unit:Nn,config:Ft}),N0e=Yge({add:_r,divide:vo,factorial:v0,isInteger:Ba,isPositive:sh,multiply:kr,typed:Re}),R0e=$ge({factorial:v0,typed:Re}),L0e=ose({BigNumber:Yt,Unit:Nn,config:Ft}),B0e=Qge({add:_r,cbrt:wV,divide:vo,equalScalar:gr,im:XT,isZero:Al,multiply:kr,re:KT,sqrt:Tl,subtract:Pi,typeOf:bV,typed:Re,unaryMinus:Mc}),U0e=Xge({compareNatural:Sc,typed:Re}),V0e=n_e({abs:da,add:_r,bignumber:ds,divide:vo,isNegative:$d,isPositive:sh,larger:ha,map:lh,matrix:Gt,max:cI,multiply:kr,smaller:fa,subtract:Pi,typed:Re,unaryMinus:Mc}),qV=i_e({bignumber:ds,addScalar:lo,combinations:VM,divideScalar:fi,factorial:v0,isInteger:Ba,isNegative:$d,larger:ha,multiplyScalar:Ai,number:Pl,pow:zs,subtractScalar:Us,typed:Re}),z0e=a_e({Unit:Nn,typed:Re}),H0e=l_e({addScalar:lo,isInteger:Ba,isNegative:$d,stirlingS2:qV,typed:Re}),ZV=f_e({abs:da,add:_r,addScalar:lo,atan:mV,bignumber:ds,column:UV,complex:zM,config:Ft,cos:QT,diag:MV,divideScalar:fi,dot:qM,equal:Vs,flatten:_0,im:XT,inv:dh,larger:ha,matrix:Gt,matrixFromColumns:nI,multiply:kr,multiplyScalar:Ai,number:Pl,qr:rI,re:KT,sin:HM,smaller:fa,sqrt:Tl,subtract:Pi,typed:Re,usolve:iI,usolveAll:TV}),j0e=Tae({BigNumber:Yt,Unit:Nn,config:Ft}),q0e=$ae({BigNumber:Yt,Unit:Nn,config:Ft}),YV=fB({add:_r,divide:vo,typed:Re}),Z0e=Qae({BigNumber:Yt,Unit:Nn,config:Ft}),Y0e=mae({BigNumber:Yt,Unit:Nn,config:Ft}),G0e=mB({bignumber:ds,add:_r,compare:uh,divide:vo,isInteger:Ba,larger:ha,multiply:kr,partitionSelect:ZM,smaller:fa,smallerEq:Ig,subtract:Pi,typed:Re}),dI=_B({add:_r,apply:eI,divide:vo,isNaN:h0,multiply:kr,subtract:Pi,typed:Re}),$0e=Aae({BigNumber:Yt,Unit:Nn,config:Ft}),GV=m_e({add:_r,compare:uh,divide:vo,partitionSelect:ZM,typed:Re}),W0e=__e({add:_r,divide:vo,matrix:Gt,mean:YV,multiply:kr,pow:zs,sqrt:Tl,subtract:Pi,sum:sI,typed:Re}),Q0e=y_e({Complex:jr,add:_r,divide:vo,matrix:Gt,multiply:kr,typed:Re}),J0e=C_e({abs:da,map:lh,median:GV,subtract:Pi,typed:Re}),X0e=bB({map:lh,sqrt:Tl,typed:Re,variance:dI}),K0e=w_e({BigNumber:Yt,Complex:jr,add:_r,config:Ft,divide:vo,equal:Vs,factorial:v0,gamma:uI,isNegative:$d,multiply:kr,pi:$T,pow:zs,sin:HM,smallerEq:Ig,subtract:Pi,typed:Re}),pI=S_e({abs:da,add:_r,conj:ah,ctranspose:tI,eigs:ZV,equalScalar:gr,larger:ha,matrix:Gt,multiply:kr,pow:zs,smaller:fa,sqrt:Tl,typed:Re}),$V=O_e({BigNumber:Yt,DenseMatrix:nr,SparseMatrix:fu,addScalar:lo,config:Ft,cos:QT,matrix:Gt,multiplyScalar:Ai,norm:pI,sin:HM,typed:Re,unaryMinus:Mc}),ebe=A_e({divide:vo,dotDivide:g0,isNumeric:ch,log:aI,map:lh,matrix:Gt,multiply:kr,sum:sI,typed:Re}),tbe=ase({BigNumber:Yt,Unit:Nn,config:Ft}),WV=T_e({identity:Wd,matrix:Gt,multiply:kr,norm:pI,qr:rI,subtract:Pi,typed:Re}),nbe=k_e({multiply:kr,rotationMatrix:$V,typed:Re}),QV=N_e({abs:da,add:_r,concat:Ir,identity:Wd,index:NV,lusolve:jV,matrix:Gt,matrixFromColumns:nI,multiply:kr,range:kg,schur:WV,subset:ps,subtract:Pi,transpose:m0,typed:Re}),rbe=L_e({matrix:Gt,multiply:kr,sylvester:QV,transpose:m0,typed:Re}),Fg={},Ng={},JV={},jo=XQ({mathWithTransform:Ng}),Rg=CJ({Node:jo}),hu=AJ({Node:jo}),ph=TJ({Node:jo}),XV=kJ({Node:jo}),Lg=NJ({Node:jo}),KV=LJ({Node:jo,ResultSet:fV}),ez=UJ({Node:jo}),Qd=zJ({Node:jo}),tz=jJ({Node:jo}),ibe=YJ({classes:JV}),fI=WJ({math:Fg,typed:Re}),nz=JJ({Node:jo,typed:Re}),obe=KJ({Chain:fI,typed:Re}),Bg=tX({Node:jo,size:zo}),Ug=rX({Node:jo,subset:ps}),rz=aX({matrix:Gt,Node:jo,subset:ps}),Jd=cX({Unit:Nn,Node:jo,math:Fg}),Xd=dX({Node:jo,SymbolNode:Jd,math:Fg}),kl=fX({AccessorNode:Ug,ArrayNode:Lg,AssignmentNode:rz,BlockNode:KV,ConditionalNode:ez,ConstantNode:Qd,FunctionAssignmentNode:nz,FunctionNode:Xd,IndexNode:Bg,ObjectNode:Rg,OperatorNode:hu,ParenthesisNode:ph,RangeNode:tz,RelationalNode:XV,SymbolNode:Jd,config:Ft,numeric:Il,typed:Re}),iz=gX({ConstantNode:Qd,FunctionNode:Xd,OperatorNode:hu,ParenthesisNode:ph,parse:kl,typed:Re}),hI=CX({bignumber:ds,fraction:Pg,AccessorNode:Ug,ArrayNode:Lg,ConstantNode:Qd,FunctionNode:Xd,IndexNode:Bg,ObjectNode:Rg,OperatorNode:hu,SymbolNode:Jd,config:Ft,mathWithTransform:Ng,matrix:Gt,typed:Re}),abe=wX({parse:kl,typed:Re}),oz=DX({parse:kl}),sbe=EX({parse:kl,typed:Re}),mI=PX({AccessorNode:Ug,ArrayNode:Lg,ConstantNode:Qd,FunctionNode:Xd,IndexNode:Bg,ObjectNode:Rg,OperatorNode:hu,ParenthesisNode:ph,SymbolNode:Jd,add:_r,divide:vo,equal:Vs,isZero:Al,multiply:kr,parse:kl,pow:zs,subtract:Pi,typed:Re}),az=IX({parse:kl,typed:Re}),lbe=are({Help:oz,mathWithTransform:Ng,typed:Re}),sz=cre({evaluate:az}),YM=pre({bignumber:ds,fraction:Pg,AccessorNode:Ug,ArrayNode:Lg,ConstantNode:Qd,FunctionNode:Xd,IndexNode:Bg,ObjectNode:Rg,OperatorNode:hu,ParenthesisNode:ph,SymbolNode:Jd,add:_r,config:Ft,divide:vo,equal:Vs,isZero:Al,mathWithTransform:Ng,matrix:Gt,multiply:kr,parse:kl,pow:zs,resolve:iz,simplifyConstant:hI,simplifyCore:mI,subtract:Pi,typed:Re}),cbe=hre({OperatorNode:hu,parse:kl,simplify:YM,typed:Re}),lz=gre({Parser:sz,typed:Re}),ube=vre({bignumber:ds,fraction:Pg,AccessorNode:Ug,ArrayNode:Lg,ConstantNode:Qd,FunctionNode:Xd,IndexNode:Bg,ObjectNode:Rg,OperatorNode:hu,ParenthesisNode:ph,SymbolNode:Jd,add:_r,config:Ft,divide:vo,equal:Vs,isZero:Al,mathWithTransform:Ng,matrix:Gt,multiply:kr,parse:kl,pow:zs,simplify:YM,simplifyConstant:hI,simplifyCore:mI,subtract:Pi,typed:Re}),dbe=bre({ConstantNode:Qd,FunctionNode:Xd,OperatorNode:hu,ParenthesisNode:ph,SymbolNode:Jd,config:Ft,equal:Vs,isZero:Al,numeric:Il,parse:kl,simplify:YM,typed:Re});go(Fg,{e:dV,false:B_e,fineStructure:U_e,i:pV,Infinity:V_e,LN10:z_e,LOG10E:H_e,NaN:j_e,null:q_e,phi:Z_e,SQRT1_2:G_e,sackurTetrode:$_e,tau:hV,true:W_e,E:dV,version:Q_e,efimovFactor:J_e,LN2:X_e,pi:$T,replacer:K_e,reviver:ibe,SQRT2:eve,typed:Re,unaryPlus:WT,PI:$T,weakMixingAngle:tve,abs:da,acos:nve,acot:rve,acsc:ive,addScalar:lo,arg:ove,asech:ave,asinh:sve,atan:mV,atanh:lve,bignumber:ds,bitNot:cve,boolean:uve,clone:dve,combinations:VM,complex:zM,conj:ah,cos:QT,cot:pve,csc:fve,cube:hve,equalScalar:gr,erf:mve,exp:gV,expm1:gve,filter:_ve,forEach:vve,format:f0,getMatrixDataType:JT,hex:yve,im:XT,isInteger:Ba,isNegative:$d,isPositive:sh,isZero:Al,LOG2E:bve,lgamma:Cve,log10:xve,log2:_V,map:lh,multiplyScalar:Ai,not:vV,number:Pl,oct:wve,pickRandom:Mve,print:Sve,random:Dve,re:KT,sec:Ove,sign:yV,sin:HM,splitUnit:Eve,square:Ave,string:Pve,subtractScalar:Us,tan:Tve,typeOf:bV,acosh:Ive,acsch:kve,apply:eI,asec:Fve,bin:Nve,chain:obe,combinationsWithRep:Rve,cosh:Lve,csch:Bve,isNaN:h0,isPrime:Uve,randomInt:Vve,sech:zve,sinh:Hve,sparse:jve,sqrt:Tl,tanh:qve,unaryMinus:Mc,acoth:Zve,coth:Yve,fraction:Pg,isNumeric:ch,matrix:Gt,matrixFromFunction:Gve,mode:$ve,numeric:Il,prod:CV,reshape:Wve,size:zo,squeeze:Qve,transpose:m0,xgcd:xV,zeros:pa,asin:Jve,cbrt:wV,concat:Ir,count:Xve,ctranspose:tI,diag:MV,divideScalar:fi,dotDivide:g0,equal:Vs,flatten:_0,hasNumericValue:Kve,identity:Wd,kron:eye,largerEq:jM,leftShift:tye,lsolve:SV,matrixFromColumns:nI,nthRoot:nye,ones:rye,qr:rI,resize:iye,rightArithShift:oye,round:Tg,smaller:fa,subtract:Pi,to:aye,unequal:sye,usolve:iI,xor:lye,add:_r,atan2:cye,bitAnd:uye,bitXor:dye,catalan:pye,compare:uh,compareText:DV,cumsum:fye,deepEqual:oI,diff:hye,distance:mye,dot:qM,equalText:gye,floor:OV,gcd:_ye,hypot:vye,larger:ha,log:aI,lsolveAll:yye,matrixFromRows:bye,min:Cye,mod:AV,multiply:kr,nthRoots:xye,or:wye,partitionSelect:ZM,rightLogShift:Mye,slu:PV,subset:ps,sum:sI,trace:Sye,usolveAll:TV,zpk2tf:Dye,bitOr:Oye,ceil:lI,compareNatural:Sc,composition:Eye,cross:Aye,det:IV,dotMultiply:Pye,fix:FV,index:NV,intersect:Tye,invmod:Iye,lcm:kye,log1p:Fye,max:cI,setCartesian:Nye,setDistinct:Rye,setIsSubset:Lye,setPowerset:Bye,smallerEq:Ig,sort:Uye,and:Vye,range:kg,row:zye,setDifference:RV,setMultiplicity:Hye,setSymDifference:LV,column:UV,inv:dh,lup:VV,pinv:jye,pow:zs,setIntersect:zV,setUnion:qye,sqrtm:Zye,vacuumImpedance:Yye,wienDisplacement:Gye,atomicMass:$ye,bohrMagneton:Wye,boltzmann:Qye,conductanceQuantum:Jye,coulomb:Xye,deuteronMass:Kye,dotPow:e0e,electricConstant:t0e,elementaryCharge:n0e,expm:r0e,faraday:i0e,fft:HV,gamma:uI,gravitationConstant:o0e,hartreeEnergy:a0e,ifft:s0e,klitzing:l0e,loschmidt:c0e,magneticConstant:u0e,molarMass:d0e,molarPlanckConstant:p0e,neutronMass:f0e,nuclearMagneton:h0e,planckCharge:m0e,planckLength:g0e,planckTemperature:_0e,protonMass:v0e,quantumOfCirculation:y0e,reducedPlanckConstant:b0e,rydberg:C0e,secondRadiation:x0e,speedOfLight:w0e,stefanBoltzmann:M0e,thomsonCrossSection:S0e,avogadro:D0e,bohrRadius:O0e,createUnit:E0e,divide:vo,electronMass:A0e,factorial:v0,firstRadiation:P0e,gravity:T0e,inverseConductanceQuantum:I0e,lusolve:jV,magneticFluxQuantum:k0e,molarMassC12:F0e,multinomial:N0e,parse:kl,permutations:R0e,planckMass:L0e,polynomialRoot:B0e,resolve:iz,setSize:U0e,simplifyConstant:hI,solveODE:V0e,stirlingS2:qV,unit:z0e,bellNumbers:H0e,compile:abe,eigs:ZV,fermiCoupling:j0e,gasConstant:q0e,leafCount:sbe,mean:YV,molarVolume:Z0e,planckConstant:Y0e,quantileSeq:G0e,simplifyCore:mI,variance:dI,classicalElectronRadius:$0e,evaluate:az,help:lbe,median:GV,simplify:YM,symbolicEqual:cbe,corr:W0e,freqz:Q0e,mad:J0e,parser:lz,rationalize:ube,std:X0e,zeta:K0e,derivative:dbe,norm:pI,rotationMatrix:$V,kldivergence:ebe,planckTime:tbe,schur:WV,rotate:nbe,sylvester:QV,lyap:rbe,config:Ft}),go(Ng,Fg,{filter:wre({typed:Re}),forEach:Dre({typed:Re}),map:Are({typed:Re}),apply:Fre({isInteger:Ba,typed:Re}),concat:Bre({isInteger:Ba,matrix:Gt,typed:Re}),max:Hre({config:Ft,larger:ha,numeric:Il,typed:Re}),print:Zre({add:_r,matrix:Gt,typed:Re,zeros:pa}),diff:$re({bignumber:ds,matrix:Gt,number:Pl,subtract:Pi,typed:Re}),min:Xre({config:Ft,numeric:Il,smaller:fa,typed:Re}),subset:oie({add:_r,matrix:Gt,typed:Re,zeros:pa}),cumsum:lie({add:_r,typed:Re,unaryPlus:WT}),index:die({Index:Ho,getMatrixDataType:JT}),sum:hie({add:_r,config:Ft,numeric:Il,typed:Re}),range:vie({bignumber:ds,matrix:Gt,add:_r,config:Ft,isPositive:sh,larger:ha,largerEq:jM,smaller:fa,smallerEq:Ig,typed:Re}),row:xie({Index:Ho,matrix:Gt,range:kg,typed:Re}),column:Die({Index:Ho,matrix:Gt,range:kg,typed:Re}),mean:Pie({add:_r,divide:vo,typed:Re}),quantileSeq:Fie({add:_r,bignumber:ds,compare:uh,divide:vo,isInteger:Ba,larger:ha,multiply:kr,partitionSelect:ZM,smaller:fa,smallerEq:Ig,subtract:Pi,typed:Re}),variance:Lie({add:_r,apply:eI,divide:vo,isNaN:h0,multiply:kr,subtract:Pi,typed:Re}),std:zie({map:lh,sqrt:Tl,typed:Re,variance:dI})}),go(JV,{BigNumber:Yt,Complex:jr,Fraction:oh,Matrix:UM,Node:jo,ObjectNode:Rg,OperatorNode:hu,ParenthesisNode:ph,Range:Y_e,RelationalNode:XV,ResultSet:fV,ArrayNode:Lg,BlockNode:KV,ConditionalNode:ez,ConstantNode:Qd,DenseMatrix:nr,RangeNode:tz,Chain:fI,FunctionAssignmentNode:nz,SparseMatrix:fu,IndexNode:Bg,ImmutableDenseMatrix:EV,Index:Ho,AccessorNode:Ug,AssignmentNode:rz,FibonacciHeap:kV,Spa:BV,Unit:Nn,SymbolNode:Jd,FunctionNode:Xd,Help:oz,Parser:sz}),fI.createProxy(Fg);var pbe=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,gI=Math.ceil,Hs=Math.floor,Ua="[BigNumber Error] ",cz=Ua+"Number primitive has more than 15 significant digits: ",Fl=1e14,_I=9007199254740991,vI=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],Kd=1e7,yo=1e9;function js(t){var r=0|t;return t>0||t===r?r:r-1}function qs(t){for(var r,e,i=1,o=t.length,a=t[0]+"";i<o;){for(e=14-(r=t[i++]+"").length;e--;r="0"+r);a+=r}for(o=a.length;48===a.charCodeAt(--o););return a.slice(0,o+1||1)}function fh(t,r){var e,i,o=t.c,a=r.c,l=t.s,u=r.s,p=t.e,f=r.e;if(!l||!u)return null;if(i=a&&!a[0],(e=o&&!o[0])||i)return e?i?0:-u:l;if(l!=u)return l;if(e=l<0,i=p==f,!o||!a)return i?0:!o^e?1:-1;if(!i)return p>f^e?1:-1;for(u=(p=o.length)<(f=a.length)?p:f,l=0;l<u;l++)if(o[l]!=a[l])return o[l]>a[l]^e?1:-1;return p==f?0:p>f^e?1:-1}function xi(t,r,e,i){if(t<r||t>e||t!==Hs(t))throw Error(Ua+(i||"Argument")+("number"==typeof t?t<r||t>e?" out of range: ":" not an integer: ":" not a primitive number: ")+String(t))}function GM(t){var r=t.c.length-1;return js(t.e/14)==r&&t.c[r]%2!=0}function $M(t,r){return(t.length>1?t.charAt(0)+"."+t.slice(1):t)+(r<0?"e":"e+")+r}function mu(t,r,e){var i,o;if(r<0){for(o=e+".";++r;o+=e);t=o+t}else if(++r>(i=t.length)){for(o=e,r-=i;--r;o+=e);t+=o}else r<i&&(t=t.slice(0,r)+"."+t.slice(r));return t}var dz=function uz(t){var r,e,i,B,H,o=Y.prototype={constructor:Y,toString:null,valueOf:null},a=new Y(1),l=20,u=4,p=-7,f=21,h=-1e7,y=1e7,D=!1,E=1,k=0,T={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"\xa0",suffix:""},L="0123456789abcdefghijklmnopqrstuvwxyz",U=!0;function Y(B,H){var V,K,ee,re,le,ie,G,W,ce=this;if(!(ce instanceof Y))return new Y(B,H);if(null==H){if(B&&!0===B._isBigNumber)return ce.s=B.s,void(!B.c||B.e>y?ce.c=ce.e=null:B.e<h?ce.c=[ce.e=0]:(ce.e=B.e,ce.c=B.c.slice()));if((ie="number"==typeof B)&&0*B==0){if(ce.s=1/B<0?(B=-B,-1):1,B===~~B){for(re=0,le=B;le>=10;le/=10,re++);return void(re>y?ce.c=ce.e=null:(ce.e=re,ce.c=[B]))}W=String(B)}else{if(!pbe.test(W=String(B)))return i(ce,W,ie);ce.s=45==W.charCodeAt(0)?(W=W.slice(1),-1):1}(re=W.indexOf("."))>-1&&(W=W.replace(".","")),(le=W.search(/e/i))>0?(re<0&&(re=le),re+=+W.slice(le+1),W=W.substring(0,le)):re<0&&(re=W.length)}else{if(xi(H,2,L.length,"Base"),10==H&&U)return z(ce=new Y(B),l+ce.e+1,u);if(W=String(B),ie="number"==typeof B){if(0*B!=0)return i(ce,W,ie,H);if(ce.s=1/B<0?(W=W.slice(1),-1):1,Y.DEBUG&&W.replace(/^0\.0*|\./,"").length>15)throw Error(cz+B)}else ce.s=45===W.charCodeAt(0)?(W=W.slice(1),-1):1;for(V=L.slice(0,H),re=le=0,G=W.length;le<G;le++)if(V.indexOf(K=W.charAt(le))<0){if("."==K){if(le>re){re=G;continue}}else if(!ee&&(W==W.toUpperCase()&&(W=W.toLowerCase())||W==W.toLowerCase()&&(W=W.toUpperCase()))){ee=!0,le=-1,re=0;continue}return i(ce,String(B),ie,H)}ie=!1,(re=(W=e(W,H,10,ce.s)).indexOf("."))>-1?W=W.replace(".",""):re=W.length}for(le=0;48===W.charCodeAt(le);le++);for(G=W.length;48===W.charCodeAt(--G););if(W=W.slice(le,++G)){if(G-=le,ie&&Y.DEBUG&&G>15&&(B>_I||B!==Hs(B)))throw Error(cz+ce.s*B);if((re=re-le-1)>y)ce.c=ce.e=null;else if(re<h)ce.c=[ce.e=0];else{if(ce.e=re,ce.c=[],le=(re+1)%14,re<0&&(le+=14),le<G){for(le&&ce.c.push(+W.slice(0,le)),G-=14;le<G;)ce.c.push(+W.slice(le,le+=14));le=14-(W=W.slice(le)).length}else le-=G;for(;le--;W+="0");ce.c.push(+W)}}else ce.c=[ce.e=0]}function N(B,H,V,K){var ee,re,le,ie,G;if(null==V?V=u:xi(V,0,8),!B.c)return B.toString();if(ee=B.c[0],le=B.e,null==H)G=qs(B.c),G=1==K||2==K&&(le<=p||le>=f)?$M(G,le):mu(G,le,"0");else if(re=(B=z(new Y(B),H,V)).e,ie=(G=qs(B.c)).length,1==K||2==K&&(H<=re||re<=p)){for(;ie<H;G+="0",ie++);G=$M(G,re)}else if(H-=le,G=mu(G,re,"0"),re+1>ie){if(--H>0)for(G+=".";H--;G+="0");}else if((H+=re-ie)>0)for(re+1==ie&&(G+=".");H--;G+="0");return B.s<0&&ee?"-"+G:G}function q(B,H){for(var V,K,ee=1,re=new Y(B[0]);ee<B.length;ee++)(!(K=new Y(B[ee])).s||(V=fh(re,K))===H||0===V&&re.s===H)&&(re=K);return re}function j(B,H,V){for(var K=1,ee=H.length;!H[--ee];H.pop());for(ee=H[0];ee>=10;ee/=10,K++);return(V=K+14*V-1)>y?B.c=B.e=null:V<h?B.c=[B.e=0]:(B.e=V,B.c=H),B}function z(B,H,V,K){var ee,re,le,ie,G,W,ce,te=B.c,me=vI;if(te){e:{for(ee=1,ie=te[0];ie>=10;ie/=10,ee++);if((re=H-ee)<0)re+=14,G=te[W=0],ce=Hs(G/me[ee-(le=H)-1]%10);else if((W=gI((re+1)/14))>=te.length){if(!K)break e;for(;te.length<=W;te.push(0));G=ce=0,ee=1,le=(re%=14)-14+1}else{for(G=ie=te[W],ee=1;ie>=10;ie/=10,ee++);ce=(le=(re%=14)-14+ee)<0?0:Hs(G/me[ee-le-1]%10)}if(K=K||H<0||null!=te[W+1]||(le<0?G:G%me[ee-le-1]),K=V<4?(ce||K)&&(0==V||V==(B.s<0?3:2)):ce>5||5==ce&&(4==V||K||6==V&&(re>0?le>0?G/me[ee-le]:0:te[W-1])%10&1||V==(B.s<0?8:7)),H<1||!te[0])return te.length=0,K?(te[0]=me[(14-(H-=B.e+1)%14)%14],B.e=-H||0):te[0]=B.e=0,B;if(0==re?(te.length=W,ie=1,W--):(te.length=W+1,ie=me[14-re],te[W]=le>0?Hs(G/me[ee-le]%me[le])*ie:0),K)for(;;){if(0==W){for(re=1,le=te[0];le>=10;le/=10,re++);for(le=te[0]+=ie,ie=1;le>=10;le/=10,ie++);re!=ie&&(B.e++,te[0]==Fl&&(te[0]=1));break}if(te[W]+=ie,te[W]!=Fl)break;te[W--]=0,ie=1}for(re=te.length;0===te[--re];te.pop());}B.e>y?B.c=B.e=null:B.e<h&&(B.c=[B.e=0])}return B}function J(B){var H,V=B.e;return null===V?B.toString():(H=qs(B.c),H=V<=p||V>=f?$M(H,V):mu(H,V,"0"),B.s<0?"-"+H:H)}return Y.clone=uz,Y.ROUND_UP=0,Y.ROUND_DOWN=1,Y.ROUND_CEIL=2,Y.ROUND_FLOOR=3,Y.ROUND_HALF_UP=4,Y.ROUND_HALF_DOWN=5,Y.ROUND_HALF_EVEN=6,Y.ROUND_HALF_CEIL=7,Y.ROUND_HALF_FLOOR=8,Y.EUCLID=9,Y.config=Y.set=function(B){var H,V;if(null!=B){if("object"!=typeof B)throw Error(Ua+"Object expected: "+B);if(B.hasOwnProperty(H="DECIMAL_PLACES")&&(xi(V=B[H],0,yo,H),l=V),B.hasOwnProperty(H="ROUNDING_MODE")&&(xi(V=B[H],0,8,H),u=V),B.hasOwnProperty(H="EXPONENTIAL_AT")&&((V=B[H])&&V.pop?(xi(V[0],-yo,0,H),xi(V[1],0,yo,H),p=V[0],f=V[1]):(xi(V,-yo,yo,H),p=-(f=V<0?-V:V))),B.hasOwnProperty(H="RANGE"))if((V=B[H])&&V.pop)xi(V[0],-yo,-1,H),xi(V[1],1,yo,H),h=V[0],y=V[1];else{if(xi(V,-yo,yo,H),!V)throw Error(Ua+H+" cannot be zero: "+V);h=-(y=V<0?-V:V)}if(B.hasOwnProperty(H="CRYPTO")){if((V=B[H])!==!!V)throw Error(Ua+H+" not true or false: "+V);if(V){if(!(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes)))throw D=!V,Error(Ua+"crypto unavailable");D=V}else D=V}if(B.hasOwnProperty(H="MODULO_MODE")&&(xi(V=B[H],0,9,H),E=V),B.hasOwnProperty(H="POW_PRECISION")&&(xi(V=B[H],0,yo,H),k=V),B.hasOwnProperty(H="FORMAT")){if("object"!=typeof(V=B[H]))throw Error(Ua+H+" not an object: "+V);T=V}if(B.hasOwnProperty(H="ALPHABET")){if("string"!=typeof(V=B[H])||/^.?$|[+\-.\s]|(.).*\1/.test(V))throw Error(Ua+H+" invalid: "+V);U="0123456789"==V.slice(0,10),L=V}}return{DECIMAL_PLACES:l,ROUNDING_MODE:u,EXPONENTIAL_AT:[p,f],RANGE:[h,y],CRYPTO:D,MODULO_MODE:E,POW_PRECISION:k,FORMAT:T,ALPHABET:L}},Y.isBigNumber=function(B){if(!B||!0!==B._isBigNumber)return!1;if(!Y.DEBUG)return!0;var H,V,K=B.c,ee=B.e,re=B.s;e:if("[object Array]"=={}.toString.call(K)){if((1===re||-1===re)&&ee>=-yo&&ee<=yo&&ee===Hs(ee)){if(0===K[0]){if(0===ee&&1===K.length)return!0;break e}if((H=(ee+1)%14)<1&&(H+=14),String(K[0]).length==H){for(H=0;H<K.length;H++)if((V=K[H])<0||V>=Fl||V!==Hs(V))break e;if(0!==V)return!0}}}else if(null===K&&null===ee&&(null===re||1===re||-1===re))return!0;throw Error(Ua+"Invalid BigNumber: "+B)},Y.maximum=Y.max=function(){return q(arguments,-1)},Y.minimum=Y.min=function(){return q(arguments,1)},Y.random=(B=9007199254740992,H=Math.random()*B&2097151?function(){return Hs(Math.random()*B)}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)},function(V){var K,ee,re,le,ie,G=0,W=[],ce=new Y(a);if(null==V?V=l:xi(V,0,yo),le=gI(V/14),D)if(crypto.getRandomValues){for(K=crypto.getRandomValues(new Uint32Array(le*=2));G<le;)(ie=131072*K[G]+(K[G+1]>>>11))>=9e15?(ee=crypto.getRandomValues(new Uint32Array(2)),K[G]=ee[0],K[G+1]=ee[1]):(W.push(ie%1e14),G+=2);G=le/2}else{if(!crypto.randomBytes)throw D=!1,Error(Ua+"crypto unavailable");for(K=crypto.randomBytes(le*=7);G<le;)(ie=281474976710656*(31&K[G])+1099511627776*K[G+1]+4294967296*K[G+2]+16777216*K[G+3]+(K[G+4]<<16)+(K[G+5]<<8)+K[G+6])>=9e15?crypto.randomBytes(7).copy(K,G):(W.push(ie%1e14),G+=7);G=le/7}if(!D)for(;G<le;)(ie=H())<9e15&&(W[G++]=ie%1e14);for(V%=14,(le=W[--G])&&V&&(W[G]=Hs(le/(ie=vI[14-V]))*ie);0===W[G];W.pop(),G--);if(G<0)W=[re=0];else{for(re=-1;0===W[0];W.splice(0,1),re-=14);for(G=1,ie=W[0];ie>=10;ie/=10,G++);G<14&&(re-=14-G)}return ce.e=re,ce.c=W,ce}),Y.sum=function(){for(var B=1,H=arguments,V=new Y(H[0]);B<H.length;)V=V.plus(H[B++]);return V},e=function(){var B="0123456789";function H(V,K,ee,re){for(var le,G,ie=[0],W=0,ce=V.length;W<ce;){for(G=ie.length;G--;ie[G]*=K);for(ie[0]+=re.indexOf(V.charAt(W++)),le=0;le<ie.length;le++)ie[le]>ee-1&&(null==ie[le+1]&&(ie[le+1]=0),ie[le+1]+=ie[le]/ee|0,ie[le]%=ee)}return ie.reverse()}return function(V,K,ee,re,le){var ie,G,W,ce,te,me,Ee,Le,ve=V.indexOf("."),Fe=l,Je=u;for(ve>=0&&(ce=k,k=0,V=V.replace(".",""),me=(Le=new Y(K)).pow(V.length-ve),k=ce,Le.c=H(mu(qs(me.c),me.e,"0"),10,ee,B),Le.e=Le.c.length),W=ce=(Ee=H(V,K,ee,le?(ie=L,B):(ie=B,L))).length;0==Ee[--ce];Ee.pop());if(!Ee[0])return ie.charAt(0);if(ve<0?--W:(me.c=Ee,me.e=W,me.s=re,Ee=(me=r(me,Le,Fe,Je,ee)).c,te=me.r,W=me.e),ve=Ee[G=W+Fe+1],ce=ee/2,te=te||G<0||null!=Ee[G+1],te=Je<4?(null!=ve||te)&&(0==Je||Je==(me.s<0?3:2)):ve>ce||ve==ce&&(4==Je||te||6==Je&&1&Ee[G-1]||Je==(me.s<0?8:7)),G<1||!Ee[0])V=te?mu(ie.charAt(1),-Fe,ie.charAt(0)):ie.charAt(0);else{if(Ee.length=G,te)for(--ee;++Ee[--G]>ee;)Ee[G]=0,G||(++W,Ee=[1].concat(Ee));for(ce=Ee.length;!Ee[--ce];);for(ve=0,V="";ve<=ce;V+=ie.charAt(Ee[ve++]));V=mu(V,W,ie.charAt(0))}return V}}(),r=function(){function B(K,ee,re){var le,ie,G,W,ce=0,te=K.length,me=ee%Kd,Ee=ee/Kd|0;for(K=K.slice();te--;)ce=((ie=me*(G=K[te]%Kd)+(le=Ee*G+(W=K[te]/Kd|0)*me)%Kd*Kd+ce)/re|0)+(le/Kd|0)+Ee*W,K[te]=ie%re;return ce&&(K=[ce].concat(K)),K}function H(K,ee,re,le){var ie,G;if(re!=le)G=re>le?1:-1;else for(ie=G=0;ie<re;ie++)if(K[ie]!=ee[ie]){G=K[ie]>ee[ie]?1:-1;break}return G}function V(K,ee,re,le){for(var ie=0;re--;)K[re]-=ie,K[re]=(ie=K[re]<ee[re]?1:0)*le+K[re]-ee[re];for(;!K[0]&&K.length>1;K.splice(0,1));}return function(K,ee,re,le,ie){var G,W,ce,te,me,Ee,Le,ve,Fe,Je,Ye,at,Dt,ft,st,Tt,Qt,Ut=K.s==ee.s?1:-1,Ht=K.c,Se=ee.c;if(!(Ht&&Ht[0]&&Se&&Se[0]))return new Y(K.s&&ee.s&&(Ht?!Se||Ht[0]!=Se[0]:Se)?Ht&&0==Ht[0]||!Se?0*Ut:Ut/0:NaN);for(Fe=(ve=new Y(Ut)).c=[],Ut=re+(W=K.e-ee.e)+1,ie||(ie=Fl,W=js(K.e/14)-js(ee.e/14),Ut=Ut/14|0),ce=0;Se[ce]==(Ht[ce]||0);ce++);if(Se[ce]>(Ht[ce]||0)&&W--,Ut<0)Fe.push(1),te=!0;else{for(ft=Ht.length,Tt=Se.length,ce=0,Ut+=2,(me=Hs(ie/(Se[0]+1)))>1&&(Se=B(Se,me,ie),Ht=B(Ht,me,ie),Tt=Se.length,ft=Ht.length),Dt=Tt,Ye=(Je=Ht.slice(0,Tt)).length;Ye<Tt;Je[Ye++]=0);Qt=Se.slice(),Qt=[0].concat(Qt),st=Se[0],Se[1]>=ie/2&&st++;do{if(me=0,(G=H(Se,Je,Tt,Ye))<0){if(at=Je[0],Tt!=Ye&&(at=at*ie+(Je[1]||0)),(me=Hs(at/st))>1)for(me>=ie&&(me=ie-1),Le=(Ee=B(Se,me,ie)).length,Ye=Je.length;1==H(Ee,Je,Le,Ye);)me--,V(Ee,Tt<Le?Qt:Se,Le,ie),Le=Ee.length,G=1;else 0==me&&(G=me=1),Le=(Ee=Se.slice()).length;if(Le<Ye&&(Ee=[0].concat(Ee)),V(Je,Ee,Ye,ie),Ye=Je.length,-1==G)for(;H(Se,Je,Tt,Ye)<1;)me++,V(Je,Tt<Ye?Qt:Se,Ye,ie),Ye=Je.length}else 0===G&&(me++,Je=[0]);Fe[ce++]=me,Je[0]?Je[Ye++]=Ht[Dt]||0:(Je=[Ht[Dt]],Ye=1)}while((Dt++<ft||null!=Je[0])&&Ut--);te=null!=Je[0],Fe[0]||Fe.splice(0,1)}if(ie==Fl){for(ce=1,Ut=Fe[0];Ut>=10;Ut/=10,ce++);z(ve,re+(ve.e=ce+14*W-1)+1,le,te)}else ve.e=W,ve.r=+te;return ve}}(),i=function(){var B=/^(-?)0([xbo])(?=\w[\w.]*$)/i,H=/^([^.]+)\.$/,V=/^\.([^.]+)$/,K=/^-?(Infinity|NaN)$/,ee=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(re,le,ie,G){var W,ce=ie?le:le.replace(ee,"");if(K.test(ce))re.s=isNaN(ce)?null:ce<0?-1:1;else{if(!ie&&(ce=ce.replace(B,function(te,me,Ee){return W="x"==(Ee=Ee.toLowerCase())?16:"b"==Ee?2:8,G&&G!=W?te:me}),G&&(W=G,ce=ce.replace(H,"$1").replace(V,"0.$1")),le!=ce))return new Y(ce,W);if(Y.DEBUG)throw Error(Ua+"Not a"+(G?" base "+G:"")+" number: "+le);re.s=null}re.c=re.e=null}}(),o.absoluteValue=o.abs=function(){var B=new Y(this);return B.s<0&&(B.s=1),B},o.comparedTo=function(B,H){return fh(this,new Y(B,H))},o.decimalPlaces=o.dp=function(B,H){var V,K,ee;if(null!=B)return xi(B,0,yo),null==H?H=u:xi(H,0,8),z(new Y(this),B+this.e+1,H);if(!(V=this.c))return null;if(K=14*((ee=V.length-1)-js(this.e/14)),ee=V[ee])for(;ee%10==0;ee/=10,K--);return K<0&&(K=0),K},o.dividedBy=o.div=function(B,H){return r(this,new Y(B,H),l,u)},o.dividedToIntegerBy=o.idiv=function(B,H){return r(this,new Y(B,H),0,1)},o.exponentiatedBy=o.pow=function(B,H){var V,K,ee,re,ie,G,W,ce,te=this;if((B=new Y(B)).c&&!B.isInteger())throw Error(Ua+"Exponent not an integer: "+J(B));if(null!=H&&(H=new Y(H)),ie=B.e>14,!te.c||!te.c[0]||1==te.c[0]&&!te.e&&1==te.c.length||!B.c||!B.c[0])return ce=new Y(Math.pow(+J(te),ie?B.s*(2-GM(B)):+J(B))),H?ce.mod(H):ce;if(G=B.s<0,H){if(H.c?!H.c[0]:!H.s)return new Y(NaN);(K=!G&&te.isInteger()&&H.isInteger())&&(te=te.mod(H))}else{if(B.e>9&&(te.e>0||te.e<-1||(0==te.e?te.c[0]>1||ie&&te.c[1]>=24e7:te.c[0]<8e13||ie&&te.c[0]<=9999975e7)))return re=te.s<0&&GM(B)?-0:0,te.e>-1&&(re=1/re),new Y(G?1/re:re);k&&(re=gI(k/14+2))}for(ie?(V=new Y(.5),G&&(B.s=1),W=GM(B)):W=(ee=Math.abs(+J(B)))%2,ce=new Y(a);;){if(W){if(!(ce=ce.times(te)).c)break;re?ce.c.length>re&&(ce.c.length=re):K&&(ce=ce.mod(H))}if(ee){if(0===(ee=Hs(ee/2)))break;W=ee%2}else if(z(B=B.times(V),B.e+1,1),B.e>14)W=GM(B);else{if(0==(ee=+J(B)))break;W=ee%2}te=te.times(te),re?te.c&&te.c.length>re&&(te.c.length=re):K&&(te=te.mod(H))}return K?ce:(G&&(ce=a.div(ce)),H?ce.mod(H):re?z(ce,k,u,void 0):ce)},o.integerValue=function(B){var H=new Y(this);return null==B?B=u:xi(B,0,8),z(H,H.e+1,B)},o.isEqualTo=o.eq=function(B,H){return 0===fh(this,new Y(B,H))},o.isFinite=function(){return!!this.c},o.isGreaterThan=o.gt=function(B,H){return fh(this,new Y(B,H))>0},o.isGreaterThanOrEqualTo=o.gte=function(B,H){return 1===(H=fh(this,new Y(B,H)))||0===H},o.isInteger=function(){return!!this.c&&js(this.e/14)>this.c.length-2},o.isLessThan=o.lt=function(B,H){return fh(this,new Y(B,H))<0},o.isLessThanOrEqualTo=o.lte=function(B,H){return-1===(H=fh(this,new Y(B,H)))||0===H},o.isNaN=function(){return!this.s},o.isNegative=function(){return this.s<0},o.isPositive=function(){return this.s>0},o.isZero=function(){return!!this.c&&0==this.c[0]},o.minus=function(B,H){var V,K,ee,re,le=this,ie=le.s;if(H=(B=new Y(B,H)).s,!ie||!H)return new Y(NaN);if(ie!=H)return B.s=-H,le.plus(B);var G=le.e/14,W=B.e/14,ce=le.c,te=B.c;if(!G||!W){if(!ce||!te)return ce?(B.s=-H,B):new Y(te?le:NaN);if(!ce[0]||!te[0])return te[0]?(B.s=-H,B):new Y(ce[0]?le:3==u?-0:0)}if(G=js(G),W=js(W),ce=ce.slice(),ie=G-W){for((re=ie<0)?(ie=-ie,ee=ce):(W=G,ee=te),ee.reverse(),H=ie;H--;ee.push(0));ee.reverse()}else for(K=(re=(ie=ce.length)<(H=te.length))?ie:H,ie=H=0;H<K;H++)if(ce[H]!=te[H]){re=ce[H]<te[H];break}if(re&&(ee=ce,ce=te,te=ee,B.s=-B.s),(H=(K=te.length)-(V=ce.length))>0)for(;H--;ce[V++]=0);for(H=Fl-1;K>ie;){if(ce[--K]<te[K]){for(V=K;V&&!ce[--V];ce[V]=H);--ce[V],ce[K]+=Fl}ce[K]-=te[K]}for(;0==ce[0];ce.splice(0,1),--W);return ce[0]?j(B,ce,W):(B.s=3==u?-1:1,B.c=[B.e=0],B)},o.modulo=o.mod=function(B,H){var V,K,ee=this;return B=new Y(B,H),!ee.c||!B.s||B.c&&!B.c[0]?new Y(NaN):!B.c||ee.c&&!ee.c[0]?new Y(ee):(9==E?(K=B.s,B.s=1,V=r(ee,B,0,3),B.s=K,V.s*=K):V=r(ee,B,0,E),!(B=ee.minus(V.times(B))).c[0]&&1==E&&(B.s=ee.s),B)},o.multipliedBy=o.times=function(B,H){var V,K,ee,re,le,ie,G,W,ce,te,me,Ee,Le,ve,Fe,Je=this,Ye=Je.c,at=(B=new Y(B,H)).c;if(!(Ye&&at&&Ye[0]&&at[0]))return!Je.s||!B.s||Ye&&!Ye[0]&&!at||at&&!at[0]&&!Ye?B.c=B.e=B.s=null:(B.s*=Je.s,Ye&&at?(B.c=[0],B.e=0):B.c=B.e=null),B;for(K=js(Je.e/14)+js(B.e/14),B.s*=Je.s,(G=Ye.length)<(te=at.length)&&(Le=Ye,Ye=at,at=Le,ee=G,G=te,te=ee),ee=G+te,Le=[];ee--;Le.push(0));for(ve=Fl,Fe=Kd,ee=te;--ee>=0;){for(V=0,me=at[ee]%Fe,Ee=at[ee]/Fe|0,re=ee+(le=G);re>ee;)V=((W=me*(W=Ye[--le]%Fe)+(ie=Ee*W+(ce=Ye[le]/Fe|0)*me)%Fe*Fe+Le[re]+V)/ve|0)+(ie/Fe|0)+Ee*ce,Le[re--]=W%ve;Le[re]=V}return V?++K:Le.splice(0,1),j(B,Le,K)},o.negated=function(){var B=new Y(this);return B.s=-B.s||null,B},o.plus=function(B,H){var V,K=this,ee=K.s;if(H=(B=new Y(B,H)).s,!ee||!H)return new Y(NaN);if(ee!=H)return B.s=-H,K.minus(B);var re=K.e/14,le=B.e/14,ie=K.c,G=B.c;if(!re||!le){if(!ie||!G)return new Y(ee/0);if(!ie[0]||!G[0])return G[0]?B:new Y(ie[0]?K:0*ee)}if(re=js(re),le=js(le),ie=ie.slice(),ee=re-le){for(ee>0?(le=re,V=G):(ee=-ee,V=ie),V.reverse();ee--;V.push(0));V.reverse()}for((ee=ie.length)-(H=G.length)<0&&(V=G,G=ie,ie=V,H=ee),ee=0;H;)ee=(ie[--H]=ie[H]+G[H]+ee)/Fl|0,ie[H]=Fl===ie[H]?0:ie[H]%Fl;return ee&&(ie=[ee].concat(ie),++le),j(B,ie,le)},o.precision=o.sd=function(B,H){var V,K,ee;if(null!=B&&B!==!!B)return xi(B,1,yo),null==H?H=u:xi(H,0,8),z(new Y(this),B,H);if(!(V=this.c))return null;if(K=14*(ee=V.length-1)+1,ee=V[ee]){for(;ee%10==0;ee/=10,K--);for(ee=V[0];ee>=10;ee/=10,K++);}return B&&this.e+1>K&&(K=this.e+1),K},o.shiftedBy=function(B){return xi(B,-_I,_I),this.times("1e"+B)},o.squareRoot=o.sqrt=function(){var B,H,V,K,ee,re=this,le=re.c,ie=re.s,G=re.e,W=l+4,ce=new Y("0.5");if(1!==ie||!le||!le[0])return new Y(!ie||ie<0&&(!le||le[0])?NaN:le?re:1/0);if(0==(ie=Math.sqrt(+J(re)))||ie==1/0?(((H=qs(le)).length+G)%2==0&&(H+="0"),ie=Math.sqrt(+H),G=js((G+1)/2)-(G<0||G%2),V=new Y(H=ie==1/0?"5e"+G:(H=ie.toExponential()).slice(0,H.indexOf("e")+1)+G)):V=new Y(ie+""),V.c[0])for((ie=(G=V.e)+W)<3&&(ie=0);;)if(V=ce.times((ee=V).plus(r(re,ee,W,1))),qs(ee.c).slice(0,ie)===(H=qs(V.c)).slice(0,ie)){if(V.e<G&&--ie,"9999"!=(H=H.slice(ie-3,ie+1))&&(K||"4999"!=H)){(!+H||!+H.slice(1)&&"5"==H.charAt(0))&&(z(V,V.e+l+2,1),B=!V.times(V).eq(re));break}if(!K&&(z(ee,ee.e+l+2,0),ee.times(ee).eq(re))){V=ee;break}W+=4,ie+=4,K=1}return z(V,V.e+l+1,u,B)},o.toExponential=function(B,H){return null!=B&&(xi(B,0,yo),B++),N(this,B,H,1)},o.toFixed=function(B,H){return null!=B&&(xi(B,0,yo),B=B+this.e+1),N(this,B,H)},o.toFormat=function(B,H,V){var K;if(null==V)null!=B&&H&&"object"==typeof H?(V=H,H=null):B&&"object"==typeof B?(V=B,B=H=null):V=T;else if("object"!=typeof V)throw Error(Ua+"Argument not an object: "+V);if(K=this.toFixed(B,H),this.c){var re,le=K.split("."),ie=+V.groupSize,G=+V.secondaryGroupSize,W=V.groupSeparator||"",ce=le[0],te=le[1],me=this.s<0,Ee=me?ce.slice(1):ce,Le=Ee.length;if(G&&(re=ie,ie=G,G=re,Le-=re),ie>0&&Le>0){for(ce=Ee.substr(0,re=Le%ie||ie);re<Le;re+=ie)ce+=W+Ee.substr(re,ie);G>0&&(ce+=W+Ee.slice(re)),me&&(ce="-"+ce)}K=te?ce+(V.decimalSeparator||"")+((G=+V.fractionGroupSize)?te.replace(new RegExp("\\d{"+G+"}\\B","g"),"$&"+(V.fractionGroupSeparator||"")):te):ce}return(V.prefix||"")+K+(V.suffix||"")},o.toFraction=function(B){var H,V,K,ee,re,le,ie,G,W,ce,te,me,Ee=this,Le=Ee.c;if(null!=B&&(!(ie=new Y(B)).isInteger()&&(ie.c||1!==ie.s)||ie.lt(a)))throw Error(Ua+"Argument "+(ie.isInteger()?"out of range: ":"not an integer: ")+J(ie));if(!Le)return new Y(Ee);for(H=new Y(a),W=V=new Y(a),K=G=new Y(a),me=qs(Le),re=H.e=me.length-Ee.e-1,H.c[0]=vI[(le=re%14)<0?14+le:le],B=!B||ie.comparedTo(H)>0?re>0?H:W:ie,le=y,y=1/0,ie=new Y(me),G.c[0]=0;ce=r(ie,H,0,1),1!=(ee=V.plus(ce.times(K))).comparedTo(B);)V=K,K=ee,W=G.plus(ce.times(ee=W)),G=ee,H=ie.minus(ce.times(ee=H)),ie=ee;return ee=r(B.minus(V),K,0,1),G=G.plus(ee.times(W)),V=V.plus(ee.times(K)),G.s=W.s=Ee.s,te=r(W,K,re*=2,u).minus(Ee).abs().comparedTo(r(G,V,re,u).minus(Ee).abs())<1?[W,K]:[G,V],y=le,te},o.toNumber=function(){return+J(this)},o.toPrecision=function(B,H){return null!=B&&xi(B,1,yo),N(this,B,H,2)},o.toString=function(B){var H,V=this,K=V.s,ee=V.e;return null===ee?K?(H="Infinity",K<0&&(H="-"+H)):H="NaN":(null==B?H=ee<=p||ee>=f?$M(qs(V.c),ee):mu(qs(V.c),ee,"0"):10===B&&U?H=mu(qs((V=z(new Y(V),l+ee+1,u)).c),V.e,"0"):(xi(B,2,L.length,"Base"),H=e(mu(qs(V.c),ee,"0"),10,B,K,!0)),K<0&&V.c[0]&&(H="-"+H)),H},o.valueOf=o.toJSON=function(){return J(this)},o._isBigNumber=!0,o[Symbol.toStringTag]="BigNumber",o[Symbol.for("nodejs.util.inspect.custom")]=o.valueOf,null!=t&&Y.set(t),Y}();function fbe(t,r){if(1&t&&(n.TgZ(0,"span",11),n._uU(1),n.qZA()),2&t){const e=n.oxw(2);n.xp6(1),n.Oqu(e.prefix)}}function hbe(t,r){if(1&t&&(n.TgZ(0,"span",12),n._uU(1),n.qZA()),2&t){const e=n.oxw(2);n.xp6(1),n.Oqu(e.suffix)}}function mbe(t,r){if(1&t&&(n.TgZ(0,"div",5)(1,"div",6)(2,"div",7),n.YNc(3,fbe,2,1,"span",8),n.TgZ(4,"span",9),n._uU(5),n.qZA(),n.YNc(6,hbe,2,1,"span",10),n.qZA()()()),2&t){const e=n.oxw();n.xp6(3),n.Q6J("ngIf",e.prefix),n.xp6(2),n.Oqu(e.visibleValue||e.value),n.xp6(1),n.Q6J("ngIf",e.suffix)}}function gbe(t,r){if(1&t&&(n.TgZ(0,"div",13),n._uU(1),n.qZA()),2&t){const e=n.oxw();n.xp6(1),n.Oqu(e.hint)}}let _be=(()=>{class t{constructor(){this.disabled=!1,this.min=1,this.max=100,this.step=1,this.color="primary",this.hint="",this.showLabel=!0,this.sliderChanged=new n.vpe,this.sliderInputChanged=new n.vpe}writeValue(e){this.value=parseInt(e,10)}registerOnChange(e){this.onInputChange=e}onInputChange(e){}onSliderMove(e){this.visibleValue=e.value,this.sliderInputChanged.emit(this.visibleValue)}onSliderChange(e){this.sliderChanged.emit(e.value)}registerOnTouched(e){}setDisabledState(e){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Xpm({type:t,selectors:[["apto-slider"]],inputs:{disabled:"disabled",min:"min",max:"max",step:"step",color:"color",hint:"hint",prefix:"prefix",suffix:"suffix",showLabel:"showLabel"},outputs:{sliderChanged:"sliderChanged",sliderInputChanged:"sliderInputChanged"},features:[n._Bn([{provide:Ci,useExisting:(0,n.Gpc)(()=>t),multi:!0}])],decls:5,vars:8,consts:[[1,"slider-field"],[1,"container"],["class","label-container",4,"ngIf"],[1,"example-margin",3,"disabled","min","max","step","color","ngModel","input","change","ngModelChange"],["class","hint",4,"ngIf"],[1,"label-container"],[1,"flex-container"],[1,"label"],["class","prefix",4,"ngIf"],[1,"value"],["class","suffix",4,"ngIf"],[1,"prefix"],[1,"suffix"],[1,"hint"]],template:function(e,i){1&e&&(n.TgZ(0,"div",0)(1,"div",1),n.YNc(2,mbe,7,3,"div",2),n.TgZ(3,"mat-slider",3),n.NdJ("input",function(a){return i.onSliderMove(a)})("change",function(a){return i.onSliderChange(a)})("ngModelChange",function(a){return i.value=a})("ngModelChange",function(a){return i.onInputChange(a)}),n.qZA()(),n.YNc(4,gbe,2,1,"div",4),n.qZA()),2&e&&(n.xp6(2),n.Q6J("ngIf",i.showLabel),n.xp6(1),n.Q6J("disabled",i.disabled)("min",i.min)("max",i.max)("step",i.step)("color",i.color)("ngModel",i.value),n.xp6(1),n.Q6J("ngIf",i.hint))},dependencies:[rn,oi,aw,WR],styles:[".slider-field[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .label-container[_ngcontent-%COMP%]{display:flex;align-items:flex-end;justify-content:center}.slider-field[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .label-container[_ngcontent-%COMP%]   .flex-container[_ngcontent-%COMP%]{display:flex;flex-direction:row-reverse;align-items:center}.slider-field[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .label-container[_ngcontent-%COMP%]   .flex-container[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:14px;font-weight:600;color:var(--color-text);align-self:center;text-align:right;padding:0;white-space:nowrap;align-self:flex-end}.slider-field[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .label-container[_ngcontent-%COMP%]   .flex-container[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]:not(:empty){padding-right:var(--input-elements-gap);padding-right:0}.slider-field[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .label-container[_ngcontent-%COMP%]   .flex-container[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]   span.value[_ngcontent-%COMP%]{padding-left:10px;padding-right:10px}.slider-field[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   mat-slider[_ngcontent-%COMP%]{font-family:var(--main-font-1);font-size:15px;color:var(--color-text);font-weight:600;width:100%;background-color:transparent;border:0;outline:none;padding-right:var(--input-elements-gap);padding-left:20px}.slider-field[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   mat-slider[_ngcontent-%COMP%]::placeholder{opacity:1;font-weight:400}.slider-field[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   mat-slider[_ngcontent-%COMP%]::-ms-input-placeholder{font-weight:400}.slider-field[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]     .mat-slider .mat-slider-wrapper{left:0;right:0}.slider-field[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]     .mat-slider .mat-slider-wrapper .mat-slider-track-fill{background-color:var(--color-primary)}.slider-field[_ngcontent-%COMP%]   .hint[_ngcontent-%COMP%]{color:var(--color-text);font-size:12px;font-weight:600;padding-top:var(--input-elements-gap);text-align:center}"]}),t})();function vbe(t,r){if(1&t&&(n.TgZ(0,"div",20)(1,"mat-icon"),n._uU(2,"done"),n.qZA()()),2&t){const e=n.oxw(2);n.ekj("selected",e.element.state.active)}}function ybe(t,r){if(1&t&&n._UZ(0,"apto-element-picture",21),2&t){const e=n.oxw(2);n.Q6J("previewImage",e.element.element.previewImage)("zoomFunction",e.element.element.zoomFunction)("gallery",e.element.element.gallery)}}function bbe(t,r){if(1&t&&(n.TgZ(0,"div",22),n._UZ(1,"apto-input-field",23),n.ALo(2,"translate"),n.ALo(3,"translate"),n.ALo(4,"translate"),n.ALo(5,"translate"),n.qZA()),2&t){const e=n.oxw(2);n.xp6(1),n.Q6J("formControl",e.formElementInput)("name",n.lcZ(2,10,e.prefix))("suffix",n.lcZ(3,12,e.suffix))("type","float")("min",e.minValue)("max",e.maxValue)("step",e.stepValue)("hint",e.minValue+" "+n.lcZ(4,14,e.hint)+" - "+e.maxValue+" "+n.lcZ(5,16,e.hint))("increaseStep",e.increaseStep)("decreaseStep",e.decreaseStep)}}function Cbe(t,r){if(1&t){const e=n.EpF();n.TgZ(0,"div",24)(1,"apto-slider",25),n.NdJ("sliderChanged",function(o){n.CHM(e);const a=n.oxw(2);return n.KtG(a.onSliderChanged(o))}),n.ALo(2,"translate"),n.ALo(3,"translate"),n.ALo(4,"translate"),n.ALo(5,"translate"),n.qZA()()}if(2&t){const e=n.oxw(2);n.xp6(1),n.Q6J("formControl",e.formElementSlider)("step",e.stepValue)("min",e.minValue)("max",e.maxValue)("hint",e.minValue+" "+n.lcZ(2,7,e.hint)+" - "+e.maxValue+" "+n.lcZ(3,9,e.hint))("prefix",n.lcZ(4,11,e.prefix))("suffix",n.lcZ(5,13,e.suffix))}}function xbe(t,r){if(1&t){const e=n.EpF();n.TgZ(0,"div",24),n._UZ(1,"apto-input-field",26),n.ALo(2,"translate"),n.ALo(3,"translate"),n.TgZ(4,"apto-slider",27),n.NdJ("sliderChanged",function(o){n.CHM(e);const a=n.oxw(2);return n.KtG(a.onSliderChanged(o))})("sliderInputChanged",function(o){n.CHM(e);const a=n.oxw(2);return n.KtG(a.onSliderInput(o))}),n.ALo(5,"translate"),n.ALo(6,"translate"),n.ALo(7,"translate"),n.ALo(8,"translate"),n.qZA()()}if(2&t){const e=n.oxw(2);n.xp6(1),n.Q6J("width","100px")("formControl",e.formElementInput)("prefix",n.lcZ(2,18,e.prefix))("suffix",n.lcZ(3,20,e.suffix))("type","float")("min",e.minValue)("max",e.maxValue)("step",e.stepValue)("increaseStep",e.increaseStep)("decreaseStep",e.decreaseStep),n.xp6(3),n.Q6J("formControl",e.formElementSlider)("showLabel",!1)("step",e.stepValue)("min",e.minValue)("max",e.maxValue)("hint",e.minValue+" "+n.lcZ(5,22,e.hint)+" - "+e.maxValue+" "+n.lcZ(6,24,e.hint))("prefix",n.lcZ(7,26,e.prefix))("suffix",n.lcZ(8,28,e.suffix))}}function wbe(t,r){if(1&t&&(n._UZ(0,"div",28),n.ALo(1,"safeHtml"),n.ALo(2,"translate")),2&t){const e=n.oxw(2);n.Q6J("innerHTML",n.lcZ(1,1,n.lcZ(2,3,e.element.element.description)),n.oJD)}}function Mbe(t,r){if(1&t&&n._UZ(0,"apto-element-attachment",29),2&t){const e=n.oxw(2);n.Q6J("attachments",e.element.element.attachments)}}function Sbe(t,r){if(1&t){const e=n.EpF();n.TgZ(0,"button",33),n.NdJ("click",function(){n.CHM(e);const o=n.oxw(3);return n.KtG(o.removeInput())}),n._uU(1),n.ALo(2,"contentSnippet"),n.ALo(3,"async"),n.qZA()}if(2&t){const e=n.oxw(3);n.xp6(1),n.hij(" ",n.xi3(2,1,n.lcZ(3,4,e.contentSnippet$),"buttons.remove")," ")}}function Dbe(t,r){if(1&t){const e=n.EpF();n.TgZ(0,"div",30)(1,"button",31),n.NdJ("click",function(){n.CHM(e);const o=n.oxw(2);return n.KtG(o.saveInput(o.formElementInput.value))}),n._uU(2),n.ALo(3,"contentSnippet"),n.ALo(4,"async"),n.ALo(5,"contentSnippet"),n.ALo(6,"async"),n.qZA(),n.YNc(7,Sbe,4,6,"button",32),n.qZA()}if(2&t){const e=n.oxw(2);n.xp6(2),n.hij(" ",e.element.state.active?n.xi3(3,2,n.lcZ(4,5,e.contentSnippet$),"buttons.update"):n.xi3(5,7,n.lcZ(6,10,e.contentSnippet$),"buttons.select")," "),n.xp6(5),n.Q6J("ngIf",e.hasValues())}}function Obe(t,r){if(1&t&&(n.TgZ(0,"div",1),n._UZ(1,"apto-slot-outlet",2),n.YNc(2,vbe,3,2,"div",3),n.TgZ(3,"div",4)(4,"div",5)(5,"h4"),n._uU(6),n.ALo(7,"translate"),n.qZA()(),n._UZ(8,"apto-slot-outlet",6),n.qZA(),n.TgZ(9,"div",7),n.YNc(10,ybe,1,3,"apto-element-picture",8),n.qZA(),n.TgZ(11,"div",9)(12,"div",10),n._UZ(13,"div",11),n.YNc(14,bbe,6,18,"div",12),n.YNc(15,Cbe,6,15,"div",13),n.YNc(16,xbe,9,30,"div",13),n._UZ(17,"div",14)(18,"div",15),n.qZA()(),n.YNc(19,wbe,3,5,"div",16),n.ALo(20,"translate"),n.YNc(21,Mbe,1,1,"apto-element-attachment",17),n.YNc(22,Dbe,8,12,"div",18),n._UZ(23,"apto-slot-outlet",19),n.qZA()),2&t){const e=n.oxw();n.ekj("step-by-step",e.product.useStepByStep)("one-page",!e.product.useStepByStep)("open-in-dialog",e.isDialog)("input-type-input",e.inputType===e.floatInputTypes.INPUT)("input-type-slider",e.inputType===e.floatInputTypes.SLIDER)("input-type-input-slider",e.inputType===e.floatInputTypes.INPUT_SLIDER)("no-element-preview-image",!e.element.element.previewImage)("selected",e.element.state.active&&e.product.useStepByStep)("disabled",e.element.state.disabled),n.xp6(1),n.Q6J("product",e.product)("section",e.section)("element",e.element),n.xp6(1),n.Q6J("ngIf",(e.section.allowMultiple||e.element.state.active)&&e.product.useStepByStep),n.xp6(4),n.Oqu(n.lcZ(7,36,e.element.element.name)),n.xp6(2),n.Q6J("product",e.product)("section",e.section)("element",e.element),n.xp6(2),n.Q6J("ngIf",e.element.element.previewImage),n.xp6(4),n.Q6J("ngIf",e.inputType===e.floatInputTypes.INPUT),n.xp6(1),n.Q6J("ngIf",e.inputType===e.floatInputTypes.SLIDER),n.xp6(1),n.Q6J("ngIf",e.inputType===e.floatInputTypes.INPUT_SLIDER),n.xp6(3),n.Q6J("ngIf",""!==n.lcZ(20,38,e.element.element.description)),n.xp6(2),n.Q6J("ngIf",e.hasAttachments),n.xp6(1),n.Q6J("ngIf","input"===e.inputType),n.xp6(1),n.Q6J("product",e.product)("section",e.section)("element",e.element)}}let Ebe=(()=>{class t{constructor(e,i){this.store=e,this.dialogService=i,this.isDialog=!1,this.fullWidth=!1,this.formElementInput=new Ln(void 0),this.formElementSlider=new Ln(void 0),this.stepValue=.1,this.floatInputTypes=sg,this.compareValueTypes=Nw,this.inputType=sg.INPUT,this.contentSnippet$=this.store.select(un("aptoDefaultElementDefinition")),this.destroy$=new dn.x,this.stateElements$=this.store.select(_A),this.saveDelay=500}ngOnInit(){!this.element||(this.initIncreaseDecreaseStep(),this.mathjsParser=lz(),this.inputType=this.element?.element.definition.staticValues.renderingType,this.formElementInput.setValue(this.element?.state.values.value||this.element?.element.definition.staticValues.defaultValue||"1"),this.formElementSlider.setValue(this.element?.state.values.value||this.element?.element.definition.staticValues.defaultValue||"1"),this.element?.element.definition.properties.value&&this.element.element.definition.properties.value[0]&&(this.stepValue=this.element.element.definition.properties.value?.[0]?.step),this.stateElements$.pipe((0,Zn.R)(this.destroy$),(0,Xa.x)()).subscribe(e=>{this.stateElements=e,this.minValue=this.calculateMinMaxValues().minValue,this.maxValue=this.calculateMinMaxValues().maxValue,this.formElementInput.setValidators([Dr.min(this.minValue),Dr.max(this.maxValue)])}),this.inputType!==sg.INPUT&&(this.formElementInput.valueChanges.pipe((0,Zn.R)(this.destroy$),(0,Xa.x)(),(0,pr.h)(e=>e&&this.formElementSlider.value!==e),Mi(e=>{this.formElementSlider.setValue(e)}),(0,_n.b)(this.saveDelay),(0,xt.U)(e=>(this.saveInput(e),(0,pn.of)(e)))).subscribe(),this.formElementSlider.valueChanges.pipe((0,Zn.R)(this.destroy$),(0,Xa.x)(),(0,pr.h)(e=>this.formElementInput.value!==e)).subscribe(e=>{this.formElementInput.setValue(e)})))}onSliderChanged(e){this.saveInput(this.formElementSlider.value)}get hint(){return this.element.element.definition.staticValues.suffix}get prefix(){return this.element.element.definition.staticValues.prefix}get suffix(){return this.element.element.definition.staticValues.suffix}initIncreaseDecreaseStep(){let e=this.element.state.customProperties.find(o=>"increaseStep"===o.key),i=this.element.state.customProperties.find(o=>"decreaseStep"===o.key);e&&"string"==typeof e.value&&(this.increaseStep=parseFloat(e.value)),i&&"string"==typeof i.value&&(this.decreaseStep=parseFloat(i.value))}calculateMinMaxValues(){let e=null,i=null;for(const o of this.element.element.definition.staticValues.elementValueRefs){const a=this.getElementPropertyValueFromState(o.sectionId,o.elementId,o.selectableValue);if(null!==a){switch(o.compareValueType){case this.compareValueTypes.MINIMUM:if(null!==e)continue;e=this.getElementPropertyFromValueReference(o,a);break;case this.compareValueTypes.MAXIMUM:if(null!==i)continue;i=this.getElementPropertyFromValueReference(o,a)}if(null!==e&&null!==i)break}}return e=e??this.element.element.definition.properties.value?.[0]?.minimum,i=i??this.element.element.definition.properties.value?.[0]?.maximum,{minValue:e,maxValue:i}}getElementPropertyValueFromState(e,i,o){if(!e||!i||!o)return null;for(const a of this.stateElements)if(a.active&&a.sectionId===e&&a.id===i)return a.values[o]??null;return null}getElementPropertyFromValueReference(e,i){let o;return e.compareValueFormula?(this.mathjsParser.set(e.selectableValue,i),o=this.mathjsParser.evaluate(e.compareValueFormula),this.mathjsParser.clear()):o=i,this.roundValueByStep(o,this.getLowestStep())}roundValueByStep(e,i){const o=new dz(e.toString()),a=new dz(i.toString());return parseFloat(o.toFixed(a.decimalPlaces()))}getLowestStep(){const e=this.element.element.definition.properties.value;return e&&0!==e.length?Math.min(...e.map(i=>i.step)):null}onSliderInput(e){this.formElementSlider.setValue(e)}get hasAttachments(){return 0!==this.element.element.attachments?.length}hasValues(){return!!this.element&&this.element.state.active}saveInput(e){if(this.element){if(Pl(e)<this.minValue||Pl(e)>this.maxValue)return void uo(this.store.select(lr).pipe((0,xt.U)(i=>i||yn.defaultLocale)),this.store.select(un("aptoStepByStep.elementsContainer.incorrectValuesInRange"))).pipe((0,ar.q)(1)).subscribe(i=>{this.dialogService.openCustomDialog(_c,Ur.md,{type:ts.ERROR,hideIcon:!0,descriptionText:Pn(i[1].content,i[0])})});this.store.dispatch(di({updates:{set:[{sectionId:this.element.element.sectionId,elementId:this.element.element.id,sectionRepetition:this.element.state.sectionRepetition,property:"value",value:e}]}}))}}removeInput(){!this.element||this.store.dispatch(di({updates:{remove:[{sectionId:this.element.element.sectionId,elementId:this.element.element.id,sectionRepetition:this.element.state.sectionRepetition,property:null,value:null}]}}))}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(Oe.yh),n.Y36(Do))},t.\u0275cmp=n.Xpm({type:t,selectors:[["apto-float-input-element"]],inputs:{product:"product",section:"section",element:"element",isDialog:"isDialog",fullWidth:"fullWidth"},decls:1,vars:1,consts:[["class","float-input-element",3,"step-by-step","one-page","open-in-dialog","input-type-input","input-type-slider","input-type-input-slider","no-element-preview-image","selected","disabled",4,"ngIf"],[1,"float-input-element"],["identifier","start-element-container",3,"product","section","element"],["class","circle",3,"selected",4,"ngIf"],[1,"header"],[1,"title"],["identifier","header-end",3,"product","section","element"],[1,"picture"],[3,"previewImage","zoomFunction","gallery",4,"ngIf"],[1,"element"],[1,"container"],[1,"prefix"],["class","input",4,"ngIf"],["class","slider",4,"ngIf"],[1,"hint"],[1,"suffix"],["class","description",3,"innerHTML",4,"ngIf"],[3,"attachments",4,"ngIf"],["class","apply-button",4,"ngIf"],["identifier","end-element-container",3,"product","section","element"],[1,"circle"],[3,"previewImage","zoomFunction","gallery"],[1,"input"],[3,"formControl","name","suffix","type","min","max","step","hint","increaseStep","decreaseStep"],[1,"slider"],[3,"formControl","step","min","max","hint","prefix","suffix","sliderChanged"],[3,"width","formControl","prefix","suffix","type","min","max","step","increaseStep","decreaseStep"],[3,"formControl","showLabel","step","min","max","hint","prefix","suffix","sliderChanged","sliderInputChanged"],[1,"description",3,"innerHTML"],[3,"attachments"],[1,"apply-button"],["mat-flat-button","","color","primary",3,"click"],["mat-flat-button","","color","accent",3,"click",4,"ngIf"],["mat-flat-button","","color","accent",3,"click"]],template:function(e,i){1&e&&n.YNc(0,Obe,24,40,"div",0),2&e&&n.Q6J("ngIf",i.element&&i.product)},dependencies:[rn,fo,io,_be,oi,Cl,Or,Rd,ru,fr,hn,Tr,Lo,ur],styles:['.float-input-element[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto;grid-template-areas:"header" "picture" "description" "attachment" "element" "extra-item" "buttons";padding:var(--element-gap);justify-items:center;gap:0;column-gap:20px;position:relative}.float-input-element.step-by-step[_ngcontent-%COMP%]:not(.open-in-dialog){padding:var(--element-gap);border:solid 3px transparent;border-radius:var(--border-radius-card);transition:border-color .3s ease}.float-input-element.step-by-step[_ngcontent-%COMP%]:not(.open-in-dialog).selected{border-color:var(--color-border-dimensions)}.float-input-element.step-by-step.open-in-dialog[_ngcontent-%COMP%], .float-input-element.one-page.open-in-dialog[_ngcontent-%COMP%]{border-top-width:3px;border-top-style:solid;border-radius:var(--border-radius-card);padding:34px 72px}.float-input-element.step-by-step.open-in-dialog[type=confirm][_ngcontent-%COMP%], .float-input-element.step-by-step.open-in-dialog[type=info][_ngcontent-%COMP%], .float-input-element.step-by-step.open-in-dialog[type=custom][_ngcontent-%COMP%], .float-input-element.one-page.open-in-dialog[type=confirm][_ngcontent-%COMP%], .float-input-element.one-page.open-in-dialog[type=info][_ngcontent-%COMP%], .float-input-element.one-page.open-in-dialog[type=custom][_ngcontent-%COMP%]{border-color:var(--color-optic-lines-popup)}.float-input-element.step-by-step.open-in-dialog[type=error][_ngcontent-%COMP%], .float-input-element.one-page.open-in-dialog[type=error][_ngcontent-%COMP%]{border-color:var(--color-optic-lines-popup-error)}.float-input-element.step-by-step.open-in-dialog[type=warning][_ngcontent-%COMP%], .float-input-element.one-page.open-in-dialog[type=warning][_ngcontent-%COMP%]{border-color:var(--color-optic-lines-popup-warning)}.float-input-element.one-page[_ngcontent-%COMP%]:not(.open-in-dialog){padding:0;grid-template-areas:"picture" "description" "attachment" "element" "extra-item" "buttons"}.float-input-element.one-page[_ngcontent-%COMP%]:not(.open-in-dialog)   .header[_ngcontent-%COMP%]{display:none}.float-input-element.one-page[_ngcontent-%COMP%]:not(.open-in-dialog).no-element-preview-image{grid-template-areas:"header" "picture" "description" "attachment" "element" "extra-item" "buttons";grid-template-columns:1fr}.float-input-element[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%] + .picture[_ngcontent-%COMP%]:not(:empty), .float-input-element[_ngcontent-%COMP%]   .picture[_ngcontent-%COMP%] + .element[_ngcontent-%COMP%]:not(:empty), .float-input-element[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%] + .description[_ngcontent-%COMP%]:not(:empty), .float-input-element[_ngcontent-%COMP%]   .apply-button[_ngcontent-%COMP%]{margin-top:var(--element-gap)}.float-input-element.selected[_ngcontent-%COMP%]{border:3px solid var(--color-border-dimensions);border-radius:var(--border-radius-card)}.float-input-element[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]{border:2px solid transparent;border-radius:var(--border-radius-bubble);height:25px;width:25px;color:#fff;display:flex;justify-content:center;align-items:center;position:absolute;background-color:#fff;transition:background-color .25s ease,border-color .25s ease;top:20px;right:20px;border:2px solid var(--color-border-selected)}.float-input-element[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{display:none;text-align:center;height:20px;width:20px;overflow:hidden;line-height:20px;font-size:20px}.float-input-element[_ngcontent-%COMP%]   .circle.selected[_ngcontent-%COMP%]{background-color:var(--color-border-selected);border:2px solid var(--color-border-selected)}.float-input-element[_ngcontent-%COMP%]   .circle.selected[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{display:flex}.float-input-element[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{grid-area:header;display:flex;flex-direction:column;justify-content:center}.float-input-element[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.float-input-element[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:18px;font-weight:600;color:var(--color-text);text-align:center}.float-input-element[_ngcontent-%COMP%]   .picture[_ngcontent-%COMP%]{grid-area:picture;width:100%}.float-input-element[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;width:100%}.float-input-element[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{display:grid;grid-template-rows:auto;grid-template-areas:"prefix input suffix" "... hint ...";width:100%;grid-template-columns:1fr var(--input-mobile-width) 1fr}.float-input-element[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]{grid-area:input}.float-input-element[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .prefix[_ngcontent-%COMP%]{grid-area:prefix;font-size:14px;font-weight:600;color:var(--color-text);align-self:center;text-align:right}.float-input-element[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .prefix[_ngcontent-%COMP%]:not(:empty){padding-right:var(--input-elements-gap)}.float-input-element[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .suffix[_ngcontent-%COMP%]{grid-area:suffix;font-size:14px;font-weight:600;color:var(--color-text);align-self:center;text-align:left}.float-input-element[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .suffix[_ngcontent-%COMP%]:not(:empty){padding-left:var(--input-elements-gap)}.float-input-element.input-type-slider[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%], .float-input-element.input-type-input-slider[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{display:grid;grid-template-rows:auto;grid-template-areas:"slider" "hint";width:100%;grid-template-columns:1fr}.float-input-element.input-type-slider[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%], .float-input-element.input-type-input-slider[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]{grid-area:slider}.float-input-element[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{grid-area:description;word-break:break-word;text-align:center}@media only screen and (min-width: 767px){.float-input-element[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{text-align:left}}.float-input-element[_ngcontent-%COMP%]   .apply-button[_ngcontent-%COMP%]{grid-area:buttons;display:flex;flex-direction:row;gap:var(--button-gap)}@media only screen and (min-width: 767px){.float-input-element[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto;grid-template-areas:"header" "picture" "description" "attachment" "element" "extra-item" "buttons";padding:var(--element-gap);justify-items:center;gap:0;column-gap:20px;position:relative;grid-template-areas:"picture header" "picture description" "picture attachment" "picture element" "picture extra-item" "picture buttons";grid-template-columns:calc(var(--image-tablet-width) + 2 * var(--element-gap)) 1fr;justify-items:flex-start}.float-input-element.no-element-preview-image[_ngcontent-%COMP%]{grid-template-areas:"header" "picture" "description" "attachment" "element" "extra-item" "buttons";grid-template-columns:1fr}.float-input-element.step-by-step[_ngcontent-%COMP%]:not(.open-in-dialog){padding:var(--element-gap);border:solid 3px transparent;border-radius:var(--border-radius-card);transition:border-color .3s ease}.float-input-element.step-by-step[_ngcontent-%COMP%]:not(.open-in-dialog).selected{border-color:var(--color-border-dimensions)}.float-input-element.step-by-step.open-in-dialog[_ngcontent-%COMP%], .float-input-element.one-page.open-in-dialog[_ngcontent-%COMP%]{border-top-width:3px;border-top-style:solid;border-radius:var(--border-radius-card);padding:34px 72px}.float-input-element.step-by-step.open-in-dialog[type=confirm][_ngcontent-%COMP%], .float-input-element.step-by-step.open-in-dialog[type=info][_ngcontent-%COMP%], .float-input-element.step-by-step.open-in-dialog[type=custom][_ngcontent-%COMP%], .float-input-element.one-page.open-in-dialog[type=confirm][_ngcontent-%COMP%], .float-input-element.one-page.open-in-dialog[type=info][_ngcontent-%COMP%], .float-input-element.one-page.open-in-dialog[type=custom][_ngcontent-%COMP%]{border-color:var(--color-optic-lines-popup)}.float-input-element.step-by-step.open-in-dialog[type=error][_ngcontent-%COMP%], .float-input-element.one-page.open-in-dialog[type=error][_ngcontent-%COMP%]{border-color:var(--color-optic-lines-popup-error)}.float-input-element.step-by-step.open-in-dialog[type=warning][_ngcontent-%COMP%], .float-input-element.one-page.open-in-dialog[type=warning][_ngcontent-%COMP%]{border-color:var(--color-optic-lines-popup-warning)}.float-input-element.one-page[_ngcontent-%COMP%]:not(.open-in-dialog){padding:0;grid-template-areas:"picture description" "picture attachment" "picture element" "picture extra-item" "picture buttons";grid-template-columns:calc(var(--image-one-page-width) + 2 * var(--element-gap)) 1fr}.float-input-element.one-page[_ngcontent-%COMP%]:not(.open-in-dialog)   .header[_ngcontent-%COMP%]{display:none}.float-input-element.one-page[_ngcontent-%COMP%]:not(.open-in-dialog).no-element-preview-image{grid-template-areas:"header" "picture" "description" "attachment" "element" "extra-item" "buttons";grid-template-columns:1fr}.float-input-element[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%] + .picture[_ngcontent-%COMP%]:not(:empty), .float-input-element[_ngcontent-%COMP%]   .picture[_ngcontent-%COMP%] + .element[_ngcontent-%COMP%]:not(:empty), .float-input-element[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%] + .description[_ngcontent-%COMP%]:not(:empty), .float-input-element[_ngcontent-%COMP%]   .apply-button[_ngcontent-%COMP%]{margin-top:var(--element-gap)}.float-input-element[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%] + .picture[_ngcontent-%COMP%]:not(:empty){margin-top:0}.float-input-element[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{flex-direction:column;display:flex;justify-content:space-between;width:100%}.float-input-element[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{width:100%;display:flex;align-items:flex-start;justify-content:space-between;flex-direction:row}.float-input-element[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{text-align:left;font-size:22px}.float-input-element[_ngcontent-%COMP%]   .picture[_ngcontent-%COMP%]{width:100%}.float-input-element[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;width:100%}.float-input-element[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{display:grid;grid-template-rows:auto;grid-template-areas:"prefix input suffix" "... hint ...";grid-template-columns:1fr var(--input-tablet-width) 1fr;grid-template-columns:0 1fr 0;width:100%}.float-input-element[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]{min-width:var(--input-tablet-width)}.float-input-element[_ngcontent-%COMP%]   .apply-button[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:var(--button-gap);justify-self:flex-end;justify-content:flex-end}.float-input-element[_ngcontent-%COMP%]   .apply-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:0 15px!important;height:50px}}']}),t})(),Abe=(()=>{class t{constructor(){to.components.set("apto-element-float-input-element",Ebe)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[Jo,Zr,Is,Na,ss,aa,ka,Ta,Ia,XR,xl,na]}),t})();function Pbe(t,r){if(1&t&&n._UZ(0,"apto-element-picture",13),2&t){const e=n.oxw(3);n.Q6J("previewImage",e.element.element.previewImage)("zoomFunction",e.element.element.zoomFunction)("gallery",e.element.element.gallery)}}function Tbe(t,r){if(1&t&&(n._UZ(0,"div",14),n.ALo(1,"safeHtml"),n.ALo(2,"translate")),2&t){const e=n.oxw(3);n.Q6J("innerHTML",n.lcZ(1,1,n.lcZ(2,3,e.element.element.description)),n.oJD)}}function Ibe(t,r){if(1&t&&n._UZ(0,"apto-element-attachment",15),2&t){const e=n.oxw(3);n.Q6J("attachments",e.element.element.attachments)}}function kbe(t,r){if(1&t&&(n.TgZ(0,"div",2),n._UZ(1,"apto-slot-outlet",3),n.TgZ(2,"div",4)(3,"div",5)(4,"h4"),n._uU(5),n.ALo(6,"translate"),n.qZA()(),n._UZ(7,"apto-slot-outlet",6),n.qZA(),n.TgZ(8,"div",7),n.YNc(9,Pbe,1,3,"apto-element-picture",8),n.qZA(),n.YNc(10,Tbe,3,5,"div",9),n.ALo(11,"translate"),n.YNc(12,Ibe,1,1,"apto-element-attachment",10),n._UZ(13,"div",11)(14,"apto-slot-outlet",12),n.qZA()),2&t){const e=n.oxw(2);n.ekj("selected",e.element.state.active)("step-by-step",e.product.useStepByStep)("one-page",!e.product.useStepByStep)("disabled",e.element.state.disabled)("no-element-preview-image",!e.element.element.previewImage),n.xp6(1),n.Q6J("product",e.product)("section",e.section)("element",e.element),n.xp6(4),n.Oqu(n.lcZ(6,23,e.element.element.name)),n.xp6(2),n.Q6J("product",e.product)("section",e.section)("element",e.element),n.xp6(2),n.Q6J("ngIf",e.element.element.previewImage),n.xp6(1),n.Q6J("ngIf",""!==n.lcZ(11,25,e.element.element.description)),n.xp6(2),n.Q6J("ngIf",e.hasAttachments),n.xp6(2),n.Q6J("product",e.product)("section",e.section)("element",e.element)}}function Fbe(t,r){if(1&t&&(n.ynx(0),n.YNc(1,kbe,15,27,"div",1),n.BQk()),2&t){const e=n.oxw();n.xp6(1),n.Q6J("ngIf",e.element&&e.section&&e.product)}}let Nbe=(()=>{class t{constructor(e){this.store=e,this.mediaUrl=yn.api.media}get hasAttachments(){return 0!==this.element.element.attachments?.length}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(Oe.yh))},t.\u0275cmp=n.Xpm({type:t,selectors:[["apto-hint-element"]],inputs:{product:"product",section:"section",element:"element"},decls:1,vars:1,consts:[[4,"ngIf"],["class","hint-element-step-by-step",3,"selected","step-by-step","one-page","disabled","no-element-preview-image",4,"ngIf"],[1,"hint-element-step-by-step"],["identifier","start-element-container",3,"product","section","element"],[1,"header"],[1,"title"],["identifier","header-end",3,"product","section","element"],[1,"picture"],[3,"previewImage","zoomFunction","gallery",4,"ngIf"],["class","description",3,"innerHTML",4,"ngIf"],[3,"attachments",4,"ngIf"],[1,"apply-button"],["identifier","end-element-container",3,"product","section","element"],[3,"previewImage","zoomFunction","gallery"],[1,"description",3,"innerHTML"],[3,"attachments"]],template:function(e,i){1&e&&n.YNc(0,Fbe,2,1,"ng-container",0),2&e&&n.Q6J("ngIf",i.element&&i.product&&i.section)},dependencies:[rn,fo,Rd,ru,Tr,Lo],styles:['.hint-element-step-by-step[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto;grid-template-areas:"header" "picture" "description" "attachment" "element" "extra-item" "buttons";padding:var(--element-gap);justify-items:center;gap:0;column-gap:20px;position:relative;border-radius:var(--border-radius-card);border:3px solid transparent}.hint-element-step-by-step.step-by-step[_ngcontent-%COMP%]:not(.open-in-dialog){padding:var(--element-gap);border:solid 3px transparent;border-radius:var(--border-radius-card);transition:border-color .3s ease}.hint-element-step-by-step.step-by-step[_ngcontent-%COMP%]:not(.open-in-dialog).selected{border-color:var(--color-border-dimensions)}.hint-element-step-by-step.step-by-step.open-in-dialog[_ngcontent-%COMP%], .hint-element-step-by-step.one-page.open-in-dialog[_ngcontent-%COMP%]{border-top-width:3px;border-top-style:solid;border-radius:var(--border-radius-card);padding:34px 72px}.hint-element-step-by-step.step-by-step.open-in-dialog[type=confirm][_ngcontent-%COMP%], .hint-element-step-by-step.step-by-step.open-in-dialog[type=info][_ngcontent-%COMP%], .hint-element-step-by-step.step-by-step.open-in-dialog[type=custom][_ngcontent-%COMP%], .hint-element-step-by-step.one-page.open-in-dialog[type=confirm][_ngcontent-%COMP%], .hint-element-step-by-step.one-page.open-in-dialog[type=info][_ngcontent-%COMP%], .hint-element-step-by-step.one-page.open-in-dialog[type=custom][_ngcontent-%COMP%]{border-color:var(--color-optic-lines-popup)}.hint-element-step-by-step.step-by-step.open-in-dialog[type=error][_ngcontent-%COMP%], .hint-element-step-by-step.one-page.open-in-dialog[type=error][_ngcontent-%COMP%]{border-color:var(--color-optic-lines-popup-error)}.hint-element-step-by-step.step-by-step.open-in-dialog[type=warning][_ngcontent-%COMP%], .hint-element-step-by-step.one-page.open-in-dialog[type=warning][_ngcontent-%COMP%]{border-color:var(--color-optic-lines-popup-warning)}.hint-element-step-by-step.one-page[_ngcontent-%COMP%]:not(.open-in-dialog){padding:0;grid-template-areas:"picture" "description" "attachment" "element" "extra-item" "buttons"}.hint-element-step-by-step.one-page[_ngcontent-%COMP%]:not(.open-in-dialog)   .header[_ngcontent-%COMP%]{display:none}.hint-element-step-by-step.one-page[_ngcontent-%COMP%]:not(.open-in-dialog).no-element-preview-image{grid-template-areas:"header" "picture" "description" "attachment" "element" "extra-item" "buttons";grid-template-columns:1fr}.hint-element-step-by-step[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%] + .picture[_ngcontent-%COMP%]:not(:empty), .hint-element-step-by-step[_ngcontent-%COMP%]   .picture[_ngcontent-%COMP%] + .element[_ngcontent-%COMP%]:not(:empty), .hint-element-step-by-step[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%] + .description[_ngcontent-%COMP%]:not(:empty), .hint-element-step-by-step[_ngcontent-%COMP%]   .apply-button[_ngcontent-%COMP%]{margin-top:var(--element-gap)}.hint-element-step-by-step[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{grid-area:header;display:flex;flex-direction:column;justify-content:center}.hint-element-step-by-step[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.hint-element-step-by-step[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:18px;font-weight:600;color:var(--color-text);text-align:center}.hint-element-step-by-step[_ngcontent-%COMP%]   .picture[_ngcontent-%COMP%]{grid-area:picture;width:calc(var(--image-mobile-width) + 2 * var(--element-gap))}.hint-element-step-by-step[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;width:100%;align-items:flex-start;margin-top:20px}.hint-element-step-by-step[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{grid-area:description;word-break:break-word;text-align:center;margin-top:var(--element-gap)}@media only screen and (min-width: 767px){.hint-element-step-by-step[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{text-align:left}}.hint-element-step-by-step[_ngcontent-%COMP%]   .apply-button[_ngcontent-%COMP%]{grid-area:buttons;display:flex;flex-direction:row;gap:var(--button-gap)}@media only screen and (min-width: 767px){.hint-element-step-by-step[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto;grid-template-areas:"header" "picture" "description" "attachment" "element" "extra-item" "buttons";padding:var(--element-gap);justify-items:center;gap:0;column-gap:20px;position:relative;grid-template-areas:"picture header" "picture description" "picture attachment" "picture element" "picture extra-item" "picture buttons";grid-template-columns:calc(var(--image-tablet-width) + 2 * var(--element-gap)) 1fr;justify-items:flex-start}.hint-element-step-by-step.no-element-preview-image[_ngcontent-%COMP%]{grid-template-areas:"header" "picture" "description" "attachment" "element" "extra-item" "buttons";grid-template-columns:1fr}.hint-element-step-by-step.step-by-step[_ngcontent-%COMP%]:not(.open-in-dialog){padding:var(--element-gap);border:solid 3px transparent;border-radius:var(--border-radius-card);transition:border-color .3s ease}.hint-element-step-by-step.step-by-step[_ngcontent-%COMP%]:not(.open-in-dialog).selected{border-color:var(--color-border-dimensions)}.hint-element-step-by-step.step-by-step.open-in-dialog[_ngcontent-%COMP%], .hint-element-step-by-step.one-page.open-in-dialog[_ngcontent-%COMP%]{border-top-width:3px;border-top-style:solid;border-radius:var(--border-radius-card);padding:34px 72px}.hint-element-step-by-step.step-by-step.open-in-dialog[type=confirm][_ngcontent-%COMP%], .hint-element-step-by-step.step-by-step.open-in-dialog[type=info][_ngcontent-%COMP%], .hint-element-step-by-step.step-by-step.open-in-dialog[type=custom][_ngcontent-%COMP%], .hint-element-step-by-step.one-page.open-in-dialog[type=confirm][_ngcontent-%COMP%], .hint-element-step-by-step.one-page.open-in-dialog[type=info][_ngcontent-%COMP%], .hint-element-step-by-step.one-page.open-in-dialog[type=custom][_ngcontent-%COMP%]{border-color:var(--color-optic-lines-popup)}.hint-element-step-by-step.step-by-step.open-in-dialog[type=error][_ngcontent-%COMP%], .hint-element-step-by-step.one-page.open-in-dialog[type=error][_ngcontent-%COMP%]{border-color:var(--color-optic-lines-popup-error)}.hint-element-step-by-step.step-by-step.open-in-dialog[type=warning][_ngcontent-%COMP%], .hint-element-step-by-step.one-page.open-in-dialog[type=warning][_ngcontent-%COMP%]{border-color:var(--color-optic-lines-popup-warning)}.hint-element-step-by-step.one-page[_ngcontent-%COMP%]:not(.open-in-dialog){padding:0;grid-template-areas:"picture description" "picture attachment" "picture element" "picture extra-item" "picture buttons";grid-template-columns:calc(var(--image-one-page-width) + 2 * var(--element-gap)) 1fr}.hint-element-step-by-step.one-page[_ngcontent-%COMP%]:not(.open-in-dialog)   .header[_ngcontent-%COMP%]{display:none}.hint-element-step-by-step.one-page[_ngcontent-%COMP%]:not(.open-in-dialog).no-element-preview-image{grid-template-areas:"header" "picture" "description" "attachment" "element" "extra-item" "buttons";grid-template-columns:1fr}.hint-element-step-by-step[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%] + .picture[_ngcontent-%COMP%]:not(:empty), .hint-element-step-by-step[_ngcontent-%COMP%]   .picture[_ngcontent-%COMP%] + .element[_ngcontent-%COMP%]:not(:empty), .hint-element-step-by-step[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%] + .description[_ngcontent-%COMP%]:not(:empty), .hint-element-step-by-step[_ngcontent-%COMP%]   .apply-button[_ngcontent-%COMP%]{margin-top:var(--element-gap)}.hint-element-step-by-step[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%] + .picture[_ngcontent-%COMP%]:not(:empty){margin-top:0}.hint-element-step-by-step[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{flex-direction:column;display:flex;justify-content:space-between;width:100%}.hint-element-step-by-step[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{width:100%;display:flex;align-items:flex-start;justify-content:space-between;flex-direction:row}.hint-element-step-by-step[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{text-align:left;font-size:22px}.hint-element-step-by-step[_ngcontent-%COMP%]   .picture[_ngcontent-%COMP%]{width:calc(var(--image-tablet-width) + 2 * var(--element-gap))}.hint-element-step-by-step[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{display:grid;grid-template-rows:auto;grid-template-areas:"prefix input suffix" "... hint ...";grid-template-columns:1fr var(--input-tablet-width) 1fr;grid-template-columns:0 1fr 0;width:100%}.hint-element-step-by-step[_ngcontent-%COMP%]   .apply-button[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:var(--button-gap);justify-self:flex-end;justify-content:flex-end}}']}),t})(),Rbe=(()=>{class t{constructor(){to.components.set("apto-element-hint-element",Nbe)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[Jo,Zr,Is,Na,ss,aa,ka,Ta,xl,na]}),t})();class Lbe{constructor(r,e){this.newRect=r,this.oldRect=e,this.isFirst=null==e}}let Bbe=(()=>{class t{constructor(e,i){this.element=e,this.zone=i,this.resized=new n.vpe,this.observer=new ResizeObserver(o=>this.zone.run(()=>this.observe(o)))}ngOnInit(){this.observer.observe(this.element.nativeElement)}ngOnDestroy(){this.observer.disconnect()}observe(e){const i=e[0],o=new Lbe(i.contentRect,this.oldRect);this.oldRect=i.contentRect,this.resized.emit(o)}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(n.SBq),n.Y36(n.R0b))},t.\u0275dir=n.lG2({type:t,selectors:[["","resized",""]],outputs:{resized:"resized"}}),t})(),Ube=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({}),t})();const Vbe=["input"],zbe=function(t){return{enterDuration:t}},Hbe=["*"],jbe=new n.OlP("mat-radio-default-options",{providedIn:"root",factory:function qbe(){return{color:"accent"}}});let pz=0;const Zbe={provide:Ci,useExisting:(0,n.Gpc)(()=>mz),multi:!0};class fz{constructor(r,e){this.source=r,this.value=e}}const hz=new n.OlP("MatRadioGroup");let Ybe=(()=>{class t{constructor(e){this._changeDetector=e,this._value=null,this._name="mat-radio-group-"+pz++,this._selected=null,this._isInitialized=!1,this._labelPosition="after",this._disabled=!1,this._required=!1,this._controlValueAccessorChangeFn=()=>{},this.onTouched=()=>{},this.change=new n.vpe}get name(){return this._name}set name(e){this._name=e,this._updateRadioButtonNames()}get labelPosition(){return this._labelPosition}set labelPosition(e){this._labelPosition="before"===e?"before":"after",this._markRadiosForCheck()}get value(){return this._value}set value(e){this._value!==e&&(this._value=e,this._updateSelectedRadioFromValue(),this._checkSelectedRadioButton())}_checkSelectedRadioButton(){this._selected&&!this._selected.checked&&(this._selected.checked=!0)}get selected(){return this._selected}set selected(e){this._selected=e,this.value=e?e.value:null,this._checkSelectedRadioButton()}get disabled(){return this._disabled}set disabled(e){this._disabled=Cn(e),this._markRadiosForCheck()}get required(){return this._required}set required(e){this._required=Cn(e),this._markRadiosForCheck()}ngAfterContentInit(){this._isInitialized=!0}_touch(){this.onTouched&&this.onTouched()}_updateRadioButtonNames(){this._radios&&this._radios.forEach(e=>{e.name=this.name,e._markForCheck()})}_updateSelectedRadioFromValue(){this._radios&&(null===this._selected||this._selected.value!==this._value)&&(this._selected=null,this._radios.forEach(i=>{i.checked=this.value===i.value,i.checked&&(this._selected=i)}))}_emitChangeEvent(){this._isInitialized&&this.change.emit(new fz(this._selected,this._value))}_markRadiosForCheck(){this._radios&&this._radios.forEach(e=>e._markForCheck())}writeValue(e){this.value=e,this._changeDetector.markForCheck()}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetector.markForCheck()}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(n.sBO))},t.\u0275dir=n.lG2({type:t,inputs:{color:"color",name:"name",labelPosition:"labelPosition",value:"value",selected:"selected",disabled:"disabled",required:"required"},outputs:{change:"change"}}),t})(),mz=(()=>{class t extends Ybe{}return t.\u0275fac=function(){let r;return function(i){return(r||(r=n.n5z(t)))(i||t)}}(),t.\u0275dir=n.lG2({type:t,selectors:[["mat-radio-group"]],contentQueries:function(e,i,o){if(1&e&&n.Suo(o,gz,5),2&e){let a;n.iGM(a=n.CRH())&&(i._radios=a)}},hostAttrs:["role","radiogroup",1,"mat-radio-group"],exportAs:["matRadioGroup"],features:[n._Bn([Zbe,{provide:hz,useExisting:t}]),n.qOj]}),t})();class Gbe{constructor(r){this._elementRef=r}}const $be=Cf(xf(Gbe));let Wbe=(()=>{class t extends $be{constructor(e,i,o,a,l,u,p,f){super(i),this._changeDetector=o,this._focusMonitor=a,this._radioDispatcher=l,this._providerOverride=p,this._uniqueId="mat-radio-"+ ++pz,this.id=this._uniqueId,this.change=new n.vpe,this._checked=!1,this._value=null,this._removeUniqueSelectionListener=()=>{},this.radioGroup=e,this._noopAnimations="NoopAnimations"===u,f&&(this.tabIndex=Sa(f,0)),this._removeUniqueSelectionListener=l.listen((h,y)=>{h!==this.id&&y===this.name&&(this.checked=!1)})}get checked(){return this._checked}set checked(e){const i=Cn(e);this._checked!==i&&(this._checked=i,i&&this.radioGroup&&this.radioGroup.value!==this.value?this.radioGroup.selected=this:!i&&this.radioGroup&&this.radioGroup.value===this.value&&(this.radioGroup.selected=null),i&&this._radioDispatcher.notify(this.id,this.name),this._changeDetector.markForCheck())}get value(){return this._value}set value(e){this._value!==e&&(this._value=e,null!==this.radioGroup&&(this.checked||(this.checked=this.radioGroup.value===e),this.checked&&(this.radioGroup.selected=this)))}get labelPosition(){return this._labelPosition||this.radioGroup&&this.radioGroup.labelPosition||"after"}set labelPosition(e){this._labelPosition=e}get disabled(){return this._disabled||null!==this.radioGroup&&this.radioGroup.disabled}set disabled(e){this._setDisabled(Cn(e))}get required(){return this._required||this.radioGroup&&this.radioGroup.required}set required(e){this._required=Cn(e)}get color(){return this._color||this.radioGroup&&this.radioGroup.color||this._providerOverride&&this._providerOverride.color||"accent"}set color(e){this._color=e}get inputId(){return`${this.id||this._uniqueId}-input`}focus(e,i){i?this._focusMonitor.focusVia(this._inputElement,i,e):this._inputElement.nativeElement.focus(e)}_markForCheck(){this._changeDetector.markForCheck()}ngOnInit(){this.radioGroup&&(this.checked=this.radioGroup.value===this._value,this.checked&&(this.radioGroup.selected=this),this.name=this.radioGroup.name)}ngDoCheck(){this._updateTabIndex()}ngAfterViewInit(){this._updateTabIndex(),this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{!e&&this.radioGroup&&this.radioGroup._touch()})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._removeUniqueSelectionListener()}_emitChangeEvent(){this.change.emit(new fz(this,this._value))}_isRippleDisabled(){return this.disableRipple||this.disabled}_onInputClick(e){e.stopPropagation()}_onInputInteraction(e){if(e.stopPropagation(),!this.checked&&!this.disabled){const i=this.radioGroup&&this.value!==this.radioGroup.value;this.checked=!0,this._emitChangeEvent(),this.radioGroup&&(this.radioGroup._controlValueAccessorChangeFn(this.value),i&&this.radioGroup._emitChangeEvent())}}_setDisabled(e){this._disabled!==e&&(this._disabled=e,this._changeDetector.markForCheck())}_updateTabIndex(){const e=this.radioGroup;let i;if(i=e&&e.selected&&!this.disabled?e.selected===this?this.tabIndex:-1:this.tabIndex,i!==this._previousTabIndex){const o=this._inputElement?.nativeElement;o&&(o.setAttribute("tabindex",i+""),this._previousTabIndex=i)}}}return t.\u0275fac=function(e){n.$Z()},t.\u0275dir=n.lG2({type:t,viewQuery:function(e,i){if(1&e&&n.Gf(Vbe,5),2&e){let o;n.iGM(o=n.CRH())&&(i._inputElement=o.first)}},inputs:{id:"id",name:"name",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],checked:"checked",value:"value",labelPosition:"labelPosition",disabled:"disabled",required:"required",color:"color"},outputs:{change:"change"},features:[n.qOj]}),t})(),gz=(()=>{class t extends Wbe{constructor(e,i,o,a,l,u,p,f){super(e,i,o,a,l,u,p,f)}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(hz,8),n.Y36(n.SBq),n.Y36(n.sBO),n.Y36(Ka),n.Y36(zP),n.Y36(n.QbO,8),n.Y36(jbe,8),n.$8M("tabindex"))},t.\u0275cmp=n.Xpm({type:t,selectors:[["mat-radio-button"]],hostAttrs:[1,"mat-radio-button"],hostVars:17,hostBindings:function(e,i){1&e&&n.NdJ("focus",function(){return i._inputElement.nativeElement.focus()}),2&e&&(n.uIk("tabindex",null)("id",i.id)("aria-label",null)("aria-labelledby",null)("aria-describedby",null),n.ekj("mat-radio-checked",i.checked)("mat-radio-disabled",i.disabled)("_mat-animation-noopable",i._noopAnimations)("mat-primary","primary"===i.color)("mat-accent","accent"===i.color)("mat-warn","warn"===i.color))},inputs:{disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matRadioButton"],features:[n.qOj],ngContentSelectors:Hbe,decls:13,vars:19,consts:[[1,"mat-radio-label"],["label",""],[1,"mat-radio-container"],[1,"mat-radio-outer-circle"],[1,"mat-radio-inner-circle"],["type","radio",1,"mat-radio-input",3,"id","checked","disabled","required","change","click"],["input",""],["mat-ripple","",1,"mat-radio-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered","matRippleRadius","matRippleAnimation"],[1,"mat-ripple-element","mat-radio-persistent-ripple"],[1,"mat-radio-label-content"],[2,"display","none"]],template:function(e,i){if(1&e&&(n.F$t(),n.TgZ(0,"label",0,1)(2,"span",2),n._UZ(3,"span",3)(4,"span",4),n.TgZ(5,"input",5,6),n.NdJ("change",function(a){return i._onInputInteraction(a)})("click",function(a){return i._onInputClick(a)}),n.qZA(),n.TgZ(7,"span",7),n._UZ(8,"span",8),n.qZA()(),n.TgZ(9,"span",9)(10,"span",10),n._uU(11,"\xa0"),n.qZA(),n.Hsn(12),n.qZA()()),2&e){const o=n.MAs(1);n.uIk("for",i.inputId),n.xp6(5),n.Q6J("id",i.inputId)("checked",i.checked)("disabled",i.disabled)("required",i.required),n.uIk("name",i.name)("value",i.value)("aria-label",i.ariaLabel)("aria-labelledby",i.ariaLabelledby)("aria-describedby",i.ariaDescribedby),n.xp6(2),n.Q6J("matRippleTrigger",o)("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",!0)("matRippleRadius",20)("matRippleAnimation",n.VKq(17,zbe,i._noopAnimations?0:150)),n.xp6(2),n.ekj("mat-radio-label-before","before"==i.labelPosition)}},dependencies:[Ea],styles:['.mat-radio-button{display:inline-block;-webkit-tap-highlight-color:rgba(0,0,0,0);outline:0}.mat-radio-label{-webkit-user-select:none;user-select:none;cursor:pointer;display:inline-flex;align-items:center;white-space:nowrap;vertical-align:middle;width:100%}.mat-radio-container{box-sizing:border-box;display:inline-block;position:relative;width:20px;height:20px;flex-shrink:0}.mat-radio-outer-circle{box-sizing:border-box;display:block;height:20px;left:0;position:absolute;top:0;transition:border-color ease 280ms;width:20px;border-width:2px;border-style:solid;border-radius:50%}._mat-animation-noopable .mat-radio-outer-circle{transition:none}.mat-radio-inner-circle{border-radius:50%;box-sizing:border-box;display:block;height:20px;left:0;position:absolute;top:0;opacity:0;transition:transform ease 280ms,background-color ease 280ms,opacity linear 1ms 280ms;width:20px;transform:scale(0.001);-webkit-print-color-adjust:exact;color-adjust:exact}.mat-radio-checked .mat-radio-inner-circle{transform:scale(0.5);opacity:1;transition:transform ease 280ms,background-color ease 280ms}.cdk-high-contrast-active .mat-radio-checked .mat-radio-inner-circle{border:solid 10px}._mat-animation-noopable .mat-radio-inner-circle{transition:none}.mat-radio-label-content{-webkit-user-select:auto;user-select:auto;display:inline-block;order:0;line-height:inherit;padding-left:8px;padding-right:0}[dir=rtl] .mat-radio-label-content{padding-right:8px;padding-left:0}.mat-radio-label-content.mat-radio-label-before{order:-1;padding-left:0;padding-right:8px}[dir=rtl] .mat-radio-label-content.mat-radio-label-before{padding-right:0;padding-left:8px}.mat-radio-disabled,.mat-radio-disabled .mat-radio-label{cursor:default}.mat-radio-button .mat-radio-ripple{position:absolute;left:calc(50% - 20px);top:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.mat-radio-button .mat-radio-ripple .mat-ripple-element:not(.mat-radio-persistent-ripple){opacity:.16}.mat-radio-persistent-ripple{width:100%;height:100%;transform:none;top:0;left:0}.mat-radio-container:hover .mat-radio-persistent-ripple{opacity:.04}.mat-radio-button:not(.mat-radio-disabled).cdk-keyboard-focused .mat-radio-persistent-ripple,.mat-radio-button:not(.mat-radio-disabled).cdk-program-focused .mat-radio-persistent-ripple{opacity:.12}.mat-radio-persistent-ripple,.mat-radio-disabled .mat-radio-container:hover .mat-radio-persistent-ripple{opacity:0}@media(hover: none){.mat-radio-container:hover .mat-radio-persistent-ripple{display:none}}.mat-radio-input{opacity:0;position:absolute;top:0;left:0;margin:0;width:100%;height:100%;cursor:inherit;z-index:-1}.mat-radio-input:focus~.mat-focus-indicator::before{content:""}.cdk-high-contrast-active .mat-radio-disabled{opacity:.5}'],encapsulation:2,changeDetection:0}),t})(),_z=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[_l,Xn,Xn]}),t})();const bz={transformPanel:ta("transformPanel",[bi("void => enter-dropdown",ri("120ms cubic-bezier(0, 0, 0.2, 1)",Rm([Gn({opacity:0,transform:"scale(1, 0.8)"}),Gn({opacity:1,transform:"scale(1, 1)"})]))),bi("void => enter-dialog",ri("150ms cubic-bezier(0, 0, 0.2, 1)",Rm([Gn({opacity:0,transform:"scale(0.7)"}),Gn({transform:"none",opacity:1})]))),bi("* => void",ri("100ms linear",Gn({opacity:0})))]),fadeInCalendar:ta("fadeInCalendar",[$r("void",Gn({opacity:0})),$r("enter",Gn({opacity:1})),bi("void => *",ri("120ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"))])},xz=function(t){return{active:t}};function dCe(t,r){if(1&t){const e=n.EpF();n.TgZ(0,"button",2),n.NdJ("click",function(){const a=n.CHM(e).$implicit,l=n.oxw();return n.KtG(l.select(a))}),n.qZA()}if(2&t){const e=r.$implicit,i=n.oxw();n.Udp("background-color",e),n.Q6J("ngClass",n.VKq(3,xz,i.selectedColor===e))}}function pCe(t,r){if(1&t){const e=n.EpF();n.TgZ(0,"button",2),n.NdJ("click",function(){const a=n.CHM(e).$implicit,l=n.oxw();return n.KtG(l.select(a))}),n.qZA()}if(2&t){const e=r.$implicit,i=n.oxw();n.Udp("background-color",e),n.Q6J("ngClass",n.VKq(3,xz,i.selectedColor===e))}}const fCe=["button"],hCe=/^\s+/,mCe=/\s+$/,zg=Math.round,gCe=(Math,Math,Math,/[^0-9]/g),wz=["#ffffff","#ffff00","#ff00ff","#ff0000","#c0c0c0","#808080","#808000","#800080","#800000","#00ffff","#00ff00","#008080","#008000","#0000ff","#000080","#000000"];function Mz(t,r,e){const i=t.getImageData(r,e,1,1).data;return{r:i[0],g:i[1],b:i[2]}}function hh(t){return 1==t.length?"0"+t:""+t}function vCe(t){return Math.round(255*parseFloat(t)).toString(16)}function Sz(t){return fs(t)/255}function fs(t){return parseInt(t,16)}function Dz(t,r,e,i){var o=[hh(zg(t).toString(16)),hh(zg(r).toString(16)),hh(zg(e).toString(16))];return i&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0):o.join("")}const ep="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)",yI="[\\s|\\(]+("+ep+")[,|\\s]+("+ep+")[,|\\s]+("+ep+")\\s*\\)?",bI="[\\s|\\(]+("+ep+")[,|\\s]+("+ep+")[,|\\s]+("+ep+")[,|\\s]+("+ep+")\\s*\\)?",mh={CSS_UNIT:new RegExp(ep),rgb:new RegExp("rgb"+yI),rgba:new RegExp("rgba"+bI),hsl:new RegExp("hsl"+yI),hsla:new RegExp("hsla"+bI),hsv:new RegExp("hsv"+yI),hsva:new RegExp("hsva"+bI),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function XM(t){let r;return t=t.replace(hCe,"").replace(mCe,"").toLowerCase(),(r=mh.rgb.exec(t))?{r:r[1],g:r[2],b:r[3],a:1}:(r=mh.rgba.exec(t))?{r:r[1],g:r[2],b:r[3],a:r[4]}:(r=mh.hex8.exec(t))?{r:fs(r[1]),g:fs(r[2]),b:fs(r[3]),a:Sz(r[4])}:(r=mh.hex6.exec(t))?{r:fs(r[1]),g:fs(r[2]),b:fs(r[3]),a:1}:(r=mh.hex4.exec(t))?{r:fs(r[1]+""+r[1]),g:fs(r[2]+""+r[2]),b:fs(r[3]+""+r[3]),a:Sz(r[4]+""+r[4])}:(r=mh.hex3.exec(t))?{r:fs(r[1]+""+r[1]),g:fs(r[2]+""+r[2]),b:fs(r[3]+""+r[3]),a:1}:null}class tp{constructor(r,e,i,o){this.r=r>255?255:r,this.g=e>255?255:e,this.b=i>255?255:i,this.a=null!=o?o>1?1:o:1,this.roundA=Math.round(this.a),this.hex=Dz(this.r,this.g,this.b),this.rgba=this.toRgba()}toHex(r){return Dz(this.r,this.g,this.b,r)}toRgba(){return`rgba(${this.r},${this.g},${this.b},${this.a})`}toHexString(r){return"#"+this.toHex(r)}toRgbString(){return 1===this.a?"rgb("+Math.round(this.r)+", "+Math.round(this.g)+", "+Math.round(this.b)+")":"rgba("+Math.round(this.r)+", "+Math.round(this.g)+", "+Math.round(this.b)+", "+this.roundA+")"}toHex8(r){return function _Ce(t,r,e,i,o){var a=[hh(zg(t).toString(16)),hh(zg(r).toString(16)),hh(zg(e).toString(16)),hh(vCe(i))];return o&&a[0].charAt(0)==a[0].charAt(1)&&a[1].charAt(0)==a[1].charAt(1)&&a[2].charAt(0)==a[2].charAt(1)&&a[3].charAt(0)==a[3].charAt(1)?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0)+a[3].charAt(0):a.join("")}(this.r,this.g,this.b,this.a,r)}toHex8String(r){return"#"+this.toHex8(r)}toString(r){let i;return r||!(this.a<1&&this.a>=0)||"hex"!==r&&"hex6"!==r&&"hex3"!==r&&"hex4"!==r&&"hex8"!==r?("rgb"===r&&(i=this.toRgbString()),("hex"===r||"hex6"===r)&&(i=this.toHexString()),"hex3"===r&&(i=this.toHexString(!0)),"hex4"===r&&(i=this.toHex8String(!0)),"hex8"===r&&(i=this.toHex8String()),i||this.toHexString()):this.toRgbString()}}let Oz=(()=>{class t{constructor(e,i){this.zone=e,this.colorChanged=new n.vpe,this.x=0,this.y=0,this.drag=!1,this._destroyed=new dn.x,this.elementId=i}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}ngAfterViewInit(){this.canvas=document.getElementById(this.elementId),this.ctx=this.canvas.getContext("2d"),this.width=this.canvas.width,this.height=this.canvas.height,this.draw()}draw(){this.ctx.clearRect(0,0,this.width,this.height),this.ctx.rect(0,0,this.width,this.height),this.fillGradient(),0!=this.y&&this.redrawIndicator(this.x,this.y)}onMousedown(e){this.drag=!0,this.changeColor(e),this.zone.runOutsideAngular(()=>{this.canvas.addEventListener("mousemove",this.onMousemove.bind(this))})}onMousemove(e){this.drag&&this.zone.run(()=>{this.changeColor(e)})}onMouseup(e){this.drag=!1,this.canvas.removeEventListener("mousemove",this.onMousemove)}emitChange(e){this.colorChanged.emit(e)}}return t.\u0275fac=function(e){n.$Z()},t.\u0275dir=n.lG2({type:t,inputs:{color:"color"},outputs:{colorChanged:"colorChanged"}}),t})(),CCe=(()=>{class t extends Oz{constructor(e){super(e,"color-strip"),this.zone=e}ngOnInit(){}ngAfterViewInit(){super.ngAfterViewInit()}fillGradient(){const e=this.ctx.createLinearGradient(0,0,0,this.height);e.addColorStop(0,"rgba(255, 0, 0, 1)"),e.addColorStop(.17,"rgba(255, 255, 0, 1)"),e.addColorStop(.34,"rgba(0, 255, 0, 1)"),e.addColorStop(.51,"rgba(0, 255, 255, 1)"),e.addColorStop(.68,"rgba(0, 0, 255, 1)"),e.addColorStop(.85,"rgba(255, 0, 255, 1)"),e.addColorStop(1,"rgba(255, 0, 0, 1)"),this.ctx.fillStyle=e,this.ctx.fill()}redrawIndicator(e,i){this.ctx.beginPath(),this.ctx.strokeStyle="white",this.ctx.lineWidth=2,this.ctx.arc(7.5,i,7.5,0,2*Math.PI,!1),this.ctx.stroke(),this.ctx.closePath()}changeColor(e){this.x=e.offsetX,this.y=e.offsetY,this.draw();const{r:i,g:o,b:a}=Mz(this.ctx,e.offsetX,e.offsetY);this.emitChange(new tp(i,o,a))}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(n.R0b))},t.\u0275cmp=n.Xpm({type:t,selectors:[["ngx-mat-color-slider"]],features:[n.qOj],decls:1,vars:0,consts:[["id","color-strip","width","15","height","200",1,"zone-strip",3,"mousedown","mouseup"]],template:function(e,i){1&e&&(n.TgZ(0,"canvas",0),n.NdJ("mousedown",function(a){return i.onMousedown(a)})("mouseup",function(a){return i.onMouseup(a)}),n.qZA())}}),t})(),xCe=(()=>{class t{constructor(){}onInput(e){this._formatInput(e.target)}_formatInput(e){let i=Number(e.value.replace(gCe,""));i=isNaN(i)?0:i,e.value=i}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=n.lG2({type:t,selectors:[["","ngxMatNumericColorInput",""]],hostBindings:function(e,i){1&e&&n.NdJ("input",function(a){return i.onInput(a)})}}),t})(),MCe=(()=>{class t extends Oz{constructor(e){super(e,"color-block"),this.zone=e,this._resetBaseColor=!0,this.formGroup=new mo({r:new Ln(null,[Dr.required]),g:new Ln(null,[Dr.required]),b:new Ln(null,[Dr.required]),a:new Ln(null,[Dr.required]),hex:new Ln(null,[Dr.required,Dr.pattern(mh.hex6)])})}get rCtrl(){return this.formGroup.get("r")}get gCtrl(){return this.formGroup.get("g")}get bCtrl(){return this.formGroup.get("b")}get aCtrl(){return this.formGroup.get("a")}get hexCtrl(){return this.formGroup.get("hex")}ngOnInit(){(0,Mo.T)(this.rCtrl.valueChanges,this.gCtrl.valueChanges,this.bCtrl.valueChanges,this.aCtrl.valueChanges).pipe((0,Zn.R)(this._destroyed),(0,_n.b)(400)).subscribe(o=>{const a=new tp(Number(this.rCtrl.value),Number(this.gCtrl.value),Number(this.bCtrl.value),Number(this.aCtrl.value));this.emitChange(a)}),this.hexCtrl.valueChanges.pipe((0,Zn.R)(this._destroyed),(0,_n.b)(400),(0,Xa.x)()).subscribe(o=>{const a=XM(o);if(null!=a){const l=new tp(a.r,a.g,a.b,a.a);this.emitChange(l)}})}ngOnChanges(e){e.color&&e.color.currentValue&&(this.updateForm(e.color.currentValue),this._resetBaseColor&&(this._baseColor=e.color.currentValue),this._resetBaseColor=!0,e.color.firstChange||this.draw())}updateForm(e){const i={emitEvent:!1};this.rCtrl.setValue(e.r,i),this.gCtrl.setValue(e.g,i),this.bCtrl.setValue(e.b,i),this.aCtrl.setValue(e.a,i),this.hexCtrl.setValue(e.hex,i)}redrawIndicator(e,i){this.ctx.beginPath(),this.ctx.strokeStyle="white",this.ctx.arc(e,i,5,0,2*Math.PI,!1),this.ctx.stroke(),this.ctx.closePath()}fillGradient(){this.ctx.fillStyle=this._baseColor?this._baseColor.rgba:"rgba(255,255,255,1)",this.ctx.fillRect(0,0,this.width,this.height);const e=this.ctx.createLinearGradient(0,0,this.width,0);e.addColorStop(0,"rgba(255,255,255,1)"),e.addColorStop(1,"rgba(255,255,255,0)"),this.ctx.fillStyle=e,this.ctx.fillRect(0,0,this.width,this.height);const i=this.ctx.createLinearGradient(0,0,0,this.height);i.addColorStop(0,"rgba(0,0,0,0)"),i.addColorStop(1,"rgba(0,0,0,1)"),this.ctx.fillStyle=i,this.ctx.fillRect(0,0,this.width,this.height)}onSliderColorChanged(e){this._baseColor=e,this.color=e,this.fillGradient(),this.emitChange(e)}changeColor(e){this.x=e.offsetX,this.y=e.offsetY,this._resetBaseColor=!1,this.draw();const{r:i,g:o,b:a}=Mz(this.ctx,e.offsetX,e.offsetY);this.emitChange(new tp(i,o,a))}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(n.R0b))},t.\u0275cmp=n.Xpm({type:t,selectors:[["ngx-mat-color-canvas"]],hostAttrs:[1,"ngx-mat-color-canvas"],features:[n.qOj,n.TTD],decls:30,vars:3,consts:[[3,"formGroup"],[1,"color-canvas-row"],[1,"zone-canvas"],["id","color-block","width","200","height","200",1,"zone-block",3,"mousedown","mouseup"],[3,"colorChanged"],[1,"zone-inputs"],["matInput","","formControlName","r","ngxMatNumericColorInput","","autocomplete","off"],["matInput","","formControlName","g","ngxMatNumericColorInput","","autocomplete","off"],["matInput","","formControlName","b","ngxMatNumericColorInput","","autocomplete","off"],["mat-mini-fab","",1,"preview"],["matPrefix","",1,"symbol"],["matInput","","formControlName","hex","autocomplete","off"],["matInput","","formControlName","a","type","number","min","0","max","1","step","0.1","autocomplete","off"]],template:function(e,i){1&e&&(n.TgZ(0,"form",0)(1,"div",1)(2,"div",2)(3,"canvas",3),n.NdJ("mousedown",function(a){return i.onMousedown(a)})("mouseup",function(a){return i.onMouseup(a)}),n.qZA(),n.TgZ(4,"ngx-mat-color-slider",4),n.NdJ("colorChanged",function(a){return i.onSliderColorChanged(a)}),n.qZA()(),n.TgZ(5,"div",5)(6,"mat-form-field")(7,"mat-label"),n._uU(8,"R"),n.qZA(),n._UZ(9,"input",6),n.qZA(),n.TgZ(10,"mat-form-field")(11,"mat-label"),n._uU(12,"G"),n.qZA(),n._UZ(13,"input",7),n.qZA(),n.TgZ(14,"mat-form-field")(15,"mat-label"),n._uU(16,"B"),n.qZA(),n._UZ(17,"input",8),n.qZA()()(),n.TgZ(18,"div",1),n._UZ(19,"button",9),n.TgZ(20,"mat-form-field")(21,"mat-label"),n._uU(22,"HEX6"),n.qZA(),n.TgZ(23,"mat-label",10),n._uU(24,"#\xa0"),n.qZA(),n._UZ(25,"input",11),n.qZA(),n.TgZ(26,"mat-form-field")(27,"mat-label"),n._uU(28,"A"),n.qZA(),n._UZ(29,"input",12),n.qZA()()()),2&e&&(n.Q6J("formGroup",i.formGroup),n.xp6(19),n.Udp("background-color",(null==i.color?null:i.color.rgba)||"transparent"))},dependencies:[VP,UP,x7,QY,Or,oa,Dd,sw,oi,ia,uw,cw,qi,Bo,CCe,xCe],styles:[".ngx-mat-color-canvas .color-canvas-row{display:flex}.ngx-mat-color-canvas .color-canvas-row:first-of-type{height:200px;margin-bottom:12px}.ngx-mat-color-canvas .color-canvas-row:first-of-type .card{height:180px}.ngx-mat-color-canvas .color-canvas-row canvas:hover{cursor:crosshair}.ngx-mat-color-canvas .color-canvas-row .zone{display:flex}.ngx-mat-color-canvas .color-canvas-row .zone-canvas{height:200px}.ngx-mat-color-canvas .color-canvas-row .zone-canvas .zone-block{border:1px solid rgba(0,0,0,.12)}.ngx-mat-color-canvas .color-canvas-row .zone-strip{flex-basis:auto;margin-left:10px}.ngx-mat-color-canvas .color-canvas-row .zone-inputs{display:flex;width:40px;height:200px;flex-direction:column;margin-left:16px;margin-top:12px}.ngx-mat-color-canvas .color-canvas-row:nth-of-type(2){display:flex}.ngx-mat-color-canvas .color-canvas-row:nth-of-type(2) .preview{min-width:40px;min-height:40px;height:40px;width:40px}.ngx-mat-color-canvas .color-canvas-row:nth-of-type(2) .mat-form-field{margin-left:16px}.ngx-mat-color-canvas .color-canvas-row:nth-of-type(2) .mat-form-field:first-of-type{width:170px}.ngx-mat-color-canvas .color-canvas-row:nth-of-type(2) .mat-form-field:first-of-type .symbol{font-weight:bold;color:#0000008a}.ngx-mat-color-canvas .color-canvas-row:nth-of-type(2) .mat-form-field:last-of-type{width:40px}.ngx-mat-color-canvas .mat-form-field-label{font-weight:bold}\n"],encapsulation:2}),t})(),SCe=(()=>{class t{constructor(){this.colorChanged=new n.vpe,this.colors1=wz.slice(0,8),this.colors2=wz.slice(8,16)}set color(e){e&&(this.selectedColor=e.toHexString())}ngOnInit(){}select(e){this.selectedColor=e;const{r:i,g:o,b:a,a:l}=XM(e);this.colorChanged.emit(new tp(i,o,a,l))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Xpm({type:t,selectors:[["ngx-mat-color-collection"]],hostAttrs:[1,"ngx-mat-color-collection"],inputs:{color:"color"},outputs:{colorChanged:"colorChanged"},decls:4,vars:2,consts:[[1,"color-collection-row"],["mat-mini-fab","","class","btn-color",3,"background-color","ngClass","click",4,"ngFor","ngForOf"],["mat-mini-fab","",1,"btn-color",3,"ngClass","click"]],template:function(e,i){1&e&&(n.TgZ(0,"div",0),n.YNc(1,dCe,1,5,"button",1),n.qZA(),n.TgZ(2,"div",0),n.YNc(3,pCe,1,5,"button",1),n.qZA()),2&e&&(n.xp6(1),n.Q6J("ngForOf",i.colors1),n.xp6(2),n.Q6J("ngForOf",i.colors2))},dependencies:[An,Ar,Or],styles:[".ngx-mat-color-collection .btn-color{height:20px;width:20px;margin-right:11px;box-shadow:none;opacity:.3}.ngx-mat-color-collection .btn-color.active{box-shadow:0 3px 5px -1px #0003,0 6px 10px #00000024,0 1px 18px #0000001f;opacity:1}\n"],encapsulation:2}),t})(),Ez=(()=>{class t{constructor(){this.colorChanged=new n.vpe}ngOnInit(){}handleColorChanged(e){this.colorChanged.emit(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Xpm({type:t,selectors:[["ngx-mat-color-palette"]],hostAttrs:[1,"ngx-mat-color-palette"],inputs:{color:"color"},outputs:{colorChanged:"colorChanged"},decls:2,vars:2,consts:[[3,"color","colorChanged"]],template:function(e,i){1&e&&(n.TgZ(0,"ngx-mat-color-canvas",0),n.NdJ("colorChanged",function(a){return i.handleColorChanged(a)}),n.qZA(),n.TgZ(1,"ngx-mat-color-collection",0),n.NdJ("colorChanged",function(a){return i.handleColorChanged(a)}),n.qZA()),2&e&&(n.Q6J("color",i.color),n.xp6(1),n.Q6J("color",i.color))},dependencies:[MCe,SCe],styles:[".ngx-mat-color-palette .actions{margin-top:10px;display:flex}.ngx-mat-color-palette .actions .left{display:flex;flex-direction:column;margin-right:15px}.ngx-mat-color-palette .actions .left .preview{flex:2 1 auto;margin-bottom:10px}.ngx-mat-color-palette .actions .right{display:flex;width:40px;flex-direction:column}\n"],encapsulation:2}),t})(),CI=(()=>{class t{constructor(){}sameColor(e,i){return null==e&&null==i||null!=e&&null!=i&&e.rgba===i.rgba}format(e,i){return e.toString(i)}parse(e){const i=XM(e);return i?new tp(i.r,i.g,i.b,i.a):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac}),t})();const DCe={display:{colorInput:"hex"}},Az=new n.OlP("mat-color-formats"),Pz=new n.OlP("ngx-mat-colorpicker-scroll-strategy"),ECe={provide:Pz,deps:[Ro],useFactory:function OCe(t){return()=>t.scrollStrategies.reposition()}},ACe=gl(class{constructor(t){this._elementRef=t}});let Tz=(()=>{class t extends ACe{constructor(e){super(e)}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(n.SBq))},t.\u0275cmp=n.Xpm({type:t,selectors:[["ngx-mat-color-picker-content"]],viewQuery:function(e,i){if(1&e&&n.Gf(Ez,5),2&e){let o;n.iGM(o=n.CRH())&&(i._palette=o.first)}},hostAttrs:[1,"ngx-mat-colorpicker-content"],hostVars:3,hostBindings:function(e,i){2&e&&(n.d8E("@transformPanel","enter"),n.ekj("ngx-mat-colorpicker-content-touch",i.picker.touchUi))},inputs:{color:"color"},exportAs:["ngxMatColorPickerContent"],features:[n.qOj],decls:1,vars:1,consts:[[3,"color","colorChanged"]],template:function(e,i){1&e&&(n.TgZ(0,"ngx-mat-color-palette",0),n.NdJ("colorChanged",function(a){return i.picker.select(a)}),n.qZA()),2&e&&n.Q6J("color",i.picker._selected)},dependencies:[Ez],styles:[".ngx-mat-colorpicker-content{display:block;border-radius:4px;box-shadow:0 2px 4px -1px #0003,0 4px 5px #00000024,0 1px 10px #0000001f;background-color:#fff;color:#000000de;padding:16px}.ngx-mat-colorpicker-content .ngx-mat-color-palette{width:296px;height:354px}.ngx-mat-colorpicker-content-touch{display:block;max-height:80vh;overflow:auto}.ngx-mat-colorpicker-content-touch .ngx-mat-color-palette{min-width:250px;min-height:312px;max-width:750px;max-height:788px}@media all and (orientation: landscape){.mat-colorpicker-content-touch .ngx-mat-color-palette{width:64vh;height:80vh}}@media all and (orientation: portrait){.mat-colorpicker-content-touch .ngx-mat-color-palette{width:80vw;height:100vw}}\n"],encapsulation:2,data:{animation:[bz.transformPanel,bz.fadeInCalendar]},changeDetection:0}),t})(),PCe=(()=>{class t{constructor(e,i,o,a,l,u,p,f){this._dialog=e,this._overlay=i,this._zone=o,this._adapter=a,this._dir=l,this._document=p,this._viewContainerRef=f,this.openedStream=new n.vpe,this.closedStream=new n.vpe,this._touchUi=!1,this._opened=!1,this._defaultColor="primary",this._validSelected=null,this._disabledChange=new dn.x,this._focusedElementBeforeOpen=null,this._inputSubscription=Yr.w0.EMPTY,this._selectedChanged=new dn.x,this._scrollStrategy=u}get disabled(){return void 0===this._disabled&&this._pickerInput?this._pickerInput.disabled:!!this._disabled}set disabled(e){const i=Cn(e);i!==this._disabled&&(this._disabled=i,this._disabledChange.next(i))}get touchUi(){return this._touchUi}set touchUi(e){this._touchUi=Cn(e)}get opened(){return this._opened}set opened(e){e?this.open():this.close()}get defaultColor(){return this._defaultColor}set defaultColor(e){this._defaultColor=e}get color(){return this._color||(this._pickerInput?this._pickerInput.getThemePalette():void 0)}set color(e){this._color=e}get _selected(){return this._validSelected}set _selected(e){this._validSelected=e}ngOnInit(){}ngOnDestroy(){this.close(),this._inputSubscription.unsubscribe(),this._disabledChange.complete(),this._popupRef&&(this._popupRef.dispose(),this._popupComponentRef=null)}select(e){let i=this._selected;this._selected=e,this._adapter.sameColor(i,this._selected)||this._selectedChanged.next(e)}registerInput(e){if(this._pickerInput)throw Error("A ColorPicker can only be associated with a single input.");this._pickerInput=e,this._inputSubscription=this._pickerInput._valueChange.subscribe(i=>this._selected=i)}open(){if(!this._opened&&!this.disabled){if(!this._pickerInput)throw Error("Attempted to open an ColorPicker with no associated input.");this._document&&(this._focusedElementBeforeOpen=this._document.activeElement),this.touchUi?this._openAsDialog():this._openAsPopup(),this._opened=!0,this.openedStream.emit()}}_openAsDialog(){this._dialogRef&&this._dialogRef.close(),this._dialogRef=this._dialog.open(Tz,{direction:this._dir?this._dir.value:"ltr",viewContainerRef:this._viewContainerRef,panelClass:"ngx-mat-colorpicker-dialog"}),this._dialogRef.afterClosed().subscribe(()=>this.close()),this._dialogRef.componentInstance.picker=this,this._setColor()}_openAsPopup(){this._portal||(this._portal=new uc(Tz,this._viewContainerRef)),this._popupRef||this._createPopup(),this._popupRef.hasAttached()||(this._popupComponentRef=this._popupRef.attach(this._portal),this._popupComponentRef.instance.picker=this,this._setColor(),this._zone.onStable.asObservable().pipe((0,ar.q)(1)).subscribe(()=>{this._popupRef.updatePosition()}))}_createPopup(){const e=new Cd({positionStrategy:this._createPopupPositionStrategy(),hasBackdrop:!0,backdropClass:"mat-overlay-transparent-backdrop",direction:this._dir,scrollStrategy:this._scrollStrategy(),panelClass:"mat-colorpicker-popup"});this._popupRef=this._overlay.create(e),this._popupRef.overlayElement.setAttribute("role","dialog"),(0,Mo.T)(this._popupRef.backdropClick(),this._popupRef.detachments(),this._popupRef.keydownEvents().pipe((0,pr.h)(i=>27===i.keyCode||this._pickerInput&&i.altKey&&38===i.keyCode))).subscribe(i=>{i&&i.preventDefault(),this.close()})}close(){if(!this._opened)return;this._popupRef&&this._popupRef.hasAttached()&&this._popupRef.detach(),this._dialogRef&&(this._dialogRef.close(),this._dialogRef=null),this._portal&&this._portal.isAttached&&this._portal.detach();const e=()=>{this._opened&&(this._opened=!1,this.closedStream.emit(),this._focusedElementBeforeOpen=null)};this._focusedElementBeforeOpen&&"function"==typeof this._focusedElementBeforeOpen.focus?(this._focusedElementBeforeOpen.focus(),setTimeout(e)):e()}_setColor(){const e=this.color;this._popupComponentRef&&(this._popupComponentRef.instance.color=e),this._dialogRef&&(this._dialogRef.componentInstance.color=e)}_createPopupPositionStrategy(){return this._overlay.position().flexibleConnectedTo(this._pickerInput.getConnectedOverlayOrigin()).withTransformOriginOn(".ngx-mat-colorpicker-content").withFlexibleDimensions(!1).withViewportMargin(8).withLockedPosition().withPositions([{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"}])}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(yl),n.Y36(Ro),n.Y36(n.R0b),n.Y36(CI),n.Y36(So,8),n.Y36(Pz),n.Y36(I,8),n.Y36(n.s_b))},t.\u0275cmp=n.Xpm({type:t,selectors:[["ngx-mat-color-picker"]],inputs:{disabled:"disabled",touchUi:"touchUi",opened:"opened",defaultColor:"defaultColor",color:"color"},outputs:{openedStream:"opened",closedStream:"closed"},exportAs:["ngxMatColorPicker"],decls:0,vars:0,template:function(e,i){},encapsulation:2,changeDetection:0}),t})();class KM{constructor(r,e){this.target=r,this.targetElement=e,this.value=this.target.value}}const TCe={provide:Ci,useExisting:(0,n.Gpc)(()=>xI),multi:!0},ICe={provide:ro,useExisting:(0,n.Gpc)(()=>xI),multi:!0};let xI=(()=>{class t{constructor(e,i,o,a){if(this._elementRef=e,this._formField=i,this._colorFormats=o,this._adapter=a,this.colorChange=new n.vpe,this.colorInput=new n.vpe,this._disabledChange=new n.vpe,this._valueChange=new n.vpe,this._onTouched=()=>{},this._cvaOnChange=()=>{},this._validatorOnChange=()=>{},this._pickerSubscription=Yr.w0.EMPTY,this._validator=Dr.compose([]),this._lastValueValid=!1,!this._colorFormats)throw function bCe(t){return Error(`NgxMatColorPicker: No provider found for ${t}. You must define MAT_COLOR_FORMATS in your module`)}("MAT_COLOR_FORMATS")}set ngxMatColorPicker(e){!e||(this._picker=e,this._picker.registerInput(this),this._pickerSubscription.unsubscribe(),this._pickerSubscription=this._picker._selectedChanged.subscribe(i=>{this.value=i,this._cvaOnChange(i),this._onTouched(),this.colorInput.emit(new KM(this,this._elementRef.nativeElement)),this.colorChange.emit(new KM(this,this._elementRef.nativeElement))}))}get disabled(){return!!this._disabled}set disabled(e){const i=Cn(e),o=this._elementRef.nativeElement;this._disabled!==i&&(this._disabled=i,this._disabledChange.emit(i)),i&&o.blur&&o.blur()}get value(){return this._value}set value(e){const i=this.value;this._value=e,this._formatValue(e),this._adapter.sameColor(i,e)||this._valueChange.emit(e)}getThemePalette(){return this._formField?this._formField.color:void 0}registerOnValidatorChange(e){this._validatorOnChange=e}validate(e){return this._validator?this._validator(e):null}getPopupConnectionElementRef(){return this.getConnectedOverlayOrigin()}getConnectedOverlayOrigin(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef}ngOnInit(){}ngOnDestroy(){this._pickerSubscription.unsubscribe(),this._valueChange.complete(),this._disabledChange.complete()}writeValue(e){this.value=e}registerOnChange(e){this._cvaOnChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_onChange(){this.colorChange.emit(new KM(this,this._elementRef.nativeElement))}_onKeydown(e){this._picker&&e.altKey&&40===e.keyCode&&!this._elementRef.nativeElement.readOnly&&(this._picker.open(),e.preventDefault())}_onBlur(){this.value&&this._formatValue(this.value),this._onTouched()}_formatValue(e){this._elementRef.nativeElement.value=e?this._adapter.format(e,this._colorFormats.display.colorInput):""}_onInput(e){const i=this._lastValueValid,o=this._adapter.parse(e);this._adapter.sameColor(o,this._value)?i!==this._lastValueValid&&this._validatorOnChange():(this._value=o,this._cvaOnChange(o),this._valueChange.emit(o),this.colorInput.emit(new KM(this,this._elementRef.nativeElement)))}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(n.SBq),n.Y36(VP,8),n.Y36(Az,8),n.Y36(CI))},t.\u0275dir=n.lG2({type:t,selectors:[["input","ngxMatColorPicker",""]],hostVars:3,hostBindings:function(e,i){1&e&&n.NdJ("input",function(a){return i._onInput(a.target.value)})("change",function(){return i._onChange()})("blur",function(){return i._onBlur()})("keydown",function(a){return i._onKeydown(a)}),2&e&&(n.Ikx("disabled",i.disabled),n.uIk("aria-haspopup",i._picker?"dialog":null)("aria-owns",(null==i._picker?null:i._picker.opened)&&i._picker.id||null))},inputs:{ngxMatColorPicker:"ngxMatColorPicker",disabled:"disabled",value:"value"},outputs:{colorChange:"colorChange",colorInput:"colorInput"},exportAs:["ngxMatColorPickerInput"],features:[n._Bn([TCe,ICe,{provide:WP,useExisting:t}])]}),t})(),kCe=(()=>{class t{constructor(e){this._cd=e,this._stateChanges=Yr.w0.EMPTY}get disabled(){if(null==this._disabled&&this.picker)return this.picker.disabled}set disabled(e){this._disabled=e}ngOnInit(){}ngOnChanges(e){e.picker&&this._watchStateChanges()}ngOnDestroy(){this._stateChanges.unsubscribe()}ngAfterContentInit(){this._watchStateChanges()}open(e){this.picker&&!this.disabled&&(this.picker.open(),e.stopPropagation())}_watchStateChanges(){const e=this.picker?this.picker._disabledChange:(0,pn.of)(),i=this.picker&&this.picker._pickerInput?this.picker._pickerInput._disabledChange:(0,pn.of)(),o=this.picker?(0,Mo.T)(this.picker.openedStream,this.picker.closedStream):(0,pn.of)();this._stateChanges.unsubscribe(),this._stateChanges=(0,Mo.T)(e,i,o).subscribe(()=>this._cd.markForCheck())}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(n.sBO))},t.\u0275cmp=n.Xpm({type:t,selectors:[["ngx-mat-color-toggle"]],viewQuery:function(e,i){if(1&e&&n.Gf(fCe,5),2&e){let o;n.iGM(o=n.CRH())&&(i._button=o.first)}},hostAttrs:[1,"ngx-mat-color-toggle"],hostVars:7,hostBindings:function(e,i){1&e&&n.NdJ("focus",function(){return i._button.focus()}),2&e&&(n.uIk("tabindex",-1),n.ekj("ngx-mat-color-toggle-active",i.picker&&i.picker.opened)("mat-accent",i.picker&&"accent"===i.picker.color)("mat-warn",i.picker&&"warn"===i.picker.color))},inputs:{picker:["for","picker"],tabIndex:"tabIndex",disabled:"disabled"},exportAs:["ngxMatColorPickerToggle"],features:[n.TTD],decls:4,vars:5,consts:[["mat-icon-button","","type","button",3,"disabled","click"],["button",""]],template:function(e,i){1&e&&(n.TgZ(0,"button",0,1),n.NdJ("click",function(a){return i.open(a)}),n.TgZ(2,"mat-icon"),n._uU(3,"palette"),n.qZA()()),2&e&&(n.Q6J("disabled",i.disabled),n.uIk("aria-haspopup",i.picker?"dialog":null)("tabindex",i.disabled?-1:i.tabIndex),n.xp6(2),n.Udp("color",null==i.picker||null==i.picker._selected?null:i.picker._selected.rgba))},dependencies:[Or,fr],styles:[".mat-form-field-appearance-legacy .mat-form-field-prefix .ngx-mat-color-toggle-default-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .ngx-mat-color-toggle-default-icon{width:1em}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .ngx-mat-color-toggle-default-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .ngx-mat-color-toggle-default-icon{display:block;width:1.5em;height:1.5em}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .ngx-mat-color-toggle-default-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .ngx-mat-color-toggle-default-icon{margin:auto}\n"],encapsulation:2}),t})(),FCe=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({providers:[CI,ECe],imports:[Zr,QP,Ia,o3,_z,ka,aa,Ta,rs,na]}),t})();const NCe=["inputFile"],RCe=["inputValue"];function LCe(t,r){1&t&&(n.TgZ(0,"mat-icon",7),n._uU(1,"attach_file"),n.qZA())}const BCe=[[["","ngxMatFileInputIcon",""]]],UCe=["[ngxMatFileInputIcon]"];let VCe=0;const zCe=Kv(class{constructor(t,r,e,i){this._defaultErrorStateMatcher=t,this._parentForm=r,this._parentFormGroup=e,this.ngControl=i,this.stateChanges=new dn.x}});let Iz=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=n.lG2({type:t,selectors:[["","ngxMatFileInputIcon",""]]}),t})(),HCe=(()=>{class t extends zCe{constructor(e,i,o,a,l,u,p){super(p,l,u,a),this._elementRef=e,this._platform=i,this._cd=o,this.ngControl=a,this.color="primary",this.fileNames=null,this._uid="ngx-mat-fileinput-"+VCe++,this.stateChanges=new dn.x,this.focused=!1,this.controlType="ngx-mat-file-input",this.autofilled=!1,this._onTouched=()=>{},this._onChange=()=>{},this._disabled=!1,this._multiple=!1,this.placeholder="Choose a file",this.separator=",",this._required=!1,this._readonly=!0,this.id=this.id,this.ngControl&&(this.ngControl.valueAccessor=this)}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(e){this._disabled=Cn(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get multiple(){return this._multiple}set multiple(e){this._multiple=Cn(e)}get required(){return this._required}set required(e){this._required=Cn(e)}get value(){return this._value}set value(e){this._value=e}get readonly(){return this._readonly}set readonly(e){this._readonly=Cn(e)}get accept(){return this._accept}set accept(e){this._accept=e}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete()}ngDoCheck(){this.ngControl&&this.updateErrorState()}writeValue(e){this._updateInputValue(e)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this.stateChanges.next()}focus(e){this._inputValueRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(!this.readonly||!e)&&(this.focused=e,this.stateChanges.next())}_markAsTouched(){this._onTouched(),this._cd.markForCheck(),this.stateChanges.next()}_isBadInput(){let e=this._inputValueRef.nativeElement.validity;return e&&e.badInput}get empty(){return!this._inputValueRef.nativeElement.value&&!this._isBadInput()&&!this.autofilled}get shouldLabelFloat(){return this.focused||!this.empty}setDescribedByIds(e){this._ariaDescribedby=e.join(" ")}openFilePicker(e){this._inputFileRef.nativeElement.click(),e&&(e.preventDefault(),e.stopPropagation()),this._markAsTouched()}handleFiles(e){if(e.length>0){const i=new Array;for(let o=0;o<e.length;o++)i.push(e.item(o));this._updateInputValue(i),this._resetInputFile(),this._onChange(this.multiple?i:i[0])}}onContainerClick(e){}_resetInputFile(){this._inputFileRef.nativeElement.value=""}_updateInputValue(e){let i=null;e&&(i=Array.isArray(e)?this._multiple?e.map(o=>o.name).join(this.separator):e[0].name:null!=e.name?e.name:null),this._inputValueRef.nativeElement.value=i}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(n.SBq),n.Y36(Di),n.Y36(n.sBO),n.Y36(bl,10),n.Y36(ig,8),n.Y36(qi,8),n.Y36(Fm))},t.\u0275cmp=n.Xpm({type:t,selectors:[["ngx-mat-file-input"]],contentQueries:function(e,i,o){if(1&e&&n.Suo(o,Iz,5),2&e){let a;n.iGM(a=n.CRH())&&(i._customIcon=a.first)}},viewQuery:function(e,i){if(1&e&&(n.Gf(NCe,7),n.Gf(RCe,7)),2&e){let o;n.iGM(o=n.CRH())&&(i._inputFileRef=o.first),n.iGM(o=n.CRH())&&(i._inputValueRef=o.first)}},hostAttrs:[1,"ngx-mat-file-input"],inputs:{color:"color",disabled:"disabled",id:"id",multiple:"multiple",placeholder:"placeholder",separator:"separator",required:"required",errorStateMatcher:"errorStateMatcher",value:"value",readonly:"readonly",accept:"accept"},exportAs:["ngx-mat-file-input"],features:[n._Bn([{provide:$y,useExisting:(0,n.Gpc)(()=>t)}]),n.qOj,n.TTD],ngContentSelectors:UCe,decls:8,vars:13,consts:[["autocomplete","off",1,"mat-input-element","mat-form-field-autofill-control",3,"disabled","required"],["inputValue",""],[1,"mat-form-field-suffix"],["matSuffix","","mat-icon-button","","type","button",1,"button-browse",3,"color","disabled","click"],["class","ngx-mat-file-input--default-icon",4,"ngIf"],["type","file",1,"input-file",3,"multiple","accept","change"],["inputFile",""],[1,"ngx-mat-file-input--default-icon"]],template:function(e,i){1&e&&(n.F$t(BCe),n._UZ(0,"input",0,1),n.TgZ(2,"div",2)(3,"button",3),n.NdJ("click",function(a){return i.openFilePicker(a)}),n.YNc(4,LCe,2,0,"mat-icon",4),n.Hsn(5),n.qZA()(),n.TgZ(6,"input",5,6),n.NdJ("change",function(a){return i.handleFiles(a.target.files)}),n.qZA()),2&e&&(n.Q6J("disabled",i.disabled)("required",i.required),n.uIk("id",i.id)("placeholder",i.placeholder)("readonly",i.readonly||null)("aria-describedby",i._ariaDescribedby||null)("aria-invalid",i.errorState)("aria-required",i.required.toString()),n.xp6(3),n.Q6J("color",i.color)("disabled",i.disabled),n.xp6(1),n.Q6J("ngIf",!i._customIcon),n.xp6(2),n.Q6J("multiple",i.multiple)("accept",i.accept))},dependencies:[rn,Or,fr,BR],styles:[".mat-form-field-appearance-legacy .mat-form-field-prefix .ngx-mat-file-input--default-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .ngx-mat-file-input--default-icon{width:1em}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .ngx-mat-file-input--default-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .ngx-mat-file-input--default-icon{display:block;width:1.5em;height:1.5em}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .ngx-mat-file-input--default-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .ngx-mat-file-input--default-icon{margin:auto}.ngx-mat-file-input{display:flex;line-height:18px;height:18px;align-items:center}.ngx-mat-file-input .input-file{display:block;visibility:hidden;width:0;height:0}\n"],encapsulation:2}),t})(),jCe=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[Zr,Ia,na,Wy,QP]}),t})();var y0=(()=>{return(t=y0||(y0={})).SetCanvasElement="[Canvas] Set Canvas Element",t.FindEditableRenderImage="[RenderImage] Find Editable RenderImage",t.FindEditableRenderImageSuccess="[RenderImage] Find Editable RenderImage Success",y0;var t})();const kz=(0,Oe.PH)(y0.SetCanvasElement,(0,Oe.Ky)()),Fz=(0,Oe.PH)(y0.FindEditableRenderImage,(0,Oe.Ky)()),YCe=(0,Oe.Lq)({element:null,images:[]},(0,Oe.on)(kz,(t,r)=>({...t,element:r.payload.element}))),Nz="aptoImageUpload",$Ce=(0,Oe.ZF)(Nz),WCe={canvas:function GCe(t,r){return YCe(t,r)}};let QCe=(()=>{class t{constructor(e){this.messageBus=e}findEditableRenderImage(e,i,o,a){return this.messageBus.query("ImageUploadFindEditableRenderImage",[e,i,o,a]).pipe((0,xt.U)(l=>l.result))}}return t.\u0275fac=function(e){return new(e||t)(n.LFG(Pd))},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),JCe=(()=>{class t{constructor(e,i,o){this.store$=e,this.actions$=i,this.canvasRepository=o,this.findEditableRenderImage$=br(()=>this.actions$.pipe(Yn(Fz),(0,Oo.M)(this.store$.select(ji)),(0,Qn.w)(([a,l])=>this.canvasRepository.findEditableRenderImage(l.state.compressedState,l.productId,a.payload.perspective,a.payload.renderImageIds)),(0,xt.U)(a=>no({payload:{renderImages:a}}))))}}return t.\u0275fac=function(e){return new(e||t)(n.LFG(Oe.yh),n.LFG(eo),n.LFG(QCe))},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac}),t})();function XCe(t,r){if(1&t&&(n.TgZ(0,"div",9)(1,"mat-icon"),n._uU(2,"done"),n.qZA()()),2&t){const e=n.oxw(2);n.ekj("selected",e.element.state.active)}}function KCe(t,r){if(1&t&&(n._UZ(0,"div",10),n.ALo(1,"safeHtml"),n.ALo(2,"translate")),2&t){const e=n.oxw(2);n.Q6J("innerHTML",n.lcZ(1,1,n.lcZ(2,3,e.element.element.description)),n.oJD)}}function exe(t,r){if(1&t&&n._UZ(0,"apto-element-attachment",11),2&t){const e=n.oxw(2);n.Q6J("attachments",e.element.element.attachments)}}function txe(t,r){if(1&t){const e=n.EpF();n.ynx(0),n.TgZ(1,"div",1),n.NdJ("click",function(){n.CHM(e);const o=n.oxw();return n.KtG(o.showDesigner())}),n.TgZ(2,"div",2)(3,"div"),n.YNc(4,XCe,3,2,"div",3),n.TgZ(5,"div",4),n._UZ(6,"img",5),n.qZA()()(),n.TgZ(7,"div",6)(8,"p"),n._uU(9),n.ALo(10,"translate"),n.qZA()()(),n.YNc(11,KCe,3,5,"div",7),n.ALo(12,"translate"),n.YNc(13,exe,1,1,"apto-element-attachment",8),n.BQk()}if(2&t){const e=n.oxw();n.ekj("step-by-step",e.product.useStepByStep)("one-page",!e.product.useStepByStep),n.xp6(3),n.ekj("selected",e.element.state.active),n.xp6(1),n.Q6J("ngIf",e.element.state.active),n.xp6(2),n.Q6J("src",e.element.element.previewImage,n.LSH),n.xp6(3),n.Oqu(n.lcZ(10,11,e.element.element.name)),n.xp6(2),n.Q6J("ngIf",""!==n.lcZ(12,13,e.element.element.description)),n.xp6(2),n.Q6J("ngIf",e.hasAttachments)}}let nxe=(()=>{class t{constructor(e){this.store=e,this.contentSnippet$=this.store.select(un("aptoDefaultElementDefinition"))}get hasAttachments(){return 0!==this.element.element.attachments?.length}showDesigner(){if(this.store.dispatch(kz({payload:{element:{elementId:this.element?.element.id,sectionId:this.element?.element.sectionId,sectionRepetition:this.element?.state.sectionRepetition,staticValues:this.element?.element.definition.staticValues,state:this.element?.state.values}}})),this.element?.state.values.payload&&this.element?.state.values.payload.renderImages){const e=[];this.element?.state.values.payload.renderImages.forEach(i=>{e.push(i.renderImageId)}),this.store.dispatch(Fz({payload:{perspective:this.element?.state.values.payload.renderImages[0].perspective,renderImageIds:e}}))}this.store.dispatch(gd({payload:!0}))}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(Oe.yh))},t.\u0275cmp=n.Xpm({type:t,selectors:[["apto-image-upload"]],inputs:{element:"element",product:"product"},decls:1,vars:1,consts:[[3,"step-by-step","one-page",4,"ngIf"],[1,"container",3,"click"],[1,"single-element"],["class","circle",3,"selected",4,"ngIf"],[1,"element-img"],[3,"src"],[1,"element-name"],["class","description",3,"innerHTML",4,"ngIf"],[3,"attachments",4,"ngIf"],[1,"circle"],[1,"description",3,"innerHTML"],[3,"attachments"]],template:function(e,i){1&e&&n.YNc(0,txe,14,15,"ng-container",0),2&e&&n.Q6J("ngIf",i.element&&i.element.element.name&&i.product)},dependencies:[rn,fr,ru,Tr,Lo],styles:[".container[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;display:flex;flex-direction:column;justify-content:center;align-items:center;cursor:pointer}.container[_ngcontent-%COMP%]   .single-element[_ngcontent-%COMP%]{position:relative;width:var(--one-page-img-size)}.container[_ngcontent-%COMP%]   .single-element[_ngcontent-%COMP%]   .selected[_ngcontent-%COMP%]{outline:3px solid var(--color-border-dimensions);border-radius:var(--border-radius-card)}.container[_ngcontent-%COMP%]   .single-element[_ngcontent-%COMP%]   .selected[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]{border:2px solid transparent;border-radius:var(--border-radius-bubble);height:20px;width:20px;color:#fff;display:flex;justify-content:center;align-items:center;position:absolute;background-color:#fff;transition:background-color .25s ease,border-color .25s ease;top:-8px;right:-8px;outline:none}.container[_ngcontent-%COMP%]   .single-element[_ngcontent-%COMP%]   .selected[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{display:none;text-align:center;height:15px;width:15px;overflow:hidden;line-height:15px;font-size:15px}.container[_ngcontent-%COMP%]   .single-element[_ngcontent-%COMP%]   .selected[_ngcontent-%COMP%]   .circle.selected[_ngcontent-%COMP%]{background-color:var(--color-border-selected);border:2px solid var(--color-border-selected)}.container[_ngcontent-%COMP%]   .single-element[_ngcontent-%COMP%]   .selected[_ngcontent-%COMP%]   .circle.selected[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{display:flex}.container[_ngcontent-%COMP%]   .single-element[_ngcontent-%COMP%]   .element-img[_ngcontent-%COMP%]{display:flex;justify-content:center;background-color:var(--color-background-image);overflow:hidden;border-radius:var(--border-radius-card);height:100%;width:100%}.container[_ngcontent-%COMP%]   .single-element[_ngcontent-%COMP%]   .element-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:var(--one-page-img-size)}.container[_ngcontent-%COMP%]   .element-name[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;margin-top:10px;text-align:center;word-break:break-all;max-width:var(--one-page-img-size);font-size:13px;font-weight:500}"]}),t})();const rxe=["button"],ixe=["*"],Rz=new n.OlP("MAT_BUTTON_TOGGLE_DEFAULT_OPTIONS"),Lz=new n.OlP("MatButtonToggleGroup"),oxe={provide:Ci,useExisting:(0,n.Gpc)(()=>Vz),multi:!0};let Bz=0;class Uz{constructor(r,e){this.source=r,this.value=e}}let Vz=(()=>{class t{constructor(e,i){this._changeDetector=e,this._vertical=!1,this._multiple=!1,this._disabled=!1,this._controlValueAccessorChangeFn=()=>{},this._onTouched=()=>{},this._name="mat-button-toggle-group-"+Bz++,this.valueChange=new n.vpe,this.change=new n.vpe,this.appearance=i&&i.appearance?i.appearance:"standard"}get name(){return this._name}set name(e){this._name=e,this._markButtonsForCheck()}get vertical(){return this._vertical}set vertical(e){this._vertical=Cn(e)}get value(){const e=this._selectionModel?this._selectionModel.selected:[];return this.multiple?e.map(i=>i.value):e[0]?e[0].value:void 0}set value(e){this._setSelectionByValue(e),this.valueChange.emit(this.value)}get selected(){const e=this._selectionModel?this._selectionModel.selected:[];return this.multiple?e:e[0]||null}get multiple(){return this._multiple}set multiple(e){this._multiple=Cn(e),this._markButtonsForCheck()}get disabled(){return this._disabled}set disabled(e){this._disabled=Cn(e),this._markButtonsForCheck()}ngOnInit(){this._selectionModel=new zR(this.multiple,void 0,!1)}ngAfterContentInit(){this._selectionModel.select(...this._buttonToggles.filter(e=>e.checked))}writeValue(e){this.value=e,this._changeDetector.markForCheck()}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_emitChangeEvent(e){const i=new Uz(e,this.value);this._controlValueAccessorChangeFn(i.value),this.change.emit(i)}_syncButtonToggle(e,i,o=!1,a=!1){!this.multiple&&this.selected&&!e.checked&&(this.selected.checked=!1),this._selectionModel?i?this._selectionModel.select(e):this._selectionModel.deselect(e):a=!0,a?Promise.resolve().then(()=>this._updateModelValue(e,o)):this._updateModelValue(e,o)}_isSelected(e){return this._selectionModel&&this._selectionModel.isSelected(e)}_isPrechecked(e){return!(typeof this._rawValue>"u")&&(this.multiple&&Array.isArray(this._rawValue)?this._rawValue.some(i=>null!=e.value&&i===e.value):e.value===this._rawValue)}_setSelectionByValue(e){this._rawValue=e,this._buttonToggles&&(this.multiple&&e?(Array.isArray(e),this._clearSelection(),e.forEach(i=>this._selectValue(i))):(this._clearSelection(),this._selectValue(e)))}_clearSelection(){this._selectionModel.clear(),this._buttonToggles.forEach(e=>e.checked=!1)}_selectValue(e){const i=this._buttonToggles.find(o=>null!=o.value&&o.value===e);i&&(i.checked=!0,this._selectionModel.select(i))}_updateModelValue(e,i){i&&this._emitChangeEvent(e),this.valueChange.emit(this.value)}_markButtonsForCheck(){this._buttonToggles?.forEach(e=>e._markForCheck())}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(n.sBO),n.Y36(Rz,8))},t.\u0275dir=n.lG2({type:t,selectors:[["mat-button-toggle-group"]],contentQueries:function(e,i,o){if(1&e&&n.Suo(o,zz,5),2&e){let a;n.iGM(a=n.CRH())&&(i._buttonToggles=a)}},hostAttrs:["role","group",1,"mat-button-toggle-group"],hostVars:5,hostBindings:function(e,i){2&e&&(n.uIk("aria-disabled",i.disabled),n.ekj("mat-button-toggle-vertical",i.vertical)("mat-button-toggle-group-appearance-standard","standard"===i.appearance))},inputs:{appearance:"appearance",name:"name",vertical:"vertical",value:"value",multiple:"multiple",disabled:"disabled"},outputs:{valueChange:"valueChange",change:"change"},exportAs:["matButtonToggleGroup"],features:[n._Bn([oxe,{provide:Lz,useExisting:t}])]}),t})();const axe=Cf(class{});let zz=(()=>{class t extends axe{constructor(e,i,o,a,l,u){super(),this._changeDetectorRef=i,this._elementRef=o,this._focusMonitor=a,this._checked=!1,this.ariaLabelledby=null,this._disabled=!1,this.change=new n.vpe;const p=Number(l);this.tabIndex=p||0===p?p:null,this.buttonToggleGroup=e,this.appearance=u&&u.appearance?u.appearance:"standard"}get buttonId(){return`${this.id}-button`}get appearance(){return this.buttonToggleGroup?this.buttonToggleGroup.appearance:this._appearance}set appearance(e){this._appearance=e}get checked(){return this.buttonToggleGroup?this.buttonToggleGroup._isSelected(this):this._checked}set checked(e){const i=Cn(e);i!==this._checked&&(this._checked=i,this.buttonToggleGroup&&this.buttonToggleGroup._syncButtonToggle(this,this._checked),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled||this.buttonToggleGroup&&this.buttonToggleGroup.disabled}set disabled(e){this._disabled=Cn(e)}ngOnInit(){const e=this.buttonToggleGroup;this.id=this.id||"mat-button-toggle-"+Bz++,e&&(e._isPrechecked(this)?this.checked=!0:e._isSelected(this)!==this._checked&&e._syncButtonToggle(this,this._checked))}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){const e=this.buttonToggleGroup;this._focusMonitor.stopMonitoring(this._elementRef),e&&e._isSelected(this)&&e._syncButtonToggle(this,!1,!1,!0)}focus(e){this._buttonElement.nativeElement.focus(e)}_onButtonClick(){const e=!!this._isSingleSelector()||!this._checked;e!==this._checked&&(this._checked=e,this.buttonToggleGroup&&(this.buttonToggleGroup._syncButtonToggle(this,this._checked,!0),this.buttonToggleGroup._onTouched())),this.change.emit(new Uz(this,this.value))}_markForCheck(){this._changeDetectorRef.markForCheck()}_getButtonName(){return this._isSingleSelector()?this.buttonToggleGroup.name:this.name||null}_isSingleSelector(){return this.buttonToggleGroup&&!this.buttonToggleGroup.multiple}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(Lz,8),n.Y36(n.sBO),n.Y36(n.SBq),n.Y36(Ka),n.$8M("tabindex"),n.Y36(Rz,8))},t.\u0275cmp=n.Xpm({type:t,selectors:[["mat-button-toggle"]],viewQuery:function(e,i){if(1&e&&n.Gf(rxe,5),2&e){let o;n.iGM(o=n.CRH())&&(i._buttonElement=o.first)}},hostAttrs:["role","presentation",1,"mat-button-toggle"],hostVars:12,hostBindings:function(e,i){1&e&&n.NdJ("focus",function(){return i.focus()}),2&e&&(n.uIk("aria-label",null)("aria-labelledby",null)("id",i.id)("name",null),n.ekj("mat-button-toggle-standalone",!i.buttonToggleGroup)("mat-button-toggle-checked",i.checked)("mat-button-toggle-disabled",i.disabled)("mat-button-toggle-appearance-standard","standard"===i.appearance))},inputs:{disableRipple:"disableRipple",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],id:"id",name:"name",value:"value",tabIndex:"tabIndex",appearance:"appearance",checked:"checked",disabled:"disabled"},outputs:{change:"change"},exportAs:["matButtonToggle"],features:[n.qOj],ngContentSelectors:ixe,decls:6,vars:9,consts:[["type","button",1,"mat-button-toggle-button","mat-focus-indicator",3,"id","disabled","click"],["button",""],[1,"mat-button-toggle-label-content"],[1,"mat-button-toggle-focus-overlay"],["matRipple","",1,"mat-button-toggle-ripple",3,"matRippleTrigger","matRippleDisabled"]],template:function(e,i){if(1&e&&(n.F$t(),n.TgZ(0,"button",0,1),n.NdJ("click",function(){return i._onButtonClick()}),n.TgZ(2,"span",2),n.Hsn(3),n.qZA()(),n._UZ(4,"span",3)(5,"span",4)),2&e){const o=n.MAs(1);n.Q6J("id",i.buttonId)("disabled",i.disabled||null),n.uIk("tabindex",i.disabled?-1:i.tabIndex)("aria-pressed",i.checked)("name",i._getButtonName())("aria-label",i.ariaLabel)("aria-labelledby",i.ariaLabelledby),n.xp6(5),n.Q6J("matRippleTrigger",o)("matRippleDisabled",i.disableRipple||i.disabled)}},dependencies:[Ea],styles:[".mat-button-toggle-standalone,.mat-button-toggle-group{position:relative;display:inline-flex;flex-direction:row;white-space:nowrap;overflow:hidden;border-radius:2px;-webkit-tap-highlight-color:rgba(0,0,0,0);transform:translateZ(0)}.cdk-high-contrast-active .mat-button-toggle-standalone,.cdk-high-contrast-active .mat-button-toggle-group{outline:solid 1px}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.mat-button-toggle-group-appearance-standard{border-radius:4px}.cdk-high-contrast-active .mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.cdk-high-contrast-active .mat-button-toggle-group-appearance-standard{outline:0}.mat-button-toggle-vertical{flex-direction:column}.mat-button-toggle-vertical .mat-button-toggle-label-content{display:block}.mat-button-toggle{white-space:nowrap;position:relative}.mat-button-toggle .mat-icon svg{vertical-align:top}.mat-button-toggle.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:1}.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{opacity:.04}.mat-button-toggle-appearance-standard.cdk-keyboard-focused:not(.mat-button-toggle-disabled) .mat-button-toggle-focus-overlay{opacity:.12}@media(hover: none){.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{display:none}}.mat-button-toggle-label-content{-webkit-user-select:none;user-select:none;display:inline-block;line-height:36px;padding:0 16px;position:relative}.mat-button-toggle-appearance-standard .mat-button-toggle-label-content{padding:0 12px}.mat-button-toggle-label-content>*{vertical-align:middle}.mat-button-toggle-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit;pointer-events:none;opacity:0}.cdk-high-contrast-active .mat-button-toggle-checked .mat-button-toggle-focus-overlay{border-bottom:solid 36px;opacity:.5;height:0}.cdk-high-contrast-active .mat-button-toggle-checked:hover .mat-button-toggle-focus-overlay{opacity:.6}.cdk-high-contrast-active .mat-button-toggle-checked.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{border-bottom:solid 500px}.mat-button-toggle .mat-button-toggle-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-button-toggle-button{border:0;background:none;color:inherit;padding:0;margin:0;font:inherit;outline:none;width:100%;cursor:pointer}.mat-button-toggle-disabled .mat-button-toggle-button{cursor:default}.mat-button-toggle-button::-moz-focus-inner{border:0}"],encapsulation:2,changeDetection:0}),t})(),sxe=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[Xn,_l,Xn]}),t})();var jg=se(8621),lxe=se(7273),Hz=se.n(lxe);const jz={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let eS;const cxe=new Uint8Array(16);function uxe(){if(!eS&&(eS=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!eS))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return eS(cxe)}const To=[];for(let t=0;t<256;++t)To.push((t+256).toString(16).slice(1));const pxe=function dxe(t,r,e){if(jz.randomUUID&&!r&&!t)return jz.randomUUID();const i=(t=t||{}).random||(t.rng||uxe)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,r){e=e||0;for(let o=0;o<16;++o)r[e+o]=i[o];return r}return function qz(t,r=0){return To[t[r+0]]+To[t[r+1]]+To[t[r+2]]+To[t[r+3]]+"-"+To[t[r+4]]+To[t[r+5]]+"-"+To[t[r+6]]+To[t[r+7]]+"-"+To[t[r+8]]+To[t[r+9]]+"-"+To[t[r+10]]+To[t[r+11]]+To[t[r+12]]+To[t[r+13]]+To[t[r+14]]+To[t[r+15]]}(i)};let Zz=(()=>{class t{constructor(e){this.http=e}uploadLayerImageForArea(e,i,o,a,l){const u=document.createElement("canvas"),p=new jg.fabric.Canvas(u);return new Promise(f=>{p.loadFromJSON(JSON.stringify(e),()=>{p.setWidth(o.width),p.setHeight(o.height),p.setZoom(1),p.renderAll();const h=a+"-"+i.identifier,y=p.toDataURL({format:"png",left:i.left,top:i.top,width:i.width,height:i.height}),D=this.dataUrlToBlob(y),E=this.blobToFile(D,h+".png");this.uploadFile(E,h,"png",l).subscribe(k=>f(k))})})}uploadFile(e,i,o,a){const l=new FormData;return l.append("file[0]",e),l.append("command","UploadUserImageFile"),l.append("arguments[0]",i),l.append("arguments[1]",o),l.append("arguments[2]",a),this.http.post(yn.api.command,l)}updateTextElementForBending(e,i){e.clone(o=>{let a={charSpacing:125,pathAlign:"ascender",path:new jg.fabric.Path(this.describeArc(i,i,i,270,450),{fill:"transparent",stroke:"transparent",strokeWidth:0,originX:"center",originY:"center"})};e.setOptions(a)})}dataUrlToBlob(e){let i=e.split(","),o=i[0].match(/:(.*?);/)[1],a=atob(i[1]),l=a.length,u=new Uint8Array(l);for(;l--;)u[l]=a.charCodeAt(l);return new Blob([u],{type:o})}blobToFile(e,i){return e.lastModifiedDate=new Date,e.name=i,e}describeArc(e,i,o,a,l){const u=this.polarToCartesian(e,i,o,a),p=this.polarToCartesian(e,i,o,l);return["M",u.x,u.y,"A",o,o,0,l-a<=180?"0":"1",1,p.x,p.y].join(" ")}polarToCartesian(e,i,o,a){const l=(a-90)*Math.PI/180;return{x:e+o*Math.cos(l),y:i+o*Math.sin(l)}}}return t.\u0275fac=function(e){return new(e||t)(n.LFG(fn))},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const fxe=["htmlCanvas"],hxe=["htmlRenderImage"],mxe=["htmlMiddle"];function gxe(t,r){if(1&t&&(n.ynx(0),n.O4$(),n.TgZ(1,"svg",2)(2,"style"),n._uU(3),n.qZA()(),n.kcU(),n.TgZ(4,"div",3),n._UZ(5,"span"),n.qZA(),n.BQk()),2&t){const e=n.oxw().$implicit;n.xp6(3),n.AsE(" @font-face { font-family: '",e.family,"'; src: url('",e.url,"'); } "),n.xp6(2),n.Jzz('font-family: "',e.family,'"')}}function _xe(t,r){if(1&t&&(n.TgZ(0,"div"),n.YNc(1,gxe,6,5,"ng-container",1),n.qZA()),2&t){const e=r.$implicit;n.xp6(1),n.Q6J("ngIf",e.url)}}function vxe(t,r){if(1&t&&(n.TgZ(0,"p"),n._UZ(1,"span",25),n.ALo(2,"contentSnippet"),n.ALo(3,"async"),n._uU(4),n.qZA()),2&t){const e=n.oxw(4);n.xp6(1),n.Q6J("innerHTML",n.xi3(2,2,n.lcZ(3,5,e.contentSnippet$),"error.pattern"),n.oJD),n.xp6(3),n.hij(" ",e.getAcceptedFileTypes()," ")}}function yxe(t,r){if(1&t&&(n.TgZ(0,"p"),n._UZ(1,"span",25),n.ALo(2,"contentSnippet"),n.ALo(3,"async"),n._uU(4),n._UZ(5,"span",25),n.ALo(6,"contentSnippet"),n.ALo(7,"async"),n.qZA()),2&t){const e=n.oxw(4);n.xp6(1),n.Q6J("innerHTML",n.xi3(2,3,n.lcZ(3,6,e.contentSnippet$),"error.maxSize.prefix"),n.oJD),n.xp6(3),n.hij(" ",null==e.canvas.element.staticValues.image[e.currentPerspective]?null:e.canvas.element.staticValues.image[e.currentPerspective].maxFileSize,"MB "),n.xp6(1),n.Q6J("innerHTML",n.xi3(6,8,n.lcZ(7,11,e.contentSnippet$),"error.maxSize.suffix"),n.oJD)}}function bxe(t,r){if(1&t&&(n.TgZ(0,"p"),n._UZ(1,"span",25),n.ALo(2,"contentSnippet"),n.ALo(3,"async"),n._uU(4),n._UZ(5,"span",25),n.ALo(6,"contentSnippet"),n.ALo(7,"async"),n.qZA()),2&t){const e=n.oxw(4);n.xp6(1),n.Q6J("innerHTML",n.xi3(2,4,n.lcZ(3,7,e.contentSnippet$),"error.minDimensions.prefix"),n.oJD),n.xp6(3),n.AsE(" ",null==e.canvas.element.staticValues.image[e.currentPerspective]?null:e.canvas.element.staticValues.image[e.currentPerspective].minWidth," x ",null==e.canvas.element.staticValues.image[e.currentPerspective]?null:e.canvas.element.staticValues.image[e.currentPerspective].minHeight," "),n.xp6(1),n.Q6J("innerHTML",n.xi3(6,9,n.lcZ(7,12,e.contentSnippet$),"error.minDimensions.suffix"),n.oJD)}}function Cxe(t,r){if(1&t&&(n.TgZ(0,"p"),n._UZ(1,"span",25),n.ALo(2,"contentSnippet"),n.ALo(3,"async"),n.qZA()),2&t){const e=n.oxw(4);n.xp6(1),n.Q6J("innerHTML",n.xi3(2,1,n.lcZ(3,4,e.contentSnippet$),"error.default"),n.oJD)}}function xxe(t,r){if(1&t&&(n.TgZ(0,"div",24),n.YNc(1,vxe,5,7,"p",1),n.YNc(2,yxe,8,13,"p",1),n.YNc(3,bxe,8,14,"p",1),n.YNc(4,Cxe,4,6,"p",1),n.qZA()),2&t){const e=r.$implicit;n.xp6(1),n.Q6J("ngIf","pattern"===e.type),n.xp6(1),n.Q6J("ngIf","maxSize"===e.type),n.xp6(1),n.Q6J("ngIf","minDimensions"===e.type),n.xp6(1),n.Q6J("ngIf","default"===e.type)}}function wxe(t,r){if(1&t){const e=n.EpF();n.TgZ(0,"button",26),n.NdJ("click",function(){n.CHM(e);const o=n.oxw(3);return n.KtG(o.removeSelectedObject())}),n._uU(1),n.ALo(2,"contentSnippet"),n.ALo(3,"async"),n.qZA()}if(2&t){const e=n.oxw(3);n.xp6(1),n.Oqu(n.xi3(2,1,n.lcZ(3,4,e.contentSnippet$),"upload.deleteImage"))}}function Mxe(t,r){if(1&t&&(n.ynx(0),n.TgZ(1,"div",15)(2,"div",16)(3,"div",17),n._uU(4,"Bildupload:"),n.qZA()(),n.TgZ(5,"mat-form-field",18)(6,"ngx-mat-file-input",19)(7,"mat-icon",20),n._uU(8,"folder"),n.qZA()()(),n.TgZ(9,"div",21),n.YNc(10,xxe,5,4,"div",22),n.qZA(),n.YNc(11,wxe,4,6,"button",23),n.qZA(),n.BQk()),2&t){const e=n.oxw(2);n.xp6(6),n.Q6J("placeholder","Datei ausw\xe4hlen")("formControl",e.imageUploadControl)("multiple",!1)("accept",e.getAcceptedFileTypes())("color","primary"),n.xp6(4),n.Q6J("ngForOf",e.imageUploadErrors),n.xp6(1),n.Q6J("ngIf",e.fabricSelectedObject&&"image"===e.fabricSelectedObject.payload.type)}}function Sxe(t,r){if(1&t){const e=n.EpF();n.TgZ(0,"div",30)(1,"img",31),n.NdJ("click",function(){const a=n.CHM(e).$implicit,l=n.oxw(3);return n.KtG(l.addMotive(a))}),n.qZA(),n.TgZ(2,"div",32),n._uU(3),n.qZA()()}if(2&t){const e=r.$implicit,i=n.oxw(3);n.ekj("selected",i.selectedMotive===e.name),n.xp6(1),n.Q6J("src",i.mediaUrl+e.path,n.LSH),n.xp6(2),n.Oqu(i.getNameFromFileName(e.name))}}function Dxe(t,r){if(1&t&&(n.ynx(0),n.TgZ(1,"div",27)(2,"div",17),n._uU(3,"Motive:"),n.qZA()(),n.TgZ(4,"div",28),n.YNc(5,Sxe,4,4,"div",29),n.qZA(),n.BQk()),2&t){const e=n.oxw(2);n.xp6(5),n.Q6J("ngForOf",null==e.canvas.element.staticValues.motive[e.currentPerspective]?null:e.canvas.element.staticValues.motive[e.currentPerspective].files)}}const Oxe=function(t,r,e,i){return{width:t,height:r,left:e,top:i}};function Exe(t,r){if(1&t&&n._UZ(0,"div",33),2&t){const e=r.$implicit;n.Q6J("ngStyle",n.l5B(1,Oxe,e.width+"px",e.height+"px",e.left+"px",e.top+"px"))}}function Axe(t,r){if(1&t){const e=n.EpF();n.TgZ(0,"input",42),n.NdJ("colorChange",function(o){n.CHM(e);const a=n.oxw().$implicit,l=n.oxw(3);return n.KtG(l.updateTextColor(o,a.identifier))}),n.qZA()}if(2&t){const e=n.oxw().$implicit,i=n.MAs(10),o=n.oxw(3);n.Q6J("ngxMatColorPicker",i)("value",o.getColorFromHex(o.getObjectValue("text",e.identifier,"fill")))}}function Pxe(t,r){if(1&t&&n._UZ(0,"ngx-mat-color-toggle",43),2&t){n.oxw();const e=n.MAs(10);n.Q6J("for",e)}}function Txe(t,r){if(1&t){const e=n.EpF();n.ynx(0),n.TgZ(1,"div",27)(2,"div",17),n._uU(3),n.qZA(),n.TgZ(4,"div",35),n.YNc(5,Axe,1,2,"input",36),n.TgZ(6,"input",37),n.NdJ("keyup",function(o){const l=n.CHM(e).$implicit,u=n.oxw(3);return n.KtG(u.updateText(o,l.identifier))})("focusin",function(){const a=n.CHM(e).$implicit,l=n.oxw(3);return n.KtG(l.removeDefaultText(a,a.payload.box.identifier))}),n.qZA(),n.TgZ(7,"span",38),n.YNc(8,Pxe,1,1,"ngx-mat-color-toggle",39),n._UZ(9,"ngx-mat-color-picker",40,41),n.qZA()()(),n.BQk()}if(2&t){const e=r.$implicit,i=n.oxw(3);n.xp6(3),n.Oqu(i.getTextBoxProperty(e.identifier,"name")),n.xp6(2),n.Q6J("ngIf",e.payload.box.colorPicker),n.xp6(1),n.Q6J("maxLength",e.payload.box.maxlength?e.payload.box.maxlength:20)("value",e.text),n.xp6(2),n.Q6J("ngIf",e.payload.box.colorPicker),n.xp6(1),n.Q6J("touchUi",!1)("color","primary")}}function Ixe(t,r){if(1&t){const e=n.EpF();n.TgZ(0,"input",42),n.NdJ("colorChange",function(o){n.CHM(e);const a=n.oxw().ngIf,l=n.oxw(4);return n.KtG(l.updateTextColor(o,a.identifier))}),n.qZA()}if(2&t){const e=n.oxw().ngIf,i=n.MAs(10),o=n.oxw(4);n.Q6J("ngxMatColorPicker",i)("value",o.getColorFromHex(o.getObjectValue("text",e.identifier,"fill")))}}function kxe(t,r){if(1&t&&n._UZ(0,"ngx-mat-color-toggle",43),2&t){n.oxw();const e=n.MAs(10);n.Q6J("for",e)}}function Fxe(t,r){if(1&t){const e=n.EpF();n.TgZ(0,"div",27)(1,"div",17),n._uU(2),n.qZA(),n.TgZ(3,"div",44)(4,"div",35),n.YNc(5,Ixe,1,2,"input",36),n.TgZ(6,"input",37),n.NdJ("keyup",function(o){const l=n.CHM(e).ngIf,u=n.oxw(4);return n.KtG(u.updateText(o,l.identifier))})("focusin",function(){const a=n.CHM(e).ngIf,l=n.oxw(4);return n.KtG(l.removeDefaultText(a,a.identifier))}),n.qZA(),n.TgZ(7,"span",38),n.YNc(8,kxe,1,1,"ngx-mat-color-toggle",39),n._UZ(9,"ngx-mat-color-picker",40,41),n.qZA()(),n.TgZ(11,"div",45),n.NdJ("click",function(){n.CHM(e);const o=n.oxw().$implicit,a=n.oxw(3);return n.KtG(a.addNewTextBox(o.textBoxes[o.selectedIndex].payload.box,o))}),n.TgZ(12,"mat-icon"),n._uU(13,"add"),n.qZA()()()()}if(2&t){const e=r.ngIf,i=n.oxw().$implicit;n.xp6(2),n.Oqu(i.name),n.xp6(3),n.Q6J("ngIf",e.payload.box.colorPicker),n.xp6(1),n.Q6J("maxLength",e.payload.box.maxlength?e.payload.box.maxlength:20)("value",e.text),n.xp6(2),n.Q6J("ngIf",e.payload.box.colorPicker),n.xp6(1),n.Q6J("touchUi",!1)("color","primary")}}function Nxe(t,r){if(1&t&&(n.ynx(0),n.YNc(1,Fxe,14,7,"div",34),n.BQk()),2&t){const e=r.$implicit;n.xp6(1),n.Q6J("ngIf",e.textBoxes[e.selectedIndex])}}function Rxe(t,r){if(1&t&&(n.TgZ(0,"mat-option",48),n._uU(1),n.qZA()),2&t){const e=r.$implicit;n.Q6J("value",e),n.xp6(1),n.hij(" ",e.family," ")}}function Lxe(t,r){if(1&t){const e=n.EpF();n.TgZ(0,"div",27)(1,"div",17),n._uU(2,"Schriftart:"),n.qZA(),n.TgZ(3,"div",35)(4,"mat-select",46),n.NdJ("selectionChange",function(o){n.CHM(e);const a=n.oxw(3);return n.KtG(a.updateTextFont(o))}),n.YNc(5,Rxe,2,2,"mat-option",47),n.qZA()()()}if(2&t){const e=n.oxw(3);n.xp6(4),n.Q6J("value",e.selectedFont),n.xp6(1),n.Q6J("ngForOf",e.fonts)}}function Bxe(t,r){if(1&t&&(n.ynx(0),n.YNc(1,Txe,11,7,"ng-container",0),n.YNc(2,Nxe,2,1,"ng-container",0),n.YNc(3,Lxe,6,2,"div",34),n.BQk()),2&t){const e=n.oxw(2);n.xp6(1),n.Q6J("ngForOf",e.fabricTextBoxes),n.xp6(1),n.Q6J("ngForOf",e.multipleFabricTextBoxes),n.xp6(1),n.Q6J("ngIf",e.fonts.length>0)}}function Uxe(t,r){if(1&t){const e=n.EpF();n.ynx(0),n.TgZ(1,"div",4)(2,"div",5),n.YNc(3,Mxe,12,7,"ng-container",1),n.YNc(4,Dxe,6,1,"ng-container",1),n.qZA(),n.TgZ(5,"div",6,7),n.NdJ("resized",function(o){n.CHM(e);const a=n.oxw();return n.KtG(a.onResizedMiddle(o))}),n.TgZ(7,"img",8,9),n.NdJ("resized",function(o){n.CHM(e);const a=n.oxw();return n.KtG(a.onResizedBackground(o))}),n.qZA(),n.TgZ(9,"div",10),n._UZ(10,"canvas",11,12),n.YNc(12,Exe,1,6,"div",13),n.qZA()(),n.TgZ(13,"div",14),n.YNc(14,Bxe,4,3,"ng-container",1),n.qZA()(),n.BQk()}if(2&t){const e=n.oxw();n.xp6(3),n.Q6J("ngIf",null==e.canvas.element.staticValues.image[e.currentPerspective]?null:e.canvas.element.staticValues.image[e.currentPerspective].active),n.xp6(1),n.Q6J("ngIf",(null==e.canvas.element.staticValues.motive[e.currentPerspective]?null:e.canvas.element.staticValues.motive[e.currentPerspective].active)&&(null==e.canvas.element.staticValues.motive[e.currentPerspective]?null:e.canvas.element.staticValues.motive[e.currentPerspective].files.length)>0),n.xp6(3),n.Q6J("src",e.renderImage.src,n.LSH),n.xp6(2),n.Q6J("ngStyle",e.canvasStyle),n.xp6(1),n.Q6J("width",e.canvasWidth)("height",e.canvasHeight),n.xp6(2),n.Q6J("ngForOf",e.printAreas),n.xp6(2),n.Q6J("ngIf",e.canvas.element.staticValues.text.active)}}let gh=class{constructor(r,e,i){this.store=r,this.fabricCanvasService=e,this.renderImageService=i,this.initStarted=!1,this.mediaUrl=yn.api.media,this.renderImage=null,this.imageUploadErrors=[],this.contentSnippet$=this.store.select(un("plugins.imageUpload")),this.printAreas=[],this.canvasStyle={width:"0px",height:"0px",left:"0px"},this.middleWidth=0,this.canvasWidth=0,this.canvasHeight=0,this.canvasLeft=0,this.fabricCanvas=null,this.fabricSelectedObject=null,this.fabricTextBoxes=[],this.multipleFabricTextBoxes=[],this.controlOptionsLocked={selectable:!1,editable:!1,hasControls:!1,lockMovementX:!0,lockMovementY:!0,lockRotation:!0,lockScalingFlip:!0,lockScalingX:!0,lockScalingY:!0,lockSkewingX:!0,lockSkewingY:!0},this.controlOptionsEditable={selectable:!0,editable:!0,hasControls:!0,lockMovementX:!1,lockMovementY:!1,lockRotation:!1,lockScalingFlip:!1,lockScalingX:!1,lockScalingY:!1,lockSkewingX:!0,lockSkewingY:!0},this.controlVisibility={mtr:!0,tl:!0,bl:!0,tr:!0,br:!0,mt:!1,mb:!1,ml:!1,mr:!1},this.fonts=[],this.selectedFont=null}ngOnInit(){var t;this.imageUploadControl=new Ln(null,[Dr.required,(t=1024*this.canvas.element.staticValues.image[this.currentPerspective]?.maxFileSize*1024,r=>{if(t=Number(t),isNaN(t))throw"MaxSizeValidator: max of size of file is invalid";if(!r.value)return null;let e=r.value;return Array.isArray(r.value)||(e=[r.value]),e.length&&e.map(a=>a.size).reduce((a,l)=>a+l)>t?{maxSize:!0}:null})]),this.imageUploadControl.valueChanges.subscribe(r=>{this.imageUploadErrors=[],this.imageUploadControl.errors?this.imageUploadControl.errors.hasOwnProperty("maxSize")&&this.imageUploadErrors.push({type:"maxSize"}):this.addImageFromFile(r)})}ngAfterViewInit(){var r=this;return bc(function*(){r.renderImage=yield r.renderImageService.drawImageForPerspective(r.currentPerspective,e=>!e.path.startsWith("/apto-plugin-image-upload/render-images/")),r.renderImage&&!1===r.initStarted&&(r.initStarted=!0,r.init())})()}init(){this.initFonts().then(()=>{setTimeout(()=>{this.fabricCanvas=new jg.fabric.Canvas(this.htmlCanvas.nativeElement,{preserveObjectStacking:!0,selection:!1}),this.initCanvasSize(),this.fabricCanvas.on({"selection:created":this.selectionUpdated.bind(this),"selection:updated":this.selectionUpdated.bind(this),"selection:cleared":this.selectionCleared.bind(this)}),this.canvas.element.state.payload&&this.canvas.element.state.payload[this.currentPerspective]?this.initState(()=>{this.fabricCanvas.requestRenderAll();for(const r of this.fabricCanvas.getObjects())if("motive"===r.payload.type){this.selectedMotive=r.payload.file.name;break}}):(this.initTextBoxes(),this.fabricCanvas.requestRenderAll())})})}initFonts(){this.fonts=[],this.selectedFont=null;const r=[new(Hz())("Montserrat").load()];if(!this.canvas.element.staticValues.text.fonts)return Promise.all(r);for(let e=0;e<this.canvas.element.staticValues.text.fonts.length;e++){const i=this.canvas.element.staticValues.text.fonts[e];i.isActive&&(this.fonts.push({family:i.name,url:this.mediaUrl+i.file}),i.isDefault&&(this.selectedFont=this.fonts[this.fonts.length-1]),r.push(new(Hz())(i.name).load()))}return Promise.all(r)}initCanvasSize(){this.updateCanvasStyle(),this.calculatePrintAreas(),this.setCanvasSize()}initTextBoxes(){this.fabricTextBoxes=[],this.multipleFabricTextBoxes=[],this.canvas.element.staticValues.text.active&&this.canvas.element.staticValues.text.boxes.forEach(r=>{if(r.perspective!==this.currentPerspective)return;const e=Math.random().toString(),i={identifier:r.identifier,fontSize:r.fontSize,fill:r.fill,textAlign:r.textAlign,left:r.left,top:r.top,fontFamily:this.selectedFont?this.selectedFont.family:"Montserrat",originX:"center",originY:"center",payload:{box:{...r,groupId:e},type:"text"}},o=new jg.fabric.Text(r.default,{...i,...this.getTextBoxControlOptions(r)}).setControlsVisibility(this.controlVisibility);r.radius>0&&this.fabricCanvasService.updateTextElementForBending(o,r.radius),this.fabricCanvas.add(o),r.allowMultiple?this.multipleFabricTextBoxes.push({name:r.name,selectedIndex:0,groupId:e,textBoxes:[o]}):this.fabricTextBoxes.push(o)})}initState(r){this.fabricCanvas.loadFromJSON(this.canvas.element.state.payload[this.currentPerspective].json,()=>{this.fabricCanvas.getObjects().forEach(e=>{const i=e.get("payload");if("text"===i.type)if(e.setOptions(this.getTextBoxControlOptions(i.box)),e.payload.box.allowMultiple){const o=this.multipleFabricTextBoxes.find(a=>a.groupId===e.payload.box.groupId);o?o.textBoxes.push(e):this.multipleFabricTextBoxes.push({name:e.payload.box.name,selectedIndex:0,groupId:e.payload.box.groupId,textBoxes:[e]})}else this.fabricTextBoxes.push(e);"motive"===i.type&&(e.setOptions(this.controlOptionsLocked),e.sendToBack()),"image"===i.type&&e.setOptions(this.controlOptionsEditable),e.setControlsVisibility(this.controlVisibility)}),r()})}onResizedBackground(r){r.isFirst||this.initCanvasSize()}onResizedMiddle(r){r.isFirst||this.initCanvasSize()}calculatePrintAreas(){if(!this.canvas)return;this.printAreas=[];const r=this.canvasWidth/this.renderImage.width;this.canvas.element.staticValues.area.forEach(e=>{e.perspective===this.currentPerspective&&this.printAreas.push({width:e.width*r,height:e.height*r,left:e.left*r,top:e.top*r})})}setCanvasSize(){if(!this.fabricCanvas||!this.canvas||this.canvasWidth<1||this.canvasHeight<1)return;const r=this.canvasWidth/this.renderImage.width;this.fabricCanvas.setWidth(this.canvasWidth),this.fabricCanvas.setHeight(this.canvasHeight),this.fabricCanvas.setZoom(r)}updateCanvasStyle(){!this.htmlRenderImage||(this.canvasWidth=this.htmlRenderImage.nativeElement.clientWidth,this.canvasHeight=this.htmlRenderImage.nativeElement.clientHeight,this.middleWidth=this.htmlMiddle.nativeElement.clientWidth,this.canvasLeft=(this.middleWidth-this.canvasWidth)/2,this.canvasStyle.width=this.canvasWidth+"px",this.canvasStyle.height=this.canvasHeight+"px",this.canvasStyle.left=this.canvasLeft+"px")}addImage(r,e,i=null,o=!1){jg.fabric.Image.fromURL(r,a=>{switch(a.setOptions(e),a.setControlsVisibility(this.controlVisibility),this.fabricCanvas.add(a),i){case"back":a.sendToBack();break;case"front":a.bringToFront()}o&&this.fabricCanvas.viewportCenterObject(a)})}addMotive(r){this.selectedMotive=r.name===this.selectedMotive?null:r.name;let e=!1;const i=this.mediaUrl+r.path,o=this.fabricCanvas.getObjects();for(let l=0;l<o.length;l++)"motive"===o[l].payload.type&&(this.fabricCanvas.remove(o[l]),e=o[l].payload.file.url===r.url);if(e)return;const a={...this.controlOptionsLocked,left:this.canvas.element.staticValues.motive[this.currentPerspective].left,top:this.canvas.element.staticValues.motive[this.currentPerspective].top,payload:{type:"motive",file:r,name:this.getNameFromFileName(r.name),url:i}};this.addImage(i,a,"back")}addImageFromFile(r){const e=new Date,i=pxe(),o=this.getExtensionFromFileName(r.name),a="/apto-plugin-image-upload/user-images/"+e.getFullYear()+"/"+(e.getMonth()+1).toString().padStart(2,"0")+"/",u=window.URL.createObjectURL(r);var p;(p=u,new Promise(f=>{const h=new Image;h.onload=()=>{f({height:h.height,width:h.width})},h.src=p})).then(p=>{this.assertValidDimensions(p)?this.fabricCanvasService.uploadFile(r,i,o,a).subscribe(f=>{const h=this.getImageScale(this.canvas.element.staticValues.image[this.currentPerspective]?.previewSize,p),y={...this.controlOptionsEditable,scaleX:h,scaleY:h,left:0,top:0,payload:{type:"image"}};this.addImage(this.mediaUrl+a+i+"."+o,y,"front",!0)}):this.imageUploadErrors.push({type:"minDimensions"})}),this.imageUploadControl.reset(),this.fabricSelectedObject=null}selectionUpdated(r){if(this.fabricSelectedObject=null,r.selected.length>0&&(this.fabricSelectedObject=r.selected[0]),this.fabricSelectedObject.payload.box.allowMultiple){const e=this.multipleFabricTextBoxes.find(i=>i.groupId===this.fabricSelectedObject.payload.box.groupId);e&&(e.selectedIndex=e.textBoxes.findIndex(i=>i.identifier===this.fabricSelectedObject.identifier))}}selectionCleared(r){this.fabricSelectedObject=null}removeSelectedObject(){!this.fabricSelectedObject||("image"===this.fabricSelectedObject.payload.type&&this.imageUploadControl.reset(),this.fabricCanvas.remove(this.fabricSelectedObject),this.fabricSelectedObject=null)}updateText(r,e){this.updateTextPropery(e,"text",r.target.value)}removeDefaultText(r,e){r.get("text")===r.payload.box.default&&this.updateTextPropery(e,"text","")}updateTextColor(r,e){this.updateTextPropery(e,"fill","#"+r.value.hex,{color:r.value})}updateTextFont(r){this.selectedFont=r.value,this.fabricCanvas.getObjects().forEach(e=>{"text"===e.get("type")&&e.setOptions({fontFamily:this.selectedFont.family})}),this.fabricCanvas.renderAll()}getObjectValue(r,e,i){const o=this.fabricCanvas.getObjects().find(a=>a.get("type")===r&&a.get("identifier")===e);return o&&o.hasOwnProperty(i)?o[i]:null}getColorFromHex(r){if(null===r)return new tp(0,0,0,1);const{r:e,g:i,b:o,a}=XM(r);return new tp(e,i,o,a)}getTextBoxProperty(r,e){const i=this.canvas.element.staticValues.text.boxes;for(let o=0;o<i.length;o++)if(r===i[o].identifier)return i[o][e];return null}getAcceptedFileTypes(){return this.canvas.element.staticValues.image[this.currentPerspective]?.allowedMimeTypes.join(",")}getPrintAreaId(r){return r.perspective+r.layer+r.width+r.height+r.left+r.top}getTextBoxControlOptions(r){return r.locked?this.controlOptionsLocked:this.controlOptionsEditable}getExtensionFromFileName(r){const e=r.split(".");return 1===e.length||""===e[0]&&2===e.length?"":(""+e.pop()).toLowerCase()}getNameFromFileName(r){return r.replace("."+this.getExtensionFromFileName(r),"")}addNewTextBox(r,e){const i=Object.assign({},r),o=i.identifier+Math.random();i.identifier=o;const l=new jg.fabric.Text(i.default,{groupId:e.groupId,identifier:o,fontSize:i.fontSize,fill:i.fill,textAlign:i.textAlign,left:i.left+10,top:i.top+10,fontFamily:this.selectedFont?this.selectedFont.family:"Montserrat",originX:"center",originY:"center",payload:{box:i,type:"text"},...this.getTextBoxControlOptions(i)}).setControlsVisibility(this.controlVisibility);i.radius>0&&this.fabricCanvasService.updateTextElementForBending(l,i.radius),this.fabricCanvas.add(l),e.textBoxes.push(l),this.fabricSelectedObject=l,this.fabricCanvas.setActiveObject(l)}getImageScale(r,e){return r/e.width}updateTextPropery(r,e,i,o={}){this.fabricCanvas.getObjects().forEach(a=>{"text"===a.get("type")&&a.get("identifier")===r&&(a.setOptions({[e]:i,payload:{...a.payload,...o}}),this.fabricCanvas.renderAll())})}assertValidDimensions(r){const e=this.canvas.element.staticValues.image[this.currentPerspective]?.minWidth,i=this.canvas.element.staticValues.image[this.currentPerspective]?.minHeight;return!(e>0&&r.width<e||i>0&&r.width<i)}};gh.\u0275fac=function(r){return new(r||gh)(n.Y36(Oe.yh),n.Y36(Zz),n.Y36(kd))},gh.\u0275cmp=n.Xpm({type:gh,selectors:[["apto-designer"]],viewQuery:function(r,e){if(1&r&&(n.Gf(fxe,5),n.Gf(hxe,5),n.Gf(mxe,5)),2&r){let i;n.iGM(i=n.CRH())&&(e.htmlCanvas=i.first),n.iGM(i=n.CRH())&&(e.htmlRenderImage=i.first),n.iGM(i=n.CRH())&&(e.htmlMiddle=i.first)}},hostVars:2,hostBindings:function(r,e){2&r&&n.ekj("visible",e.visible)},inputs:{currentPerspective:"currentPerspective",locale:"locale",canvas:"canvas",product:"product",visible:"visible"},features:[n._Bn([kd])],decls:2,vars:2,consts:[[4,"ngFor","ngForOf"],[4,"ngIf"],["width","0","height","0",2,"display","none"],[2,"display","none"],[1,"designer"],[1,"left"],[1,"middle",3,"resized"],["htmlMiddle",""],[3,"src","resized"],["htmlRenderImage",""],[1,"designer-canvas-container",3,"ngStyle"],["id","designer-fabric-canvas",3,"width","height"],["htmlCanvas",""],["class","print-area",3,"ngStyle",4,"ngFor","ngForOf"],[1,"right"],[1,"image-upload-container"],[1,"input-field","image-upload-header"],[1,"name"],[1,"image-upload-input"],[3,"placeholder","formControl","multiple","accept","color"],["ngxMatFileInputIcon",""],[1,"image-upload-errors"],["class","image-upload-error",4,"ngFor","ngForOf"],["class","image-upload-delete","color","warn","mat-flat-button","",3,"click",4,"ngIf"],[1,"image-upload-error"],[3,"innerHTML"],["color","warn","mat-flat-button","",1,"image-upload-delete",3,"click"],[1,"input-field"],[1,"motive-container"],["class","motive-item",3,"selected",4,"ngFor","ngForOf"],[1,"motive-item"],[3,"src","click"],[1,"motive-item-name"],[1,"print-area",3,"ngStyle"],["class","input-field",4,"ngIf"],[1,"container-elem"],["class","color-picker-input",3,"ngxMatColorPicker","value","colorChange",4,"ngIf"],["type","text",1,"text-input",3,"maxLength","value","keyup","focusin"],[1,"color-picker-select"],["matSuffix","",3,"for",4,"ngIf"],[3,"touchUi","color"],["picker",""],[1,"color-picker-input",3,"ngxMatColorPicker","value","colorChange"],["matSuffix","",3,"for"],[1,"container-with-plus"],[1,"add-next","container-elem",3,"click"],[1,"text-input",3,"value","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(r,e){1&r&&(n.YNc(0,_xe,2,1,"div",0),n.YNc(1,Uxe,15,8,"ng-container",1)),2&r&&(n.Q6J("ngForOf",e.fonts),n.xp6(1),n.Q6J("ngIf",e.canvas&&e.renderImage))},dependencies:[Ar,rn,rt,oi,Cl,fr,Or,Bbe,kCe,xI,PCe,HCe,Iz,VP,BR,GR,oy,hn,ur],styles:['[_nghost-%COMP%]{display:none}.visible[_nghost-%COMP%]{display:block}.designer[_ngcontent-%COMP%]{display:flex;gap:50px;margin-bottom:40px}.designer[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{width:200px;min-width:200px}.designer[_ngcontent-%COMP%]   .middle[_ngcontent-%COMP%]{width:100%;position:relative}.designer[_ngcontent-%COMP%]   .middle[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:75vh;margin:0 auto;display:block}.designer[_ngcontent-%COMP%]   .middle[_ngcontent-%COMP%]   canvas[_ngcontent-%COMP%]{display:block;position:absolute;top:0}.designer[_ngcontent-%COMP%]   .middle[_ngcontent-%COMP%]   .print-area[_ngcontent-%COMP%]{position:absolute;top:0;background:red;border:2px dashed white;pointer-events:none;z-index:1;opacity:.2;box-shadow:var(--box-shadow)}.designer[_ngcontent-%COMP%]   .designer-canvas-container[_ngcontent-%COMP%]{position:absolute;top:0}.designer[_ngcontent-%COMP%]     .canvas-container{z-index:2}.designer[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{width:250px;min-width:250px}.motive-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:flex-start;justify-content:space-between;gap:16px}.motive-item[_ngcontent-%COMP%]{max-width:75px;cursor:pointer}.motive-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block;max-width:100%;box-shadow:#757575bf 0 0 3px;background:var(--color-primary)}.motive-item[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%], .motive-item.selected[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{background:var(--color-primary-hover)}.motive-item-name[_ngcontent-%COMP%]{margin-top:10px;text-align:center;font-size:12px;line-height:14px}.input-field[_ngcontent-%COMP%]{display:grid;grid-template-rows:auto;grid-template-columns:max-content auto max-content;grid-template-areas:"... name ..." "prefix container suffix" "... hint ...";margin-bottom:20px;display:flex;flex-direction:column}.input-field[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{grid-area:name;font-weight:500;height:min-content;color:var(--color-text);padding-bottom:var(--input-elements-gap);font-size:18px}.input-field[_ngcontent-%COMP%]   .container-elem[_ngcontent-%COMP%]{grid-area:container;display:flex;overflow:hidden;background-color:#fff;border:1px solid var(--color-border-input);border-radius:var(--border-radius-card);height:var(--input-height);box-shadow:var(--box-shadow)}.input-field[_ngcontent-%COMP%]   .container-elem.open-left[_ngcontent-%COMP%]{border-bottom-left-radius:0}.input-field[_ngcontent-%COMP%]   .container-elem.open-right[_ngcontent-%COMP%]{border-bottom-right-radius:0}.input-field[_ngcontent-%COMP%]   .container-elem[_ngcontent-%COMP%]   .text-input[_ngcontent-%COMP%]{font-family:var(--main-font-1);font-size:15px;color:var(--color-text);font-weight:600;width:100%;background-color:transparent;border:0;outline:none;padding-right:var(--input-elements-gap);padding-left:20px;line-height:40px}.input-field[_ngcontent-%COMP%]   .container-elem[_ngcontent-%COMP%]   .text-input[_ngcontent-%COMP%]::placeholder{opacity:1;font-weight:400}.input-field[_ngcontent-%COMP%]   .container-elem[_ngcontent-%COMP%]   .text-input[_ngcontent-%COMP%]::-ms-input-placeholder{font-weight:400}.input-field[_ngcontent-%COMP%]   .container-elem[_ngcontent-%COMP%]   .ripple-controls[_ngcontent-%COMP%]{height:calc(var(--input-height))}.input-field[_ngcontent-%COMP%]   .container-elem[_ngcontent-%COMP%]   .ripple-controls[_ngcontent-%COMP%]   .control[_ngcontent-%COMP%]{border-left:1px solid var(--color-border-input);border-bottom:1px solid var(--color-border-input);height:calc(var(--input-height) / 2);width:calc(var(--input-icon-width));cursor:pointer}.input-field[_ngcontent-%COMP%]   .container-elem[_ngcontent-%COMP%]   .ripple-controls[_ngcontent-%COMP%]   .control.input-disabled[_ngcontent-%COMP%]{opacity:.6;cursor:default;pointer-events:none}.input-field[_ngcontent-%COMP%]   .container-elem[_ngcontent-%COMP%]   .ripple-controls[_ngcontent-%COMP%]   .control[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;text-align:center;height:100%;width:calc(var(--input-icon-width));line-height:calc(var(--input-height) / 2);color:var(--color-ripple-control)}.input-field.image-upload-header[_ngcontent-%COMP%]{margin-bottom:0}.input-field[_ngcontent-%COMP%]   .container-with-plus[_ngcontent-%COMP%]{display:flex}.input-field[_ngcontent-%COMP%]   .container-with-plus[_ngcontent-%COMP%]   .add-next[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:45px;margin-left:5px;cursor:pointer}.image-upload-container[_ngcontent-%COMP%]{margin-bottom:20px}.image-upload-input[_ngcontent-%COMP%]{display:block}.image-upload-delete[_ngcontent-%COMP%]{color:#fff;height:var(--button-mobile-height)!important;padding:0 16px!important;border-radius:var(--border-radius)!important}.image-upload-error[_ngcontent-%COMP%]{text-align:center;border:1px dashed red;color:red;font-weight:700;margin-bottom:1rem;padding:.875rem;font-size:14px}.color-picker-input[_ngcontent-%COMP%]{width:0;padding:0;margin:0;visibility:hidden;opacity:0;display:block;height:0;outline:0;border:none}.color-picker-select[_ngcontent-%COMP%]{background:var(--color-accent)}@media only screen and (max-width: 767px){.designer[_ngcontent-%COMP%]{display:block}.designer[_ngcontent-%COMP%]   .middle[_ngcontent-%COMP%]{margin-bottom:40px}.designer[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%], .designer[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{width:100%}.input-field[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-weight:500;height:min-content;color:var(--color-text);padding-bottom:var(--input-elements-gap);font-size:16px}}']}),gh=(0,Ei.gn)([Ii()],gh);const Vxe=(0,Oe.P1)($Ce,t=>t.canvas);function zxe(t){function r(J,B){return J<<B|J>>>32-B}function i(J){let H,V,B="";for(H=7;H>=0;H--)V=J>>>4*H&15,B+=V.toString(16);return B}let a,l,u,k,T,L,U,Y,N,p=new Array(80),f=1732584193,h=4023233417,y=2562383102,D=271733878,E=3285377520,q=(t=function o(J){J=J.replace(/\r\n/g,"\n");let B="";for(let H=0;H<J.length;H++){let V=J.charCodeAt(H);V<128?B+=String.fromCharCode(V):V>127&&V<2048?(B+=String.fromCharCode(V>>6|192),B+=String.fromCharCode(63&V|128)):(B+=String.fromCharCode(V>>12|224),B+=String.fromCharCode(V>>6&63|128),B+=String.fromCharCode(63&V|128))}return B}(t)).length,j=[];for(l=0;l<q-3;l+=4)u=t.charCodeAt(l)<<24|t.charCodeAt(l+1)<<16|t.charCodeAt(l+2)<<8|t.charCodeAt(l+3),j.push(u);switch(q%4){case 0:l=2147483648;break;case 1:l=t.charCodeAt(q-1)<<24|8388608;break;case 2:l=t.charCodeAt(q-2)<<24|t.charCodeAt(q-1)<<16|32768;break;case 3:l=t.charCodeAt(q-3)<<24|t.charCodeAt(q-2)<<16|t.charCodeAt(q-1)<<8|128}for(j.push(l);j.length%16!=14;)j.push(0);for(j.push(q>>>29),j.push(q<<3&4294967295),a=0;a<j.length;a+=16){for(l=0;l<16;l++)p[l]=j[a+l];for(l=16;l<=79;l++)p[l]=r(p[l-3]^p[l-8]^p[l-14]^p[l-16],1);for(k=f,T=h,L=y,U=D,Y=E,l=0;l<=19;l++)N=r(k,5)+(T&L|~T&U)+Y+p[l]+1518500249&4294967295,Y=U,U=L,L=r(T,30),T=k,k=N;for(l=20;l<=39;l++)N=r(k,5)+(T^L^U)+Y+p[l]+1859775393&4294967295,Y=U,U=L,L=r(T,30),T=k,k=N;for(l=40;l<=59;l++)N=r(k,5)+(T&L|T&U|L&U)+Y+p[l]+2400959708&4294967295,Y=U,U=L,L=r(T,30),T=k,k=N;for(l=60;l<=79;l++)N=r(k,5)+(T^L^U)+Y+p[l]+3395469782&4294967295,Y=U,U=L,L=r(T,30),T=k,k=N;f=f+k&4294967295,h=h+T&4294967295,y=y+L&4294967295,D=D+U&4294967295,E=E+Y&4294967295}return(i(f)+i(h)+i(y)+i(D)+i(E)).toLowerCase()}const Hxe=["designer"];function jxe(t,r){if(1&t&&(n.TgZ(0,"mat-button-toggle",10),n._uU(1),n.qZA()),2&t){const e=r.$implicit,i=n.oxw(2);n.Q6J("checked",i.currentPerspective===e)("value",e),n.xp6(1),n.Oqu(e)}}function qxe(t,r){if(1&t){const e=n.EpF();n.TgZ(0,"div",7)(1,"mat-button-toggle-group",8),n.NdJ("change",function(o){n.CHM(e);const a=n.oxw();return n.KtG(a.clickOnPerspectiveChange(o))}),n.YNc(2,jxe,2,3,"mat-button-toggle",9),n.qZA()()}if(2&t){const e=n.oxw();n.xp6(2),n.Q6J("ngForOf",e.perspectives)}}let _h=class{constructor(r,e,i,o,a){this.store=r,this.http=e,this.dialogService=i,this.fabricCanvasService=o,this.actions$=a,this.perspectives=[],this.cancelMessage$=this.store.select(un("plugins.imageUpload.upload.cancelMessage")),this.resetMessage$=this.store.select(un("plugins.imageUpload.upload.resetMessage")),this.contentSnippet$=this.store.select(un("plugins.imageUpload")),this.designers=[],this.locale=yn.defaultLocale}ngOnInit(){uo([this.store.select(lr),this.store.select(Vxe),this.store.select(yd),this.store.select(Wc),this.store.select(ls)]).pipe((0,ar.q)(1)).subscribe(r=>{this.locale=r[0]||yn.defaultLocale,this.canvas=r[1],this.perspectives=[...new Set(this.canvas.element.staticValues.area.map(e=>e.perspective))].sort(),this.product=r[4],this.perspectives.includes(r[3])?this.currentPerspective=r[3]:this.changePerspective(this.perspectives[0]),this.createDesigners()})}clickOnPerspectiveChange(r){this.changePerspective(r.value)}save(){var r=this;return bc(function*(){const e={};for(const i of r.designers){const o=i.component.instance.fabricCanvas.toJSON(["identifier","payload"]);o.objects=[],i.component.instance.fabricCanvas.getObjects().forEach(D=>{o.objects.push(D.toJSON(["identifier","payload"]))});const a=new Date,l=JSON.stringify(o),u=r.product.id,p="/apto-plugin-image-upload/render-images/"+a.getFullYear()+"/"+(a.getMonth()+1).toString().padStart(2,"0")+"/",f=zxe(l),h={json:l,renderImages:[]},y=r.canvas.element.staticValues.area.filter(D=>D.perspective===i.id);for(const D of y)(yield r.fabricCanvasService.uploadLayerImageForArea(i.component.instance.fabricCanvas,D,i.component.instance.renderImage,f,p)).message.error||h.renderImages.push({fileName:f+"-"+D.identifier,renderImageId:f+"-"+D.identifier,productId:u,directory:p,path:p+f+"-"+D.identifier+".png",extension:"png",perspective:D.perspective,layer:D.layer,offsetX:100*D.left/i.component.instance.renderImage.width,offsetY:100*D.top/i.component.instance.renderImage.height});e[i.id]=h}r.store.dispatch(di({updates:{set:[{sectionRepetition:0,sectionId:r.canvas.element.sectionId,elementId:r.canvas.element.elementId,property:"aptoElementDefinitionId",value:"apto-element-image-upload"},{sectionRepetition:0,sectionId:r.canvas.element.sectionId,elementId:r.canvas.element.elementId,property:"payload",value:e}]}})),r.actions$.pipe(Yn(ac),(0,ar.q)(1)).subscribe(()=>{r.store.dispatch(gd({payload:!1}))})})()}reset(){let r="";this.resetMessage$.subscribe(e=>{r=Pn(e.content,this.locale)}),this.dialogService.openWarningDialog(Ur.md,"Achtung!",r,"Abbrechen","Zur\xfccksetzen").afterClosed().subscribe(e=>{!0===e&&(this.store.dispatch(di({updates:{remove:[{sectionRepetition:0,sectionId:this.canvas.element.sectionId,elementId:this.canvas.element.elementId,property:null,value:null}]}})),this.actions$.pipe(Yn(ac),(0,ar.q)(1)).subscribe(()=>{this.store.dispatch(gd({payload:!1}))}))})}cancel(){let r="";this.cancelMessage$.subscribe(e=>{r=Pn(e.content,this.locale)}),this.dialogService.openWarningDialog(Ur.md,"Achtung!",r,"Abbrechen","Verwerfen").afterClosed().subscribe(e=>{!0===e&&this.store.dispatch(gd({payload:!1}))})}createDesigners(){this.designerContainer.clear();for(const r of this.perspectives){const e=this.designerContainer.createComponent(gh);e.instance.currentPerspective=r,e.instance.visible=this.currentPerspective===r,e.instance.locale=this.locale,e.instance.canvas=this.canvas,e.instance.product=this.product,this.designers.push({id:r,component:e})}}changePerspective(r){this.currentPerspective=r,this.store.dispatch(l1({perspective:this.currentPerspective}));for(const e of this.designers)e.component.instance.visible=this.currentPerspective===e.id}};_h.\u0275fac=function(r){return new(r||_h)(n.Y36(Oe.yh),n.Y36(fn),n.Y36(Do),n.Y36(Zz),n.Y36(eo))},_h.\u0275cmp=n.Xpm({type:_h,selectors:[["apto-designer-perspective"]],viewQuery:function(r,e){if(1&r&&n.Gf(Hxe,7,n.s_b),2&r){let i;n.iGM(i=n.CRH())&&(e.designerContainer=i.first)}},decls:18,vars:19,consts:[[1,"absolute-designer-container"],["designer",""],["class","designer-areas",4,"ngIf"],[1,"designer-actions"],[1,"designer-actions-left"],["color","accent","mat-flat-button","",3,"click"],["color","primary","mat-flat-button","",3,"click"],[1,"designer-areas"],["name","perspective",3,"change"],[3,"checked","value",4,"ngFor","ngForOf"],[3,"checked","value"]],template:function(r,e){1&r&&(n.TgZ(0,"div",0),n._UZ(1,"template",null,1),n.qZA(),n.YNc(3,qxe,3,1,"div",2),n.TgZ(4,"div",3)(5,"div",4)(6,"button",5),n.NdJ("click",function(){return e.reset()}),n._uU(7),n.ALo(8,"contentSnippet"),n.ALo(9,"async"),n.qZA(),n.TgZ(10,"button",5),n.NdJ("click",function(){return e.cancel()}),n._uU(11),n.ALo(12,"contentSnippet"),n.ALo(13,"async"),n.qZA()(),n.TgZ(14,"button",6),n.NdJ("click",function(){return e.save()}),n._uU(15),n.ALo(16,"contentSnippet"),n.ALo(17,"async"),n.qZA()()),2&r&&(n.xp6(3),n.Q6J("ngIf",e.perspectives.length>1),n.xp6(4),n.Oqu(n.xi3(8,4,n.lcZ(9,7,e.contentSnippet$),"upload.reset")),n.xp6(4),n.Oqu(n.xi3(12,9,n.lcZ(13,12,e.contentSnippet$),"upload.cancel")),n.xp6(4),n.Oqu(n.xi3(16,14,n.lcZ(17,17,e.contentSnippet$),"upload.save")))},dependencies:[Ar,rn,Or,Vz,zz,hn,ur],styles:[".absolute-designer-container[_ngcontent-%COMP%]{position:relative}.designer-actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:20px;margin-bottom:40px}.designer-actions-left[_ngcontent-%COMP%]{display:flex;gap:20px}.designer-areas[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:flex-start;margin-left:200px;margin-right:300px;margin-bottom:40px}"]}),_h=(0,Ei.gn)([Ii()],_h);let Zxe=(()=>{class t{constructor(){to.components.set("apto-element-image-upload",nxe),to.components.set("one-page-designer",_h)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({providers:[{provide:Az,useValue:DCe}],imports:[Jo,Zr,Is,Oe.Aw.forFeature(Nz,WCe),dm.forFeature([JCe]),Na,ss,aa,ka,Ta,na,Ia,sxe,xl,Ube,FCe,jCe,HP]}),t})();const Wxe={provide:new n.OlP("mat-tooltip-scroll-strategy"),deps:[Ro],useFactory:function $xe(t){return()=>t.scrollStrategies.reposition({scrollThrottle:20})}};let Jxe=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({providers:[Wxe],imports:[Ax,Zr,Aa,Xn,Xn,ad]}),t})();function hs(t){return typeof t>"u"}function gu(t,r){const e=r.split("."),i=e.shift();return e.reduce((o,a)=>hs(o)||function n1e(t){return null===t}(o)||hs(o[a])?void 0:o[a],t[i||""])}let wI=(()=>{class t{transform(e,i=[],o="|"){return Array.isArray(e)?this.groupBy(e,i,o):e}groupBy(e,i,o){return e.reduce((a,l)=>{const u=this.extractKeyByDiscriminator(i,l,o);return a[u]=Array.isArray(a[u])?a[u].concat([l]):[l],a},{})}extractKeyByDiscriminator(e,i,o){return function Yz(t){return"function"==typeof t}(e)?e(i):Array.isArray(e)?e.map(a=>gu(i,a)).join(o):gu(i,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=n.Yjl({name:"groupBy",type:t,pure:!0}),t})(),g1e=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({}),t})(),t8=(()=>{class t{transform(e){return Array.isArray(e)||!function bo(t){return null!==t&&"object"==typeof t}(e)?e:Object.entries(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=n.Yjl({name:"pairs",type:t,pure:!0}),t})(),y1e=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({}),t})(),b1e=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({}),t})(),C1e=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({}),t})(),I1e=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({}),t})(),k1e=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({}),t})(),F1e=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[g1e,b1e,C1e,I1e,y1e,k1e]}),t})();var vh=(()=>{return(t=vh||(vh={})).InitMaterialPicker="[MaterialPicker] Init",t.InitMaterialPickerSuccess="[MaterialPicker] Init Success",t.FindPoolItems="[MaterialPicker] Find Pool Items",t.FindPoolItemsSuccess="[MaterialPicker] Find Pool Items Success",vh;var t})();const r8=(0,Oe.PH)(vh.InitMaterialPicker,(0,Oe.Ky)()),i8=(0,Oe.PH)(vh.InitMaterialPickerSuccess,(0,Oe.Ky)()),o8=(0,Oe.PH)(vh.FindPoolItems,(0,Oe.Ky)()),a8=(0,Oe.PH)(vh.FindPoolItemsSuccess,(0,Oe.Ky)()),R1e=(0,Oe.Lq)({items:[],colors:[],priceGroups:[],propertyGroups:[]},(0,Oe.on)(i8,(t,r)=>({...t,items:r.payload.items,colors:r.payload.colors,priceGroups:r.payload.priceGroups,propertyGroups:r.payload.propertyGroups})),(0,Oe.on)(a8,(t,r)=>({...t,items:r.payload.items,colors:r.payload.colors}))),s8="aptoMaterialPicker",qg=(0,Oe.ZF)(s8),B1e={state:function L1e(t,r){return R1e(t,r)}},U1e=(0,Oe.P1)(qg,t=>t.state.items),V1e=(0,Oe.P1)(qg,t=>t.state.colors),z1e=(0,Oe.P1)(qg,t=>t.state.priceGroups),H1e=((0,Oe.P1)(qg,t=>t.state.propertyGroups),(0,Oe.P1)(qg,t=>t.state.propertyGroups.filter(r=>!1===r.allowMultiple))),j1e=(0,Oe.P1)(qg,t=>t.state.propertyGroups.filter(r=>!0===r.allowMultiple)),l8=new n.OlP("WindowToken");let q1e=(()=>{class t{constructor(e,i,o){this.window=e,this.elementRef=i,this.viewContainerRef=o}ngOnDestroy(){this.closeToolTip()}onResize(){this.windowWidth=this.window.innerWidth,this.windowHeight=this.window.innerHeight}show(){this.showTooltipElement(),this.calculateDimensions(),this.positionTooltipElement()}hide(){this.closeToolTip()}ngOnInit(){this.positionHostElement(),this.calculateScreenDimensions(),this.closeToolTip()}positionTooltipElement(){let e={top:"auto",left:"auto",right:"auto",bottom:"auto",height:"auto",width:"auto"};this.hostDimensions.top<this.tooltipDimensions.height&&(e.top=this.hostDimensions.height+"px",e.height=this.tooltipDimensions.height+"px"),window.innerHeight-this.hostDimensions.bottom<this.tooltipDimensions.height&&(e.top=-this.tooltipDimensions.height+"px",e.height=this.tooltipDimensions.height+"px"),this.hostDimensions.left<this.tooltipDimensions.width/2&&(e.left="-20px"),window.innerWidth-this.hostDimensions.right<this.tooltipDimensions.width/2&&(e.right="-20px"),this.tooltipContentRef.style.height=e.height,this.tooltipContentRef.style.width=e.width,this.tooltipContentRef.style.right=e.right,this.tooltipContentRef.style.left=e.left,this.tooltipContentRef.style.top=e.top,this.tooltipContentRef.style.bottom="auto"===e.bottom?this.hostDimensions.height+"px":e.bottom,this.calculateDimensions()}calculateScreenDimensions(){this.windowWidth=this.window.innerWidth,this.windowHeight=this.window.innerHeight}calculateDimensions(){this.hostDimensions=this.elementRef.nativeElement.getBoundingClientRect(),this.tooltipDimensions=this.tooltipContentRef.getBoundingClientRect()}showTooltipElement(){this.tooltipContentRef.style.display="block",this.tooltipContentRef.style.position="absolute",this.tooltipContentRef.style.zIndex="5"}positionHostElement(){this.elementRef.nativeElement.style.position="relative",this.elementRef.nativeElement.style.overflow="visible"}closeToolTip(){this.tooltipContentRef.style.display="none"}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(l8),n.Y36(n.SBq),n.Y36(n.s_b,1))},t.\u0275dir=n.lG2({type:t,selectors:[["","aptoTooltip",""]],hostBindings:function(e,i){1&e&&n.NdJ("resize",function(){return i.onResize()},!1,n.Jf7)("mouseenter",function(){return i.show()})("mouseleave",function(){return i.hide()})},inputs:{tooltipContentRef:"tooltipContentRef",aaaa:"aaaa"},features:[n._Bn([{provide:l8,useValue:window}])]}),t})();function Z1e(t,r){if(1&t&&(n.TgZ(0,"div",2),n._UZ(1,"img",3),n.TgZ(2,"div"),n._uU(3),n.ALo(4,"contentSnippet"),n.ALo(5,"async"),n.qZA()()),2&t){const e=n.oxw();n.xp6(1),n.Q6J("src",e.clientUrl+"assets/apto-plugin-base-plugins/reflexion.png",n.LSH),n.xp6(2),n.AsE("",n.xi3(4,3,n.lcZ(5,6,e.contentSnippet$),"reflection")," ",e.reflection,"%")}}function Y1e(t,r){if(1&t&&(n.TgZ(0,"div",2),n._UZ(1,"img",3),n.TgZ(2,"div"),n._uU(3),n.ALo(4,"contentSnippet"),n.ALo(5,"async"),n.qZA()()),2&t){const e=n.oxw();n.xp6(1),n.Q6J("src",e.clientUrl+"assets/apto-plugin-base-plugins/transmission.png",n.LSH),n.xp6(2),n.AsE("",n.xi3(4,3,n.lcZ(5,6,e.contentSnippet$),"transmission")," ",e.transmission,"%")}}function G1e(t,r){if(1&t&&(n.TgZ(0,"div",2),n._UZ(1,"img",3),n.TgZ(2,"div"),n._uU(3),n.ALo(4,"contentSnippet"),n.ALo(5,"async"),n.qZA()()),2&t){const e=n.oxw();n.xp6(1),n.Q6J("src",e.clientUrl+"assets/apto-plugin-base-plugins/absorption.png",n.LSH),n.xp6(2),n.AsE("",n.xi3(4,3,n.lcZ(5,6,e.contentSnippet$),"absorption")," ",e.absorption,"%")}}let c8=(()=>{class t{constructor(e){this.store=e,this.clientUrl=yn.api.client+"/",this.contentSnippet$=this.store.select(un("plugins.materialPickerElement"))}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(Oe.yh))},t.\u0275cmp=n.Xpm({type:t,selectors:[["apto-item-light-properties"]],inputs:{reflection:"reflection",transmission:"transmission",absorption:"absorption"},decls:4,vars:3,consts:[[1,"item-light-properties"],["class","item-light-property",4,"ngIf"],[1,"item-light-property"],[3,"src"]],template:function(e,i){1&e&&(n.TgZ(0,"div",0),n.YNc(1,Z1e,6,8,"div",1),n.YNc(2,Y1e,6,8,"div",1),n.YNc(3,G1e,6,8,"div",1),n.qZA()),2&e&&(n.xp6(1),n.Q6J("ngIf",null!==i.reflection),n.xp6(1),n.Q6J("ngIf",null!==i.transmission),n.xp6(1),n.Q6J("ngIf",null!==i.absorption))},dependencies:[rn,hn,ur],styles:[".item-light-properties[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-items:left;gap:var(--input-elements-gap);justify-content:center}.item-light-properties[_ngcontent-%COMP%]   .item-light-property[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;width:90px}.item-light-properties[_ngcontent-%COMP%]   .item-light-property[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:60px;height:60px}.item-light-properties[_ngcontent-%COMP%]   .item-light-property[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{font-size:11px;font-weight:500;white-space:nowrap;margin-top:calc(var(--input-elements-gap) / 2)}@media only screen and (min-width: 767px){.item-light-properties[_ngcontent-%COMP%]{justify-content:flex-start}}"]}),t})();function $1e(t,r){if(1&t&&(n.TgZ(0,"div",13),n._UZ(1,"apto-item-light-properties",14),n.qZA()),2&t){const e=n.oxw();n.xp6(1),n.Q6J("reflection",e.data.poolItem.material.reflection)("transmission",e.data.poolItem.material.transmission)("absorption",e.data.poolItem.material.absorption)}}function W1e(t,r){1&t&&(n.TgZ(0,"span"),n._uU(1,", "),n.qZA())}function Q1e(t,r){if(1&t&&(n.ynx(0,19),n.YNc(1,W1e,2,0,"span",20),n.TgZ(2,"span"),n._uU(3),n.ALo(4,"translate"),n.qZA(),n.BQk()),2&t){const e=r.$implicit,i=r.index;n.xp6(1),n.Q6J("ngIf",0!==i),n.xp6(2),n.Oqu(n.lcZ(4,2,e.name))}}function J1e(t,r){if(1&t&&(n.ynx(0),n.TgZ(1,"p",17)(2,"b"),n._uU(3),n.ALo(4,"translate"),n.qZA()(),n.YNc(5,Q1e,5,4,"ng-container",18),n.BQk()),2&t){const e=r.$implicit;n.xp6(3),n.hij("",n.lcZ(4,2,e[1][0].group.name),": "),n.xp6(2),n.Q6J("ngForOf",e[1])}}function X1e(t,r){if(1&t&&(n.TgZ(0,"div",15)(1,"div",8)(2,"h4"),n._uU(3),n.ALo(4,"contentSnippet"),n.ALo(5,"async"),n.qZA()(),n.YNc(6,J1e,6,4,"ng-container",16),n.ALo(7,"pairs"),n.ALo(8,"groupBy"),n.qZA()),2&t){const e=n.oxw();n.xp6(3),n.Oqu(n.xi3(4,2,n.lcZ(5,5,e.contentSnippet$),"materialProperties")),n.xp6(3),n.Q6J("ngForOf",n.lcZ(7,7,n.xi3(8,9,e.data.poolItem.material.properties,"group.id")))}}function K1e(t,r){if(1&t){const e=n.EpF();n.TgZ(0,"div",22),n.NdJ("click",function(){const a=n.CHM(e).$implicit,l=n.oxw(2);return n.KtG(l.setPoolItemImage(a.fileUrl))}),n._UZ(1,"img",4),n.qZA()}if(2&t){const e=r.$implicit,i=n.oxw(2);n.ekj("gallery-image-selected",i.poolItemImageSelected===e.fileUrl),n.xp6(1),n.Q6J("src",e.fileUrl,n.LSH)}}function ewe(t,r){if(1&t){const e=n.EpF();n.TgZ(0,"div",21)(1,"div",22),n.NdJ("click",function(){n.CHM(e);const o=n.oxw();return n.KtG(o.setPoolItemImage(o.data.poolItem.material.previewImage.fileUrl))}),n._UZ(2,"img",4),n.qZA(),n.YNc(3,K1e,2,3,"div",23),n.qZA()}if(2&t){const e=n.oxw();n.xp6(1),n.ekj("gallery-image-selected",e.data.poolItem.material.previewImage.fileUrl===e.poolItemImageSelected),n.xp6(1),n.Q6J("src",e.data.poolItem.material.previewImage.fileUrl,n.LSH),n.xp6(1),n.Q6J("ngForOf",e.data.poolItem.material.galleryImages)}}function twe(t,r){if(1&t&&(n.TgZ(0,"p",24),n._uU(1),n.ALo(2,"contentSnippet"),n.ALo(3,"async"),n.TgZ(4,"b"),n._uU(5),n.ALo(6,"contentSnippet"),n.ALo(7,"async"),n.qZA()()),2&t){const e=n.oxw();n.xp6(1),n.hij(" ",n.xi3(2,3,n.lcZ(3,6,e.contentSnippet$),"poolItemPriceInfo")," "),n.xp6(4),n.AsE("",e.data.poolItem.priceGroup.additionalCharge,"",n.xi3(6,8,n.lcZ(7,11,e.contentSnippet$),"poolItemPriceInfoPercentage"),"")}}let nwe=(()=>{class t{constructor(e){this.store=e,this.mediaUrl=yn.api.media+"/",this.contentSnippet$=this.store.select(un("plugins.materialPickerElement")),this.steps$=this.store.select(cc),this.poolItemImageSelected=""}ngOnInit(){this.poolItemImageSelected=this.data.poolItem.material.previewImage.fileUrl}hasMaterialLightProperties(e){return null!==e.reflection||null!==e.transmission||null!==e.absorption}hasMaterialPropertyIcons(){}setPoolItemImage(e){this.poolItemImageSelected=e}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(Oe.yh))},t.\u0275cmp=n.Xpm({type:t,selectors:[["apto-material-picker-details-popup"]],inputs:{data:"data"},decls:26,vars:32,consts:[["xmlns","http://www.w3.org/1999/html",1,"material-picker-details-popup-dialog"],[3,"mat-dialog-close","inner"],[1,"mat-dialog-content"],[1,"item-image"],[3,"src"],[1,"item-content"],["class","item-light-properties",4,"ngIf"],[1,"item-details-name"],[1,"title"],["class","item-details-property-list",4,"ngIf"],[1,"item-details-description",3,"innerHTML"],["class","item-details-gallery-images",4,"ngIf"],["class","item-price-info",4,"ngIf"],[1,"item-light-properties"],[3,"reflection","transmission","absorption"],[1,"item-details-property-list"],[4,"ngFor","ngForOf"],[1,"item-group-name"],["class","item-property-name",4,"ngFor","ngForOf"],[1,"item-property-name"],[4,"ngIf"],[1,"item-details-gallery-images"],[1,"item-details-gallery-image",3,"click"],["class","item-details-gallery-image",3,"gallery-image-selected","click",4,"ngFor","ngForOf"],[1,"item-price-info"]],template:function(e,i){1&e&&(n.TgZ(0,"div",0),n._UZ(1,"apto-close-button",1),n.TgZ(2,"div",2)(3,"div",3),n._UZ(4,"img",4),n.qZA(),n.TgZ(5,"div",5),n.YNc(6,$1e,2,3,"div",6),n.TgZ(7,"div",7)(8,"div",8)(9,"h4"),n._uU(10),n.ALo(11,"contentSnippet"),n.ALo(12,"async"),n.qZA()(),n.TgZ(13,"p"),n._uU(14),n.ALo(15,"translate"),n.qZA()(),n.YNc(16,X1e,9,12,"div",9),n._UZ(17,"div",10),n.ALo(18,"safeHtml"),n.ALo(19,"translate"),n.YNc(20,ewe,4,4,"div",11),n.YNc(21,twe,8,13,"p",12),n.ALo(22,"contentSnippet"),n.ALo(23,"async"),n.ALo(24,"contentSnippet"),n.ALo(25,"async"),n.qZA()()()),2&e&&(n.uIk("type","custom"),n.xp6(1),n.Q6J("mat-dialog-close",!0)("inner",!0),n.xp6(3),n.Q6J("src",i.poolItemImageSelected,n.LSH),n.xp6(2),n.Q6J("ngIf",i.hasMaterialLightProperties(i.data.poolItem.material)),n.xp6(4),n.Oqu(n.xi3(11,11,n.lcZ(12,14,i.contentSnippet$),"materialTitle")),n.xp6(4),n.Oqu(n.lcZ(15,16,i.data.poolItem.material.name)),n.xp6(2),n.Q6J("ngIf",i.data.poolItem.material.properties.length>0),n.xp6(1),n.Q6J("innerHTML",n.lcZ(18,18,n.lcZ(19,20,i.data.poolItem.material.description)),n.oJD),n.xp6(3),n.Q6J("ngIf",i.data.poolItem.material.galleryImages.length>0),n.xp6(1),n.Q6J("ngIf",n.xi3(22,22,n.lcZ(23,25,i.contentSnippet$),"poolItemPriceInfo")&&n.xi3(24,27,n.lcZ(25,30,i.contentSnippet$),"poolItemPriceInfoPercentage")&&0!==i.data.poolItem.priceGroup.additionalCharge))},dependencies:[Ar,rn,gc,is,c8,hn,Tr,Lo,ur,wI,t8],styles:['.material-picker-details-popup-dialog[_ngcontent-%COMP%]{position:relative;border-radius:var(--border-radius-card);display:flex;flex-direction:column;border-top-width:3px;border-top-style:solid;padding:var(--element-gap)}.material-picker-details-popup-dialog[type=confirm][_ngcontent-%COMP%], .material-picker-details-popup-dialog[type=info][_ngcontent-%COMP%], .material-picker-details-popup-dialog[type=custom][_ngcontent-%COMP%]{border-color:var(--color-optic-lines-popup)}.material-picker-details-popup-dialog[type=error][_ngcontent-%COMP%]{border-color:var(--color-optic-lines-popup-error)}.material-picker-details-popup-dialog[type=warning][_ngcontent-%COMP%]{border-color:var(--color-optic-lines-popup-warning)}.material-picker-details-popup-dialog[_ngcontent-%COMP%]   .dialog-icon[_ngcontent-%COMP%]{margin-bottom:36px;width:100%;display:flex;justify-content:center}.material-picker-details-popup-dialog[_ngcontent-%COMP%]   .dialog-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{width:72px;height:72px;display:flex;justify-content:center;align-content:center;align-items:center;border-radius:100%;font-size:50px}.material-picker-details-popup-dialog[_ngcontent-%COMP%]   .dialog-icon[_ngcontent-%COMP%]   mat-icon[type=confirm][_ngcontent-%COMP%], .material-picker-details-popup-dialog[_ngcontent-%COMP%]   .dialog-icon[_ngcontent-%COMP%]   mat-icon[type=info][_ngcontent-%COMP%], .material-picker-details-popup-dialog[_ngcontent-%COMP%]   .dialog-icon[_ngcontent-%COMP%]   mat-icon[type=custom][_ngcontent-%COMP%]{background-color:var(--color-optic-lines-popup-light)}.material-picker-details-popup-dialog[_ngcontent-%COMP%]   .dialog-icon[_ngcontent-%COMP%]   mat-icon[type=error][_ngcontent-%COMP%]{background-color:var(--color-optic-lines-popup-error-light)}.material-picker-details-popup-dialog[_ngcontent-%COMP%]   .dialog-icon[_ngcontent-%COMP%]   mat-icon[type=warning][_ngcontent-%COMP%]{background-color:var(--color-optic-lines-popup-warning-light)}.material-picker-details-popup-dialog[_ngcontent-%COMP%]   .dialog-icon[_ngcontent-%COMP%]   mat-icon[type=confirm][_ngcontent-%COMP%], .material-picker-details-popup-dialog[_ngcontent-%COMP%]   .dialog-icon[_ngcontent-%COMP%]   mat-icon[type=info][_ngcontent-%COMP%], .material-picker-details-popup-dialog[_ngcontent-%COMP%]   .dialog-icon[_ngcontent-%COMP%]   mat-icon[type=custom][_ngcontent-%COMP%]{color:var(--color-optic-lines-popup)}.material-picker-details-popup-dialog[_ngcontent-%COMP%]   .dialog-icon[_ngcontent-%COMP%]   mat-icon[type=error][_ngcontent-%COMP%]{color:var(--color-optic-lines-popup-error)}.material-picker-details-popup-dialog[_ngcontent-%COMP%]   .dialog-icon[_ngcontent-%COMP%]   mat-icon[type=warning][_ngcontent-%COMP%]{color:var(--color-optic-lines-popup-warning)}.material-picker-details-popup-dialog[_ngcontent-%COMP%]   .mat-dialog-content[_ngcontent-%COMP%]{display:grid;grid-gap:calc(2 * var(--element-gap));align-items:flex-start;justify-items:flex-start;grid-template-areas:"item-image" "item-content";grid-template-columns:1fr;margin:0;padding:0;overflow-x:hidden}.material-picker-details-popup-dialog[_ngcontent-%COMP%]   .mat-dialog-content[_ngcontent-%COMP%]   .item-image[_ngcontent-%COMP%]{grid-area:item-image}.material-picker-details-popup-dialog[_ngcontent-%COMP%]   .mat-dialog-content[_ngcontent-%COMP%]   .item-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto}.material-picker-details-popup-dialog[_ngcontent-%COMP%]   .mat-dialog-content[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;height:100%}.material-picker-details-popup-dialog[_ngcontent-%COMP%]   .mat-dialog-content[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]   .item-light-properties[_ngcontent-%COMP%]{grid-area:item-light-properties}.material-picker-details-popup-dialog[_ngcontent-%COMP%]   .mat-dialog-content[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]   .item-light-properties[_ngcontent-%COMP%]:not(:empty) + .item-details-name[_ngcontent-%COMP%]:not(:empty){margin-top:var(--element-gap)}.material-picker-details-popup-dialog[_ngcontent-%COMP%]   .mat-dialog-content[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]   .item-details-name[_ngcontent-%COMP%]{grid-area:item-details-name}.material-picker-details-popup-dialog[_ngcontent-%COMP%]   .mat-dialog-content[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]   .item-details-name[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.material-picker-details-popup-dialog[_ngcontent-%COMP%]   .mat-dialog-content[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]   .item-details-name[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:18px;font-weight:600;color:var(--color-text);text-align:center}.material-picker-details-popup-dialog[_ngcontent-%COMP%]   .mat-dialog-content[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]   .item-details-name[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{word-break:break-word;text-align:center}@media only screen and (min-width: 767px){.material-picker-details-popup-dialog[_ngcontent-%COMP%]   .mat-dialog-content[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]   .item-details-name[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:left}}.material-picker-details-popup-dialog[_ngcontent-%COMP%]   .mat-dialog-content[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]   .item-details-name[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:not(:empty){margin-top:var(--input-elements-gap)}.material-picker-details-popup-dialog[_ngcontent-%COMP%]   .mat-dialog-content[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]   .item-details-name[_ngcontent-%COMP%]:not(:empty) + .item-details-property-list[_ngcontent-%COMP%]:not(:empty){margin-top:var(--element-gap)}.material-picker-details-popup-dialog[_ngcontent-%COMP%]   .mat-dialog-content[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]   .item-details-property-list[_ngcontent-%COMP%]{grid-area:item-details-property-list}.material-picker-details-popup-dialog[_ngcontent-%COMP%]   .mat-dialog-content[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]   .item-details-property-list[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.material-picker-details-popup-dialog[_ngcontent-%COMP%]   .mat-dialog-content[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]   .item-details-property-list[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:18px;font-weight:600;color:var(--color-text);text-align:center}.material-picker-details-popup-dialog[_ngcontent-%COMP%]   .mat-dialog-content[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]   .item-details-property-list[_ngcontent-%COMP%]   .item-group-name[_ngcontent-%COMP%]{font-weight:600;color:var(--color-text)}.material-picker-details-popup-dialog[_ngcontent-%COMP%]   .mat-dialog-content[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]   .item-details-property-list[_ngcontent-%COMP%]   .item-group-name[_ngcontent-%COMP%]:not(:empty){margin-top:var(--input-elements-gap)}.material-picker-details-popup-dialog[_ngcontent-%COMP%]   .mat-dialog-content[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]   .item-details-property-list[_ngcontent-%COMP%]   .item-property-name[_ngcontent-%COMP%]{color:var(--color-text)}.material-picker-details-popup-dialog[_ngcontent-%COMP%]   .mat-dialog-content[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]   .item-details-property-list[_ngcontent-%COMP%]:not(:empty) + .item-details-description[_ngcontent-%COMP%]:not(:empty){margin-top:var(--element-gap)}.material-picker-details-popup-dialog[_ngcontent-%COMP%]   .mat-dialog-content[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]   .item-details-description[_ngcontent-%COMP%]{grid-area:item-details-description;word-break:break-word;text-align:center}@media only screen and (min-width: 767px){.material-picker-details-popup-dialog[_ngcontent-%COMP%]   .mat-dialog-content[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]   .item-details-description[_ngcontent-%COMP%]{text-align:left}}.material-picker-details-popup-dialog[_ngcontent-%COMP%]   .mat-dialog-content[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]   .item-buttons[_ngcontent-%COMP%], .material-picker-details-popup-dialog[_ngcontent-%COMP%]   .mat-dialog-content[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]   .item-price-info[_ngcontent-%COMP%]{margin-top:var(--element-gap)}.material-picker-details-popup-dialog[_ngcontent-%COMP%]   .mat-dialog-content[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]   .item-details-gallery-images[_ngcontent-%COMP%]{margin-top:var(--element-gap);display:flex;flex-direction:row;flex-wrap:wrap;gap:5px}.material-picker-details-popup-dialog[_ngcontent-%COMP%]   .mat-dialog-content[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]   .item-details-gallery-images[_ngcontent-%COMP%]   .item-details-gallery-image[_ngcontent-%COMP%]{display:flex;width:60px;height:60px;align-content:center;align-items:center;padding:5px;cursor:pointer;border:solid 1px transparent}.material-picker-details-popup-dialog[_ngcontent-%COMP%]   .mat-dialog-content[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]   .item-details-gallery-images[_ngcontent-%COMP%]   .item-details-gallery-image.gallery-image-selected[_ngcontent-%COMP%]{background-color:var(--color-background-image);border:solid 1px var(--color-border)}.material-picker-details-popup-dialog[_ngcontent-%COMP%]   .mat-dialog-content[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]   .item-details-gallery-images[_ngcontent-%COMP%]   .item-details-gallery-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:flex;width:100%;height:max-content;max-height:100%}.material-picker-details-popup-dialog[_ngcontent-%COMP%]   .mat-dialog-actions[_ngcontent-%COMP%]{display:flex;justify-content:center;justify-items:center;align-items:center;gap:var(--button-gap);width:100%;padding:0;margin:calc(1.5 * var(--element-gap)) 0 0 0;flex-wrap:nowrap;flex-direction:column}.material-picker-details-popup-dialog[_ngcontent-%COMP%]   .mat-dialog-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;margin:0;display:flex;align-items:center;justify-content:center;height:var(--button-mobile-height)}@media only screen and (min-width: 767px){.material-picker-details-popup-dialog[_ngcontent-%COMP%]{position:relative;border-radius:var(--border-radius-card);display:flex;flex-direction:column;border-top-width:3px;border-top-style:solid;padding:34px 72px}.material-picker-details-popup-dialog[_ngcontent-%COMP%]   .mat-dialog-content[_ngcontent-%COMP%]{grid-template-areas:"item-image item-content";grid-template-columns:1fr 320px}.material-picker-details-popup-dialog[_ngcontent-%COMP%]   .mat-dialog-content[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]   .item-details-name[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{width:100%;display:flex;align-items:flex-start;justify-content:space-between;flex-direction:row}.material-picker-details-popup-dialog[_ngcontent-%COMP%]   .mat-dialog-content[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]   .item-details-name[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{text-align:left;font-size:22px}.material-picker-details-popup-dialog[_ngcontent-%COMP%]   .mat-dialog-content[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]   .item-details-property-list[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{width:100%;display:flex;align-items:flex-start;justify-content:space-between;flex-direction:row}.material-picker-details-popup-dialog[_ngcontent-%COMP%]   .mat-dialog-content[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]   .item-details-property-list[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{text-align:left;font-size:22px}.material-picker-details-popup-dialog[_ngcontent-%COMP%]   .mat-dialog-content[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]   .item-details-description[_ngcontent-%COMP%]{word-break:break-word;text-align:center}}@media only screen and (min-width: 767px) and (min-width: 767px){.material-picker-details-popup-dialog[_ngcontent-%COMP%]   .mat-dialog-content[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]   .item-details-description[_ngcontent-%COMP%]{text-align:left}}@media only screen and (min-width: 767px){.material-picker-details-popup-dialog[_ngcontent-%COMP%]   .mat-dialog-actions[_ngcontent-%COMP%]{display:flex;justify-content:center;justify-items:center;align-items:center;gap:var(--button-gap);width:100%;padding:0;margin:calc(1.5 * var(--element-gap)) 0 0 0;flex-wrap:nowrap;flex-direction:row}.material-picker-details-popup-dialog[_ngcontent-%COMP%]   .mat-dialog-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;margin:0;display:flex;align-items:center;justify-content:center;height:var(--button-tablet-height);max-width:50%}}']}),t})();function rwe(t,r){if(1&t&&(n.TgZ(0,"div",6),n._UZ(1,"img",7),n.qZA()),2&t){const e=n.oxw(2);n.xp6(1),n.Q6J("src",e.mediaUrl+e.poolItem.material.previewImage.path,n.LSH)}}function iwe(t,r){if(1&t&&n._UZ(0,"apto-item-light-properties",8),2&t){const e=n.oxw(2);n.Q6J("reflection",e.poolItem.material.reflection)("transmission",e.poolItem.material.transmission)("absorption",e.poolItem.material.absorption)}}function owe(t,r){if(1&t&&(n.TgZ(0,"p",9),n._uU(1),n.ALo(2,"contentSnippet"),n.ALo(3,"async"),n.TgZ(4,"b"),n._uU(5),n.ALo(6,"contentSnippet"),n.ALo(7,"async"),n.qZA()()),2&t){const e=n.oxw(2);n.xp6(1),n.hij(" ",n.xi3(2,3,n.lcZ(3,6,e.contentSnippet$),"poolItemPriceInfo")," "),n.xp6(4),n.AsE("",e.poolItem.priceGroup.additionalCharge," ",n.xi3(6,8,n.lcZ(7,11,e.contentSnippet$),"poolItemPriceInfoPercentage"),"")}}function awe(t,r){if(1&t){const e=n.EpF();n.TgZ(0,"div",10),n.NdJ("click",function(){n.CHM(e);const o=n.oxw(2);return n.KtG(o.showDetails())}),n.TgZ(1,"mat-icon"),n._uU(2,"zoom_in"),n.qZA(),n.TgZ(3,"span",11),n._uU(4),n.ALo(5,"contentSnippet"),n.ALo(6,"async"),n.qZA()()}if(2&t){const e=n.oxw(2);n.xp6(4),n.Oqu(n.xi3(5,1,n.lcZ(6,4,e.contentSnippet$),"poolItemOpenDetails"))}}function swe(t,r){if(1&t&&(n.TgZ(0,"div",1),n.YNc(1,rwe,2,1,"div",2),n.YNc(2,iwe,1,3,"apto-item-light-properties",3),n.YNc(3,owe,8,13,"p",4),n.ALo(4,"contentSnippet"),n.ALo(5,"async"),n.ALo(6,"contentSnippet"),n.ALo(7,"async"),n.YNc(8,awe,7,6,"div",5),n.ALo(9,"contentSnippet"),n.ALo(10,"async"),n.qZA()),2&t){const e=n.oxw();n.uIk("type","custom"),n.xp6(1),n.Q6J("ngIf",!e.hasMaterialLightProperties(e.poolItem.material)),n.xp6(1),n.Q6J("ngIf",e.hasMaterialLightProperties(e.poolItem.material)),n.xp6(1),n.Q6J("ngIf",n.xi3(4,5,n.lcZ(5,8,e.contentSnippet$),"poolItemPriceInfo")&&n.xi3(6,10,n.lcZ(7,13,e.contentSnippet$),"poolItemPriceInfoPercentage")&&0!==e.poolItem.priceGroup.additionalCharge),n.xp6(5),n.Q6J("ngIf",n.xi3(9,15,n.lcZ(10,18,e.contentSnippet$),"poolItemOpenDetails"))}}let lwe=(()=>{class t{constructor(e,i){this.store=e,this.dialogService=i,this.mediaUrl=yn.api.media+"/",this.contentSnippet$=this.store.select(un("plugins.materialPickerElement")),this.steps$=this.store.select(cc)}ngOnInit(){}onClick(e){e.stopPropagation()}showDetails(){this.dialogService.openCustomDialog(nwe,Ur.lg).componentInstance.data={element:this.element,poolItem:this.poolItem}}isFirstGalleryImageInHover(e){return!1}isPreviewImageInHover(e){return!0}hasMaterialPropertyIcons(){return!0}hasMaterialLightProperties(e){return null!==e.reflection||null!==e.transmission||null!==e.absorption}setValues(e,i,o){}isPoolItemSelected(e,i){return!1}removeMaterial(e){return!1}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(Oe.yh),n.Y36(Do))},t.\u0275cmp=n.Xpm({type:t,selectors:[["apto-material-picker-hover"]],hostBindings:function(e,i){1&e&&n.NdJ("click",function(a){return i.onClick(a)})},inputs:{poolItem:"poolItem",element:"element"},decls:1,vars:1,consts:[["class","pool-item-hover",4,"ngIf"],[1,"pool-item-hover"],["class","item-preview-image",4,"ngIf"],[3,"reflection","transmission","absorption",4,"ngIf"],["class","item-price-info",4,"ngIf"],["class","item-open-details",3,"click",4,"ngIf"],[1,"item-preview-image"],[3,"src"],[3,"reflection","transmission","absorption"],[1,"item-price-info"],[1,"item-open-details",3,"click"],[1,"text"]],template:function(e,i){1&e&&n.YNc(0,swe,11,20,"div",0),2&e&&n.Q6J("ngIf",i.poolItem)},dependencies:[rn,fr,c8,hn,ur],styles:[".pool-item-hover[_ngcontent-%COMP%]{box-shadow:var(--box-shadow);background-color:var(--color-background-card);position:relative;border-radius:var(--border-radius-card);display:flex;border-top-width:3px;border-top-style:solid;padding:var(--element-gap);display:grid;flex-direction:column;align-items:center;justify-items:center;justify-content:center;cursor:default;width:320px}.pool-item-hover[type=confirm][_ngcontent-%COMP%], .pool-item-hover[type=info][_ngcontent-%COMP%], .pool-item-hover[type=custom][_ngcontent-%COMP%]{border-color:var(--color-optic-lines-popup)}.pool-item-hover[type=error][_ngcontent-%COMP%]{border-color:var(--color-optic-lines-popup-error)}.pool-item-hover[type=warning][_ngcontent-%COMP%]{border-color:var(--color-optic-lines-popup-warning)}.pool-item-hover[_ngcontent-%COMP%]   .item-preview-image[_ngcontent-%COMP%]{width:128px;height:128px;display:flex}.pool-item-hover[_ngcontent-%COMP%]   .item-preview-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;display:flex}.pool-item-hover[_ngcontent-%COMP%]   p.item-price-info[_ngcontent-%COMP%]{font-size:14px;text-align:center;margin-top:var(--element-gap)}.pool-item-hover[_ngcontent-%COMP%]   .item-buttons[_ngcontent-%COMP%]:not(:empty){margin-top:var(--element-gap)}.pool-item-hover[_ngcontent-%COMP%]   .item-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;margin:0;display:flex;align-items:center;justify-content:center;height:var(--button-mobile-height)}.pool-item-hover[_ngcontent-%COMP%]   .item-open-details[_ngcontent-%COMP%]{cursor:pointer;color:var(--primary-dark);font-weight:600;font-size:12px;display:flex;flex-direction:row;align-items:flex-start;justify-content:space-between;margin-top:var(--element-gap)}.pool-item-hover[_ngcontent-%COMP%]   .item-open-details[_ngcontent-%COMP%]   span.text[_ngcontent-%COMP%]{display:flex;text-align:center}.pool-item-hover[_ngcontent-%COMP%]   .item-open-details[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{display:flex;width:45px}"]}),t})();function cwe(t,r){if(1&t&&n._UZ(0,"img",15),2&t){const e=n.oxw(5);n.Q6J("src",e.mediaUrl+e.element.element.definition.staticValues.monochromeImage,n.LSH)}}function uwe(t,r){if(1&t&&n._UZ(0,"img",15),2&t){const e=n.oxw(5);n.Q6J("src",e.mediaUrl+e.element.element.definition.staticValues.multicoloredImageAlternately,n.LSH)}}function dwe(t,r){if(1&t&&n._UZ(0,"img",15),2&t){const e=n.oxw(5);n.Q6J("src",e.mediaUrl+e.element.element.definition.staticValues.multicoloredImageInput,n.LSH)}}function pwe(t,r){if(1&t&&(n.ynx(0),n.TgZ(1,"div",6)(2,"div",7)(3,"div",8)(4,"h4"),n._uU(5),n.ALo(6,"contentSnippet"),n.ALo(7,"async"),n.qZA()(),n._UZ(8,"apto-slot-outlet",9),n.qZA(),n.TgZ(9,"div",10),n.YNc(10,cwe,1,1,"img",11),n.YNc(11,uwe,1,1,"img",11),n.YNc(12,dwe,1,1,"img",11),n.qZA(),n.TgZ(13,"div",12)(14,"mat-radio-group",13)(15,"mat-radio-button",14),n._uU(16),n.ALo(17,"contentSnippet"),n.ALo(18,"async"),n.qZA(),n.TgZ(19,"mat-radio-button",14),n._uU(20),n.ALo(21,"contentSnippet"),n.ALo(22,"async"),n.qZA()()()(),n.BQk()),2&t){const e=n.oxw(4);n.xp6(5),n.Oqu(n.xi3(6,12,n.lcZ(7,15,e.contentSnippet$),"colorMixture")),n.xp6(3),n.Q6J("product",e.product)("section",e.section)("element",e.element),n.xp6(2),n.Q6J("ngIf",!e.multiColor.value&&e.element.element.definition.staticValues.monochromeImage),n.xp6(1),n.Q6J("ngIf",e.multiColor.value&&!e.colorOrder.value&&e.element.element.definition.staticValues.multicoloredImageAlternately),n.xp6(1),n.Q6J("ngIf",e.multiColor.value&&e.colorOrder.value&&e.element.element.definition.staticValues.multicoloredImageInput),n.xp6(2),n.Q6J("formControl",e.multiColor),n.xp6(1),n.Q6J("value",!1),n.xp6(1),n.Oqu(n.xi3(17,17,n.lcZ(18,20,e.contentSnippet$),"plain")),n.xp6(3),n.Q6J("value",!0),n.xp6(1),n.Oqu(n.xi3(21,22,n.lcZ(22,25,e.contentSnippet$),"multicolor"))}}function fwe(t,r){if(1&t&&n._UZ(0,"apto-input-field",20),2&t){const e=n.oxw(5);n.Q6J("formControl",e.inputCount)("type","integer")}}function hwe(t,r){if(1&t&&(n.ynx(0),n.TgZ(1,"div",16)(2,"div",7)(3,"div",8)(4,"h4"),n._uU(5),n.ALo(6,"contentSnippet"),n.ALo(7,"async"),n.qZA()()(),n.TgZ(8,"div",12)(9,"div",17)(10,"mat-radio-group",13)(11,"mat-radio-button",14),n._uU(12),n.ALo(13,"contentSnippet"),n.ALo(14,"async"),n.qZA(),n.TgZ(15,"mat-radio-button",14),n._uU(16),n.ALo(17,"contentSnippet"),n.ALo(18,"async"),n.qZA()()(),n.TgZ(19,"div",18),n.YNc(20,fwe,1,2,"apto-input-field",19),n.qZA()()(),n.BQk()),2&t){const e=n.oxw(4);n.xp6(5),n.Oqu(n.xi3(6,7,n.lcZ(7,10,e.contentSnippet$),"arrangement")),n.xp6(5),n.Q6J("formControl",e.colorOrder),n.xp6(1),n.Q6J("value",!1),n.xp6(1),n.Oqu(n.xi3(13,12,n.lcZ(14,15,e.contentSnippet$),"secondaryColor")),n.xp6(3),n.Q6J("value",!0),n.xp6(1),n.Oqu(n.xi3(17,17,n.lcZ(18,20,e.contentSnippet$),"freeInputSecondaryColor")),n.xp6(4),n.Q6J("ngIf",e.colorOrder.value)}}function mwe(t,r){if(1&t&&(n.ynx(0),n.YNc(1,pwe,23,27,"ng-container",4),n._UZ(2,"mat-divider"),n.YNc(3,hwe,21,22,"ng-container",4),n.BQk()),2&t){const e=n.oxw(3);n.xp6(1),n.Q6J("ngIf",e.elementState("second-material")),n.xp6(2),n.Q6J("ngIf",e.multiColor.value)}}function gwe(t,r){if(1&t&&(n.TgZ(0,"div",31)(1,"mat-icon"),n._uU(2,"done"),n.qZA()()),2&t){const e=n.oxw(5);n.ekj("selected",e.element.state.active)}}function _we(t,r){if(1&t&&(n._UZ(0,"div",35),n.ALo(1,"safeHtml"),n.ALo(2,"translate")),2&t){const e=n.oxw(5);n.Q6J("innerHTML",n.lcZ(1,1,n.lcZ(2,3,e.element.element.description)),n.oJD)}}function vwe(t,r){if(1&t&&n._UZ(0,"apto-element-attachment",36),2&t){const e=n.oxw(5);n.Q6J("attachments",e.element.element.attachments)}}function ywe(t,r){if(1&t){const e=n.EpF();n.TgZ(0,"div",29),n.NdJ("click",function(){n.CHM(e);const o=n.oxw().$implicit,a=n.oxw(5);return n.KtG(a.onSelectColor(o.hex))}),n.TgZ(1,"div",38)(2,"div",31)(3,"mat-icon"),n._uU(4,"done"),n.qZA()()(),n.TgZ(5,"div",32),n._uU(6),n.qZA()()}if(2&t){const e=n.oxw().$implicit,i=n.oxw(5);n.ekj("selected",i.filter.value.colorRating===e.hex),n.xp6(1),n.Udp("background-color",e.visibleHex),n.xp6(1),n.ekj("selected",i.filter.value.colorRating===e.hex),n.xp6(4),n.Oqu(e.name)}}function bwe(t,r){if(1&t&&(n.ynx(0),n.YNc(1,ywe,7,7,"div",37),n.BQk()),2&t){const e=r.$implicit;n.xp6(1),n.Q6J("ngIf",e.inPool)}}const MI=function(){return[]};function Cwe(t,r){if(1&t){const e=n.EpF();n.TgZ(0,"div",23),n.YNc(1,gwe,3,2,"div",24),n.TgZ(2,"div",7)(3,"div",8)(4,"h4"),n._uU(5),n.ALo(6,"contentSnippet"),n.ALo(7,"async"),n.qZA()()(),n.YNc(8,_we,3,5,"div",25),n.ALo(9,"translate"),n.YNc(10,vwe,1,1,"apto-element-attachment",26),n.TgZ(11,"div",27)(12,"div",28)(13,"div",29),n.NdJ("click",function(){n.CHM(e);const o=n.oxw(4);return n.KtG(o.onSelectColor(null))}),n.TgZ(14,"div",30)(15,"div",31)(16,"mat-icon"),n._uU(17,"done"),n.qZA()()(),n.TgZ(18,"div",32),n._uU(19),n.ALo(20,"contentSnippet"),n.ALo(21,"async"),n.qZA()()(),n.TgZ(22,"div",33),n.YNc(23,bwe,2,1,"ng-container",34),n.ALo(24,"async"),n.qZA()()()}if(2&t){const e=n.oxw(4);n.xp6(1),n.Q6J("ngIf",(null==e.section?null:e.section.allowMultiple)&&e.product.useStepByStep),n.xp6(4),n.Oqu(n.xi3(6,10,n.lcZ(7,13,e.contentSnippet$),"colorSelection")),n.xp6(3),n.Q6J("ngIf",""!==n.lcZ(9,15,e.element.element.description)),n.xp6(2),n.Q6J("ngIf",e.hasAttachments),n.xp6(3),n.ekj("selected",null===e.filter.value.colorRating),n.xp6(2),n.ekj("selected",null===e.filter.value.colorRating),n.xp6(4),n.Oqu(n.xi3(20,17,n.lcZ(21,20,e.contentSnippet$),"allColors")),n.xp6(4),n.Q6J("ngForOf",n.lcZ(24,22,e.colors$)||n.DdM(24,MI))}}function xwe(t,r){1&t&&n._UZ(0,"mat-divider")}function wwe(t,r){if(1&t&&(n.TgZ(0,"div",42)(1,"div",7)(2,"div",8)(3,"h4"),n._uU(4),n.ALo(5,"contentSnippet"),n.ALo(6,"async"),n.qZA()()(),n.TgZ(7,"div",12),n._UZ(8,"apto-input-field",43),n.qZA()()),2&t){const e=n.oxw(5);n.xp6(4),n.Oqu(n.xi3(5,4,n.lcZ(6,7,e.contentSnippet$),"fabricSearch")),n.xp6(4),n.Q6J("formControl",e.filter.controls.searchString)("type","text")("enableClear",!0)}}function Mwe(t,r){if(1&t&&(n.TgZ(0,"div",44)(1,"div",7)(2,"div",8)(3,"h4"),n._uU(4),n.ALo(5,"contentSnippet"),n.ALo(6,"async"),n.qZA()()(),n.TgZ(7,"div",12),n._UZ(8,"apto-select-field",45),n.ALo(9,"async"),n.ALo(10,"async"),n.qZA()()),2&t){const e=n.oxw(5);n.xp6(4),n.Oqu(n.xi3(5,4,n.lcZ(6,7,e.contentSnippet$),"priceGroup")),n.xp6(4),n.Q6J("default",n.lcZ(9,9,e.getDefaultPriceGroup()))("items",n.lcZ(10,11,e.priceGroups$)||n.DdM(13,MI))("formControl",e.filter.controls.priceGroup)}}function Swe(t,r){if(1&t&&(n.TgZ(0,"div",39),n.YNc(1,wwe,9,9,"div",40),n.YNc(2,Mwe,11,14,"div",41),n.qZA()),2&t){const e=n.oxw(4);n.xp6(1),n.Q6J("ngIf",e.elementState("search-box")),n.xp6(1),n.Q6J("ngIf",e.elementState("price-group"))}}function Dwe(t,r){1&t&&n._UZ(0,"mat-divider")}function Owe(t,r){if(1&t&&(n.TgZ(0,"div",48)(1,"div",49),n._uU(2),n.ALo(3,"translate"),n.qZA(),n._UZ(4,"apto-select-field",50),n.ALo(5,"contentSnippet"),n.ALo(6,"async"),n.qZA()),2&t){const e=r.$implicit,i=n.oxw(5);n.xp6(2),n.Oqu(n.lcZ(3,5,e.name)),n.xp6(2),n.Q6J("items",e.properties)("formControlName",e.id)("default",n.xi3(5,7,n.lcZ(6,10,i.contentSnippet$),"allProperty"))("asArray",!0)}}function Ewe(t,r){if(1&t){const e=n.EpF();n.TgZ(0,"div",48)(1,"mat-checkbox",51),n.NdJ("change",function(){const a=n.CHM(e).$implicit,l=n.oxw().$implicit,u=n.oxw(5);return n.KtG(u.onMultiplePropertySelected(l,a))}),n._uU(2),n.ALo(3,"translate"),n.qZA()()}if(2&t){const e=r.$implicit;n.xp6(2),n.Oqu(n.lcZ(3,1,e.name))}}function Awe(t,r){if(1&t&&(n.ynx(0),n.YNc(1,Ewe,4,3,"div",47),n.BQk()),2&t){const e=r.$implicit;n.xp6(1),n.Q6J("ngForOf",e.properties)}}function Pwe(t,r){if(1&t&&(n.ynx(0),n.TgZ(1,"div",46)(2,"div",7)(3,"div",8)(4,"h4"),n._uU(5),n.ALo(6,"contentSnippet"),n.ALo(7,"async"),n.qZA()()(),n.TgZ(8,"div",12),n.YNc(9,Owe,7,12,"div",47),n.ALo(10,"async"),n.qZA(),n.TgZ(11,"div",12),n.YNc(12,Awe,2,1,"ng-container",34),n.ALo(13,"async"),n.qZA()(),n._UZ(14,"mat-divider"),n.BQk()),2&t){const e=n.oxw(4);n.xp6(5),n.Oqu(n.xi3(6,3,n.lcZ(7,6,e.contentSnippet$),"materialProperties")),n.xp6(4),n.Q6J("ngForOf",n.lcZ(10,8,e.singlePropertyGroups$)),n.xp6(3),n.Q6J("ngForOf",n.lcZ(13,10,e.multiplePropertyGroups$))}}function Twe(t,r){if(1&t&&(n.TgZ(0,"div",60),n._UZ(1,"mat-divider",61),n._uU(2),n.ALo(3,"translate"),n.qZA()),2&t){const e=n.oxw().$implicit;n.xp6(2),n.hij(" ",n.lcZ(3,1,e.priceGroup.name)," ")}}function Iwe(t,r){if(1&t){const e=n.EpF();n.TgZ(0,"div",56),n.NdJ("click",function(){const a=n.CHM(e).$implicit,l=n.oxw(5);return n.KtG(l.onSelectElement(a))}),n.TgZ(1,"div",null,57),n._UZ(3,"apto-material-picker-hover",58),n.qZA(),n.TgZ(4,"div",38)(5,"div",31)(6,"mat-icon"),n._uU(7,"done"),n.qZA()()(),n.TgZ(8,"div",32),n._uU(9),n.ALo(10,"translate"),n.YNc(11,Twe,4,3,"div",59),n.qZA()()}if(2&t){const e=r.$implicit,i=n.MAs(2),o=n.oxw(5);n.ekj("selected",o.isElementSelected(e.material.id)),n.Q6J("tooltipContentRef",i),n.xp6(3),n.Q6J("poolItem",e),n.xp6(1),n.Akn(o.getBackgroundImage(e)),n.xp6(1),n.ekj("selected",o.isElementSelected(e.material.id)),n.xp6(4),n.hij(" ",n.lcZ(10,10,e.material.name)," "),n.xp6(2),n.Q6J("ngIf",o.element.element.definition.staticValues.showPriceGroupInMaterialName)}}function kwe(t,r){if(1&t&&(n.ynx(0),n.TgZ(1,"div",52)(2,"div",7)(3,"div",8)(4,"h4"),n._uU(5),n.ALo(6,"contentSnippet"),n.ALo(7,"async"),n.qZA(),n.TgZ(8,"div",53),n._uU(9),n.ALo(10,"contentSnippet"),n.ALo(11,"async"),n.qZA()()(),n.TgZ(12,"div",54),n.YNc(13,Iwe,12,12,"div",55),n.qZA()(),n.BQk()),2&t){const e=r.ngIf,i=n.oxw(4);n.xp6(5),n.Oqu(n.xi3(6,4,n.lcZ(7,7,i.contentSnippet$),"mostPopularColors")),n.xp6(4),n.AsE("",e.length," ",n.xi3(10,9,n.lcZ(11,12,i.contentSnippet$),"resultsFound"),""),n.xp6(4),n.Q6J("ngForOf",e)}}function Fwe(t,r){if(1&t&&(n.ynx(0),n.YNc(1,Cwe,25,25,"div",21),n.YNc(2,xwe,1,0,"mat-divider",4),n.YNc(3,Swe,3,2,"div",22),n.YNc(4,Dwe,1,0,"mat-divider",4),n.YNc(5,Pwe,15,12,"ng-container",4),n.ALo(6,"async"),n.ALo(7,"async"),n.YNc(8,kwe,14,14,"ng-container",4),n.ALo(9,"async"),n.BQk()),2&t){const e=n.oxw(3);let i;n.xp6(1),n.Q6J("ngIf",e.element.element.definition.staticValues.colorSectionActive),n.xp6(1),n.Q6J("ngIf",e.element.element.definition.staticValues.colorSectionActive),n.xp6(1),n.Q6J("ngIf",e.elementState("search-box")||e.elementState("price-group")),n.xp6(1),n.Q6J("ngIf",e.elementState("search-box")||e.elementState("price-group")),n.xp6(1),n.Q6J("ngIf",(null==(i=n.lcZ(6,6,e.singlePropertyGroups$))?null:i.length)||(null==(i=n.lcZ(7,8,e.multiplePropertyGroups$))?null:i.length)),n.xp6(3),n.Q6J("ngIf",n.lcZ(9,10,e.items$)||n.DdM(12,MI))}}function Nwe(t,r){if(1&t){const e=n.EpF();n.TgZ(0,"button",65),n.NdJ("click",function(){n.CHM(e);const o=n.oxw(4);return n.KtG(o.nextStep())}),n._uU(1),n.ALo(2,"contentSnippet"),n.ALo(3,"async"),n.qZA()}if(2&t){const e=n.oxw(4);n.Q6J("disabled",!e.asserValidValues()),n.xp6(1),n.hij(" ",n.xi3(2,2,n.lcZ(3,5,e.contentSnippetButton$),"buttons.continue")," ")}}function Rwe(t,r){if(1&t){const e=n.EpF();n.TgZ(0,"button",65),n.NdJ("click",function(){n.CHM(e);const o=n.oxw(4);return n.KtG(o.saveInput())}),n._uU(1),n.ALo(2,"contentSnippet"),n.ALo(3,"async"),n.qZA()}if(2&t){const e=n.oxw(4);n.Q6J("disabled",!e.asserValidValues()),n.xp6(1),n.hij(" ",n.xi3(2,2,n.lcZ(3,5,e.contentSnippetButton$),"buttons.select")," ")}}function Lwe(t,r){if(1&t){const e=n.EpF();n.TgZ(0,"button",66),n.NdJ("click",function(){n.CHM(e);const o=n.oxw(4);return n.KtG(o.removeInput())}),n._uU(1),n.ALo(2,"contentSnippet"),n.ALo(3,"async"),n.qZA()}if(2&t){const e=n.oxw(4);n.xp6(1),n.hij(" ",n.xi3(2,1,n.lcZ(3,4,e.contentSnippetButton$),"buttons.remove")," ")}}function Bwe(t,r){if(1&t&&(n.TgZ(0,"div",62),n.YNc(1,Nwe,4,7,"button",63),n.YNc(2,Rwe,4,7,"button",63),n.YNc(3,Lwe,4,6,"button",64),n.qZA()),2&t){const e=n.oxw(3);n.xp6(1),n.Q6J("ngIf",1===e.step&&e.elementState("second-material")),n.xp6(1),n.Q6J("ngIf",2===e.step||!e.elementState("second-material")),n.xp6(1),n.Q6J("ngIf",e.elementState("active"))}}function Uwe(t,r){if(1&t&&(n.TgZ(0,"div",3),n.YNc(1,mwe,4,2,"ng-container",4),n._UZ(2,"mat-divider"),n.YNc(3,Fwe,10,13,"ng-container",4),n._UZ(4,"mat-divider"),n.YNc(5,Bwe,4,3,"div",5),n.qZA()),2&t){const e=n.oxw(2);n.ekj("selected",e.element.state.active)("disabled",e.element.state.disabled),n.xp6(1),n.Q6J("ngIf",2===e.step),n.xp6(2),n.Q6J("ngIf",1===e.step||2===e.step&&!0===e.multiColor.value),n.xp6(2),n.Q6J("ngIf",e.element.element.definition.staticValues.secondaryMaterialActive)}}function Vwe(t,r){if(1&t&&(n.TgZ(0,"form",1),n.YNc(1,Uwe,6,7,"div",2),n.qZA()),2&t){const e=n.oxw();n.Q6J("formGroup",e.filter),n.xp6(1),n.Q6J("ngIf",e.element)}}let yh=class{constructor(r){this.store=r,this.mediaUrl=yn.api.media+"/",this.locale=yn.defaultLocale,this.step=1,this.contentSnippet$=this.store.select(un("plugins.materialPickerElement")),this.contentSnippetButton$=this.store.select(un("aptoDefaultElementDefinition")),this.items$=this.store.select(U1e),this.colors$=this.store.select(V1e),this.priceGroups$=this.store.select(z1e),this.singlePropertyGroups$=this.store.select(H1e),this.multiplePropertyGroups$=this.store.select(j1e),this.currentMaterials=[],this.currentSecondaryMaterials=[],this.formElement=new Ln([]),this.secondaryFormElement=new Ln([]),this.multiColor=new Ln(!1),this.colorOrder=new Ln(!1),this.inputCount=new Ln(0),this.filter=new mo({colorRating:new Ln(null),priceGroup:new Ln(null),properties:new mo({}),searchString:new Ln("")})}ngOnInit(){this.store.dispatch(r8({payload:this.getPayload()})),this.store.select(lr).subscribe(r=>{null!==r&&(this.locale=r)}),uo([this.singlePropertyGroups$,this.multiplePropertyGroups$]).subscribe(([r,e])=>{const i=o=>{this.filter.controls.properties.addControl(o.id,new Ln([]),{emitEvent:!1})};r?.forEach(i),e?.forEach(i)}),"multicolored"===this.element.state.values.materialColorMixing&&this.multiColor.setValue(!0),"input"===this.element.state.values.materialColorArrangement&&this.colorOrder.setValue(!0),this.element.state.values.materialColorQuantity&&this.inputCount.setValue(parseInt(this.element.state.values.materialColorQuantity,10)),this.element.element.definition.staticValues.allowMultiple||this.initSingleSelection(),this.element.element.definition.staticValues.allowMultiple&&this.initMultiSelection(),this.filter.valueChanges.subscribe(r=>{this.applyFilter()})}nextStep(){this.step=2}initSingleSelection(){this.element.state.values.materialId&&(this.currentItem={id:this.element.state.values.materialId,name:this.element.state.values.materialName,priceGroup:this.element.state.values.priceGroup},this.formElement.setValue([this.currentItem])),this.element.state.values.materialIdSecondary&&(this.currentSecondaryItem={id:this.element.state.values.materialIdSecondary,name:this.element.state.values.materialNameSecondary,priceGroup:this.element.state.values.priceGroupSecondary},this.secondaryFormElement.setValue([this.currentSecondaryItem]))}initMultiSelection(){if(this.element.state.values.materials)for(const r of this.element.state.values.materials)this.currentMaterials.push(r);if(this.currentSecondaryMaterials=[],this.element.state.values.materialsSecondary)for(const r of this.element.state.values.materialsSecondary)this.currentSecondaryMaterials.push(r);this.secondaryFormElement.setValue(this.currentSecondaryMaterials),this.formElement.setValue(this.currentMaterials)}onSelectColor(r){this.filter.controls.colorRating.setValue(this.filter.controls.colorRating.value===r?null:r)}onSelectElement(r){if(!this.element)return;const e={id:r.material.id,name:Pn(r.material.name,this.locale),priceGroup:Pn(r.priceGroup.name,this.locale)};let i=2===this.step?this.currentSecondaryItem:this.currentItem,o=2===this.step?this.currentSecondaryMaterials:this.currentMaterials,a=2===this.step?this.secondaryFormElement:this.formElement;if(this.element.element.definition.staticValues.allowMultiple){const l=o.find(u=>u.id===e.id);l?o.splice(o.indexOf(l),1):e&&o.push({id:e.id,name:e.name,priceGroup:e.priceGroup}),a.setValue(o)}else i&&i.id===e.id?(i=void 0,a.setValue([])):(i=e,a.setValue([i]));1===this.step?(this.currentItem=i,this.currentMaterials=o):2===this.step&&(this.currentSecondaryItem=i,this.currentSecondaryMaterials=o),this.element.element.definition.staticValues.secondaryMaterialActive||(0===this.currentMaterials.length&&this.element.element.definition.staticValues.allowMultiple||void 0===this.currentItem&&!this.element.element.definition.staticValues.allowMultiple?this.removeInput():this.saveInput())}get hasAttachments(){return 0!==this.element.element.attachments?.length}onMultiplePropertySelected(r,e){if(!this.filter.controls.properties.controls.hasOwnProperty(r.id))return;const i=this.filter.controls.properties.controls[r.id].value.indexOf(e.id),o=this.filter.controls.properties.controls[r.id].value;-1===i?o.push(e.id):o.splice(i,1),this.filter.controls.properties.controls[r.id].setValue([...o])}isElementSelected(r){let e=this.currentItem,i=this.currentMaterials;return 2===this.step&&(e=this.currentSecondaryItem,i=this.currentSecondaryMaterials),this.elementState("multiple")?i.some(o=>o.id===r):!(this.elementState("multiple")||!e)&&e.id===r}asserValidValues(){return!(!this.formElement.value||!this.secondaryFormElement.value)&&(this.multiColor.value?0!==this.formElement.value.length&&0!==this.secondaryFormElement.value.length:0!==this.formElement.value.length)}applyFilter(){this.store.dispatch(o8({payload:this.getPayload()}))}getPayload(){let r={poolId:this.element.element.definition.staticValues.poolId,filter:{searchString:this.filter.controls.searchString.value,colorRating:this.filter.controls.colorRating.value,priceGroup:this.filter.controls.priceGroup.value,properties:[]},sortBy:this.element.element.definition.staticValues.sortByPosition,orderBy:"clicks"===this.element.element.definition.staticValues.sortByPosition?"desc":"asc"};return Object.entries(this.filter.controls.properties.value).forEach(([e,i])=>{r.filter.properties=r.filter.properties.concat(i)}),r}saveInput(){if(!this.element)return;let r="monochrome";this.multiColor.value&&(r="multicolored");let e="alternately";this.colorOrder.value&&(e="input");let i="";if(this.inputCount.value&&this.inputCount.value>0&&(i=this.inputCount.value.toString()),this.element.element.definition.staticValues.allowMultiple)this.store.dispatch(di({updates:{set:[this.getStateUpdateObject("aptoElementDefinitionId","apto-element-material-picker"),this.getStateUpdateObject("poolId",this.element.element.definition.staticValues.poolId),this.getStateUpdateObject("productId",this.product?.id),this.getStateUpdateObject("materialId",""),this.getStateUpdateObject("materialName",""),this.getStateUpdateObject("priceGroup",""),this.getStateUpdateObject("materials",[...this.currentMaterials]),this.getStateUpdateObject("materialIdSecondary",""),this.getStateUpdateObject("materialNameSecondary",""),this.getStateUpdateObject("priceGroupSecondary",""),this.getStateUpdateObject("materialsSecondary",[...this.currentSecondaryMaterials]),this.getStateUpdateObject("materialColorMixing",r),this.getStateUpdateObject("materialColorArrangement",e),this.getStateUpdateObject("materialColorQuantity",i)]}}));else if(this.currentItem){let o=this.currentSecondaryItem;o||(o={id:"",name:"",priceGroup:""}),this.store.dispatch(di({updates:{set:[this.getStateUpdateObject("aptoElementDefinitionId","apto-element-material-picker"),this.getStateUpdateObject("poolId",this.element.element.definition.staticValues.poolId),this.getStateUpdateObject("productId",this.product?.id),this.getStateUpdateObject("materialId",this.currentItem.id),this.getStateUpdateObject("materialName",this.currentItem.name),this.getStateUpdateObject("priceGroup",this.currentItem.priceGroup),this.getStateUpdateObject("materialIdSecondary",o.id),this.getStateUpdateObject("materialNameSecondary",o.name),this.getStateUpdateObject("priceGroupSecondary",o.priceGroup),this.getStateUpdateObject("materialsSecondary",[]),this.getStateUpdateObject("materialColorMixing",r),this.getStateUpdateObject("materialColorArrangement",e),this.getStateUpdateObject("materialColorQuantity",i)]}}))}}removeInput(){!this.element||(this.step=1,this.store.dispatch(di({updates:{remove:[this.getStateUpdateObject()]}})))}getStateUpdateObject(r=null,e=null){return{sectionId:this.element.element.sectionId,elementId:this.element.element.id,sectionRepetition:this.element.state.sectionRepetition,property:r,value:e}}elementState(r){return!!this.element&&("search-box"===r?this.element.element.definition.staticValues.searchboxActive:"price-group"===r?this.element.element.definition.staticValues.priceGroupActive:"multiple"===r?this.element.element.definition.staticValues.allowMultiple:"active"===r?this.element.state.active:"second-material"===r&&this.element.element.definition.staticValues.secondaryMaterialActive)}resetSearchField(){this.filter.controls.searchString.setValue("")}getDefaultPriceGroup(){return this.priceGroups$.pipe((0,Qn.w)(r=>r&&1===r.length?(0,pn.of)(r[0].name.de_DE.toString()):this.store.select(un("plugins.materialPickerElement.allProperty")).pipe((0,xt.U)(e=>e.content.de_DE.toString()))))}getBackgroundImage(r){return{"background-image":`url(${this.mediaUrl}${r.material.previewImage.path})`,"background-size":"contain","background-position":"center","background-repeat":"no-repeat"}}};yh.\u0275fac=function(r){return new(r||yh)(n.Y36(Oe.yh))},yh.\u0275cmp=n.Xpm({type:yh,selectors:[["apto-material-picker-element"]],inputs:{element:"element",section:"section",product:"product"},decls:2,vars:3,consts:[[3,"formGroup",4,"ngIf"],[3,"formGroup"],["class","material-picker-element",3,"selected","disabled",4,"ngIf"],[1,"material-picker-element"],[4,"ngIf"],["class","apply-button",4,"ngIf"],[1,"color-mix"],[1,"header"],[1,"title"],["identifier","header-end",3,"product","section","element"],[1,"picture"],[3,"src",4,"ngIf"],[1,"element"],[1,"flex",3,"formControl"],["color","primary",3,"value"],[3,"src"],[1,"color-order"],[1,"input","input-radio"],[1,"input","input-input"],[3,"formControl","type",4,"ngIf"],[3,"formControl","type"],["class","color-filter",4,"ngIf"],["class","search-price-container","style","display: flex;",4,"ngIf"],[1,"color-filter"],["class","circle",3,"selected",4,"ngIf"],["class","description",3,"innerHTML",4,"ngIf"],[3,"attachments",4,"ngIf"],[1,"available-colors"],[1,"elements","all-color"],[1,"element",3,"click"],[1,"box","linear-gradient"],[1,"circle"],[1,"name"],[1,"elements","other-colors"],[4,"ngFor","ngForOf"],[1,"description",3,"innerHTML"],[3,"attachments"],["class","element",3,"selected","click",4,"ngIf"],[1,"box"],[1,"search-price-container",2,"display","flex"],["class","search-box",4,"ngIf"],["class","price-group",4,"ngIf"],[1,"search-box"],[3,"formControl","type","enableClear"],[1,"price-group"],[3,"default","items","formControl"],["formGroupName","properties",1,"properties"],["class","input",4,"ngFor","ngForOf"],[1,"input"],[1,"prefix"],[3,"items","formControlName","default","asArray"],["color","primary",1,"mat-checkbox-multiline-label",3,"change"],["id","filtered-materials",1,"filtered-materials"],[1,"results"],[1,"elements"],["class","element","aptoTooltip","",3,"selected","tooltipContentRef","click",4,"ngFor","ngForOf"],["aptoTooltip","",1,"element",3,"tooltipContentRef","click"],["tooltipContent",""],[3,"poolItem"],["class","material-price-group-name","style","margin-top: 6px;",4,"ngIf"],[1,"material-price-group-name",2,"margin-top","6px"],[2,"margin-bottom","6px"],[1,"apply-button"],["mat-flat-button","","color","primary",3,"disabled","click",4,"ngIf"],["mat-flat-button","","color","accent",3,"click",4,"ngIf"],["mat-flat-button","","color","primary",3,"disabled","click"],["mat-flat-button","","color","accent",3,"click"]],template:function(r,e){1&r&&(n.YNc(0,Vwe,2,2,"form",0),n.ALo(1,"async")),2&r&&n.Q6J("ngIf",n.lcZ(1,1,e.items$))},dependencies:[Ar,rn,fo,io,Xy,q1e,ru,oa,oi,ia,Cl,qi,Bo,lw,fr,vc,BP,Or,mz,gz,lwe,hn,Tr,Lo,ur],styles:['mat-radio-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;word-break:break-word;width:100%}mat-radio-group[_ngcontent-%COMP%]   mat-radio-button[_ngcontent-%COMP%]:nth-child(2){margin-top:var(--element-gap)}mat-radio-group[_ngcontent-%COMP%]   .mat-radio-button[_ngcontent-%COMP%]{width:100%}.material-picker-element.selected[_ngcontent-%COMP%]{border:3px solid var(--color-border-dimensions);border-radius:var(--border-radius-card)}.material-picker-element[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%] + .description[_ngcontent-%COMP%]:not(:empty){margin-top:var(--element-gap)}.material-picker-element[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center}.material-picker-element[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.material-picker-element[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:18px;font-weight:600;color:var(--color-text);text-align:center}.material-picker-element[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .results[_ngcontent-%COMP%]{display:flex;justify-content:center}.material-picker-element[_ngcontent-%COMP%]   .color-filter[_ngcontent-%COMP%]{padding:34px var(--element-gap) 30px var(--element-gap);width:100%;display:flex;flex-direction:column;align-items:center;position:relative}.material-picker-element[_ngcontent-%COMP%]   .color-filter[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]{border:2px solid transparent;border-radius:var(--border-radius-bubble);height:25px;width:25px;color:#fff;display:flex;justify-content:center;align-items:center;position:absolute;background-color:#fff;transition:background-color .25s ease,border-color .25s ease;top:20px;right:20px;border:2px solid var(--color-border-selected)}.material-picker-element[_ngcontent-%COMP%]   .color-filter[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{display:none;text-align:center;height:20px;width:20px;overflow:hidden;line-height:20px;font-size:20px}.material-picker-element[_ngcontent-%COMP%]   .color-filter[_ngcontent-%COMP%]   .circle.selected[_ngcontent-%COMP%]{background-color:var(--color-border-selected);border:2px solid var(--color-border-selected)}.material-picker-element[_ngcontent-%COMP%]   .color-filter[_ngcontent-%COMP%]   .circle.selected[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{display:flex}.material-picker-element[_ngcontent-%COMP%]   .color-filter[_ngcontent-%COMP%]   .available-colors[_ngcontent-%COMP%]{margin-top:var(--element-gap);display:grid;grid-template-columns:80px auto;grid-template-areas:"all-color other-colors"}.material-picker-element[_ngcontent-%COMP%]   .color-filter[_ngcontent-%COMP%]   .available-colors[_ngcontent-%COMP%]   .elements[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.material-picker-element[_ngcontent-%COMP%]   .color-filter[_ngcontent-%COMP%]   .available-colors[_ngcontent-%COMP%]   .elements.all-color[_ngcontent-%COMP%]{grid-area:all-color;height:max-content}.material-picker-element[_ngcontent-%COMP%]   .color-filter[_ngcontent-%COMP%]   .available-colors[_ngcontent-%COMP%]   .elements.other-colors[_ngcontent-%COMP%]{grid-area:other-colors}.material-picker-element[_ngcontent-%COMP%]   .color-filter[_ngcontent-%COMP%]   .available-colors[_ngcontent-%COMP%]   .elements[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]{display:flex;align-items:center;border-radius:var(--border-radius-card);padding:10px;width:80px;cursor:pointer;flex-direction:column;position:relative}.material-picker-element[_ngcontent-%COMP%]   .color-filter[_ngcontent-%COMP%]   .available-colors[_ngcontent-%COMP%]   .elements[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]:hover{background-color:#0000000d}.material-picker-element[_ngcontent-%COMP%]   .color-filter[_ngcontent-%COMP%]   .available-colors[_ngcontent-%COMP%]   .elements[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]{display:flex;position:relative;width:40px;height:40px;border-radius:var(--border-radius-card);border:none}.material-picker-element[_ngcontent-%COMP%]   .color-filter[_ngcontent-%COMP%]   .available-colors[_ngcontent-%COMP%]   .elements[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]   .box.linear-gradient[_ngcontent-%COMP%]{background:linear-gradient(to right,#FABF5C,#D6D55F,#96F386,#6ED6D7,#70A4F7,#AD5DF9)}.material-picker-element[_ngcontent-%COMP%]   .color-filter[_ngcontent-%COMP%]   .available-colors[_ngcontent-%COMP%]   .elements[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]{display:none}.material-picker-element[_ngcontent-%COMP%]   .color-filter[_ngcontent-%COMP%]   .available-colors[_ngcontent-%COMP%]   .elements[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;border-radius:var(--border-radius-card)}.material-picker-element[_ngcontent-%COMP%]   .color-filter[_ngcontent-%COMP%]   .available-colors[_ngcontent-%COMP%]   .elements[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{text-align:center;width:100%;font-size:14px;font-weight:500;margin-top:7px;overflow-wrap:break-word}.material-picker-element[_ngcontent-%COMP%]   .color-filter[_ngcontent-%COMP%]   .available-colors[_ngcontent-%COMP%]   .elements[_ngcontent-%COMP%]   .element.selected[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]{border:solid 2px var(--color-border-selected)}.material-picker-element[_ngcontent-%COMP%]   .color-filter[_ngcontent-%COMP%]   .available-colors[_ngcontent-%COMP%]   .elements[_ngcontent-%COMP%]   .element.selected[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]{border:2px solid transparent;border-radius:var(--border-radius-bubble);height:15px;width:15px;color:#fff;display:flex;justify-content:center;align-items:center;position:absolute;background-color:#fff;transition:background-color .25s ease,border-color .25s ease;top:-5.5px;right:-5.5px}.material-picker-element[_ngcontent-%COMP%]   .color-filter[_ngcontent-%COMP%]   .available-colors[_ngcontent-%COMP%]   .elements[_ngcontent-%COMP%]   .element.selected[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{display:none;text-align:center;height:10px;width:10px;overflow:hidden;line-height:10px;font-size:10px}.material-picker-element[_ngcontent-%COMP%]   .color-filter[_ngcontent-%COMP%]   .available-colors[_ngcontent-%COMP%]   .elements[_ngcontent-%COMP%]   .element.selected[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   .circle.selected[_ngcontent-%COMP%]{background-color:var(--color-border-selected);border:2px solid var(--color-border-selected)}.material-picker-element[_ngcontent-%COMP%]   .color-filter[_ngcontent-%COMP%]   .available-colors[_ngcontent-%COMP%]   .elements[_ngcontent-%COMP%]   .element.selected[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   .circle.selected[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{display:flex}.material-picker-element[_ngcontent-%COMP%]   .search-price-container[_ngcontent-%COMP%], .material-picker-element[_ngcontent-%COMP%]   .properties[_ngcontent-%COMP%]{padding:34px var(--element-gap) 30px var(--element-gap);width:100%;display:flex;flex-direction:column;align-items:center}.material-picker-element[_ngcontent-%COMP%]   .properties[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]{justify-items:center;margin-top:var(--element-gap);width:var(--input-mobile-width)}.material-picker-element[_ngcontent-%COMP%]   .properties[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]   .prefix[_ngcontent-%COMP%]{margin-bottom:var(--input-elements-gap)}.material-picker-element[_ngcontent-%COMP%]   .properties[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%] + .input[_ngcontent-%COMP%]{margin-top:var(--element-gap)}.material-picker-element[_ngcontent-%COMP%]   .filtered-materials[_ngcontent-%COMP%]{padding:34px var(--element-gap) 30px var(--element-gap);width:100%;display:flex;flex-direction:column;align-items:center}.material-picker-element[_ngcontent-%COMP%]   .filtered-materials[_ngcontent-%COMP%]   .elements[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;width:100%}.material-picker-element[_ngcontent-%COMP%]   .filtered-materials[_ngcontent-%COMP%]   .elements[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]{display:flex;align-items:center;border-radius:var(--border-radius-card);padding:10px 20px;width:50%;cursor:pointer;flex-direction:column;position:relative}.material-picker-element[_ngcontent-%COMP%]   .filtered-materials[_ngcontent-%COMP%]   .elements[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]:hover{background-color:#0000000d}.material-picker-element[_ngcontent-%COMP%]   .filtered-materials[_ngcontent-%COMP%]   .elements[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]{display:flex;position:relative;width:95px;height:95px;border-radius:var(--border-radius-card);border:none}.material-picker-element[_ngcontent-%COMP%]   .filtered-materials[_ngcontent-%COMP%]   .elements[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]   .box.linear-gradient[_ngcontent-%COMP%]{background:linear-gradient(to right,#FABF5C,#D6D55F,#96F386,#6ED6D7,#70A4F7,#AD5DF9)}.material-picker-element[_ngcontent-%COMP%]   .filtered-materials[_ngcontent-%COMP%]   .elements[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]{display:none}.material-picker-element[_ngcontent-%COMP%]   .filtered-materials[_ngcontent-%COMP%]   .elements[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;border-radius:var(--border-radius-card)}.material-picker-element[_ngcontent-%COMP%]   .filtered-materials[_ngcontent-%COMP%]   .elements[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{text-align:center;width:100%;font-size:14px;font-weight:500;margin-top:7px;overflow-wrap:break-word}.material-picker-element[_ngcontent-%COMP%]   .filtered-materials[_ngcontent-%COMP%]   .elements[_ngcontent-%COMP%]   .element.selected[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]{border:solid 2px var(--color-border-selected)}.material-picker-element[_ngcontent-%COMP%]   .filtered-materials[_ngcontent-%COMP%]   .elements[_ngcontent-%COMP%]   .element.selected[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]{border:2px solid transparent;border-radius:var(--border-radius-bubble);height:22px;width:22px;color:#fff;display:flex;justify-content:center;align-items:center;position:absolute;background-color:#fff;transition:background-color .25s ease,border-color .25s ease;top:-9px;right:-9px}.material-picker-element[_ngcontent-%COMP%]   .filtered-materials[_ngcontent-%COMP%]   .elements[_ngcontent-%COMP%]   .element.selected[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{display:none;text-align:center;height:17px;width:17px;overflow:hidden;line-height:17px;font-size:17px}.material-picker-element[_ngcontent-%COMP%]   .filtered-materials[_ngcontent-%COMP%]   .elements[_ngcontent-%COMP%]   .element.selected[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   .circle.selected[_ngcontent-%COMP%]{background-color:var(--color-border-selected);border:2px solid var(--color-border-selected)}.material-picker-element[_ngcontent-%COMP%]   .filtered-materials[_ngcontent-%COMP%]   .elements[_ngcontent-%COMP%]   .element.selected[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   .circle.selected[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{display:flex}.material-picker-element[_ngcontent-%COMP%]   .filtered-materials[_ngcontent-%COMP%]   .elements[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%]{flex:0 0 calc(25% - var(--element-gap));visibility:hidden}.material-picker-element[_ngcontent-%COMP%]   .filtered-materials[_ngcontent-%COMP%]   .elements[_ngcontent-%COMP%]:nth-last-child(-n+1) ~ .placeholder[_ngcontent-%COMP%]{visibility:visible}.material-picker-element[_ngcontent-%COMP%]   .filtered-materials[_ngcontent-%COMP%]   .elements[_ngcontent-%COMP%]:nth-last-child(-n+2) ~ .placeholder[_ngcontent-%COMP%]{visibility:visible}.material-picker-element[_ngcontent-%COMP%]   .filtered-materials[_ngcontent-%COMP%]   .elements[_ngcontent-%COMP%]:nth-last-child(-n+3) ~ .placeholder[_ngcontent-%COMP%]{visibility:visible}.material-picker-element[_ngcontent-%COMP%]   .color-mix[_ngcontent-%COMP%]{flex-wrap:wrap;padding:34px var(--element-gap) 30px var(--element-gap);width:100%;display:flex;flex-direction:column;align-items:center}.material-picker-element[_ngcontent-%COMP%]   .color-mix[_ngcontent-%COMP%]   .picture[_ngcontent-%COMP%]{margin-top:var(--element-gap)}.material-picker-element[_ngcontent-%COMP%]   .color-mix[_ngcontent-%COMP%]   .picture[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:calc(2 * var(--image-mobile-width))}.material-picker-element[_ngcontent-%COMP%]   .color-mix[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]{justify-items:center;margin-top:var(--element-gap);width:var(--input-mobile-width)}.material-picker-element[_ngcontent-%COMP%]   .color-order[_ngcontent-%COMP%]{padding:34px var(--element-gap) 30px var(--element-gap);width:100%;display:flex;flex-direction:column;align-items:center}.material-picker-element[_ngcontent-%COMP%]   .color-order[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]{justify-items:center;margin-top:var(--element-gap);width:var(--input-mobile-width)}.material-picker-element[_ngcontent-%COMP%]   .color-order[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%] + .input[_ngcontent-%COMP%]{margin-top:var(--element-gap)}.material-picker-element[_ngcontent-%COMP%]   .color-order[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]   .input-input[_ngcontent-%COMP%]{width:100px}.material-picker-element[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{word-break:break-word;text-align:center}@media only screen and (min-width: 767px){.material-picker-element[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{text-align:left}}.material-picker-element[_ngcontent-%COMP%]   .apply-button[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:var(--button-gap);padding:var(--element-gap)}@media only screen and (min-width: 767px){.material-picker-element[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{flex-direction:column;display:flex;justify-content:space-between;width:100%}.material-picker-element[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{width:100%;display:flex;align-items:flex-start;justify-content:space-between;flex-direction:row}.material-picker-element[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{text-align:left;font-size:22px}.material-picker-element[_ngcontent-%COMP%]   .color-filter[_ngcontent-%COMP%]{padding:34px var(--element-gap) 30px var(--element-gap);width:100%;display:flex;flex-direction:column;align-items:flex-start}.material-picker-element[_ngcontent-%COMP%]   .search-price-container[_ngcontent-%COMP%]{padding:34px var(--element-gap) 30px var(--element-gap);flex-direction:column;align-items:flex-start;width:100%;display:flex;flex-direction:row;flex-wrap:wrap;justify-content:space-between}.material-picker-element[_ngcontent-%COMP%]   .search-box[_ngcontent-%COMP%]{width:calc(67% - var(--element-gap) / 2)}.material-picker-element[_ngcontent-%COMP%]   .search-box[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]{margin-top:var(--element-gap);display:flex;align-items:center;flex:0 0 calc(20% - var(--element-gap))}.material-picker-element[_ngcontent-%COMP%]   .price-group[_ngcontent-%COMP%]{width:calc(33% - var(--element-gap) / 2)}.material-picker-element[_ngcontent-%COMP%]   .price-group[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]{margin-top:var(--element-gap)}.material-picker-element[_ngcontent-%COMP%]   .properties[_ngcontent-%COMP%]{padding:34px var(--element-gap) 30px var(--element-gap);width:100%;display:flex;flex-direction:column;align-items:flex-start}.material-picker-element[_ngcontent-%COMP%]   .properties[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;flex-wrap:wrap;justify-content:space-between}.material-picker-element[_ngcontent-%COMP%]   .properties[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]{width:calc(33% - var(--element-gap) / 2);margin-top:var(--element-gap)}.material-picker-element[_ngcontent-%COMP%]   .filtered-materials[_ngcontent-%COMP%]{padding:34px var(--element-gap) 30px var(--element-gap);width:100%;display:flex;flex-direction:column;align-items:flex-start}.material-picker-element[_ngcontent-%COMP%]   .filtered-materials[_ngcontent-%COMP%]   .elements[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]{width:25%}.material-picker-element[_ngcontent-%COMP%]   .color-mix[_ngcontent-%COMP%]{padding:34px var(--element-gap) 30px var(--element-gap);width:100%;display:flex;flex-direction:column;align-items:flex-start}.material-picker-element[_ngcontent-%COMP%]   .color-mix[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]{justify-items:center;margin-top:var(--element-gap);width:100%}.material-picker-element[_ngcontent-%COMP%]   .color-order[_ngcontent-%COMP%]{padding:34px var(--element-gap) 30px var(--element-gap);width:100%;display:flex;flex-direction:column;align-items:flex-start}.material-picker-element[_ngcontent-%COMP%]   .color-order[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]{justify-items:center;margin-top:var(--element-gap);width:100%}.material-picker-element[_ngcontent-%COMP%]   .apply-button[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:var(--button-gap);justify-self:flex-end;justify-content:flex-end}.material-picker-element[_ngcontent-%COMP%]   .apply-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:0 15px!important;height:50px}}']}),yh=(0,Ei.gn)([Ii()],yh);let zwe=(()=>{class t{constructor(e,i,o){this.store$=e,this.actions$=i,this.catalogMessageBusService=o,this.initMaterialPicker$=br(()=>this.actions$.pipe(Yn(r8),(0,Oo.M)(this.store$.select(ji)),(0,Qn.w)(([a,l])=>eu([this.catalogMessageBusService.findMaterialPickerPoolItemsFiltered(l.productId,a.payload.poolId,a.payload.filter,l.state.compressedState,a.payload.sortBy,a.payload.orderBy),this.catalogMessageBusService.findMaterialPickerPoolColors(a.payload.poolId,a.payload.filter),this.catalogMessageBusService.findMaterialPickerPoolPriceGroups(a.payload.poolId),this.catalogMessageBusService.findMaterialPickerPoolPropertyGroups(a.payload.poolId)]).pipe((0,xt.U)(u=>i8({payload:{items:u[0].data,colors:Object.values(u[1]),priceGroups:u[2],propertyGroups:u[3]}})))))),this.findPoolItems$=br(()=>this.actions$.pipe(Yn(o8),(0,Oo.M)(this.store$.select(ji)),(0,Qn.w)(([a,l])=>eu([this.catalogMessageBusService.findMaterialPickerPoolItemsFiltered(l.productId,a.payload.poolId,a.payload.filter,l.state.compressedState,a.payload.sortBy,a.payload.orderBy),this.catalogMessageBusService.findMaterialPickerPoolColors(a.payload.poolId,a.payload.filter)]).pipe((0,xt.U)(u=>a8({payload:{items:u[0].data,colors:Object.values(u[1])}}))))))}}return t.\u0275fac=function(e){return new(e||t)(n.LFG(Oe.yh),n.LFG(eo),n.LFG(Rw))},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac}),t})(),Hwe=(()=>{class t{constructor(){to.components.set("apto-element-material-picker",yh)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[Oe.Aw.forFeature(s8,B1e),dm.forFeature([zwe]),Jo,Zr,Is,Na,ss,xl,aa,ka,Ta,na,pw,Aw,Ia,_z,Aa,Jxe,F1e]}),t})();function jwe(t,r){if(1&t&&(n.TgZ(0,"div",7)(1,"mat-icon"),n._uU(2,"done"),n.qZA()()),2&t){const e=n.oxw(2);n.ekj("selected",e.element.state.active)}}function qwe(t,r){if(1&t&&(n.ynx(0),n.TgZ(1,"div",1)(2,"div",2)(3,"div"),n.YNc(4,jwe,3,2,"div",3),n.TgZ(5,"div",4),n._UZ(6,"img",5),n.qZA()()(),n.TgZ(7,"div",6)(8,"p"),n._uU(9),n.ALo(10,"translate"),n.qZA()()(),n.BQk()),2&t){const e=n.oxw();n.ekj("step-by-step",e.product.useStepByStep)("one-page",!e.product.useStepByStep)("open-in-dialog",e.isDialog)("disabled",e.element.state.disabled),n.xp6(3),n.ekj("selected",e.element.state.active),n.xp6(1),n.Q6J("ngIf",e.element.state.active),n.xp6(2),n.Q6J("src",e.element.element.previewImage,n.LSH),n.xp6(3),n.Oqu(n.lcZ(10,13,e.element.element.name))}}let Zwe=(()=>{class t{constructor(){this.isDialog=!1}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Xpm({type:t,selectors:[["apto-default-element-one-page"]],inputs:{element:"element",section:"section",product:"product",isDialog:"isDialog"},decls:1,vars:1,consts:[[3,"step-by-step","one-page","open-in-dialog","disabled",4,"ngIf"],[1,"container"],[1,"single-element"],["class","circle",3,"selected",4,"ngIf"],[1,"element-img"],[3,"src"],[1,"element-name"],[1,"circle"]],template:function(e,i){1&e&&n.YNc(0,qwe,11,15,"ng-container",0),2&e&&n.Q6J("ngIf",i.element&&i.element.element.name&&i.product)},dependencies:[rn,fr,Tr],styles:[".container[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;display:flex;flex-direction:column;justify-content:center;align-items:center;cursor:pointer}.container[_ngcontent-%COMP%]   .single-element[_ngcontent-%COMP%]{position:relative;width:var(--one-page-img-size)}.container[_ngcontent-%COMP%]   .single-element[_ngcontent-%COMP%]   .selected[_ngcontent-%COMP%]{outline:3px solid var(--color-border-dimensions);border-radius:var(--border-radius-card)}.container[_ngcontent-%COMP%]   .single-element[_ngcontent-%COMP%]   .selected[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]{border:2px solid transparent;border-radius:var(--border-radius-bubble);height:20px;width:20px;color:#fff;display:flex;justify-content:center;align-items:center;position:absolute;background-color:#fff;transition:background-color .25s ease,border-color .25s ease;top:-8px;right:-8px;outline:none}.container[_ngcontent-%COMP%]   .single-element[_ngcontent-%COMP%]   .selected[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{display:none;text-align:center;height:15px;width:15px;overflow:hidden;line-height:15px;font-size:15px}.container[_ngcontent-%COMP%]   .single-element[_ngcontent-%COMP%]   .selected[_ngcontent-%COMP%]   .circle.selected[_ngcontent-%COMP%]{background-color:var(--color-border-selected);border:2px solid var(--color-border-selected)}.container[_ngcontent-%COMP%]   .single-element[_ngcontent-%COMP%]   .selected[_ngcontent-%COMP%]   .circle.selected[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{display:flex}.container[_ngcontent-%COMP%]   .single-element[_ngcontent-%COMP%]   .element-img[_ngcontent-%COMP%]{display:flex;justify-content:center;background-color:var(--color-background-image);overflow:hidden;border-radius:var(--border-radius-card);height:100%;width:100%}.container[_ngcontent-%COMP%]   .single-element[_ngcontent-%COMP%]   .element-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:var(--one-page-img-size)}.container[_ngcontent-%COMP%]   .element-name[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;margin-top:10px;text-align:center;word-break:break-all;max-width:var(--one-page-img-size);font-size:13px;font-weight:500}"]}),t})();function Ywe(t,r){if(1&t&&(n.TgZ(0,"div",13)(1,"mat-icon"),n._uU(2,"done"),n.qZA()()),2&t){const e=n.oxw(2);n.ekj("selected",e.element.state.active)}}function Gwe(t,r){if(1&t&&n._UZ(0,"apto-element-picture",14),2&t){const e=n.oxw(2);n.Q6J("previewImage",e.element.element.previewImage)("zoomFunction",e.element.element.zoomFunction)("gallery",e.element.element.gallery)}}function $we(t,r){if(1&t&&(n._UZ(0,"div",15),n.ALo(1,"safeHtml"),n.ALo(2,"translate")),2&t){const e=n.oxw(2);n.Q6J("innerHTML",n.lcZ(1,1,n.lcZ(2,3,e.element.element.description)),n.oJD)}}function Wwe(t,r){if(1&t&&n._UZ(0,"apto-element-attachment",16),2&t){const e=n.oxw(2);n.Q6J("attachments",e.element.element.attachments)}}function Qwe(t,r){if(1&t&&(n.TgZ(0,"div",1),n._UZ(1,"apto-slot-outlet",2),n.YNc(2,Ywe,3,2,"div",3),n.TgZ(3,"div",4)(4,"div",5)(5,"h4"),n._uU(6),n.ALo(7,"translate"),n.qZA()(),n._UZ(8,"apto-slot-outlet",6),n.qZA(),n.TgZ(9,"div",7),n.YNc(10,Gwe,1,3,"apto-element-picture",8),n.qZA(),n.YNc(11,$we,3,5,"div",9),n.ALo(12,"translate"),n.YNc(13,Wwe,1,1,"apto-element-attachment",10),n._UZ(14,"div",11)(15,"apto-slot-outlet",12),n.qZA()),2&t){const e=n.oxw();n.ekj("selected",e.element.state.active)("step-by-step",e.product.useStepByStep)("one-page",!e.product.useStepByStep)("open-in-dialog",e.isDialog)("with-circle",e.section.allowMultiple||e.element.state.active)("disabled",e.element.state.disabled)("no-element-preview-image",!e.element.element.previewImage&&e.product.useStepByStep),n.xp6(1),n.Q6J("product",e.product)("section",e.section)("element",e.element),n.xp6(1),n.Q6J("ngIf",e.section.allowMultiple||e.element.state.active),n.xp6(4),n.Oqu(n.lcZ(7,28,e.element.element.name)),n.xp6(2),n.Q6J("product",e.product)("section",e.section)("element",e.element),n.xp6(2),n.Q6J("ngIf",e.element.element.previewImage),n.xp6(1),n.Q6J("ngIf",""!==n.lcZ(12,30,e.element.element.description)),n.xp6(2),n.Q6J("ngIf",e.hasAttachments),n.xp6(2),n.Q6J("product",e.product)("section",e.section)("element",e.element)}}let Jwe=(()=>{class t{constructor(){this.isDialog=!1,this.mediaUrl=yn.api.media}get hasAttachments(){return 0!==this.element.element.attachments?.length}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Xpm({type:t,selectors:[["apto-default-element-step-by-step"]],inputs:{element:"element",section:"section",product:"product",isDialog:"isDialog"},decls:1,vars:1,consts:[["class","default-element-step-by-step",3,"selected","step-by-step","one-page","open-in-dialog","with-circle","disabled","no-element-preview-image",4,"ngIf"],[1,"default-element-step-by-step"],["identifier","start-element-container",3,"product","section","element"],["class","circle",3,"selected",4,"ngIf"],[1,"header"],[1,"title"],["identifier","header-end",3,"product","section","element"],[1,"picture"],[3,"previewImage","zoomFunction","gallery",4,"ngIf"],["class","description",3,"innerHTML",4,"ngIf"],[3,"attachments",4,"ngIf"],[1,"apply-button"],["identifier","end-element-container",3,"product","section","element"],[1,"circle"],[3,"previewImage","zoomFunction","gallery"],[1,"description",3,"innerHTML"],[3,"attachments"]],template:function(e,i){1&e&&n.YNc(0,Qwe,16,32,"div",0),2&e&&n.Q6J("ngIf",i.element&&i.section&&i.product)},dependencies:[rn,fo,fr,Rd,ru,Tr,Lo],styles:['.default-element-step-by-step[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto;grid-template-areas:"header" "picture" "description" "attachment" "element" "extra-item" "buttons";padding:var(--element-gap);justify-items:center;gap:0;column-gap:20px;cursor:pointer;position:relative;border-radius:var(--border-radius-card);border:3px solid transparent}.default-element-step-by-step.step-by-step[_ngcontent-%COMP%]:not(.open-in-dialog){padding:var(--element-gap);border:solid 3px transparent;border-radius:var(--border-radius-card);transition:border-color .3s ease}.default-element-step-by-step.step-by-step[_ngcontent-%COMP%]:not(.open-in-dialog).selected{border-color:var(--color-border-dimensions)}.default-element-step-by-step.step-by-step.open-in-dialog[_ngcontent-%COMP%], .default-element-step-by-step.one-page.open-in-dialog[_ngcontent-%COMP%]{border-top-width:3px;border-top-style:solid;border-radius:var(--border-radius-card);padding:34px 72px}.default-element-step-by-step.step-by-step.open-in-dialog[type=confirm][_ngcontent-%COMP%], .default-element-step-by-step.step-by-step.open-in-dialog[type=info][_ngcontent-%COMP%], .default-element-step-by-step.step-by-step.open-in-dialog[type=custom][_ngcontent-%COMP%], .default-element-step-by-step.one-page.open-in-dialog[type=confirm][_ngcontent-%COMP%], .default-element-step-by-step.one-page.open-in-dialog[type=info][_ngcontent-%COMP%], .default-element-step-by-step.one-page.open-in-dialog[type=custom][_ngcontent-%COMP%]{border-color:var(--color-optic-lines-popup)}.default-element-step-by-step.step-by-step.open-in-dialog[type=error][_ngcontent-%COMP%], .default-element-step-by-step.one-page.open-in-dialog[type=error][_ngcontent-%COMP%]{border-color:var(--color-optic-lines-popup-error)}.default-element-step-by-step.step-by-step.open-in-dialog[type=warning][_ngcontent-%COMP%], .default-element-step-by-step.one-page.open-in-dialog[type=warning][_ngcontent-%COMP%]{border-color:var(--color-optic-lines-popup-warning)}.default-element-step-by-step.one-page[_ngcontent-%COMP%]:not(.open-in-dialog){padding:0;grid-template-areas:"picture" "description" "attachment" "element" "extra-item" "buttons"}.default-element-step-by-step.one-page[_ngcontent-%COMP%]:not(.open-in-dialog)   .header[_ngcontent-%COMP%]{display:none}.default-element-step-by-step.one-page[_ngcontent-%COMP%]:not(.open-in-dialog).no-element-preview-image{grid-template-areas:"header" "picture" "description" "attachment" "element" "extra-item" "buttons";grid-template-columns:1fr}.default-element-step-by-step[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%] + .picture[_ngcontent-%COMP%]:not(:empty), .default-element-step-by-step[_ngcontent-%COMP%]   .picture[_ngcontent-%COMP%] + .element[_ngcontent-%COMP%]:not(:empty), .default-element-step-by-step[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%] + .description[_ngcontent-%COMP%]:not(:empty), .default-element-step-by-step[_ngcontent-%COMP%]   .apply-button[_ngcontent-%COMP%]{margin-top:var(--element-gap)}.default-element-step-by-step.selected[_ngcontent-%COMP%]{border:3px solid var(--color-border-dimensions)}.default-element-step-by-step[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]{border:2px solid transparent;border-radius:var(--border-radius-bubble);height:25px;width:25px;color:#fff;display:flex;justify-content:center;align-items:center;position:absolute;background-color:#fff;transition:background-color .25s ease,border-color .25s ease;top:20px;right:20px;border:2px solid var(--color-border-selected)}.default-element-step-by-step[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{display:none;text-align:center;height:20px;width:20px;overflow:hidden;line-height:20px;font-size:20px}.default-element-step-by-step[_ngcontent-%COMP%]   .circle.selected[_ngcontent-%COMP%]{background-color:var(--color-border-selected);border:2px solid var(--color-border-selected)}.default-element-step-by-step[_ngcontent-%COMP%]   .circle.selected[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{display:flex}.default-element-step-by-step[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{grid-area:header;display:flex;flex-direction:column;justify-content:center}.default-element-step-by-step[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.default-element-step-by-step[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:18px;font-weight:600;color:var(--color-text);text-align:center}.default-element-step-by-step.with-circle[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{padding-right:25px}.default-element-step-by-step[_ngcontent-%COMP%]   .picture[_ngcontent-%COMP%]{grid-area:picture;width:calc(var(--image-mobile-width) + 2 * var(--element-gap))}.default-element-step-by-step[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;width:100%;align-items:flex-start;margin-top:20px}.default-element-step-by-step[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{grid-area:description;word-break:break-word;text-align:center;margin-top:var(--element-gap)}@media only screen and (min-width: 767px){.default-element-step-by-step[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{text-align:left}}.default-element-step-by-step[_ngcontent-%COMP%]   .apply-button[_ngcontent-%COMP%]{grid-area:buttons;display:flex;flex-direction:row;gap:var(--button-gap)}@media only screen and (min-width: 767px){.default-element-step-by-step[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto;grid-template-areas:"header" "picture" "description" "attachment" "element" "extra-item" "buttons";padding:var(--element-gap);justify-items:center;gap:0;column-gap:20px;position:relative;grid-template-areas:"picture header" "picture description" "picture attachment" "picture element" "picture extra-item" "picture buttons";grid-template-columns:calc(var(--image-tablet-width) + 2 * var(--element-gap)) 1fr;justify-items:flex-start}.default-element-step-by-step.no-element-preview-image[_ngcontent-%COMP%]{grid-template-areas:"header" "picture" "description" "attachment" "element" "extra-item" "buttons";grid-template-columns:1fr}.default-element-step-by-step.step-by-step[_ngcontent-%COMP%]:not(.open-in-dialog){padding:var(--element-gap);border:solid 3px transparent;border-radius:var(--border-radius-card);transition:border-color .3s ease}.default-element-step-by-step.step-by-step[_ngcontent-%COMP%]:not(.open-in-dialog).selected{border-color:var(--color-border-dimensions)}.default-element-step-by-step.step-by-step.open-in-dialog[_ngcontent-%COMP%], .default-element-step-by-step.one-page.open-in-dialog[_ngcontent-%COMP%]{border-top-width:3px;border-top-style:solid;border-radius:var(--border-radius-card);padding:34px 72px}.default-element-step-by-step.step-by-step.open-in-dialog[type=confirm][_ngcontent-%COMP%], .default-element-step-by-step.step-by-step.open-in-dialog[type=info][_ngcontent-%COMP%], .default-element-step-by-step.step-by-step.open-in-dialog[type=custom][_ngcontent-%COMP%], .default-element-step-by-step.one-page.open-in-dialog[type=confirm][_ngcontent-%COMP%], .default-element-step-by-step.one-page.open-in-dialog[type=info][_ngcontent-%COMP%], .default-element-step-by-step.one-page.open-in-dialog[type=custom][_ngcontent-%COMP%]{border-color:var(--color-optic-lines-popup)}.default-element-step-by-step.step-by-step.open-in-dialog[type=error][_ngcontent-%COMP%], .default-element-step-by-step.one-page.open-in-dialog[type=error][_ngcontent-%COMP%]{border-color:var(--color-optic-lines-popup-error)}.default-element-step-by-step.step-by-step.open-in-dialog[type=warning][_ngcontent-%COMP%], .default-element-step-by-step.one-page.open-in-dialog[type=warning][_ngcontent-%COMP%]{border-color:var(--color-optic-lines-popup-warning)}.default-element-step-by-step.one-page[_ngcontent-%COMP%]:not(.open-in-dialog){padding:0;grid-template-areas:"picture description" "picture attachment" "picture element" "picture extra-item" "picture buttons";grid-template-columns:calc(var(--image-one-page-width) + 2 * var(--element-gap)) 1fr}.default-element-step-by-step.one-page[_ngcontent-%COMP%]:not(.open-in-dialog)   .header[_ngcontent-%COMP%]{display:none}.default-element-step-by-step.one-page[_ngcontent-%COMP%]:not(.open-in-dialog).no-element-preview-image{grid-template-areas:"header" "picture" "description" "attachment" "element" "extra-item" "buttons";grid-template-columns:1fr}.default-element-step-by-step[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%] + .picture[_ngcontent-%COMP%]:not(:empty), .default-element-step-by-step[_ngcontent-%COMP%]   .picture[_ngcontent-%COMP%] + .element[_ngcontent-%COMP%]:not(:empty), .default-element-step-by-step[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%] + .description[_ngcontent-%COMP%]:not(:empty), .default-element-step-by-step[_ngcontent-%COMP%]   .apply-button[_ngcontent-%COMP%]{margin-top:var(--element-gap)}.default-element-step-by-step[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%] + .picture[_ngcontent-%COMP%]:not(:empty){margin-top:0}.default-element-step-by-step[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{flex-direction:column;display:flex;justify-content:space-between;width:100%}.default-element-step-by-step[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{width:100%;display:flex;align-items:flex-start;justify-content:space-between;flex-direction:row}.default-element-step-by-step[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{text-align:left;font-size:22px}.default-element-step-by-step[_ngcontent-%COMP%]   .picture[_ngcontent-%COMP%]{width:calc(var(--image-tablet-width) + 2 * var(--element-gap))}.default-element-step-by-step[_ngcontent-%COMP%]   .apply-button[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:var(--button-gap);justify-self:flex-end;justify-content:flex-end}}']}),t})();function Xwe(t,r){if(1&t){const e=n.EpF();n.TgZ(0,"apto-default-element-step-by-step",3),n.NdJ("click",function(){n.CHM(e);const o=n.oxw(2);return n.KtG(o.clickOnElement(o.element.state.active))}),n.qZA()}if(2&t){const e=n.oxw(2);n.Q6J("element",e.element)("section",e.section)("product",e.product)}}function Kwe(t,r){if(1&t){const e=n.EpF();n.TgZ(0,"apto-default-element-one-page",4),n.NdJ("click",function(){n.CHM(e);const o=n.oxw(2);return n.KtG(o.clickOnElement(o.element.state.active))}),n.qZA()}if(2&t){const e=n.oxw(2);n.Q6J("element",e.element)("product",e.product)("section",e.section)}}function eMe(t,r){if(1&t&&(n.ynx(0),n.YNc(1,Xwe,1,3,"apto-default-element-step-by-step",1),n.YNc(2,Kwe,1,3,"apto-default-element-one-page",2),n.BQk()),2&t){const e=n.oxw();n.xp6(1),n.Q6J("ngIf",null==e.product?null:e.product.useStepByStep),n.xp6(1),n.Q6J("ngIf",!(null!=e.product&&e.product.useStepByStep))}}let u8=(()=>{class t{constructor(e){this.store=e}clickOnElement(e){e?this.removeElement():this.selectElement()}selectElement(){!this.element||this.store.dispatch(di({updates:{set:[{sectionId:this.element.element.sectionId,elementId:this.element.element.id,sectionRepetition:this.element.state.sectionRepetition,property:null,value:null}]}}))}removeElement(){!this.element||this.store.dispatch(di({updates:{remove:[{sectionId:this.element.element.sectionId,elementId:this.element.element.id,sectionRepetition:this.element.state.sectionRepetition,property:null,value:null}]}}))}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(Oe.yh))},t.\u0275cmp=n.Xpm({type:t,selectors:[["apto-default-element"]],inputs:{product:"product",section:"section",element:"element"},decls:1,vars:1,consts:[[4,"ngIf"],[3,"element","section","product","click",4,"ngIf"],[3,"element","product","section","click",4,"ngIf"],[3,"element","section","product","click"],[3,"element","product","section","click"]],template:function(e,i){1&e&&n.YNc(0,eMe,3,2,"ng-container",0),2&e&&n.Q6J("ngIf",i.element&&i.product)},dependencies:[rn,Zwe,Jwe]}),t})(),tMe=(()=>{class t{constructor(){to.components.set("apto-element-price-per-unit",u8),to.components.set("apto-element-default-element",u8)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[Jo,Zr,Is,Na,ss,aa,ka,Ta,na,xl]}),t})();const nMe=(0,Oe.P1)(jn,lr,Wm,(t,r,e)=>_y(t,r,e));var np=(()=>{return(t=np||(np={})).ALL="all",t.ONLY_MESSAGE="onlyMessage",np;var t})();const rMe=function(t,r,e){return[t,r,e]};function iMe(t,r){if(1&t&&(n._UZ(0,"apto-select-field",23),n.ALo(1,"contentSnippet"),n.ALo(2,"async"),n.ALo(3,"contentSnippet"),n.ALo(4,"async")),2&t){const e=n.oxw(2);n.Q6J("name",n.xi3(1,4,n.lcZ(2,7,e.csRequestForm$),"aptoSummary.labels.gender")+" *")("items",n.kEZ(14,rMe,e.diverse,e.herr,e.frau))("enableClear",!1)("default",n.xi3(3,9,n.lcZ(4,12,e.csRequestForm$),"aptoSummary.labels.genderPlaceholder")+" *")}}function oMe(t,r){if(1&t&&(n._UZ(0,"apto-input-field",24),n.ALo(1,"contentSnippet"),n.ALo(2,"async"),n.ALo(3,"contentSnippet"),n.ALo(4,"async")),2&t){const e=n.oxw(2);n.Q6J("fullWidth",!0)("name",n.xi3(1,4,n.lcZ(2,7,e.csRequestForm$),"aptoSummary.labels.email")+" *")("placeholder",n.xi3(3,9,n.lcZ(4,12,e.csRequestForm$),"aptoSummary.labels.emailPlaceholder")+" *")("type","text")}}function aMe(t,r){if(1&t&&(n._UZ(0,"apto-input-field",25),n.ALo(1,"contentSnippet"),n.ALo(2,"async"),n.ALo(3,"contentSnippet"),n.ALo(4,"async")),2&t){const e=n.oxw(2);n.Q6J("fullWidth",!0)("name",n.xi3(1,4,n.lcZ(2,7,e.csRequestForm$),"aptoSummary.labels.name")+" *")("placeholder",n.xi3(3,9,n.lcZ(4,12,e.csRequestForm$),"aptoSummary.labels.namePlaceholder")+" *")("type","text")}}function sMe(t,r){if(1&t&&(n._UZ(0,"apto-input-field",26),n.ALo(1,"contentSnippet"),n.ALo(2,"async"),n.ALo(3,"contentSnippet"),n.ALo(4,"async")),2&t){const e=n.oxw(2);n.Q6J("fullWidth",!0)("name",n.xi3(1,4,n.lcZ(2,7,e.csRequestForm$),"aptoSummary.labels.surname")+" *")("placeholder",n.xi3(3,9,n.lcZ(4,12,e.csRequestForm$),"aptoSummary.labels.surnamePlaceholder")+" *")("type","text")}}function lMe(t,r){if(1&t&&(n._UZ(0,"apto-input-field",27),n.ALo(1,"contentSnippet"),n.ALo(2,"async"),n.ALo(3,"contentSnippet"),n.ALo(4,"async")),2&t){const e=n.oxw(2);n.Q6J("fullWidth",!0)("name",n.xi3(1,4,n.lcZ(2,7,e.csRequestForm$),"aptoSummary.labels.phone"))("placeholder",n.xi3(3,9,n.lcZ(4,12,e.csRequestForm$),"aptoSummary.labels.phonePlaceholder"))("type","text")}}function cMe(t,r){if(1&t&&(n._UZ(0,"apto-input-field",28),n.ALo(1,"contentSnippet"),n.ALo(2,"async"),n.ALo(3,"contentSnippet"),n.ALo(4,"async")),2&t){const e=n.oxw(2);n.Q6J("fullWidth",!0)("name",n.xi3(1,4,n.lcZ(2,7,e.csRequestForm$),"aptoSummary.labels.company"))("placeholder",n.xi3(3,9,n.lcZ(4,12,e.csRequestForm$),"aptoSummary.labels.companyPlaceholder"))("type","text")}}function uMe(t,r){if(1&t&&(n._UZ(0,"apto-input-field",29),n.ALo(1,"contentSnippet"),n.ALo(2,"async"),n.ALo(3,"contentSnippet"),n.ALo(4,"async")),2&t){const e=n.oxw(2);n.Q6J("fullWidth",!0)("name",n.xi3(1,4,n.lcZ(2,7,e.csRequestForm$),"aptoSummary.labels.street"))("placeholder",n.xi3(3,9,n.lcZ(4,12,e.csRequestForm$),"aptoSummary.labels.streetPlaceholder"))("type","text")}}function dMe(t,r){if(1&t&&(n._UZ(0,"apto-input-field",30),n.ALo(1,"contentSnippet"),n.ALo(2,"async"),n.ALo(3,"contentSnippet"),n.ALo(4,"async")),2&t){const e=n.oxw(2);n.Q6J("fullWidth",!0)("name",n.xi3(1,4,n.lcZ(2,7,e.csRequestForm$),"aptoSummary.labels.zipCode"))("placeholder",n.xi3(3,9,n.lcZ(4,12,e.csRequestForm$),"aptoSummary.labels.zipCodePlaceholder"))("type","text")}}function pMe(t,r){if(1&t&&(n._UZ(0,"apto-input-field",31),n.ALo(1,"contentSnippet"),n.ALo(2,"async"),n.ALo(3,"contentSnippet"),n.ALo(4,"async")),2&t){const e=n.oxw(2);n.Q6J("fullWidth",!0)("name",n.xi3(1,4,n.lcZ(2,7,e.csRequestForm$),"aptoSummary.labels.city"))("placeholder",n.xi3(3,9,n.lcZ(4,12,e.csRequestForm$),"aptoSummary.labels.cityPlaceholder"))("type","text")}}function fMe(t,r){if(1&t){const e=n.EpF();n.TgZ(0,"div",32),n._UZ(1,"apto-quantity-input-editable",33),n.TgZ(2,"button",34),n.NdJ("click",function(){n.CHM(e);const o=n.oxw(2);return n.KtG(o.onSendRequestForm())}),n._uU(3),n.ALo(4,"contentSnippet"),n.ALo(5,"async"),n.qZA()()}if(2&t){const e=n.oxw().ngIf,i=n.oxw();n.xp6(1),n.Q6J("minValue",e.minPurchase)("maxValue",e.maxPurchase)("size","big")("width","100px")("name","quantityInput2"),n.xp6(1),n.Q6J("disabled",!i.requestForm.valid),n.xp6(1),n.hij(" ",n.xi3(4,7,n.lcZ(5,10,i.csRequestForm$),"aptoSummary.sendForm")," ")}}function hMe(t,r){if(1&t&&(n.ynx(0),n.TgZ(1,"div",1)(2,"form",2)(3,"div",3)(4,"h5"),n._uU(5),n.ALo(6,"contentSnippet"),n.ALo(7,"async"),n.qZA(),n.TgZ(8,"div",4),n._UZ(9,"div",5),n.ALo(10,"contentSnippet"),n.ALo(11,"async"),n.qZA()(),n.TgZ(12,"div",6),n.YNc(13,iMe,5,18,"apto-select-field",7),n.YNc(14,oMe,5,14,"apto-input-field",8),n.YNc(15,aMe,5,14,"apto-input-field",9),n.YNc(16,sMe,5,14,"apto-input-field",10),n.YNc(17,lMe,5,14,"apto-input-field",11),n.YNc(18,cMe,5,14,"apto-input-field",12),n.YNc(19,uMe,5,14,"apto-input-field",13),n.YNc(20,dMe,5,14,"apto-input-field",14),n.YNc(21,pMe,5,14,"apto-input-field",15),n.qZA(),n.TgZ(22,"div",16),n._UZ(23,"apto-text-input-field",17),n.ALo(24,"contentSnippet"),n.ALo(25,"async"),n.ALo(26,"contentSnippet"),n.ALo(27,"async"),n.qZA(),n.TgZ(28,"div",18)(29,"p"),n._uU(30),n.ALo(31,"contentSnippet"),n.ALo(32,"async"),n.qZA()(),n.TgZ(33,"div",19)(34,"mat-checkbox",20),n._UZ(35,"span",21),n.ALo(36,"contentSnippet"),n.ALo(37,"async"),n.qZA()(),n.YNc(38,fMe,6,12,"div",22),n.qZA()(),n.BQk()),2&t){const e=n.oxw();n.xp6(1),n.ekj("show-request-form-on-bottom",e.showRequestFormOnBottom),n.xp6(1),n.Q6J("formGroup",e.requestForm),n.xp6(3),n.Oqu(n.xi3(6,20,n.lcZ(7,23,e.csRequestForm$),"aptoSummary.beforeSend.headline")),n.xp6(4),n.Q6J("innerHTML",n.xi3(10,25,n.lcZ(11,28,e.csRequestForm$),"aptoSummary.beforeSend.subline"),n.oJD),n.xp6(4),n.Q6J("ngIf",e.isFieldVisible()),n.xp6(1),n.Q6J("ngIf",e.isFieldVisible()),n.xp6(1),n.Q6J("ngIf",e.isFieldVisible()),n.xp6(1),n.Q6J("ngIf",e.isFieldVisible()),n.xp6(1),n.Q6J("ngIf",e.isFieldVisible()),n.xp6(1),n.Q6J("ngIf",e.isFieldVisible()),n.xp6(1),n.Q6J("ngIf",e.isFieldVisible()),n.xp6(1),n.Q6J("ngIf",e.isFieldVisible()),n.xp6(1),n.Q6J("ngIf",e.isFieldVisible()),n.xp6(2),n.Q6J("name",n.xi3(24,30,n.lcZ(25,33,e.csRequestForm$),"aptoSummary.labels.message"))("placeholder",n.xi3(26,35,n.lcZ(27,38,e.csRequestForm$),"aptoSummary.labels.messagePlaceholder"))("rows",6),n.xp6(7),n.Oqu(n.xi3(31,40,n.lcZ(32,43,e.csRequestForm$),"aptoSummary.requiredMessage")),n.xp6(5),n.Q6J("innerHTML",n.xi3(36,45,n.lcZ(37,48,e.csRequestForm$),"aptoSummary.declarationOfConsent"),n.oJD),n.xp6(3),n.Q6J("ngIf",!e.showRequestFormOnBottom)}}let mMe=(()=>{class t{constructor(e,i){this.store=e,this._formBuilder=i,this.requestFormChanged=new n.vpe,this.sendRequestForm=new n.vpe,this.csRequestForm$=this.store.select(un("plugins.requestForm")),this.csGenders$=this.store.select(un("plugins.requestForm.aptoSummary.values.gender")),this.csFieldsWhenUserIsLoggedIn$=this.store.select(un("plugins.requestForm.aptoSummary.fieldsWhenUserIsLoggedIn")),this.currentUser$=this.store.select(Ku),this.product$=this.store.select(ls),this.locale$=this.store.select(lr),this.showRequestFormOnBottom=!!yn.hasOwnProperty("showRequestFormOnBottom")&&yn.showRequestFormOnBottom,this.diverse={surrogateId:"d",id:"d",name:{de_DE:"keine Angabe"},isDefault:!1,aptoPrices:[]},this.herr={surrogateId:"m",id:"m",name:{de_DE:"Herr"},isDefault:!1,aptoPrices:[]},this.frau={surrogateId:"f",id:"f",name:{de_DE:"Frau"},isDefault:!1,aptoPrices:[]},this.requestForm=this._formBuilder.group({customerNumber:[""],gender:["",Dr.required],name:["",Dr.required],surname:["",Dr.required],email:["",[Dr.required,Dr.email]],phone:[""],company:[""],street:[""],zipCode:[""],city:[""],message:[""],declarationOfConsent:[!1,Dr.requiredTrue],quantityInput:new Ln(1)}),this.fieldsWhenUserIsLoggedIn=np.ALL,this.requestForm.valueChanges.subscribe(()=>{this.requestFormChanged.emit(this.requestForm)}),this.csGenders$.subscribe(o=>{o.children.forEach(a=>{switch(a.name){case"di":this.diverse.name=a.content;break;case"mr":this.herr.name=a.content;break;case"ms":this.frau.name=a.content}})}),uo([this.csFieldsWhenUserIsLoggedIn$,this.currentUser$,this.locale$]).subscribe(([o,a,l])=>{if(!a)return this.requestForm.get("customerNumber").setValue(""),void(this.fieldsWhenUserIsLoggedIn=np.ALL);Pn(o.content,l)===np.ONLY_MESSAGE&&(this.requestForm.get("gender").setValue("d"),this.fieldsWhenUserIsLoggedIn=np.ONLY_MESSAGE),this.requestForm.get("email").setValue(a.email),this.requestForm.get("name").setValue(a.userName),this.requestForm.get("customerNumber").setValue(a.customerNumber)})}isFieldVisible(){return this.fieldsWhenUserIsLoggedIn!==np.ONLY_MESSAGE}onSendRequestForm(){this.sendRequestForm.emit()}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(Oe.yh),n.Y36(wj))},t.\u0275cmp=n.Xpm({type:t,selectors:[["apto-request-form"]],outputs:{requestFormChanged:"requestFormChanged",sendRequestForm:"sendRequestForm"},decls:2,vars:3,consts:[[4,"ngIf"],[1,"page"],[3,"formGroup"],[1,"title"],[1,"break-text"],[1,"subline",3,"innerHTML"],[1,"request-form"],["formControlName","gender",3,"name","items","enableClear","default",4,"ngIf"],["formControlName","email",3,"fullWidth","name","placeholder","type",4,"ngIf"],["formControlName","name",3,"fullWidth","name","placeholder","type",4,"ngIf"],["formControlName","surname",3,"fullWidth","name","placeholder","type",4,"ngIf"],["formControlName","phone",3,"fullWidth","name","placeholder","type",4,"ngIf"],["formControlName","company",3,"fullWidth","name","placeholder","type",4,"ngIf"],["formControlName","street",3,"fullWidth","name","placeholder","type",4,"ngIf"],["formControlName","zipCode",3,"fullWidth","name","placeholder","type",4,"ngIf"],["formControlName","city",3,"fullWidth","name","placeholder","type",4,"ngIf"],[1,"large-textfield"],["formControlName","message",3,"name","placeholder","rows"],[1,"title","break-text"],[1,"agreement"],["color","primary","formControlName","declarationOfConsent",1,"mat-checkbox-multiline-label"],[3,"innerHTML"],["class","request-button",4,"ngIf"],["formControlName","gender",3,"name","items","enableClear","default"],["formControlName","email",3,"fullWidth","name","placeholder","type"],["formControlName","name",3,"fullWidth","name","placeholder","type"],["formControlName","surname",3,"fullWidth","name","placeholder","type"],["formControlName","phone",3,"fullWidth","name","placeholder","type"],["formControlName","company",3,"fullWidth","name","placeholder","type"],["formControlName","street",3,"fullWidth","name","placeholder","type"],["formControlName","zipCode",3,"fullWidth","name","placeholder","type"],["formControlName","city",3,"fullWidth","name","placeholder","type"],[1,"request-button"],["formControlName","quantityInput",3,"minValue","maxValue","size","width","name"],["mat-flat-button","","color","primary",3,"disabled","click"]],template:function(e,i){1&e&&(n.YNc(0,hMe,39,50,"ng-container",0),n.ALo(1,"async")),2&e&&n.Q6J("ngIf",n.lcZ(1,1,i.product$))},dependencies:[rn,io,Xy,nu,kw,oa,oi,ia,qi,Bo,BP,Or,hn,ur],styles:["[_nghost-%COMP%]{display:flex;justify-content:center}.page[_ngcontent-%COMP%]{padding:40px 130px;border-bottom:1px solid #dcdcdc}.page.show-request-form-on-bottom[_ngcontent-%COMP%]{border-bottom:none;padding-top:0}.title[_ngcontent-%COMP%]{text-align:center;padding:0 20px 40px}.title.break-text[_ngcontent-%COMP%]{padding:20px}.title[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:x-large;font-weight:500;color:var(--color-title)}.title[_ngcontent-%COMP%]   .subline[_ngcontent-%COMP%]{font-size:small;font-weight:500;margin-top:10px;color:var(--color-text);opacity:.64}form[_ngcontent-%COMP%]{padding:0 10px}.request-form[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:20px 50px}.large-textfield[_ngcontent-%COMP%]{margin-top:20px;width:100%}.large-textfield[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{display:none}.agreement[_ngcontent-%COMP%]{display:flex;gap:5px;margin-top:20px}.agreement[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--color-text)}.request-button[_ngcontent-%COMP%]{display:flex;justify-content:center;margin:30px 0 0;gap:30px}@media only screen and (max-width: 766px){.page[_ngcontent-%COMP%]{padding:20px;margin:10px}.request-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.large-textfield[_ngcontent-%COMP%]{display:flex;justify-content:center}.agreement[_ngcontent-%COMP%], .title[_ngcontent-%COMP%]{padding:10px}[_nghost-%COMP%]{margin:0}}"]}),t})();function gMe(t,r){1&t&&(n.TgZ(0,"div",1),n._UZ(1,"mat-spinner",2),n.qZA())}function _Me(t,r){if(1&t&&(n._UZ(0,"div",8),n.ALo(1,"safeHtml")),2&t){const e=n.oxw(2);n.Q6J("innerHTML",n.lcZ(1,1,e.success.message),n.oJD)}}function vMe(t,r){if(1&t&&(n.TgZ(0,"div",1)(1,"div",3)(2,"div")(3,"div",4)(4,"mat-icon"),n._uU(5,"done"),n.qZA()()(),n.TgZ(6,"div",5)(7,"h5"),n._uU(8),n.qZA(),n._UZ(9,"div",6),n.qZA()(),n.YNc(10,_Me,2,3,"div",7),n.qZA()),2&t){const e=n.oxw();n.xp6(8),n.Oqu(e.success.title),n.xp6(1),n.Q6J("innerHTML",e.success.subtitle,n.oJD),n.xp6(1),n.Q6J("ngIf",e.success.message)}}function yMe(t,r){if(1&t&&(n._UZ(0,"div",8),n.ALo(1,"safeHtml")),2&t){const e=n.oxw(2);n.Q6J("innerHTML",n.lcZ(1,1,e.error.message),n.oJD)}}function bMe(t,r){if(1&t&&(n.TgZ(0,"div",1)(1,"div",3)(2,"div")(3,"div",9)(4,"mat-icon"),n._uU(5,"priority_high"),n.qZA()()(),n.TgZ(6,"div",5)(7,"h5"),n._uU(8),n.qZA(),n._UZ(9,"div",6),n.qZA()(),n.YNc(10,yMe,2,3,"div",7),n.qZA()),2&t){const e=n.oxw();n.xp6(8),n.Oqu(e.error.title),n.xp6(1),n.Q6J("innerHTML",e.error.subtitle,n.oJD),n.xp6(1),n.Q6J("ngIf",e.error.message)}}let CMe=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Xpm({type:t,selectors:[["apto-request-message-state"]],inputs:{state:"state",success:"success",error:"error"},decls:3,vars:3,consts:[["class","step-finished",4,"ngIf"],[1,"step-finished"],["diameter","50"],[1,"step-finished-title"],[1,"circle","finished"],[1,"title"],[1,"subtitle",3,"innerHTML"],["class","step-finished-message",3,"innerHTML",4,"ngIf"],[1,"step-finished-message",3,"innerHTML"],[1,"circle","error"]],template:function(e,i){1&e&&(n.YNc(0,gMe,2,0,"div",0),n.YNc(1,vMe,11,3,"div",0),n.YNc(2,bMe,11,3,"div",0)),2&e&&(n.Q6J("ngIf",i.state.sending&&!i.state.success&&!i.state.error),n.xp6(1),n.Q6J("ngIf",!i.state.sending&&i.state.success&&!i.state.error),n.xp6(1),n.Q6J("ngIf",!i.state.sending&&!i.state.success&&i.state.error))},dependencies:[rn,fr,es,Lo],styles:["mat-spinner[_ngcontent-%COMP%]{margin:0 auto 40px}.step-finished-title[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;margin-bottom:40px}.step-finished-title[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{margin-bottom:0}.step-finished-title[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{text-align:left;font-size:x-large;font-weight:500;color:var(--color-title)}.step-finished-title[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-weight:500}.step-finished-message[_ngcontent-%COMP%]{text-align:center;padding:0 20px;font-size:14px;max-width:720px;margin:0 auto 40px}.step-finished-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:10px}.circle[_ngcontent-%COMP%]{border-radius:var(--border-radius-bubble);height:41px;width:41px;font-size:x-large;font-weight:700;display:flex;justify-content:center;align-items:center;flex-shrink:0;margin-right:1rem}.circle.finished[_ngcontent-%COMP%]{border:2px solid var(--color-background-completed);background-color:var(--color-background-completed);color:var(--color-completed)}.circle.error[_ngcontent-%COMP%]{border:2px solid var(--color-optic-lines-popup-error-light);background-color:var(--color-optic-lines-popup-error-light);color:var(--color-optic-lines-popup-error)}.circle[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-weight:700}"]}),t})();function xMe(t,r){if(1&t&&n._UZ(0,"img",12),2&t){const e=n.oxw(3);n.Q6J("src",e.renderImage.src,n.LSH)}}function wMe(t,r){if(1&t&&(n.TgZ(0,"div",13)(1,"div",14)(2,"h4"),n._uU(3),n.qZA(),n.TgZ(4,"span"),n._uU(5),n.ALo(6,"contentSnippet"),n.ALo(7,"async"),n._UZ(8,"br"),n._uU(9),n.ALo(10,"contentSnippet"),n.ALo(11,"async"),n.qZA()()()),2&t){const e=n.oxw().ngIf,i=n.oxw(2);n.xp6(3),n.Oqu(e),n.xp6(2),n.Oqu(n.xi3(6,3,n.lcZ(7,6,i.contentSnippet$),"tax.withTax")),n.xp6(4),n.Oqu(n.xi3(10,8,n.lcZ(11,11,i.sidebarSummary$),"shippingCosts"))}}function MMe(t,r){if(1&t&&n._UZ(0,"apto-summary-configuration",15),2&t){const e=n.oxw(3);n.Q6J("showPrices",e.showPrices)}}function SMe(t,r){if(1&t){const e=n.EpF();n.TgZ(0,"apto-request-form",16),n.NdJ("requestFormChanged",function(o){n.CHM(e);const a=n.oxw(3);return n.KtG(a.onRequestFormChanged(o))})("sendRequestForm",function(){n.CHM(e);const o=n.oxw(3);return n.KtG(o.onSendRequestForm())}),n.qZA()}}const d8=function(t,r,e){return{title:t,subtitle:r,message:e}};function DMe(t,r){if(1&t&&(n._UZ(0,"apto-request-message-state",17),n.ALo(1,"contentSnippet"),n.ALo(2,"async"),n.ALo(3,"contentSnippet"),n.ALo(4,"async"),n.ALo(5,"contentSnippet"),n.ALo(6,"async"),n.ALo(7,"contentSnippet"),n.ALo(8,"async"),n.ALo(9,"contentSnippet"),n.ALo(10,"async"),n.ALo(11,"contentSnippet"),n.ALo(12,"async")),2&t){const e=n.oxw(3);n.Q6J("state",e.requestState)("success",n.kEZ(33,d8,n.xi3(1,3,n.lcZ(2,6,e.requestForm$),"aptoSummary.afterSend.headlineSuccess"),n.xi3(3,8,n.lcZ(4,11,e.requestForm$),"aptoSummary.afterSend.sublineSuccess"),n.xi3(5,13,n.lcZ(6,16,e.requestForm$),"aptoSummary.afterSend.messageSuccess")))("error",n.kEZ(37,d8,n.xi3(7,18,n.lcZ(8,21,e.requestForm$),"aptoSummary.afterSend.headlineError"),n.xi3(9,23,n.lcZ(10,26,e.requestForm$),"aptoSummary.afterSend.sublineError"),n.xi3(11,28,n.lcZ(12,31,e.requestForm$),"aptoSummary.afterSend.messageError")))}}function OMe(t,r){if(1&t&&n._UZ(0,"apto-summary-configuration",15),2&t){const e=n.oxw(3);n.Q6J("showPrices",e.showPrices)}}const EMe=function(t){return["/product",t]};function AMe(t,r){if(1&t){const e=n.EpF();n.TgZ(0,"div",18)(1,"div",19)(2,"div",20)(3,"button",21)(4,"mat-icon"),n._uU(5,"undo"),n.qZA(),n._uU(6),n.ALo(7,"contentSnippet"),n.ALo(8,"async"),n.qZA()(),n._UZ(9,"apto-quantity-input-editable",22),n.TgZ(10,"button",23),n.NdJ("click",function(){n.CHM(e);const o=n.oxw(3);return n.KtG(o.onSendRequestForm())}),n._uU(11),n.ALo(12,"contentSnippet"),n.ALo(13,"async"),n.qZA()()()}if(2&t){const e=n.oxw(2).ngIf,i=n.oxw();n.xp6(3),n.Q6J("routerLink",n.VKq(19,EMe,e.seoUrl)),n.xp6(3),n.hij("",n.xi3(7,9,n.lcZ(8,12,i.contentSnippet$),"back")," "),n.xp6(3),n.Q6J("minValue",e.minPurchase)("maxValue",e.maxPurchase)("size","big")("width","100px")("name","quantityInput2"),n.xp6(1),n.Q6J("disabled",null===i.requestForm||i.requestForm.invalid),n.xp6(1),n.hij(" ",n.xi3(12,14,n.lcZ(13,17,i.requestForm$),"aptoSummary.sendForm")," ")}}function PMe(t,r){if(1&t&&(n.ynx(0),n._UZ(1,"apto-summary-finish-message")(2,"mat-divider"),n.TgZ(3,"form",1)(4,"div",2)(5,"div",3)(6,"div",4),n._UZ(7,"apto-o-p-full-screen",5),n.ALo(8,"async"),n.qZA(),n.YNc(9,xMe,1,1,"img",6),n.YNc(10,wMe,12,13,"div",7),n.qZA(),n.YNc(11,MMe,1,1,"apto-summary-configuration",8),n.YNc(12,SMe,1,0,"apto-request-form",9),n.YNc(13,DMe,13,41,"apto-request-message-state",10),n.YNc(14,OMe,1,1,"apto-summary-configuration",8),n.YNc(15,AMe,14,21,"div",11),n.qZA()(),n.BQk()),2&t){const e=n.oxw().ngIf,i=n.oxw();n.xp6(3),n.Q6J("formGroup",i.quantityInputGroup),n.xp6(4),n.Q6J("perspectives",n.lcZ(8,11,i.perspectives$))("product",e)("renderImage",i.renderImage),n.xp6(2),n.Q6J("ngIf",i.renderImage),n.xp6(1),n.Q6J("ngIf",i.showPrices),n.xp6(1),n.Q6J("ngIf",i.showRequestFormOnBottom),n.xp6(1),n.Q6J("ngIf",!i.requestState.sending&&!i.requestState.success&&!i.requestState.error),n.xp6(1),n.Q6J("ngIf",i.requestState.sending||i.requestState.success||i.requestState.error),n.xp6(1),n.Q6J("ngIf",!i.showRequestFormOnBottom),n.xp6(1),n.Q6J("ngIf",!i.requestState.sending&&!i.requestState.success&&!i.requestState.error)}}function TMe(t,r){if(1&t&&(n.ynx(0),n.YNc(1,PMe,16,13,"ng-container",0),n.ALo(2,"async"),n.BQk()),2&t){const e=n.oxw();n.xp6(1),n.Q6J("ngIf",n.lcZ(2,1,e.sumPrice$))}}let bh=class{constructor(r,e,i,o,a,l){this.store=r,this.router=e,this.activatedRoute=i,this.renderImageService=o,this.actions$=a,this.scroller=l,this.subscriptions=[],this.contentSnippet$=this.store.select(un("aptoSummary")),this.sidebarSummary$=this.store.select(un("aptoStepByStep.sidebarSummary")),this.requestForm$=this.store.select(un("plugins.requestForm")),this.product$=this.store.select(ls),this.perspectives$=this.store.select(yd),this.configuration$=this.store.select(ji),this.sumPrice$=this.store.select($m),this.quantityInputGroup=new mo({quantityInput:new Ln(1)}),this.renderImage=null,this.requestForm=null,this.requestState={sending:!1,success:!1,error:!1},this.showRequestFormOnBottom=!!yn.hasOwnProperty("showRequestFormOnBottom")&&yn.showRequestFormOnBottom,this.configuration$.subscribe(u=>{!u.loading&&0===u.state.sections.length&&e.navigate([".."],{relativeTo:i})}),this.store.select(nMe).subscribe(u=>{this.humanReadableState=u})}ngOnInit(){var r=this;this.store.select(Wc).pipe(ki(this)).subscribe(function(){var e=bc(function*(i){r.renderImage=yield r.renderImageService.drawImageForPerspective(i)});return function(i){return e.apply(this,arguments)}}()),this.actions$.pipe(Yn(lc)).subscribe(e=>{"AddBasketConfiguration"===e.message.messageName&&(this.requestState.sending=!1,this.requestState.error=!0)}),this.actions$.pipe(Yn(md)).subscribe(e=>{this.requestState.sending=!1,this.requestState.success=!0})}get showPrices(){return yn.showPrices}onSendRequestForm(){this.requestForm?.invalid||(this.requestState.sending=!0,this.scroller.scrollToAnchor("summary-request-form"),this.renderImage?this.renderImageService.resize(this.renderImage,800).then(r=>{this.store.dispatch(Ps({payload:{type:"REQUEST_FORM",formData:this.requestForm?.value,humanReadableState:this.humanReadableState,productImage:r.src}}))}):this.store.dispatch(Ps({payload:{type:"REQUEST_FORM",formData:this.requestForm?.value,humanReadableState:this.humanReadableState,productImage:null}})))}onRequestFormChanged(r){this.requestForm=r}ngOnDestroy(){this.subscriptions.forEach(r=>{r.unsubscribe()})}};bh.\u0275fac=function(r){return new(r||bh)(n.Y36(Oe.yh),n.Y36(ti),n.Y36(zi),n.Y36(kd),n.Y36(eo),n.Y36(D0))},bh.\u0275cmp=n.Xpm({type:bh,selectors:[["apto-summary"]],decls:2,vars:3,consts:[[4,"ngIf"],[1,"quantity-form",3,"formGroup"],[1,"whole-summary"],[1,"summary","top"],[1,"zoom"],["imageWrapperBgColor","white",3,"perspectives","product","renderImage"],[3,"src",4,"ngIf"],["class","summary basket",4,"ngIf"],[3,"showPrices",4,"ngIf"],["id","summary-request-form",3,"requestFormChanged","sendRequestForm",4,"ngIf"],[3,"state","success","error",4,"ngIf"],["class","summary bottom",4,"ngIf"],[3,"src"],[1,"summary","basket"],[1,"basket","price"],[3,"showPrices"],["id","summary-request-form",3,"requestFormChanged","sendRequestForm"],[3,"state","success","error"],[1,"summary","bottom"],[1,"basket","bottom"],[1,"back-button-container"],["color","accent","mat-flat-button","",3,"routerLink"],["formControlName","quantityInput",3,"minValue","maxValue","size","width","name"],["color","primary","mat-flat-button","",3,"disabled","click"]],template:function(r,e){1&r&&(n.YNc(0,TMe,3,3,"ng-container",0),n.ALo(1,"async")),2&r&&n.Q6J("ngIf",n.lcZ(1,1,e.product$))},dependencies:[sl,rn,kw,T3,I3,eT,oa,oi,ia,qi,Bo,fr,Or,vc,mMe,CMe,hn,ur],styles:["[_nghost-%COMP%]{background-color:#f7f8fa;display:flex;flex-direction:column;align-items:center;margin:50px 0 80px}[_nghost-%COMP%]   span[_ngcontent-%COMP%]{font-size:x-small;font-weight:500}[_nghost-%COMP%]   h4[_ngcontent-%COMP%]{font-weight:600;font-size:31px;color:var(--color-text)}.quantity-form[_ngcontent-%COMP%]{max-width:100%}.whole-summary[_ngcontent-%COMP%]{display:flex;flex-direction:column;background-color:var(--color-background-card);border-radius:var(--border-radius-card);box-shadow:var(--box-shadow);max-width:980px;margin-top:50px;position:relative}.whole-summary[_ngcontent-%COMP%]   .summary[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:40px 140px}.whole-summary[_ngcontent-%COMP%]   .summary.top[_ngcontent-%COMP%]{border-bottom:1px solid #dcdcdc}.whole-summary[_ngcontent-%COMP%]   .summary.top[_ngcontent-%COMP%]   .zoom[_ngcontent-%COMP%]{position:absolute;left:calc(50% - 200px);top:10px}.whole-summary[_ngcontent-%COMP%]   .summary.top[_ngcontent-%COMP%]   .zoom[_ngcontent-%COMP%]     apto-o-p-full-screen .full-screen-button{width:50px;height:50px;padding:0!important}.whole-summary[_ngcontent-%COMP%]   .summary.top[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:auto;width:250px;padding:0 0 40px}.whole-summary[_ngcontent-%COMP%]   .summary.basket[_ngcontent-%COMP%]{gap:20px;padding-top:0;padding-bottom:0}.whole-summary[_ngcontent-%COMP%]   .summary[_ngcontent-%COMP%]   .basket.buttons[_ngcontent-%COMP%]{gap:30px}.whole-summary[_ngcontent-%COMP%]   .summary.configuration[_ngcontent-%COMP%]{padding:10px}.whole-summary[_ngcontent-%COMP%]   .summary.bottom[_ngcontent-%COMP%]{align-items:stretch;padding-top:0}.whole-summary[_ngcontent-%COMP%]   .summary[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:var(--input-elements-gap)}.basket[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;gap:10px}.basket.price[_ngcontent-%COMP%]{align-items:center}.basket.bottom[_ngcontent-%COMP%]{gap:30px}.back-button-container[_ngcontent-%COMP%]{flex-grow:1}apto-request-message-state[_ngcontent-%COMP%]{display:block;margin-top:40px;border-bottom:1px solid #dcdcdc}@media only screen and (max-width: 766px){[_nghost-%COMP%]   img[_ngcontent-%COMP%]{width:300px}.basket[_ngcontent-%COMP%]{flex-direction:column}.whole-summary[_ngcontent-%COMP%]{margin:10px}}"]}),bh=(0,Ei.gn)([Ii()],bh);let p8=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({}),t})(),IMe=(()=>{class t{constructor(e){this.store=e,this.store.select(Xu).subscribe(i=>{null!==i&&i.customProperties.filter(a=>"requestForm"===a.key&&"disabled"===a.value).length<1&&to.components.set("summary",bh)})}}return t.\u0275fac=function(e){return new(e||t)(n.LFG(Oe.yh))},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[Jo,Zr,Is,Na,ss,xl,aa,ka,Aw,na,Ia,pw,Jm,p8,p8]}),t})();function kMe(t,r){if(1&t&&(n.TgZ(0,"div",14),n._uU(1),n.qZA()),2&t){const e=n.oxw();n.xp6(1),n.Oqu(e.prefix)}}function FMe(t,r){if(1&t&&(n.TgZ(0,"div",15),n._uU(1),n.qZA()),2&t){const e=n.oxw();n.xp6(1),n.Oqu(e.name)}}function NMe(t,r){if(1&t&&(n.TgZ(0,"span"),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&t){const e=n.oxw().$implicit;n.xp6(1),n.hij(" ",n.lcZ(2,1,e.name)," ")}}function RMe(t,r){if(1&t&&(n.ynx(0),n.YNc(1,NMe,3,3,"span",18),n.BQk()),2&t){const e=r.$implicit,i=n.oxw(2);n.xp6(1),n.Q6J("ngIf",i.isSelected(e.id))}}function LMe(t,r){if(1&t&&(n.TgZ(0,"div",16),n.YNc(1,RMe,2,1,"ng-container",17),n.qZA()),2&t){const e=n.oxw();n.xp6(1),n.Q6J("ngForOf",e._items)}}function BMe(t,r){if(1&t&&(n.TgZ(0,"div",19),n._uU(1),n.qZA()),2&t){const e=n.oxw();n.xp6(1),n.Oqu(e.placeholder)}}function UMe(t,r){if(1&t&&(n.TgZ(0,"div",20)(1,"mat-icon"),n._uU(2),n.qZA()()),2&t){const e=n.oxw();n.xp6(2),n.Oqu(e.isOverlayOpen?"arrow_drop_up":"arrow_drop_down")}}function VMe(t,r){if(1&t){const e=n.EpF();n.TgZ(0,"div",21),n.NdJ("click",function(){n.CHM(e);const o=n.oxw();return n.KtG(o.clear())}),n.TgZ(1,"mat-icon"),n._uU(2,"close"),n.qZA()()}}function zMe(t,r){if(1&t&&(n.TgZ(0,"div",22),n._uU(1),n.qZA()),2&t){const e=n.oxw();n.xp6(1),n.Oqu(e.hint)}}function HMe(t,r){if(1&t&&(n.TgZ(0,"div",23),n._uU(1),n.qZA()),2&t){const e=n.oxw();n.xp6(1),n.Oqu(e.suffix)}}function jMe(t,r){1&t&&(n.TgZ(0,"span",30)(1,"mat-icon"),n._uU(2,"done"),n.qZA()())}function qMe(t,r){if(1&t){const e=n.EpF();n.TgZ(0,"div",26),n.NdJ("click",function(){const a=n.CHM(e).$implicit,l=n.oxw(2);return n.KtG(l.selectItem(a.id))}),n.TgZ(1,"div",27)(2,"span",28),n._uU(3),n.ALo(4,"translate"),n.qZA(),n.YNc(5,jMe,3,0,"span",29),n.qZA()()}if(2&t){const e=r.$implicit,i=n.oxw(2);n.xp6(3),n.Oqu(n.lcZ(4,2,e.name)),n.xp6(2),n.Q6J("ngIf",i.isSelected(e.id))}}function ZMe(t,r){if(1&t&&(n.TgZ(0,"div",24),n.YNc(1,qMe,6,4,"div",25),n.qZA()),2&t){const e=n.oxw();n.xp6(1),n.Q6J("ngForOf",e._items)}}let YMe=(()=>{class t{constructor(){this.name="",this.hint="",this.enableClear=!0,this.disabled=!1,this.default="",this.placeholder="",this.width="",this._items=[],this.value=[],this.itemsSelected=[],this.inputCleared=new n.vpe,this.isOverlayOpen=!1}set items(e){this._items=e||[],this.updateValue()}valueGiven(){return 0!==this.value.length}writeValue(e){e&&(this.value=[...e]),this.updateValue()}registerOnChange(e){this.onChange=e}registerOnTouched(e){}setDisabledState(e){}toggleOverlay(){this.isOverlayOpen=!this.isOverlayOpen}updateValue(){this.itemsSelected=this._items.filter(e=>this.value.find(i=>e.id===i))}isSelected(e){return this.value.includes(e)}selectItem(e){this.value=[...this.value],this.value.includes(e)?this.value.splice(this.value.indexOf(e),1):this.value.push(e),this.updateValue(),this.onChange?.(this.value)}clear(){this.value=[],this.updateValue(),this.onChange?.(this.value),this.isOverlayOpen=!1,this.inputCleared.emit()}ngOnInit(){this.default&&this.value.push(this.default),this.updateValue()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Xpm({type:t,selectors:[["apto-select-box-field"]],inputs:{name:"name",prefix:"prefix",suffix:"suffix",hint:"hint",enableClear:"enableClear",disabled:"disabled",default:"default",element:"element",placeholder:"placeholder",width:"width",items:"items"},outputs:{inputCleared:"inputCleared"},features:[n._Bn([{provide:Ci,useExisting:(0,n.Gpc)(()=>t),multi:!0}])],decls:15,vars:21,consts:[[1,"select-box-field"],["class","prefix",4,"ngIf"],["class","name",4,"ngIf"],[1,"container"],["mat-ripple","","cdkOverlayOrigin","",1,"select",3,"matRippleDisabled","click"],["overlayContent","","trigger","cdkOverlayOrigin"],[1,"selected-value-wrapper"],["class","selected-value",4,"ngIf"],["class","selected-value default",4,"ngIf"],["class","dropdown",4,"ngIf"],["class","clear-input","mat-ripple","",3,"click",4,"ngIf"],["class","hint",4,"ngIf"],["class","suffix",4,"ngIf"],["cdkConnectedOverlay","",3,"cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","overlayOutsideClick"],[1,"prefix"],[1,"name"],[1,"selected-value"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"selected-value","default"],[1,"dropdown"],["mat-ripple","",1,"clear-input",3,"click"],[1,"hint"],[1,"suffix"],[1,"overlay"],["class","items",3,"click",4,"ngFor","ngForOf"],[1,"items",3,"click"],["mat-ripple","",1,"item"],[1,"text"],["class","circle",4,"ngIf"],[1,"circle"]],template:function(e,i){if(1&e&&(n.TgZ(0,"div",0),n.YNc(1,kMe,2,1,"div",1),n.YNc(2,FMe,2,1,"div",2),n.TgZ(3,"div",3)(4,"div",4,5),n.NdJ("click",function(){return i.disabled||i.toggleOverlay()}),n.TgZ(7,"div",6),n.YNc(8,LMe,2,1,"div",7),n.YNc(9,BMe,2,1,"div",8),n.qZA(),n.YNc(10,UMe,3,1,"div",9),n.qZA(),n.YNc(11,VMe,3,0,"div",10),n.qZA(),n.YNc(12,zMe,2,1,"div",11),n.YNc(13,HMe,2,1,"div",12),n.qZA(),n.YNc(14,ZMe,2,1,"ng-template",13),n.NdJ("overlayOutsideClick",function(a){return i.toggleOverlay(),a.stopPropagation()})),2&e){const o=n.MAs(6);n.Udp("width",i.width?"max-content":"100%"),n.xp6(1),n.Q6J("ngIf",i.prefix),n.xp6(1),n.Q6J("ngIf",i.name),n.xp6(1),n.Udp("width",i.width),n.ekj("open-left",i.isOverlayOpen)("open-right",i.isOverlayOpen&&!i.enableClear),n.xp6(1),n.Q6J("matRippleDisabled",i.disabled),n.xp6(3),n.ekj("value-disabled",!i.disabled),n.xp6(1),n.Q6J("ngIf",i.valueGiven()),n.xp6(1),n.Q6J("ngIf",!i.valueGiven()),n.xp6(1),n.Q6J("ngIf",!i.disabled),n.xp6(1),n.Q6J("ngIf",i.enableClear),n.xp6(1),n.Q6J("ngIf",i.hint),n.xp6(1),n.Q6J("ngIf",i.suffix),n.xp6(1),n.Q6J("cdkConnectedOverlayOrigin",o)("cdkConnectedOverlayOpen",i.isOverlayOpen)}},dependencies:[Ar,rn,fr,xd,Ay,Ea,Tr],styles:['[_nghost-%COMP%]{width:100%;display:flex;justify-content:center}.select-box-field[_ngcontent-%COMP%]{display:grid;grid-template-rows:auto;grid-template-columns:max-content auto max-content;grid-template-areas:"... name ..." "prefix container suffix" "... hint ..."}.select-box-field[_ngcontent-%COMP%]   .prefix[_ngcontent-%COMP%]{grid-area:prefix;font-size:14px;font-weight:600;color:var(--color-text);align-self:center;text-align:right}.select-box-field[_ngcontent-%COMP%]   .prefix[_ngcontent-%COMP%]:not(:empty){padding-right:var(--input-elements-gap)}.select-box-field[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{grid-area:name;font-weight:500;height:min-content;color:var(--color-text);padding-bottom:var(--input-elements-gap);font-size:16px}.select-box-field[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{grid-area:container;display:flex;overflow:hidden;background-color:#fff;border:1px solid var(--color-border-input);border-radius:var(--border-radius-card);height:var(--input-height);box-shadow:var(--box-shadow)}.select-box-field[_ngcontent-%COMP%]   .container.open-left[_ngcontent-%COMP%]{border-bottom-left-radius:0}.select-box-field[_ngcontent-%COMP%]   .container.open-right[_ngcontent-%COMP%]{border-bottom-right-radius:0}.select-box-field[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .select[_ngcontent-%COMP%]{display:flex;flex-grow:1;align-items:stretch}.select-box-field[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .select[_ngcontent-%COMP%]   .selected-value-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;flex-basis:calc(100% - var(--dropdown-icon-width));max-width:calc(100% - var(--dropdown-icon-width))}.select-box-field[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .select[_ngcontent-%COMP%]   .selected-value-wrapper.value-disabled[_ngcontent-%COMP%]{cursor:pointer}.select-box-field[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .select[_ngcontent-%COMP%]   .selected-value-wrapper[_ngcontent-%COMP%]   .selected-value[_ngcontent-%COMP%]{width:100%;padding-left:20px;font-size:15px;font-weight:600;font-family:var(--main-font-1);color:var(--color-text);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.select-box-field[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .select[_ngcontent-%COMP%]   .selected-value-wrapper[_ngcontent-%COMP%]   .selected-value.default[_ngcontent-%COMP%]{font-weight:400}.select-box-field[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .select[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]{height:calc(var(--input-height) - 2px);width:var(--dropdown-icon-width);cursor:pointer;display:flex}.select-box-field[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .select[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:var(--color-ripple-control);font-size:30px;width:100%;height:100%;line-height:var(--input-height);text-align:center}.select-box-field[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .clear-input[_ngcontent-%COMP%]{background-color:var(--color-background);border-left:1px solid var(--color-border-input);height:var(--input-height)-2px;width:var(--clear-icon-width);flex-basis:var(--clear-icon-width);min-width:var(--clear-icon-width);cursor:pointer;display:flex;justify-content:center;align-items:center}.select-box-field[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .clear-input[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:var(--color-text);font-size:20px;height:20px;width:20px;line-height:20px}.select-box-field[_ngcontent-%COMP%]   .suffix[_ngcontent-%COMP%]{grid-area:suffix;font-size:14px;font-weight:600;color:var(--color-text);align-self:center;text-align:left}.select-box-field[_ngcontent-%COMP%]   .suffix[_ngcontent-%COMP%]:not(:empty){padding-left:var(--input-elements-gap)}.select-box-field[_ngcontent-%COMP%]   .hint[_ngcontent-%COMP%]{grid-area:hint;color:var(--color-text);font-size:12px;font-weight:600;padding-top:var(--input-elements-gap)}.overlay[_ngcontent-%COMP%]{background-color:#fff;border-bottom:1px solid var(--color-border-input);border-top:1px solid var(--color-border-input);border-left:1px solid var(--color-border-input);border-right:1px solid var(--color-border-input);border-bottom-right-radius:var(--border-radius-card);border-bottom-left-radius:var(--border-radius-card);position:absolute;left:-1px;display:flex;flex-direction:column;max-height:50vh;overflow-x:hidden}.overlay[_ngcontent-%COMP%]   .items[_ngcontent-%COMP%]{width:100%;cursor:pointer;display:flex;align-items:center;height:calc(var(--input-height) - 6px);overflow:visible}.overlay[_ngcontent-%COMP%]   .items[_ngcontent-%COMP%]:hover{background-color:var(--color-details)}.overlay[_ngcontent-%COMP%]   .items[_ngcontent-%COMP%]:last-child{border-bottom-right-radius:var(--border-radius-card);border-bottom-left-radius:var(--border-radius-card)}.overlay[_ngcontent-%COMP%]   .items[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;justify-content:flex-start;align-items:center;padding-left:20px;padding-right:20px}.overlay[_ngcontent-%COMP%]   .items[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{font-family:var(--main-font-1);color:var(--color-text);text-align:left;font-size:15px;line-height:calc(var(--input-height) - 6px);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.overlay[_ngcontent-%COMP%]   .items[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]{display:flex;background-color:var(--color-border-selected);border-radius:var(--border-radius-bubble);position:relative;height:20px;width:20px;color:#fff;justify-content:center;align-items:center;margin-left:10px}.overlay[_ngcontent-%COMP%]   .items[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-weight:600;font-size:16px;text-align:center;line-height:24px}@media only screen and (min-width: 767px){.select-box-field[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-weight:500;height:min-content;color:var(--color-text);padding-bottom:var(--input-elements-gap);font-size:18px}}']}),t})();function GMe(t,r){if(1&t&&(n.TgZ(0,"div",21)(1,"mat-icon"),n._uU(2,"done"),n.qZA()()),2&t){const e=n.oxw(2);n.ekj("selected",e.element.state.active)}}function $Me(t,r){if(1&t&&n._UZ(0,"apto-element-picture",22),2&t){const e=n.oxw(2);n.Q6J("previewImage",e.element.element.previewImage)("zoomFunction",e.element.element.zoomFunction)("gallery",e.element.element.gallery)}}function WMe(t,r){if(1&t&&(n._UZ(0,"apto-select-box-field",23),n.ALo(1,"contentSnippet"),n.ALo(2,"async")),2&t){const e=n.oxw(2);n.Q6J("default",null==e.element.element.definition.staticValues.defaultItem?null:e.element.element.definition.staticValues.defaultItem.id)("items",e.items)("formControl",e.formElement)("placeholder",(e.selectedItems?e.selectedItems.toString():"")||n.xi3(1,4,n.lcZ(2,7,e.contentSnippet$),"select.please-select"))}}function QMe(t,r){if(1&t&&(n._UZ(0,"apto-select-field",24),n.ALo(1,"translate"),n.ALo(2,"contentSnippet"),n.ALo(3,"async")),2&t){const e=n.oxw(2);n.Q6J("asArray",!0)("items",e.items)("formControl",e.formElement)("default",(e.selectedItems.length>0&&e.selectedItems[0].hasOwnProperty("name")?n.lcZ(1,4,e.selectedItems[0].name):"")||n.xi3(2,6,n.lcZ(3,9,e.contentSnippet$),"select.please-select"))}}function JMe(t,r){if(1&t&&n._UZ(0,"apto-input-field",28),2&t){const e=n.oxw().$implicit;n.Q6J("type","integer")("formControl",e.multi)}}function XMe(t,r){if(1&t&&(n.TgZ(0,"div",11)(1,"div",12),n._uU(2),n.ALo(3,"translate"),n.qZA(),n.TgZ(4,"div",13),n.YNc(5,JMe,1,2,"apto-input-field",27),n.qZA(),n.TgZ(6,"div",16),n._uU(7),n.ALo(8,"translate"),n.qZA()()),2&t){const e=r.$implicit,i=n.oxw(3);n.xp6(2),n.hij(" ",n.lcZ(3,3,i.element.element.definition.staticValues.multiplierPrefix)," "),n.xp6(3),n.Q6J("ngIf",e.name),n.xp6(2),n.hij(" ",n.lcZ(8,5,i.element.element.definition.staticValues.multiplierSuffix)," ")}}function KMe(t,r){if(1&t&&(n.ynx(0),n.TgZ(1,"div",25),n.YNc(2,XMe,9,7,"div",26),n.qZA(),n.BQk()),2&t){const e=n.oxw(2);n.xp6(2),n.Q6J("ngForOf",e.currentFormArray)}}function eSe(t,r){if(1&t&&(n._UZ(0,"div",29),n.ALo(1,"safeHtml"),n.ALo(2,"translate")),2&t){const e=n.oxw(2);n.Q6J("innerHTML",n.lcZ(1,1,n.lcZ(2,3,e.element.element.description)),n.oJD)}}function tSe(t,r){if(1&t&&n._UZ(0,"apto-element-attachment",30),2&t){const e=n.oxw(2);n.Q6J("attachments",e.element.element.attachments)}}function nSe(t,r){if(1&t&&(n.TgZ(0,"div",1),n._UZ(1,"apto-slot-outlet",2),n.YNc(2,GMe,3,2,"div",3),n.TgZ(3,"div",4)(4,"div",5)(5,"h4"),n._uU(6),n.ALo(7,"translate"),n.qZA()(),n._UZ(8,"apto-slot-outlet",6),n.qZA(),n.TgZ(9,"div",7),n.YNc(10,$Me,1,3,"apto-element-picture",8),n.qZA(),n.TgZ(11,"div",9)(12,"div",10)(13,"div",11),n._UZ(14,"div",12),n.TgZ(15,"div",13),n.YNc(16,WMe,3,9,"apto-select-box-field",14),n.YNc(17,QMe,4,11,"apto-select-field",15),n.qZA(),n._UZ(18,"div",16),n.qZA()(),n.YNc(19,KMe,3,1,"ng-container",17),n.qZA(),n.YNc(20,eSe,3,5,"div",18),n.ALo(21,"translate"),n.YNc(22,tSe,1,1,"apto-element-attachment",19),n._UZ(23,"apto-slot-outlet",20),n.qZA()),2&t){const e=n.oxw();n.ekj("step-by-step",e.product.useStepByStep)("one-page",!e.product.useStepByStep)("open-in-dialog",e.isDialog)("selected",e.element.state.active)("disabled",e.element.state.disabled)("no-element-preview-image",!e.element.element.previewImage),n.xp6(1),n.Q6J("product",e.product)("section",e.section)("element",e.element),n.xp6(1),n.Q6J("ngIf",(null==e.section?null:e.section.allowMultiple)&&e.product.useStepByStep||e.element.state.active),n.xp6(4),n.Oqu(n.lcZ(7,29,e.element.element.name)),n.xp6(2),n.Q6J("product",e.product)("section",e.section)("element",e.element),n.xp6(2),n.Q6J("ngIf",e.element.element.previewImage),n.xp6(6),n.Q6J("ngIf",e.element.element.definition.staticValues.enableMultiSelect),n.xp6(1),n.Q6J("ngIf",!e.element.element.definition.staticValues.enableMultiSelect),n.xp6(2),n.Q6J("ngIf",e.element.element.definition.staticValues.enableMultiplier&&e.currentFormArray.length>0&&e.currentFormArray[0].id),n.xp6(1),n.Q6J("ngIf",""!==n.lcZ(21,31,e.element.element.description)),n.xp6(2),n.Q6J("ngIf",e.hasAttachments),n.xp6(1),n.Q6J("product",e.product)("section",e.section)("element",e.element)}}let Ch=class{constructor(r,e){this.store=r,this.catalogMessageBusService=e,this.isDialog=!1,this.formElement=new Ln([]),this.contentSnippet$=this.store.select(un("aptoDefaultElementDefinition")),this.items=[],this.selectedItems=[],this.currentFormArray=[],this.committedBoxes=[]}ngOnInit(){if(!this.element)return;this.element.element.definition.staticValues.enableMultiSelect?this.formElement.setValue(this.element?.state.values.selectedItem||this.element.element.definition.staticValues.defaultItem?.id?this.element?.state.values.selectedItem||[this.element.element.definition.staticValues.defaultItem?.id]:[]):this.element.element.definition.staticValues.enableMultiSelect||this.formElement.setValue(this.element?.state.values.selectedItem?this.element?.state.values.selectedItem:this.element.element.definition.staticValues.defaultItem?.id?[this.element.element.definition.staticValues.defaultItem?.id]:[]);let r=!1;this.catalogMessageBusService.findSelectBoxItems(this.element.element.id).pipe(ki(this)).subscribe(e=>{this.items=e.data,this.formElement.valueChanges.pipe(Fo(this.formElement.value)).subscribe(i=>{if(this.element?.state.active&&(this.committedBoxes=this.element.state.values.boxes),this.element?.element.definition.staticValues.enableMultiSelect&&this.formElement.value){for(const o of this.formElement.value)(!this.currentFormArray.some(a=>a.id===o)||0===this.currentFormArray.length)&&this.currentFormArray.push({id:o,name:this.items.find(a=>a.id===o)?.name,multi:new Ln(parseInt(this.committedBoxes.find(a=>a.id===o)?.multi||"1",10),{nonNullable:!0})});this.currentFormArray=this.currentFormArray.filter(o=>this.formElement.value?.includes(o.id)),0===this.formElement.value.length&&(this.currentFormArray=[])}else if(!this.element?.element.definition.staticValues.enableMultiSelect&&this.formElement.value){const o=this.formElement.value[0];this.currentFormArray.some(a=>a.id===o)||(this.currentFormArray=[{id:o,name:this.items.find(a=>a.id===o)?.name,multi:new Ln(parseInt(this.committedBoxes.find(a=>a.id===o)?.multi||"1",10),{nonNullable:!0})}])}null===this.formElement.value&&(this.currentFormArray=[]),!1===r?(r=!0,this.updateSelectedItems()):this.saveInput()})})}setBoxName(r){return this.items.some(e=>e.id===r)?this.items.find(e=>e.id===r)?.name:{de_DE:""}}updateSelectedItems(){this.selectedItems=[];for(const r of this.currentFormArray)this.selectedItems.push({id:r.id,name:r.name,multi:r.multi.value.toString()})}get hasAttachments(){return 0!==this.element.element.attachments?.length}saveInput(){!this.element||(this.updateSelectedItems(),this.store.dispatch(di(this.formElement&&this.formElement.value&&this.formElement.value.length>0?{updates:{set:[{sectionId:this.element.element.sectionId,elementId:this.element.element.id,sectionRepetition:this.element.state.sectionRepetition,property:"aptoElementDefinitionId",value:"apto-element-select-box"},{sectionId:this.element.element.sectionId,elementId:this.element.element.id,sectionRepetition:this.element.state.sectionRepetition,property:"boxes",value:this.selectedItems},{sectionId:this.element.element.sectionId,elementId:this.element.element.id,sectionRepetition:this.element.state.sectionRepetition,property:"selectedItem",value:this.formElement.value}]}}:{updates:{remove:[{sectionId:this.element.element.sectionId,elementId:this.element.element.id,sectionRepetition:this.element.state.sectionRepetition,property:"aptoElementDefinitionId",value:"apto-element-select-box"}]}})))}};Ch.\u0275fac=function(r){return new(r||Ch)(n.Y36(Oe.yh),n.Y36(Rw))},Ch.\u0275cmp=n.Xpm({type:Ch,selectors:[["apto-selectbox-element"]],inputs:{element:"element",section:"section",product:"product",isDialog:"isDialog"},decls:1,vars:1,consts:[["class","selectbox-element",3,"step-by-step","one-page","open-in-dialog","selected","disabled","no-element-preview-image",4,"ngIf"],[1,"selectbox-element"],["identifier","start-element-container",3,"product","section","element"],["class","circle",3,"selected",4,"ngIf"],[1,"header"],[1,"title"],["identifier","header-end",3,"product","section","element"],[1,"picture"],[3,"previewImage","zoomFunction","gallery",4,"ngIf"],[1,"element"],[1,"select-box"],[1,"container"],[1,"prefix"],[1,"input"],[3,"default","items","formControl","placeholder",4,"ngIf"],[3,"asArray","items","formControl","default",4,"ngIf"],[1,"suffix"],[4,"ngIf"],["class","description",3,"innerHTML",4,"ngIf"],[3,"attachments",4,"ngIf"],["identifier","end-element-container",3,"product","section","element"],[1,"circle"],[3,"previewImage","zoomFunction","gallery"],[3,"default","items","formControl","placeholder"],[3,"asArray","items","formControl","default"],[1,"input-multiplier"],["class","container",4,"ngFor","ngForOf"],[3,"type","formControl",4,"ngIf"],[3,"type","formControl"],[1,"description",3,"innerHTML"],[3,"attachments"]],template:function(r,e){1&r&&n.YNc(0,nSe,24,33,"div",0),2&r&&n.Q6J("ngIf",e.element&&e.product)},dependencies:[Ar,rn,fo,io,Xy,YMe,oi,Cl,Rd,ru,fr,hn,Tr,Lo,ur],styles:['.selectbox-element[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto;grid-template-areas:"header" "picture" "description" "attachment" "element" "extra-item" "buttons";padding:var(--element-gap);justify-items:center;gap:0;column-gap:20px;position:relative}.selectbox-element.step-by-step[_ngcontent-%COMP%]:not(.open-in-dialog){padding:var(--element-gap);border:solid 3px transparent;border-radius:var(--border-radius-card);transition:border-color .3s ease}.selectbox-element.step-by-step[_ngcontent-%COMP%]:not(.open-in-dialog).selected{border-color:var(--color-border-dimensions)}.selectbox-element.step-by-step.open-in-dialog[_ngcontent-%COMP%], .selectbox-element.one-page.open-in-dialog[_ngcontent-%COMP%]{border-top-width:3px;border-top-style:solid;border-radius:var(--border-radius-card);padding:34px 72px}.selectbox-element.step-by-step.open-in-dialog[type=confirm][_ngcontent-%COMP%], .selectbox-element.step-by-step.open-in-dialog[type=info][_ngcontent-%COMP%], .selectbox-element.step-by-step.open-in-dialog[type=custom][_ngcontent-%COMP%], .selectbox-element.one-page.open-in-dialog[type=confirm][_ngcontent-%COMP%], .selectbox-element.one-page.open-in-dialog[type=info][_ngcontent-%COMP%], .selectbox-element.one-page.open-in-dialog[type=custom][_ngcontent-%COMP%]{border-color:var(--color-optic-lines-popup)}.selectbox-element.step-by-step.open-in-dialog[type=error][_ngcontent-%COMP%], .selectbox-element.one-page.open-in-dialog[type=error][_ngcontent-%COMP%]{border-color:var(--color-optic-lines-popup-error)}.selectbox-element.step-by-step.open-in-dialog[type=warning][_ngcontent-%COMP%], .selectbox-element.one-page.open-in-dialog[type=warning][_ngcontent-%COMP%]{border-color:var(--color-optic-lines-popup-warning)}.selectbox-element.one-page[_ngcontent-%COMP%]:not(.open-in-dialog){padding:0;grid-template-areas:"picture" "description" "attachment" "element" "extra-item" "buttons"}.selectbox-element.one-page[_ngcontent-%COMP%]:not(.open-in-dialog)   .header[_ngcontent-%COMP%]{display:none}.selectbox-element.one-page[_ngcontent-%COMP%]:not(.open-in-dialog).no-element-preview-image{grid-template-areas:"header" "picture" "description" "attachment" "element" "extra-item" "buttons";grid-template-columns:1fr}.selectbox-element[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%] + .picture[_ngcontent-%COMP%]:not(:empty), .selectbox-element[_ngcontent-%COMP%]   .picture[_ngcontent-%COMP%] + .element[_ngcontent-%COMP%]:not(:empty), .selectbox-element[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%] + .description[_ngcontent-%COMP%]:not(:empty), .selectbox-element[_ngcontent-%COMP%]   .apply-button[_ngcontent-%COMP%]{margin-top:var(--element-gap)}.selectbox-element.selected[_ngcontent-%COMP%]{border:3px solid var(--color-border-dimensions)}.selectbox-element[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]{border:2px solid transparent;border-radius:var(--border-radius-bubble);height:25px;width:25px;color:#fff;display:flex;justify-content:center;align-items:center;position:absolute;background-color:#fff;transition:background-color .25s ease,border-color .25s ease;top:20px;right:20px;border:2px solid var(--color-border-selected)}.selectbox-element[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{display:none;text-align:center;height:20px;width:20px;overflow:hidden;line-height:20px;font-size:20px}.selectbox-element[_ngcontent-%COMP%]   .circle.selected[_ngcontent-%COMP%]{background-color:var(--color-border-selected);border:2px solid var(--color-border-selected)}.selectbox-element[_ngcontent-%COMP%]   .circle.selected[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{display:flex}.selectbox-element[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{grid-area:header;display:flex;flex-direction:column;justify-content:center}.selectbox-element[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.selectbox-element[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:18px;font-weight:600;color:var(--color-text);text-align:center}.selectbox-element[_ngcontent-%COMP%]   .picture[_ngcontent-%COMP%]{grid-area:picture;width:calc(var(--image-mobile-width) + 2 * var(--element-gap))}.selectbox-element[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;width:100%}.selectbox-element[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]   .select-box[_ngcontent-%COMP%]{margin-bottom:var(--element-gap)}.selectbox-element[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{display:grid;grid-template-rows:auto;grid-template-areas:"prefix input suffix" "... hint ...";width:100%;grid-template-columns:1fr var(--input-mobile-width) 1fr}.selectbox-element[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%] + .container[_ngcontent-%COMP%]{margin-top:var(--element-gap)}.selectbox-element[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]{grid-area:input}.selectbox-element[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .prefix[_ngcontent-%COMP%]{grid-area:prefix;font-size:14px;font-weight:600;color:var(--color-text);align-self:center;text-align:right}.selectbox-element[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .prefix[_ngcontent-%COMP%]:not(:empty){padding-right:var(--input-elements-gap)}.selectbox-element[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .suffix[_ngcontent-%COMP%]{grid-area:suffix;font-size:14px;font-weight:600;color:var(--color-text);align-self:center;text-align:left}.selectbox-element[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .suffix[_ngcontent-%COMP%]:not(:empty){padding-left:var(--input-elements-gap)}.selectbox-element[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{grid-area:description;word-break:break-word;text-align:center}@media only screen and (min-width: 767px){.selectbox-element[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{text-align:left}}.selectbox-element[_ngcontent-%COMP%]   .apply-button[_ngcontent-%COMP%]{grid-area:buttons;display:flex;flex-direction:row;gap:var(--button-gap)}.selectbox-element[_ngcontent-%COMP%]     .select-field .container .select .selected-value-wrapper .selected-value.default, .selectbox-element[_ngcontent-%COMP%]     .select-box-field .container .select .selected-value-wrapper .selected-value.default{font-weight:600!important}@media only screen and (min-width: 767px){.selectbox-element[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto;grid-template-areas:"header" "picture" "description" "attachment" "element" "extra-item" "buttons";padding:var(--element-gap);justify-items:center;gap:0;column-gap:20px;position:relative;grid-template-areas:"picture header" "picture description" "picture attachment" "picture element" "picture extra-item" "picture buttons";grid-template-columns:calc(var(--image-tablet-width) + 2 * var(--element-gap)) 1fr;justify-items:flex-start}.selectbox-element.no-element-preview-image[_ngcontent-%COMP%]{grid-template-areas:"header" "picture" "description" "attachment" "element" "extra-item" "buttons";grid-template-columns:1fr}.selectbox-element.step-by-step[_ngcontent-%COMP%]:not(.open-in-dialog){padding:var(--element-gap);border:solid 3px transparent;border-radius:var(--border-radius-card);transition:border-color .3s ease}.selectbox-element.step-by-step[_ngcontent-%COMP%]:not(.open-in-dialog).selected{border-color:var(--color-border-dimensions)}.selectbox-element.step-by-step.open-in-dialog[_ngcontent-%COMP%], .selectbox-element.one-page.open-in-dialog[_ngcontent-%COMP%]{border-top-width:3px;border-top-style:solid;border-radius:var(--border-radius-card);padding:34px 72px}.selectbox-element.step-by-step.open-in-dialog[type=confirm][_ngcontent-%COMP%], .selectbox-element.step-by-step.open-in-dialog[type=info][_ngcontent-%COMP%], .selectbox-element.step-by-step.open-in-dialog[type=custom][_ngcontent-%COMP%], .selectbox-element.one-page.open-in-dialog[type=confirm][_ngcontent-%COMP%], .selectbox-element.one-page.open-in-dialog[type=info][_ngcontent-%COMP%], .selectbox-element.one-page.open-in-dialog[type=custom][_ngcontent-%COMP%]{border-color:var(--color-optic-lines-popup)}.selectbox-element.step-by-step.open-in-dialog[type=error][_ngcontent-%COMP%], .selectbox-element.one-page.open-in-dialog[type=error][_ngcontent-%COMP%]{border-color:var(--color-optic-lines-popup-error)}.selectbox-element.step-by-step.open-in-dialog[type=warning][_ngcontent-%COMP%], .selectbox-element.one-page.open-in-dialog[type=warning][_ngcontent-%COMP%]{border-color:var(--color-optic-lines-popup-warning)}.selectbox-element.one-page[_ngcontent-%COMP%]:not(.open-in-dialog){padding:0;grid-template-areas:"picture description" "picture attachment" "picture element" "picture extra-item" "picture buttons";grid-template-columns:calc(var(--image-one-page-width) + 2 * var(--element-gap)) 1fr}.selectbox-element.one-page[_ngcontent-%COMP%]:not(.open-in-dialog)   .header[_ngcontent-%COMP%]{display:none}.selectbox-element.one-page[_ngcontent-%COMP%]:not(.open-in-dialog).no-element-preview-image{grid-template-areas:"header" "picture" "description" "attachment" "element" "extra-item" "buttons";grid-template-columns:1fr}.selectbox-element[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%] + .picture[_ngcontent-%COMP%]:not(:empty), .selectbox-element[_ngcontent-%COMP%]   .picture[_ngcontent-%COMP%] + .element[_ngcontent-%COMP%]:not(:empty), .selectbox-element[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%] + .description[_ngcontent-%COMP%]:not(:empty), .selectbox-element[_ngcontent-%COMP%]   .apply-button[_ngcontent-%COMP%]{margin-top:var(--element-gap)}.selectbox-element[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%] + .picture[_ngcontent-%COMP%]:not(:empty){margin-top:0}.selectbox-element[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{flex-direction:column;display:flex;justify-content:space-between;width:100%}.selectbox-element[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{width:100%;display:flex;align-items:flex-start;justify-content:space-between;flex-direction:row}.selectbox-element[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{text-align:left;font-size:22px}.selectbox-element[_ngcontent-%COMP%]   .picture[_ngcontent-%COMP%]{width:calc(var(--image-tablet-width) + 2 * var(--element-gap))}.selectbox-element.step-by-step[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]{grid-template-areas:"select-box input-multiplier"}.selectbox-element.one-page[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]{grid-template-areas:"select-box" "input-multiplier"}.selectbox-element[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]{display:grid;align-items:flex-start;justify-items:flex-start}.selectbox-element[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]   .select-box[_ngcontent-%COMP%]{grid-area:select-box;margin-bottom:var(--element-gap)}.selectbox-element[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]   .select-box[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{display:grid;grid-template-rows:auto;grid-template-areas:"prefix input suffix" "... hint ...";width:100%;grid-template-columns:1fr var(--input-tablet-width) 1fr;grid-template-columns:1fr auto 1fr}.selectbox-element[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]   .select-box[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]{min-width:var(--input-tablet-width)}.selectbox-element[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]   .input-multiplier[_ngcontent-%COMP%]{grid-area:input-multiplier}.selectbox-element[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]   .input-multiplier[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{display:grid;grid-template-rows:auto;grid-template-areas:"prefix input suffix" "... hint ...";width:100%;grid-template-columns:1fr 100px 1fr}.selectbox-element[_ngcontent-%COMP%]   .apply-button[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:var(--button-gap);justify-self:flex-end;justify-content:flex-end}}']}),Ch=(0,Ei.gn)([Ii()],Ch);let rSe=(()=>{class t{constructor(){to.components.set("apto-element-select-box",Ch)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[Jo,Zr,Is,Na,ss,aa,ka,Ta,Ia,xl,na]}),t})();function iSe(t,r){if(1&t&&(n.TgZ(0,"div",22)(1,"mat-icon"),n._uU(2,"done"),n.qZA()()),2&t){const e=n.oxw(2);n.ekj("selected",e.element.state.active)}}function oSe(t,r){1&t&&n._UZ(0,"apto-close-button",23),2&t&&n.Q6J("mat-dialog-close",!0)("inner",!0)}function aSe(t,r){if(1&t&&n._UZ(0,"apto-element-picture",24),2&t){const e=n.oxw(2);n.Q6J("previewImage",e.element.element.previewImage)("zoomFunction",e.element.element.zoomFunction)("gallery",e.element.element.gallery)("width","200px")}}function sSe(t,r){1&t&&(n.TgZ(0,"div",25),n._UZ(1,"div",26),n.qZA())}function lSe(t,r){if(1&t&&(n._UZ(0,"apto-input-field",36),n.ALo(1,"translate")),2&t){const e=n.oxw(3);n.Q6J("type","integer")("name",n.lcZ(1,7,e.element.element.definition.staticValues.prefixHeight))("step",e.stepHeight)("min",null==e.element.element.definition.properties.height||null==e.element.element.definition.properties.height[0]?null:e.element.element.definition.properties.height[0].minimum)("max",null==e.element.element.definition.properties.height||null==e.element.element.definition.properties.height[0]?null:e.element.element.definition.properties.height[0].maximum)("increaseStep",e.increaseStep)("decreaseStep",e.decreaseStep)}}function cSe(t,r){if(1&t&&(n._UZ(0,"apto-select-field",37),n.ALo(1,"translate")),2&t){const e=n.oxw(3);n.Q6J("items",e.itemsHeight)("name",n.lcZ(1,4,e.element.element.definition.staticValues.prefixHeight))("default",e.element.element.definition.staticValues.defaultHeight)("enableClear",!1)}}function uSe(t,r){if(1&t&&(n._UZ(0,"apto-select-field",38),n.ALo(1,"translate")),2&t){const e=n.oxw(3);n.Q6J("name",n.lcZ(1,4,e.element.element.definition.staticValues.prefixHeight))("default",e.element.element.definition.staticValues.defaultHeight)("enableClear",!1)("disabled",!0)}}function dSe(t,r){if(1&t&&(n.TgZ(0,"div",39),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&t){const e=n.oxw(3);n.xp6(1),n.hij(" ",(null==e.element.element.definition.properties.height||null==e.element.element.definition.properties.height[0]?null:e.element.element.definition.properties.height[0].minimum)+" - "+(null==e.element.element.definition.properties.height||null==e.element.element.definition.properties.height[0]?null:e.element.element.definition.properties.height[0].maximum)+" "+n.lcZ(2,1,e.element.element.definition.staticValues.suffixHeight)," ")}}function pSe(t,r){if(1&t&&(n.TgZ(0,"div",27),n._UZ(1,"div",28),n.TgZ(2,"div",29)(3,"div",30),n.YNc(4,lSe,2,9,"apto-input-field",31),n.YNc(5,cSe,2,6,"apto-select-field",32),n.YNc(6,uSe,2,6,"apto-select-field",33),n.qZA(),n.TgZ(7,"div",34),n._uU(8),n.ALo(9,"translate"),n.qZA(),n.YNc(10,dSe,3,3,"div",35),n.qZA()()),2&t){const e=n.oxw(2);n.xp6(4),n.Q6J("ngIf","input"===e.element.element.definition.staticValues.renderingHeight),n.xp6(1),n.Q6J("ngIf","select"===e.element.element.definition.staticValues.renderingHeight),n.xp6(1),n.Q6J("ngIf","none"===e.element.element.definition.staticValues.renderingHeight),n.xp6(2),n.Oqu(n.lcZ(9,5,e.element.element.definition.staticValues.suffixHeight)),n.xp6(2),n.Q6J("ngIf","select"!==e.element.element.definition.staticValues.renderingHeight)}}function fSe(t,r){1&t&&(n.TgZ(0,"div",40),n._UZ(1,"div",41),n.qZA())}function hSe(t,r){if(1&t&&(n._UZ(0,"apto-input-field",47),n.ALo(1,"translate")),2&t){const e=n.oxw(3);n.Q6J("type","integer")("name",n.lcZ(1,7,e.element.element.definition.staticValues.prefixWidth))("step",e.stepWidth)("min",null==e.element.element.definition.properties.width||null==e.element.element.definition.properties.width[0]?null:e.element.element.definition.properties.width[0].minimum)("max",null==e.element.element.definition.properties.width||null==e.element.element.definition.properties.width[0]?null:e.element.element.definition.properties.width[0].maximum)("increaseStep",e.increaseStep)("decreaseStep",e.decreaseStep)}}function mSe(t,r){if(1&t&&(n._UZ(0,"apto-select-field",48),n.ALo(1,"translate")),2&t){const e=n.oxw(3);n.Q6J("items",e.itemsWidth)("name",n.lcZ(1,4,e.element.element.definition.staticValues.prefixWidth))("default",e.element.element.definition.staticValues.defaultWidth)("enableClear",!1)}}function gSe(t,r){if(1&t&&(n._UZ(0,"apto-select-field",49),n.ALo(1,"translate")),2&t){const e=n.oxw(3);n.Q6J("default",e.element.element.definition.staticValues.defaultWidth)("enableClear",!1)("name",n.lcZ(1,4,e.element.element.definition.staticValues.prefixWidth))("disabled",!0)}}function _Se(t,r){if(1&t&&(n.TgZ(0,"div",39),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&t){const e=n.oxw(3);n.xp6(1),n.hij(" ",(null==e.element.element.definition.properties.width||null==e.element.element.definition.properties.width[0]?null:e.element.element.definition.properties.width[0].minimum)+" - "+(null==e.element.element.definition.properties.width||null==e.element.element.definition.properties.width[0]?null:e.element.element.definition.properties.width[0].maximum)+" "+n.lcZ(2,1,e.element.element.definition.staticValues.suffixWidth)," ")}}function vSe(t,r){if(1&t&&(n.TgZ(0,"div",42),n._UZ(1,"div",43),n.TgZ(2,"div",29)(3,"div",30),n.YNc(4,hSe,2,9,"apto-input-field",44),n.YNc(5,mSe,2,6,"apto-select-field",45),n.YNc(6,gSe,2,6,"apto-select-field",46),n.qZA(),n.TgZ(7,"div",34),n._uU(8),n.ALo(9,"translate"),n.qZA(),n.YNc(10,_Se,3,3,"div",35),n.qZA()()),2&t){const e=n.oxw(2);n.xp6(4),n.Q6J("ngIf","input"===e.element.element.definition.staticValues.renderingWidth),n.xp6(1),n.Q6J("ngIf","select"===e.element.element.definition.staticValues.renderingWidth),n.xp6(1),n.Q6J("ngIf","none"===e.element.element.definition.staticValues.renderingWidth),n.xp6(2),n.Oqu(n.lcZ(9,5,e.element.element.definition.staticValues.suffixWidth)),n.xp6(2),n.Q6J("ngIf","select"!==e.element.element.definition.staticValues.renderingWidth)}}function ySe(t,r){if(1&t&&(n._UZ(0,"div",50),n.ALo(1,"safeHtml"),n.ALo(2,"translate")),2&t){const e=n.oxw(2);n.Q6J("innerHTML",n.lcZ(1,1,n.lcZ(2,3,e.element.element.description)),n.oJD)}}function bSe(t,r){if(1&t&&n._UZ(0,"apto-element-attachment",51),2&t){const e=n.oxw(2);n.Q6J("attachments",e.element.element.attachments)}}function CSe(t,r){if(1&t){const e=n.EpF();n.TgZ(0,"button",52),n.NdJ("click",function(){n.CHM(e);const o=n.oxw(2);return n.KtG(o.saveInput())}),n._uU(1),n.ALo(2,"contentSnippet"),n.ALo(3,"async"),n.ALo(4,"contentSnippet"),n.ALo(5,"async"),n.qZA()}if(2&t){const e=n.oxw(2);n.xp6(1),n.hij("",e.element.state.active?n.xi3(2,1,n.lcZ(3,4,e.contentSnippet$),"buttons.update"):n.xi3(4,6,n.lcZ(5,9,e.contentSnippet$),"buttons.select")," ")}}function xSe(t,r){if(1&t){const e=n.EpF();n.TgZ(0,"button",52),n.NdJ("click",function(){n.CHM(e);const o=n.oxw(2);return n.KtG(o.saveInput())}),n._uU(1),n.ALo(2,"contentSnippet"),n.ALo(3,"async"),n.ALo(4,"contentSnippet"),n.ALo(5,"async"),n.qZA()}if(2&t){const e=n.oxw(2);n.xp6(1),n.hij("",e.element.state.active?n.xi3(2,1,n.lcZ(3,4,e.contentSnippet$),"buttons.update"):n.xi3(4,6,n.lcZ(5,9,e.contentSnippet$),"buttons.select")," ")}}function wSe(t,r){if(1&t){const e=n.EpF();n.TgZ(0,"button",53),n.NdJ("click",function(){n.CHM(e);const o=n.oxw(2);return n.KtG(o.removeInput())}),n._uU(1),n.ALo(2,"contentSnippet"),n.ALo(3,"async"),n.qZA()}if(2&t){const e=n.oxw(2);n.xp6(1),n.hij(" ",n.xi3(2,1,n.lcZ(3,4,e.contentSnippet$),"buttons.remove")," ")}}function MSe(t,r){if(1&t){const e=n.EpF();n.TgZ(0,"button",54),n.NdJ("click",function(){n.CHM(e);const o=n.oxw(2);return n.KtG(o.removeInput())}),n._uU(1),n.ALo(2,"contentSnippet"),n.ALo(3,"async"),n.qZA()}if(2&t){const e=n.oxw(2);n.Q6J("mat-dialog-close",!0),n.xp6(1),n.hij(" ",n.xi3(2,2,n.lcZ(3,5,e.contentSnippet$),"buttons.remove")," ")}}function SSe(t,r){if(1&t&&(n.TgZ(0,"form",1)(1,"div",2),n._UZ(2,"apto-slot-outlet",3),n.YNc(3,iSe,3,2,"div",4),n.YNc(4,oSe,1,2,"apto-close-button",5),n.TgZ(5,"div",6)(6,"div",7)(7,"h4"),n._uU(8),n.ALo(9,"translate"),n.qZA()(),n._UZ(10,"apto-slot-outlet",8),n.qZA(),n.TgZ(11,"div",9),n.YNc(12,aSe,1,4,"apto-element-picture",10),n.qZA(),n.YNc(13,sSe,2,0,"div",11),n.YNc(14,pSe,11,7,"div",12),n.YNc(15,fSe,2,0,"div",13),n.YNc(16,vSe,11,7,"div",14),n.YNc(17,ySe,3,5,"div",15),n.ALo(18,"translate"),n.YNc(19,bSe,1,1,"apto-element-attachment",16),n.TgZ(20,"div",17),n.YNc(21,CSe,6,11,"button",18),n.YNc(22,xSe,6,11,"button",18),n.YNc(23,wSe,4,6,"button",19),n.YNc(24,MSe,4,7,"button",20),n.qZA(),n._UZ(25,"apto-slot-outlet",21),n.qZA()()),2&t){const e=n.oxw();n.Q6J("formGroup",e.formElement),n.xp6(1),n.ekj("step-by-step",e.product.useStepByStep)("one-page",!e.product.useStepByStep)("open-in-dialog",e.isDialog)("selected",e.element.state.active)("disabled",e.element.state.disabled)("no-element-preview-image",!e.element.element.previewImage),n.uIk("type","custom"),n.xp6(1),n.Q6J("product",e.product)("section",e.section)("element",e.element),n.xp6(1),n.Q6J("ngIf",(null==e.section?null:e.section.allowMultiple)&&e.product.useStepByStep||e.element.state.active),n.xp6(1),n.Q6J("ngIf",e.element.element.definition.staticValues.renderDialogInOnePageDesktop&&!e.product.useStepByStep),n.xp6(4),n.Oqu(n.lcZ(9,37,e.element.element.name)),n.xp6(2),n.Q6J("product",e.product)("section",e.section)("element",e.element),n.xp6(2),n.Q6J("ngIf",e.element.element.previewImage),n.xp6(1),n.Q6J("ngIf","none"!==e.element.element.definition.staticValues.renderingHeight),n.xp6(1),n.Q6J("ngIf","none"!==e.element.element.definition.staticValues.renderingHeight),n.xp6(1),n.Q6J("ngIf","none"!==e.element.element.definition.staticValues.renderingWidth),n.xp6(1),n.Q6J("ngIf","none"!==e.element.element.definition.staticValues.renderingWidth),n.xp6(1),n.Q6J("ngIf",""!==n.lcZ(18,39,e.element.element.description)),n.xp6(2),n.Q6J("ngIf",e.hasAttachments),n.xp6(2),n.Q6J("ngIf",e.element.element.definition.staticValues.renderDialogInOnePageDesktop&&!(null!=e.product&&e.product.useStepByStep)),n.xp6(1),n.Q6J("ngIf",!e.element.element.definition.staticValues.renderDialogInOnePageDesktop||(null==e.product?null:e.product.useStepByStep)),n.xp6(1),n.Q6J("ngIf",e.hasValues()&&(e.product.useStepByStep||!e.element.element.definition.staticValues.renderDialogInOnePageDesktop)),n.xp6(1),n.Q6J("ngIf",e.hasValues()&&!e.product.useStepByStep&&e.element.element.definition.staticValues.renderDialogInOnePageDesktop),n.xp6(1),n.Q6J("product",e.product)("section",e.section)("element",e.element)}}let rp=class{constructor(r,e,i,o){this.store=r,this.dialogRef=e,this.dialogService=i,this.actions$=o,this.isDialog=!1,this.contentSnippet$=this.store.select(un("aptoDefaultElementDefinition")),this.formElement=new xN({height:new aP(0),width:new aP(0),quantityInput:new Ln(1)}),this.stepWidth=1,this.stepHeight=1,this.itemsHeight=[],this.itemsWidth=[]}get hasAttachments(){return 0!==this.element.element.attachments?.length}hasValues(){return!!this.element&&this.element.state.active}getSelectValues(r){const e=[];return r.map(i=>{for(let o=i.minimum;o<=i.maximum;o+=i.step)e.push({surrogateId:"",id:`${o}`,name:{de_DE:`${o}`},isDefault:!1,aptoPrices:[]})}),e}ngOnInit(){!this.element||(this.initIncreaseDecreaseStep(),this.formElement.controls.height.setValue(this.element?.state.values.height||this.element.element.definition.staticValues.defaultHeight||0),this.formElement.controls.width.setValue(this.element?.state.values.width||this.element.element.definition.staticValues.defaultWidth||0),this.element.element.definition.properties.height&&this.element.element.definition.properties.height[0]&&(this.stepHeight=this.element.element.definition.properties.height?.[0]?.step),this.element.element.definition.properties.width&&this.element.element.definition.properties.width[0]&&(this.stepWidth=this.element.element.definition.properties.width?.[0]?.step),this.addRequirementsForInput(),"select"===this.element.element.definition.staticValues.renderingHeight&&this.element.element.definition.properties.height?.[0]?.maximum&&(this.itemsHeight=this.getSelectValues(this.element.element.definition.properties.height)),"select"===this.element.element.definition.staticValues.renderingWidth&&this.element.element.definition.properties.width?.[0]?.maximum&&(this.itemsWidth=this.getSelectValues(this.element.element.definition.properties.width)))}saveInput(){if(this.element){if(this.markAllControlsAsDirty(),!this.formElement.valid)return void uo(this.store.select(lr).pipe((0,xt.U)(r=>r||yn.defaultLocale)),this.store.select(un("aptoStepByStep.elementsContainer.incorrectValuesInRange"))).pipe((0,ar.q)(1)).subscribe(r=>{this.dialogService.openCustomDialog(_c,Ur.md,{type:ts.ERROR,hideIcon:!0,descriptionText:Pn(r[1].content,r[0])})});this.closeModalOnSuccess(),this.store.dispatch(di({updates:{set:Object.entries(this.formElement.value).filter(([r])=>"none"!==this.element?.element.definition.staticValues.renderingWidth&&"width"===r||"none"!==this.element?.element.definition.staticValues.renderingHeight&&"height"===r).map(([r,e])=>({sectionId:this.element.element.sectionId,elementId:this.element.element.id,sectionRepetition:this.element.state.sectionRepetition,property:r,value:e}))}}))}}removeInput(){!this.element||this.store.dispatch(di({updates:{remove:Object.entries(this.formElement.value).filter(([r])=>"none"!==this.element?.element.definition.staticValues.renderingWidth&&"width"===r||"none"!==this.element?.element.definition.staticValues.renderingHeight&&"height"===r).map(([r,e])=>({sectionId:this.element.element.sectionId,elementId:this.element.element.id,sectionRepetition:this.element.state.sectionRepetition,property:r,value:e}))}}))}initIncreaseDecreaseStep(){let r=this.element.state.customProperties.find(i=>"increaseStep"===i.key),e=this.element.state.customProperties.find(i=>"decreaseStep"===i.key);r&&"string"==typeof r.value&&(this.increaseStep=parseFloat(r.value)),e&&"string"==typeof e.value&&(this.decreaseStep=parseFloat(e.value))}addRequirementsForInput(){"input"===this.element.element.definition.staticValues.renderingHeight&&this.formElement.controls.height.setValidators([Dr.required,Dr.min(this.element.element.definition.properties.height?.[0]?.minimum),Dr.max(this.element.element.definition.properties.height?.[0]?.maximum)]),"input"===this.element.element.definition.staticValues.renderingWidth&&this.formElement.controls.width.setValidators([Dr.required,Dr.min(this.element.element.definition.properties.width?.[0]?.minimum),Dr.max(this.element.element.definition.properties.width?.[0]?.maximum)])}markAllControlsAsDirty(){Object.keys(this.formElement.controls).forEach(r=>{this.formElement.get(r).markAsDirty()})}closeModalOnSuccess(){this.dialogRef?.id&&this.actions$.pipe(Yn(ac),ki(this)).subscribe(r=>{this.dialogRef.close()})}};function DSe(t,r){if(1&t&&n._UZ(0,"apto-width-height-element",3),2&t){const e=n.oxw(2);n.Q6J("product",e.product)("element",e.element)("section",e.section)}}function OSe(t,r){if(1&t&&(n.TgZ(0,"div",10)(1,"mat-icon"),n._uU(2,"done"),n.qZA()()),2&t){const e=n.oxw(3);n.ekj("selected",e.element.state.active)}}function ESe(t,r){if(1&t){const e=n.EpF();n.TgZ(0,"div",4),n.NdJ("click",function(){n.CHM(e);const o=n.oxw(2);return n.KtG(o.openDialog(o.element,o.product))}),n.TgZ(1,"div",5)(2,"div"),n.YNc(3,OSe,3,2,"div",6),n.TgZ(4,"div",7),n._UZ(5,"img",8),n.qZA()()(),n.TgZ(6,"div",9)(7,"p"),n._uU(8),n.ALo(9,"translate"),n.qZA()()()}if(2&t){const e=n.oxw(2);n.xp6(2),n.ekj("selected",e.element.state.active),n.xp6(1),n.Q6J("ngIf",e.element.state.active),n.xp6(2),n.Q6J("src",e.element.element.previewImage,n.LSH),n.xp6(3),n.Oqu(n.lcZ(9,5,e.element.element.name))}}function ASe(t,r){if(1&t&&(n.ynx(0),n.YNc(1,DSe,1,3,"apto-width-height-element",1),n.YNc(2,ESe,10,7,"div",2),n.BQk()),2&t){const e=n.oxw();n.xp6(1),n.Q6J("ngIf",!e.element.element.definition.staticValues.renderDialogInOnePageDesktop||e.product.useStepByStep),n.xp6(1),n.Q6J("ngIf",e.element.element.definition.staticValues.renderDialogInOnePageDesktop&&!e.product.useStepByStep)}}rp.\u0275fac=function(r){return new(r||rp)(n.Y36(Oe.yh),n.Y36(Pa),n.Y36(Do),n.Y36(eo))},rp.\u0275cmp=n.Xpm({type:rp,selectors:[["apto-width-height-element"]],inputs:{element:"element",section:"section",product:"product",isDialog:"isDialog"},decls:1,vars:1,consts:[[3,"formGroup",4,"ngIf"],[3,"formGroup"],[1,"width-height-element"],["identifier","start-element-container",3,"product","section","element"],["class","circle",3,"selected",4,"ngIf"],[3,"mat-dialog-close","inner",4,"ngIf"],[1,"header"],[1,"title"],["identifier","header-end",3,"product","section","element"],[1,"picture"],[3,"previewImage","zoomFunction","gallery","width",4,"ngIf"],["class","height-line",4,"ngIf"],["class","element height-input",4,"ngIf"],["class","width-line",4,"ngIf"],["class","element width-input",4,"ngIf"],["class","description",3,"innerHTML",4,"ngIf"],[3,"attachments",4,"ngIf"],[1,"apply-button"],["mat-flat-button","","color","primary",3,"click",4,"ngIf"],["mat-flat-button","","color","accent",3,"click",4,"ngIf"],["mat-flat-button","","color","accent",3,"mat-dialog-close","click",4,"ngIf"],["identifier","end-element-container",3,"product","section","element"],[1,"circle"],[3,"mat-dialog-close","inner"],[3,"previewImage","zoomFunction","gallery","width"],[1,"height-line"],[1,"height-inner"],[1,"element","height-input"],[1,"height-input-pointer"],[1,"container"],[1,"input"],["formControlName","height",3,"type","name","step","min","max","increaseStep","decreaseStep",4,"ngIf"],["formControlName","height",3,"items","name","default","enableClear",4,"ngIf"],[3,"name","default","enableClear","disabled",4,"ngIf"],[1,"suffix"],["class","hint",4,"ngIf"],["formControlName","height",3,"type","name","step","min","max","increaseStep","decreaseStep"],["formControlName","height",3,"items","name","default","enableClear"],[3,"name","default","enableClear","disabled"],[1,"hint"],[1,"width-line"],[1,"width-inner"],[1,"element","width-input"],[1,"width-input-pointer"],["formControlName","width",3,"type","name","step","min","max","increaseStep","decreaseStep",4,"ngIf"],["formControlName","width",3,"items","name","default","enableClear",4,"ngIf"],[3,"default","enableClear","name","disabled",4,"ngIf"],["formControlName","width",3,"type","name","step","min","max","increaseStep","decreaseStep"],["formControlName","width",3,"items","name","default","enableClear"],[3,"default","enableClear","name","disabled"],[1,"description",3,"innerHTML"],[3,"attachments"],["mat-flat-button","","color","primary",3,"click"],["mat-flat-button","","color","accent",3,"click"],["mat-flat-button","","color","accent",3,"mat-dialog-close","click"]],template:function(r,e){1&r&&n.YNc(0,SSe,26,41,"form",0),2&r&&n.Q6J("ngIf",e.element&&e.product)},dependencies:[rn,fo,io,Xy,oa,oi,ia,qi,Bo,is,fr,Or,Rd,gc,ru,hn,Tr,Lo,ur],styles:['.width-height-element[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto;grid-template-areas:"header" "picture" "description" "attachment" "element" "extra-item" "buttons";padding:var(--element-gap);justify-items:center;gap:0;column-gap:20px;position:relative;grid-template-areas:"header" "picture" "height-line" "width-line" "height-input" "width-input" "description" "buttons"}.width-height-element.step-by-step[_ngcontent-%COMP%]:not(.open-in-dialog){padding:var(--element-gap);border:solid 3px transparent;border-radius:var(--border-radius-card);transition:border-color .3s ease}.width-height-element.step-by-step[_ngcontent-%COMP%]:not(.open-in-dialog).selected{border-color:var(--color-border-dimensions)}.width-height-element.step-by-step.open-in-dialog[_ngcontent-%COMP%], .width-height-element.one-page.open-in-dialog[_ngcontent-%COMP%]{border-top-width:3px;border-top-style:solid;border-radius:var(--border-radius-card);padding:34px 72px}.width-height-element.step-by-step.open-in-dialog[type=confirm][_ngcontent-%COMP%], .width-height-element.step-by-step.open-in-dialog[type=info][_ngcontent-%COMP%], .width-height-element.step-by-step.open-in-dialog[type=custom][_ngcontent-%COMP%], .width-height-element.one-page.open-in-dialog[type=confirm][_ngcontent-%COMP%], .width-height-element.one-page.open-in-dialog[type=info][_ngcontent-%COMP%], .width-height-element.one-page.open-in-dialog[type=custom][_ngcontent-%COMP%]{border-color:var(--color-optic-lines-popup)}.width-height-element.step-by-step.open-in-dialog[type=error][_ngcontent-%COMP%], .width-height-element.one-page.open-in-dialog[type=error][_ngcontent-%COMP%]{border-color:var(--color-optic-lines-popup-error)}.width-height-element.step-by-step.open-in-dialog[type=warning][_ngcontent-%COMP%], .width-height-element.one-page.open-in-dialog[type=warning][_ngcontent-%COMP%]{border-color:var(--color-optic-lines-popup-warning)}.width-height-element.one-page[_ngcontent-%COMP%]:not(.open-in-dialog){padding:0;grid-template-areas:"picture" "description" "attachment" "element" "extra-item" "buttons"}.width-height-element.one-page[_ngcontent-%COMP%]:not(.open-in-dialog)   .header[_ngcontent-%COMP%]{display:none}.width-height-element.one-page[_ngcontent-%COMP%]:not(.open-in-dialog).no-element-preview-image{grid-template-areas:"header" "picture" "description" "attachment" "element" "extra-item" "buttons";grid-template-columns:1fr}.width-height-element[type=confirm][_ngcontent-%COMP%], .width-height-element[type=info][_ngcontent-%COMP%], .width-height-element[type=custom][_ngcontent-%COMP%]{border-color:var(--color-optic-lines-popup)}.width-height-element[type=error][_ngcontent-%COMP%]{border-color:var(--color-optic-lines-popup-error)}.width-height-element[type=warning][_ngcontent-%COMP%]{border-color:var(--color-optic-lines-popup-warning)}.width-height-element[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%] + .picture[_ngcontent-%COMP%]:not(:empty), .width-height-element[_ngcontent-%COMP%]   .picture[_ngcontent-%COMP%] + .element[_ngcontent-%COMP%]:not(:empty), .width-height-element[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%] + .description[_ngcontent-%COMP%]:not(:empty), .width-height-element[_ngcontent-%COMP%]   .apply-button[_ngcontent-%COMP%]{margin-top:var(--element-gap)}.width-height-element[_ngcontent-%COMP%]   .picture[_ngcontent-%COMP%] + .element[_ngcontent-%COMP%]:not(:empty){margin-top:var(--element-gap)}.width-height-element[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]{border:2px solid transparent;border-radius:var(--border-radius-bubble);height:25px;width:25px;color:#fff;display:flex;justify-content:center;align-items:center;position:absolute;background-color:#fff;transition:background-color .25s ease,border-color .25s ease;top:20px;right:20px;border:2px solid var(--color-border-selected)}.width-height-element[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{display:none;text-align:center;height:20px;width:20px;overflow:hidden;line-height:20px;font-size:20px}.width-height-element[_ngcontent-%COMP%]   .circle.selected[_ngcontent-%COMP%]{background-color:var(--color-border-selected);border:2px solid var(--color-border-selected)}.width-height-element[_ngcontent-%COMP%]   .circle.selected[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{display:flex}.width-height-element[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{grid-area:header;display:flex;flex-direction:column;justify-content:center}.width-height-element[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.width-height-element[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:18px;font-weight:600;color:var(--color-text);text-align:center}.width-height-element[_ngcontent-%COMP%]   .height-line[_ngcontent-%COMP%]{grid-area:height-line;border-top:solid 1px var(--color-border-dimensions);border-bottom:solid 1px var(--color-border-dimensions);justify-content:flex-start;width:20px;height:100%;display:none;margin-left:var(--input-elements-gap)}.width-height-element[_ngcontent-%COMP%]   .height-line[_ngcontent-%COMP%]   .height-inner[_ngcontent-%COMP%]{height:100%;display:flex;width:50%;border-right:solid 1px var(--color-border-dimensions)}.width-height-element[_ngcontent-%COMP%]   .width-line[_ngcontent-%COMP%]{grid-area:width-line;align-items:flex-end;border-left:solid 1px var(--color-border-dimensions);border-right:solid 1px var(--color-border-dimensions);height:20px;width:100%;display:none;margin-top:var(--input-elements-gap)}.width-height-element[_ngcontent-%COMP%]   .width-line[_ngcontent-%COMP%]   .width-inner[_ngcontent-%COMP%]{display:flex;border-top:solid 1px var(--color-border-dimensions);width:100%;height:50%}.width-height-element[_ngcontent-%COMP%]   .picture[_ngcontent-%COMP%]{grid-area:picture}.width-height-element[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]{grid-template-rows:auto;grid-template-areas:"picture" "element" "element";margin-top:var(--element-gap);display:flex;flex-direction:column;align-items:center;width:100%;border-radius:var(--border-radius-card);border:3px solid transparent}.width-height-element[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{display:grid;grid-template-rows:auto;grid-template-areas:"prefix input suffix" "... hint ...";width:100%;grid-template-columns:1fr var(--input-mobile-width) 1fr}.width-height-element[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]{grid-area:input}.width-height-element[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .hint[_ngcontent-%COMP%]{grid-area:hint;color:var(--color-text);font-size:12px;font-weight:600;padding-top:var(--input-elements-gap)}.width-height-element[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .prefix[_ngcontent-%COMP%]{grid-area:prefix;font-size:14px;font-weight:600;color:var(--color-text);align-self:center;text-align:right}.width-height-element[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .prefix[_ngcontent-%COMP%]:not(:empty){padding-right:var(--input-elements-gap)}.width-height-element[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .suffix[_ngcontent-%COMP%]{grid-area:suffix;font-size:14px;font-weight:600;color:var(--color-text);align-self:center;text-align:left;margin-top:30px}.width-height-element[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .suffix[_ngcontent-%COMP%]:not(:empty){padding-left:var(--input-elements-gap)}.width-height-element[_ngcontent-%COMP%]   .element.height-input[_ngcontent-%COMP%]{grid-area:height-input;display:flex;position:relative;flex-direction:column;width:100%;align-items:center;justify-content:center}.width-height-element[_ngcontent-%COMP%]   .element.height-input[_ngcontent-%COMP%]   .height-input-pointer[_ngcontent-%COMP%]{display:none;position:absolute;border-top:solid 1px var(--color-border-dimensions);width:16px;left:calc(-1 * var(--element-gap) - var(--element-gap) / 2);height:0;top:calc(50% - 38px)}.width-height-element[_ngcontent-%COMP%]   .element.width-input[_ngcontent-%COMP%]{grid-area:width-input;display:flex;position:relative;flex-direction:column;align-items:center;width:100%;justify-content:center}.width-height-element[_ngcontent-%COMP%]   .element.width-input[_ngcontent-%COMP%]   .width-input-pointer[_ngcontent-%COMP%]{display:none;position:absolute;border-left:solid 1px var(--color-border-dimensions);width:0;left:calc(50% - 38px);height:16px;top:calc(-1 * var(--element-gap) - var(--element-gap) / 2)}.width-height-element[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{grid-area:description;word-break:break-word;text-align:center}@media only screen and (min-width: 767px){.width-height-element[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{text-align:left}}.width-height-element[_ngcontent-%COMP%]   .apply-button[_ngcontent-%COMP%]{grid-area:buttons;display:flex;flex-direction:row;gap:var(--button-gap)}.width-height-element.selected[_ngcontent-%COMP%]{border:3px solid var(--color-border-dimensions);border-radius:var(--border-radius-card)}@media only screen and (min-width: 767px){.width-height-element[_ngcontent-%COMP%]{grid-template-areas:"header         header          header" "picture        height-line     height-input" "width-line     ...             ..." "width-input    ...             ..." "description    description     description" "buttons        buttons         buttons";justify-items:flex-start;grid-template-columns:calc(200px + var(--input-elements-gap)) 20px auto}.width-height-element[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%] + .picture[_ngcontent-%COMP%]:not(:empty), .width-height-element[_ngcontent-%COMP%]   .picture[_ngcontent-%COMP%] + .element[_ngcontent-%COMP%]:not(:empty), .width-height-element[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%] + .description[_ngcontent-%COMP%]:not(:empty), .width-height-element[_ngcontent-%COMP%]   .apply-button[_ngcontent-%COMP%]{margin-top:var(--element-gap)}.width-height-element[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%] + .picture[_ngcontent-%COMP%]:not(:empty){margin-top:0}.width-height-element[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{flex-direction:column;display:flex;justify-content:space-between;width:100%;margin-bottom:var(--element-gap)}.width-height-element[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{width:100%;display:flex;align-items:flex-start;justify-content:space-between;flex-direction:row}.width-height-element[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{text-align:left;font-size:22px}.width-height-element[_ngcontent-%COMP%]   .height-line[_ngcontent-%COMP%], .width-height-element[_ngcontent-%COMP%]   .width-line[_ngcontent-%COMP%]{display:flex}.width-height-element[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;width:100%}.width-height-element[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{display:grid;grid-template-rows:auto;grid-template-areas:"prefix input suffix" "... hint ...";width:100%;grid-template-columns:1fr 100px 1fr}.width-height-element[_ngcontent-%COMP%]   .element.height-input[_ngcontent-%COMP%]{margin-left:calc(var(--element-gap) + 9px);margin-top:0}.width-height-element[_ngcontent-%COMP%]   .element.height-input[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{grid-template-columns:0 100px 1fr}.width-height-element[_ngcontent-%COMP%]   .element.height-input[_ngcontent-%COMP%]   .height-input-pointer[_ngcontent-%COMP%], .width-height-element[_ngcontent-%COMP%]   .element.width-input[_ngcontent-%COMP%]   .width-input-pointer[_ngcontent-%COMP%]{display:flex}.width-height-element[_ngcontent-%COMP%]   .apply-button[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:var(--button-gap);justify-self:flex-end;justify-content:flex-end}.width-height-element[_ngcontent-%COMP%]   .apply-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:0 15px!important;height:50px}}']}),rp=(0,Ei.gn)([Ii()],rp);let PSe=(()=>{class t{constructor(e,i){this.matDialog=e,this.dialogService=i,this.dialogSizesEnum=Ur}openDialog(e,i){const a=this.dialogService.openCustomDialog(rp,this.dialogSizesEnum.lg).componentInstance;a.element=e,a.product=i,a.isDialog=!0}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(yl),n.Y36(Do))},t.\u0275cmp=n.Xpm({type:t,selectors:[["apto-width-height-element-wrapper"]],inputs:{element:"element",product:"product",section:"section"},decls:1,vars:1,consts:[[4,"ngIf"],[3,"product","element","section",4,"ngIf"],["class","container",3,"click",4,"ngIf"],[3,"product","element","section"],[1,"container",3,"click"],[1,"single-element"],["class","circle",3,"selected",4,"ngIf"],[1,"element-img"],[3,"src"],[1,"element-name"],[1,"circle"]],template:function(e,i){1&e&&n.YNc(0,ASe,3,2,"ng-container",0),2&e&&n.Q6J("ngIf",i.element&&i.product)},dependencies:[rn,fr,rp,Tr],styles:[".container[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;display:flex;flex-direction:column;justify-content:center;align-items:center;cursor:pointer}.container[_ngcontent-%COMP%]   .single-element[_ngcontent-%COMP%]{position:relative;width:var(--one-page-img-size)}.container[_ngcontent-%COMP%]   .single-element[_ngcontent-%COMP%]   .selected[_ngcontent-%COMP%]{outline:3px solid var(--color-border-dimensions);border-radius:var(--border-radius-card)}.container[_ngcontent-%COMP%]   .single-element[_ngcontent-%COMP%]   .selected[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]{border:2px solid transparent;border-radius:var(--border-radius-bubble);height:20px;width:20px;color:#fff;display:flex;justify-content:center;align-items:center;position:absolute;background-color:#fff;transition:background-color .25s ease,border-color .25s ease;top:-8px;right:-8px;outline:none}.container[_ngcontent-%COMP%]   .single-element[_ngcontent-%COMP%]   .selected[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{display:none;text-align:center;height:15px;width:15px;overflow:hidden;line-height:15px;font-size:15px}.container[_ngcontent-%COMP%]   .single-element[_ngcontent-%COMP%]   .selected[_ngcontent-%COMP%]   .circle.selected[_ngcontent-%COMP%]{background-color:var(--color-border-selected);border:2px solid var(--color-border-selected)}.container[_ngcontent-%COMP%]   .single-element[_ngcontent-%COMP%]   .selected[_ngcontent-%COMP%]   .circle.selected[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{display:flex}.container[_ngcontent-%COMP%]   .single-element[_ngcontent-%COMP%]   .element-img[_ngcontent-%COMP%]{display:flex;justify-content:center;background-color:var(--color-background-image);overflow:hidden;border-radius:var(--border-radius-card);height:100%;width:100%}.container[_ngcontent-%COMP%]   .single-element[_ngcontent-%COMP%]   .element-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:var(--one-page-img-size)}.container[_ngcontent-%COMP%]   .element-name[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;margin-top:10px;text-align:center;word-break:break-all;max-width:var(--one-page-img-size);font-size:13px;font-weight:500}"]}),t})();const TSe=[ss,xl,dQ,CQ,xQ,Abe,Rbe,Zxe,Hwe,tMe,IMe,rSe,(()=>{class t{constructor(){to.components.set("apto-element-width-height",PSe)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({providers:[{provide:pc,useClass:F1},{provide:Pa,useValue:{}}],imports:[Jo,Zr,Is,Na,ss,aa,ka,Ta,na,Ia,xl,_l,rs,Aa]}),t})(),(()=>{class t{constructor(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({}),t})()];let ISe=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t,bootstrap:[Hj]}),t.\u0275inj=n.cJS({imports:[AS,Oe.Aw.forRoot({}),DC.FT.instrument({maxAge:25,logOnly:yn.production,autoPause:!0}),dm.forRoot([]),Jo.forRoot(qP.getRoutes(),{useHash:!0}),qj,TSe]}),t})();yn.production&&(0,n.G48)(),QI().bootstrapModule(ISe).catch(t=>console.error(t))},1006:function(He,De){var n;!function(ze){"use strict";var Ae=Math.cosh||function(m){return Math.abs(m)<1e-9?1-m:.5*(Math.exp(m)+Math.exp(-m))},Qe=Math.sinh||function(m){return Math.abs(m)<1e-9?m:.5*(Math.exp(m)-Math.exp(-m))},I=function(){throw SyntaxError("Invalid Param")};function x(m,g){var _=Math.abs(m),b=Math.abs(g);return 0===m?Math.log(b):0===g?Math.log(_):_<3e3&&b<3e3?.5*Math.log(m*m+g*g):(m/=2,g/=2,.5*Math.log(m*m+g*g)+Math.LN2)}function M(m,g){if(!(this instanceof M))return new M(m,g);var _=function(m,g){var _={re:0,im:0};if(null==m)_.re=_.im=0;else if(void 0!==g)_.re=m,_.im=g;else switch(typeof m){case"object":if("im"in m&&"re"in m)_.re=m.re,_.im=m.im;else if("abs"in m&&"arg"in m){if(!Number.isFinite(m.abs)&&Number.isFinite(m.arg))return M.INFINITY;_.re=m.abs*Math.cos(m.arg),_.im=m.abs*Math.sin(m.arg)}else if("r"in m&&"phi"in m){if(!Number.isFinite(m.r)&&Number.isFinite(m.phi))return M.INFINITY;_.re=m.r*Math.cos(m.phi),_.im=m.r*Math.sin(m.phi)}else 2===m.length?(_.re=m[0],_.im=m[1]):I();break;case"string":_.im=_.re=0;var b=m.match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g),O=1,C=0;null===b&&I();for(var P=0;P<b.length;P++){var F=b[P];" "===F||"\t"===F||"\n"===F||("+"===F?O++:"-"===F?C++:"i"===F||"I"===F?(O+C===0&&I()," "===b[P+1]||isNaN(b[P+1])?_.im+=parseFloat((C%2?"-":"")+"1"):(_.im+=parseFloat((C%2?"-":"")+b[P+1]),P++),O=C=0):((O+C===0||isNaN(F))&&I(),"i"===b[P+1]||"I"===b[P+1]?(_.im+=parseFloat((C%2?"-":"")+F),P++):_.re+=parseFloat((C%2?"-":"")+F),O=C=0))}O+C>0&&I();break;case"number":_.im=0,_.re=m;break;default:I()}return isNaN(_.re)||isNaN(_.im),_}(m,g);this.re=_.re,this.im=_.im}M.prototype={re:0,im:0,sign:function(){var m=this.abs();return new M(this.re/m,this.im/m)},add:function(m,g){var _=new M(m,g);return this.isInfinite()&&_.isInfinite()?M.NAN:this.isInfinite()||_.isInfinite()?M.INFINITY:new M(this.re+_.re,this.im+_.im)},sub:function(m,g){var _=new M(m,g);return this.isInfinite()&&_.isInfinite()?M.NAN:this.isInfinite()||_.isInfinite()?M.INFINITY:new M(this.re-_.re,this.im-_.im)},mul:function(m,g){var _=new M(m,g);return this.isInfinite()&&_.isZero()||this.isZero()&&_.isInfinite()?M.NAN:this.isInfinite()||_.isInfinite()?M.INFINITY:0===_.im&&0===this.im?new M(this.re*_.re,0):new M(this.re*_.re-this.im*_.im,this.re*_.im+this.im*_.re)},div:function(m,g){var _=new M(m,g);if(this.isZero()&&_.isZero()||this.isInfinite()&&_.isInfinite())return M.NAN;if(this.isInfinite()||_.isZero())return M.INFINITY;if(this.isZero()||_.isInfinite())return M.ZERO;m=this.re,g=this.im;var C,P,b=_.re,O=_.im;return 0===O?new M(m/b,g/b):Math.abs(b)<Math.abs(O)?new M((m*(P=b/O)+g)/(C=b*P+O),(g*P-m)/C):new M((m+g*(P=O/b))/(C=O*P+b),(g-m*P)/C)},pow:function(m,g){var _=new M(m,g);if(m=this.re,g=this.im,_.isZero())return M.ONE;if(0===_.im){if(0===g&&m>0)return new M(Math.pow(m,_.re),0);if(0===m)switch((_.re%4+4)%4){case 0:return new M(Math.pow(g,_.re),0);case 1:return new M(0,Math.pow(g,_.re));case 2:return new M(-Math.pow(g,_.re),0);case 3:return new M(0,-Math.pow(g,_.re))}}if(0===m&&0===g&&_.re>0&&_.im>=0)return M.ZERO;var b=Math.atan2(g,m),O=x(m,g);return m=Math.exp(_.re*O-_.im*b),g=_.im*O+_.re*b,new M(m*Math.cos(g),m*Math.sin(g))},sqrt:function(){var b,O,m=this.re,g=this.im,_=this.abs();if(m>=0){if(0===g)return new M(Math.sqrt(m),0);b=.5*Math.sqrt(2*(_+m))}else b=Math.abs(g)/Math.sqrt(2*(_-m));return O=m<=0?.5*Math.sqrt(2*(_-m)):Math.abs(g)/Math.sqrt(2*(_+m)),new M(b,g<0?-O:O)},exp:function(){var m=Math.exp(this.re);return new M(m*Math.cos(this.im),m*Math.sin(this.im))},expm1:function(){var m=this.re,g=this.im;return new M(Math.expm1(m)*Math.cos(g)+function(m){var g=Math.PI/4;if(-g>m||m>g)return Math.cos(m)-1;var _=m*m;return _*(_*(_*(_*(_*(_*(_*(_/20922789888e3-1/87178291200)+1/479001600)-1/3628800)+1/40320)-1/720)+1/24)-.5)}(g),Math.exp(m)*Math.sin(g))},log:function(){var m=this.re,g=this.im;return new M(x(m,g),Math.atan2(g,m))},abs:function(){return m=this.re,g=this.im,_=Math.abs(m),b=Math.abs(g),_<3e3&&b<3e3?Math.sqrt(_*_+b*b):(_<b?(_=b,b=m/g):b=g/m,_*Math.sqrt(1+b*b));var m,g,_,b},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){var m=this.re,g=this.im;return new M(Math.sin(m)*Ae(g),Math.cos(m)*Qe(g))},cos:function(){var m=this.re,g=this.im;return new M(Math.cos(m)*Ae(g),-Math.sin(m)*Qe(g))},tan:function(){var m=2*this.re,g=2*this.im,_=Math.cos(m)+Ae(g);return new M(Math.sin(m)/_,Qe(g)/_)},cot:function(){var m=2*this.re,g=2*this.im,_=Math.cos(m)-Ae(g);return new M(-Math.sin(m)/_,Qe(g)/_)},sec:function(){var m=this.re,g=this.im,_=.5*Ae(2*g)+.5*Math.cos(2*m);return new M(Math.cos(m)*Ae(g)/_,Math.sin(m)*Qe(g)/_)},csc:function(){var m=this.re,g=this.im,_=.5*Ae(2*g)-.5*Math.cos(2*m);return new M(Math.sin(m)*Ae(g)/_,-Math.cos(m)*Qe(g)/_)},asin:function(){var m=this.re,g=this.im,_=new M(g*g-m*m+1,-2*m*g).sqrt(),b=new M(_.re-g,_.im+m).log();return new M(b.im,-b.re)},acos:function(){var m=this.re,g=this.im,_=new M(g*g-m*m+1,-2*m*g).sqrt(),b=new M(_.re-g,_.im+m).log();return new M(Math.PI/2-b.im,b.re)},atan:function(){var m=this.re,g=this.im;if(0===m){if(1===g)return new M(0,1/0);if(-1===g)return new M(0,-1/0)}var _=m*m+(1-g)*(1-g),b=new M((1-g*g-m*m)/_,-2*m/_).log();return new M(-.5*b.im,.5*b.re)},acot:function(){var m=this.re,g=this.im;if(0===g)return new M(Math.atan2(1,m),0);var _=m*m+g*g;return 0!==_?new M(m/_,-g/_).atan():new M(0!==m?m/0:0,0!==g?-g/0:0).atan()},asec:function(){var m=this.re,g=this.im;if(0===m&&0===g)return new M(0,1/0);var _=m*m+g*g;return 0!==_?new M(m/_,-g/_).acos():new M(0!==m?m/0:0,0!==g?-g/0:0).acos()},acsc:function(){var m=this.re,g=this.im;if(0===m&&0===g)return new M(Math.PI/2,1/0);var _=m*m+g*g;return 0!==_?new M(m/_,-g/_).asin():new M(0!==m?m/0:0,0!==g?-g/0:0).asin()},sinh:function(){var m=this.re,g=this.im;return new M(Qe(m)*Math.cos(g),Ae(m)*Math.sin(g))},cosh:function(){var m=this.re,g=this.im;return new M(Ae(m)*Math.cos(g),Qe(m)*Math.sin(g))},tanh:function(){var m=2*this.re,g=2*this.im,_=Ae(m)+Math.cos(g);return new M(Qe(m)/_,Math.sin(g)/_)},coth:function(){var m=2*this.re,g=2*this.im,_=Ae(m)-Math.cos(g);return new M(Qe(m)/_,-Math.sin(g)/_)},csch:function(){var m=this.re,g=this.im,_=Math.cos(2*g)-Ae(2*m);return new M(-2*Qe(m)*Math.cos(g)/_,2*Ae(m)*Math.sin(g)/_)},sech:function(){var m=this.re,g=this.im,_=Math.cos(2*g)+Ae(2*m);return new M(2*Ae(m)*Math.cos(g)/_,-2*Qe(m)*Math.sin(g)/_)},asinh:function(){var m=this.im;this.im=-this.re,this.re=m;var g=this.asin();return this.re=-this.im,this.im=m,m=g.re,g.re=-g.im,g.im=m,g},acosh:function(){var m=this.acos();if(m.im<=0){var g=m.re;m.re=-m.im,m.im=g}else g=m.im,m.im=-m.re,m.re=g;return m},atanh:function(){var m=this.re,g=this.im,_=m>1&&0===g,b=1-m,O=1+m,C=b*b+g*g,P=0!==C?new M((O*b-g*g)/C,(g*b+O*g)/C):new M(-1!==m?m/0:0,0!==g?g/0:0),F=P.re;return P.re=x(P.re,P.im)/2,P.im=Math.atan2(P.im,F)/2,_&&(P.im=-P.im),P},acoth:function(){var m=this.re,g=this.im;if(0===m&&0===g)return new M(0,Math.PI/2);var _=m*m+g*g;return 0!==_?new M(m/_,-g/_).atanh():new M(0!==m?m/0:0,0!==g?-g/0:0).atanh()},acsch:function(){var m=this.re,g=this.im;if(0===g)return new M(0!==m?Math.log(m+Math.sqrt(m*m+1)):1/0,0);var _=m*m+g*g;return 0!==_?new M(m/_,-g/_).asinh():new M(0!==m?m/0:0,0!==g?-g/0:0).asinh()},asech:function(){var m=this.re,g=this.im;if(this.isZero())return M.INFINITY;var _=m*m+g*g;return 0!==_?new M(m/_,-g/_).acosh():new M(0!==m?m/0:0,0!==g?-g/0:0).acosh()},inverse:function(){if(this.isZero())return M.INFINITY;if(this.isInfinite())return M.ZERO;var m=this.re,g=this.im,_=m*m+g*g;return new M(m/_,-g/_)},conjugate:function(){return new M(this.re,-this.im)},neg:function(){return new M(-this.re,-this.im)},ceil:function(m){return m=Math.pow(10,m||0),new M(Math.ceil(this.re*m)/m,Math.ceil(this.im*m)/m)},floor:function(m){return m=Math.pow(10,m||0),new M(Math.floor(this.re*m)/m,Math.floor(this.im*m)/m)},round:function(m){return m=Math.pow(10,m||0),new M(Math.round(this.re*m)/m,Math.round(this.im*m)/m)},equals:function(m,g){var _=new M(m,g);return Math.abs(_.re-this.re)<=M.EPSILON&&Math.abs(_.im-this.im)<=M.EPSILON},clone:function(){return new M(this.re,this.im)},toString:function(){var m=this.re,g=this.im,_="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(m)<M.EPSILON&&(m=0),Math.abs(g)<M.EPSILON&&(g=0),0===g?_+m:(0!==m?(_+=m,_+=" ",g<0?(g=-g,_+="-"):_+="+",_+=" "):g<0&&(g=-g,_+="-"),1!==g&&(_+=g),_+"i"))},toVector:function(){return[this.re,this.im]},valueOf:function(){return 0===this.im?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return 0===this.im&&0===this.re},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!(this.isNaN()||this.isFinite())}},M.ZERO=new M(0,0),M.ONE=new M(1,0),M.I=new M(0,1),M.PI=new M(Math.PI,0),M.E=new M(Math.E,0),M.INFINITY=new M(1/0,1/0),M.NAN=new M(NaN,NaN),M.EPSILON=1e-15,void 0!==(n=function(){return M}.apply(De,[]))&&(He.exports=n)}()},1945:He=>{"use strict";var De=Object.assign||function(Ae){for(var Qe=1;Qe<arguments.length;Qe++){var Pe=arguments[Qe];for(var Ge in Pe)Object.prototype.hasOwnProperty.call(Pe,Ge)&&(Ae[Ge]=Pe[Ge])}return Ae},se={"{":"\\{","}":"\\}","\\":"\\textbackslash{}","#":"\\#",$:"\\$","%":"\\%","&":"\\&","^":"\\textasciicircum{}",_:"\\_","~":"\\textasciitilde{}"},n={"\u2013":"\\--","\u2014":"\\---"," ":"~","\t":"\\qquad{}","\r\n":"\\newline{}","\n":"\\newline{}"},ze=function(Qe,Pe){return De({},Qe,Pe)};He.exports=function(Ae){for(var Qe=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},Pe=Qe.preserveFormatting,Ge=void 0!==Pe&&Pe,I=Qe.escapeMapFn,x=void 0===I?ze:I,S=String(Ae),M="",m=x(De({},se),Ge?De({},n):{}),g=Object.keys(m),_=function(){var O=!1;g.forEach(function(C,P){O||S.length>=C.length&&S.slice(0,C.length)===C&&(M+=m[g[P]],S=S.slice(C.length,S.length),O=!0)}),O||(M+=S.slice(0,1),S=S.slice(1,S.length))};S;)_();return M}},8621:(He,De,se)=>{var I,x,S,M,m,g,n=n||{version:"5.3.0"};if(De.fabric=n,typeof document<"u"&&typeof window<"u")n.document=document instanceof(typeof HTMLDocument<"u"?HTMLDocument:Document)?document:document.implementation.createHTMLDocument(""),n.window=window;else{var Ae=new(se(4960).JSDOM)(decodeURIComponent("%3C!DOCTYPE%20html%3E%3Chtml%3E%3Chead%3E%3C%2Fhead%3E%3Cbody%3E%3C%2Fbody%3E%3C%2Fhtml%3E"),{features:{FetchExternalResources:["img"]},resources:"usable"}).window;n.document=Ae.document,n.jsdomImplForWrapper=se(6759).implForWrapper,n.nodeCanvas=se(6272).Canvas,n.window=Ae,DOMParser=n.window.DOMParser}function Pe(I,x){var S=I.canvas,M=x.targetCanvas,m=M.getContext("2d");m.translate(0,M.height),m.scale(1,-1),m.drawImage(S,0,S.height-M.height,M.width,M.height,0,0,M.width,M.height)}function Ge(I,x){var M=x.targetCanvas.getContext("2d"),m=x.destinationWidth,g=x.destinationHeight,_=m*g*4,b=new Uint8Array(this.imageBuffer,0,_),O=new Uint8ClampedArray(this.imageBuffer,0,_);I.readPixels(0,0,m,g,I.RGBA,I.UNSIGNED_BYTE,b);var C=new ImageData(O,m,g);M.putImageData(C,0,0)}n.isTouchSupported="ontouchstart"in n.window||"ontouchstart"in n.document||n.window&&n.window.navigator&&n.window.navigator.maxTouchPoints>0,n.isLikelyNode=typeof Buffer<"u"&&typeof window>"u",n.SHARED_ATTRIBUTES=["display","transform","fill","fill-opacity","fill-rule","opacity","stroke","stroke-dasharray","stroke-linecap","stroke-dashoffset","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","id","paint-order","vector-effect","instantiated_by_use","clip-path"],n.DPI=96,n.reNum="(?:[-+]?(?:\\d+|\\d*\\.\\d+)(?:[eE][-+]?\\d+)?)",n.commaWsp="(?:\\s+,?\\s*|,\\s*)",n.rePathCommand=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:[eE][-+]?\d+)?)/gi,n.reNonWord=/[ \n\.,;!\?\-]/,n.fontPaths={},n.iMatrix=[1,0,0,1,0,0],n.svgNS="http://www.w3.org/2000/svg",n.perfLimitSizeTotal=2097152,n.maxCacheSideLimit=4096,n.minCacheSideLimit=256,n.charWidthsCache={},n.textureSize=2048,n.disableStyleCopyPaste=!1,n.enableGLFiltering=!0,n.devicePixelRatio=n.window.devicePixelRatio||n.window.webkitDevicePixelRatio||n.window.mozDevicePixelRatio||1,n.browserShadowBlurConstant=1,n.arcToSegmentsCache={},n.boundsOfCurveCache={},n.cachesBoundsOfCurve=!0,n.forceGLPutImageData=!1,n.initFilterBackend=function(){return n.enableGLFiltering&&n.isWebglSupported&&n.isWebglSupported(n.textureSize)?(console.log("max texture size: "+n.maxTextureSize),new n.WebglFilterBackend({tileSize:n.textureSize})):n.Canvas2dFilterBackend?new n.Canvas2dFilterBackend:void 0},typeof document<"u"&&typeof window<"u"&&(window.fabric=n),function(){function I(_,b){if(this.__eventListeners[_]){var O=this.__eventListeners[_];b?O[O.indexOf(b)]=!1:n.util.array.fill(O,!1)}}function S(_,b){var O=function(){b.apply(this,arguments),this.off(_,O)}.bind(this);this.on(_,O)}n.Observable={fire:function g(_,b){if(!this.__eventListeners)return this;var O=this.__eventListeners[_];if(!O)return this;for(var C=0,P=O.length;C<P;C++)O[C]&&O[C].call(this,b||{});return this.__eventListeners[_]=O.filter(function(F){return!1!==F}),this},on:function x(_,b){if(this.__eventListeners||(this.__eventListeners={}),1===arguments.length)for(var O in _)this.on(O,_[O]);else this.__eventListeners[_]||(this.__eventListeners[_]=[]),this.__eventListeners[_].push(b);return this},once:function M(_,b){if(1===arguments.length)for(var O in _)S.call(this,O,_[O]);else S.call(this,_,b);return this},off:function m(_,b){if(!this.__eventListeners)return this;if(0===arguments.length)for(_ in this.__eventListeners)I.call(this,_);else if(1===arguments.length&&"object"==typeof arguments[0])for(var O in _)I.call(this,O,_[O]);else I.call(this,_,b);return this}}}(),n.Collection={_objects:[],add:function(){if(this._objects.push.apply(this._objects,arguments),this._onObjectAdded)for(var I=0,x=arguments.length;I<x;I++)this._onObjectAdded(arguments[I]);return this.renderOnAddRemove&&this.requestRenderAll(),this},insertAt:function(I,x,S){var M=this._objects;return S?M[x]=I:M.splice(x,0,I),this._onObjectAdded&&this._onObjectAdded(I),this.renderOnAddRemove&&this.requestRenderAll(),this},remove:function(){for(var x,I=this._objects,S=!1,M=0,m=arguments.length;M<m;M++)-1!==(x=I.indexOf(arguments[M]))&&(S=!0,I.splice(x,1),this._onObjectRemoved&&this._onObjectRemoved(arguments[M]));return this.renderOnAddRemove&&S&&this.requestRenderAll(),this},forEachObject:function(I,x){for(var S=this.getObjects(),M=0,m=S.length;M<m;M++)I.call(x,S[M],M,S);return this},getObjects:function(I){return typeof I>"u"?this._objects.concat():this._objects.filter(function(x){return x.type===I})},item:function(I){return this._objects[I]},isEmpty:function(){return 0===this._objects.length},size:function(){return this._objects.length},contains:function(I,x){return this._objects.indexOf(I)>-1||!!x&&this._objects.some(function(S){return"function"==typeof S.contains&&S.contains(I,!0)})},complexity:function(){return this._objects.reduce(function(I,x){return I+(x.complexity?x.complexity():0)},0)}},n.CommonMethods={_setOptions:function(I){for(var x in I)this.set(x,I[x])},_initGradient:function(I,x){I&&I.colorStops&&!(I instanceof n.Gradient)&&this.set(x,new n.Gradient(I))},_initPattern:function(I,x,S){!I||!I.source||I instanceof n.Pattern?S&&S():this.set(x,new n.Pattern(I,S))},_setObject:function(I){for(var x in I)this._set(x,I[x])},set:function(I,x){return"object"==typeof I?this._setObject(I):this._set(I,x),this},_set:function(I,x){this[I]=x},toggle:function(I){var x=this.get(I);return"boolean"==typeof x&&this.set(I,!x),this},get:function(I){return this[I]}},I=De,x=Math.sqrt,S=Math.atan2,M=Math.pow,m=Math.PI/180,g=Math.PI/2,n.util={cos:function(_){if(0===_)return 1;switch(_<0&&(_=-_),_/g){case 1:case 3:return 0;case 2:return-1}return Math.cos(_)},sin:function(_){if(0===_)return 0;var O=1;switch(_<0&&(O=-1),_/g){case 1:return O;case 2:return 0;case 3:return-O}return Math.sin(_)},removeFromArray:function(_,b){var O=_.indexOf(b);return-1!==O&&_.splice(O,1),_},getRandomInt:function(_,b){return Math.floor(Math.random()*(b-_+1))+_},degreesToRadians:function(_){return _*m},radiansToDegrees:function(_){return _/m},rotatePoint:function(_,b,O){var C=new n.Point(_.x-b.x,_.y-b.y),P=n.util.rotateVector(C,O);return new n.Point(P.x,P.y).addEquals(b)},rotateVector:function(_,b){var O=n.util.sin(b),C=n.util.cos(b);return{x:_.x*C-_.y*O,y:_.x*O+_.y*C}},createVector:function(_,b){return new n.Point(b.x-_.x,b.y-_.y)},calcAngleBetweenVectors:function(_,b){return Math.acos((_.x*b.x+_.y*b.y)/(Math.hypot(_.x,_.y)*Math.hypot(b.x,b.y)))},getHatVector:function(_){return new n.Point(_.x,_.y).multiply(1/Math.hypot(_.x,_.y))},getBisector:function(_,b,O){var C=n.util.createVector(_,b),P=n.util.createVector(_,O),F=n.util.calcAngleBetweenVectors(C,P),$=n.util.calcAngleBetweenVectors(n.util.rotateVector(C,F),P);return{vector:n.util.getHatVector(n.util.rotateVector(C,F*(0===$?1:-1)/2)),angle:F}},projectStrokeOnPoints:function(_,b,O){var C=[],P=b.strokeWidth/2,F=b.strokeUniform?new n.Point(1/b.scaleX,1/b.scaleY):new n.Point(1,1),$=function(Q){var ne=P/Math.hypot(Q.x,Q.y);return new n.Point(Q.x*ne*F.x,Q.y*ne*F.y)};return _.length<=1||_.forEach(function(Q,ne){var ge,_e,ue=new n.Point(Q.x,Q.y);0===ne?(_e=_[ne+1],ge=O?$(n.util.createVector(_e,ue)).addEquals(ue):_[_.length-1]):ne===_.length-1?(ge=_[ne-1],_e=O?$(n.util.createVector(ge,ue)).addEquals(ue):_[0]):(ge=_[ne-1],_e=_[ne+1]);var yt,ht,Ie=n.util.getBisector(ue,ge,_e),We=Ie.vector;if("miter"===b.strokeLineJoin&&(yt=-P/Math.sin(Ie.angle/2),ht=new n.Point(We.x*yt*F.x,We.y*yt*F.y),Math.hypot(ht.x,ht.y)/P<=b.strokeMiterLimit))return C.push(ue.add(ht)),void C.push(ue.subtract(ht));yt=-P*Math.SQRT2,ht=new n.Point(We.x*yt*F.x,We.y*yt*F.y),C.push(ue.add(ht)),C.push(ue.subtract(ht))}),C},transformPoint:function(_,b,O){return O?new n.Point(b[0]*_.x+b[2]*_.y,b[1]*_.x+b[3]*_.y):new n.Point(b[0]*_.x+b[2]*_.y+b[4],b[1]*_.x+b[3]*_.y+b[5])},makeBoundingBoxFromPoints:function(_,b){if(b)for(var O=0;O<_.length;O++)_[O]=n.util.transformPoint(_[O],b);var C=[_[0].x,_[1].x,_[2].x,_[3].x],P=n.util.array.min(C),$=n.util.array.max(C)-P,Q=[_[0].y,_[1].y,_[2].y,_[3].y],ne=n.util.array.min(Q);return{left:P,top:ne,width:$,height:n.util.array.max(Q)-ne}},invertTransform:function(_){var b=1/(_[0]*_[3]-_[1]*_[2]),O=[b*_[3],-b*_[1],-b*_[2],b*_[0]],C=n.util.transformPoint({x:_[4],y:_[5]},O,!0);return O[4]=-C.x,O[5]=-C.y,O},toFixed:function(_,b){return parseFloat(Number(_).toFixed(b))},parseUnit:function(_,b){var O=/\D{0,2}$/.exec(_),C=parseFloat(_);switch(b||(b=n.Text.DEFAULT_SVG_FONT_SIZE),O[0]){case"mm":return C*n.DPI/25.4;case"cm":return C*n.DPI/2.54;case"in":return C*n.DPI;case"pt":return C*n.DPI/72;case"pc":return C*n.DPI/72*12;case"em":return C*b;default:return C}},falseFunction:function(){return!1},getKlass:function(_,b){return _=n.util.string.camelize(_.charAt(0).toUpperCase()+_.slice(1)),n.util.resolveNamespace(b)[_]},getSvgAttributes:function(_){var b=["instantiated_by_use","style","id","class"];switch(_){case"linearGradient":b=b.concat(["x1","y1","x2","y2","gradientUnits","gradientTransform"]);break;case"radialGradient":b=b.concat(["gradientUnits","gradientTransform","cx","cy","r","fx","fy","fr"]);break;case"stop":b=b.concat(["offset","stop-color","stop-opacity"])}return b},resolveNamespace:function(_){if(!_)return n;var C,b=_.split("."),O=b.length,P=I||n.window;for(C=0;C<O;++C)P=P[b[C]];return P},loadImage:function(_,b,O,C){if(_){var P=n.util.createImage(),F=function(){b&&b.call(O,P,!1),P=P.onload=P.onerror=null};P.onload=F,P.onerror=function(){n.log("Error loading "+P.src),b&&b.call(O,null,!0),P=P.onload=P.onerror=null},0!==_.indexOf("data")&&null!=C&&(P.crossOrigin=C),"data:image/svg"===_.substring(0,14)&&(P.onload=null,n.util.loadImageInDom(P,F)),P.src=_}else b&&b.call(O,_)},loadImageInDom:function(_,b){var O=n.document.createElement("div");O.style.width=O.style.height="1px",O.style.left=O.style.top="-100%",O.style.position="absolute",O.appendChild(_),n.document.querySelector("body").appendChild(O),_.onload=function(){b(),O.parentNode.removeChild(O),O=null}},enlivenObjects:function(_,b,O,C){var P=[],F=0,$=(_=_||[]).length;function Q(){++F===$&&b&&b(P.filter(function(ne){return ne}))}$?_.forEach(function(ne,ue){ne&&ne.type?n.util.getKlass(ne.type,O).fromObject(ne,function(_e,Ie){Ie||(P[ue]=_e),C&&C(ne,_e,Ie),Q()}):Q()}):b&&b(P)},enlivenObjectEnlivables:function(_,b,O){var C=n.Object.ENLIVEN_PROPS.filter(function(P){return!!_[P]});n.util.enlivenObjects(C.map(function(P){return _[P]}),function(P){var F={};C.forEach(function($,Q){F[$]=P[Q],b&&(b[$]=P[Q])}),O&&O(F)})},enlivenPatterns:function(_,b){function O(){++P===F&&b&&b(C)}var C=[],P=0,F=(_=_||[]).length;F?_.forEach(function($,Q){$&&$.source?new n.Pattern($,function(ne){C[Q]=ne,O()}):(C[Q]=$,O())}):b&&b(C)},groupSVGElements:function(_,b,O){var C;return _&&1===_.length?(typeof O<"u"&&(_[0].sourcePath=O),_[0]):(b&&(b.width&&b.height?b.centerPoint={x:b.width/2,y:b.height/2}:(delete b.width,delete b.height)),C=new n.Group(_,b),typeof O<"u"&&(C.sourcePath=O),C)},populateWithProperties:function(_,b,O){if(O&&Array.isArray(O))for(var C=0,P=O.length;C<P;C++)O[C]in _&&(b[O[C]]=_[O[C]])},createCanvasElement:function(){return n.document.createElement("canvas")},copyCanvasElement:function(_){var b=n.util.createCanvasElement();return b.width=_.width,b.height=_.height,b.getContext("2d").drawImage(_,0,0),b},toDataURL:function(_,b,O){return _.toDataURL("image/"+b,O)},createImage:function(){return n.document.createElement("img")},multiplyTransformMatrices:function(_,b,O){return[_[0]*b[0]+_[2]*b[1],_[1]*b[0]+_[3]*b[1],_[0]*b[2]+_[2]*b[3],_[1]*b[2]+_[3]*b[3],O?0:_[0]*b[4]+_[2]*b[5]+_[4],O?0:_[1]*b[4]+_[3]*b[5]+_[5]]},qrDecompose:function(_){var b=S(_[1],_[0]),O=M(_[0],2)+M(_[1],2),C=x(O),P=(_[0]*_[3]-_[2]*_[1])/C,F=S(_[0]*_[2]+_[1]*_[3],O);return{angle:b/m,scaleX:C,scaleY:P,skewX:F/m,skewY:0,translateX:_[4],translateY:_[5]}},calcRotateMatrix:function(_){if(!_.angle)return n.iMatrix.concat();var b=n.util.degreesToRadians(_.angle),O=n.util.cos(b),C=n.util.sin(b);return[O,C,-C,O,0,0]},calcDimensionsMatrix:function(_){var b=typeof _.scaleX>"u"?1:_.scaleX,O=typeof _.scaleY>"u"?1:_.scaleY,C=[_.flipX?-b:b,0,0,_.flipY?-O:O,0,0],P=n.util.multiplyTransformMatrices,F=n.util.degreesToRadians;return _.skewX&&(C=P(C,[1,0,Math.tan(F(_.skewX)),1],!0)),_.skewY&&(C=P(C,[1,Math.tan(F(_.skewY)),0,1],!0)),C},composeMatrix:function(_){var b=[1,0,0,1,_.translateX||0,_.translateY||0],O=n.util.multiplyTransformMatrices;return _.angle&&(b=O(b,n.util.calcRotateMatrix(_))),(1!==_.scaleX||1!==_.scaleY||_.skewX||_.skewY||_.flipX||_.flipY)&&(b=O(b,n.util.calcDimensionsMatrix(_))),b},resetObjectTransform:function(_){_.scaleX=1,_.scaleY=1,_.skewX=0,_.skewY=0,_.flipX=!1,_.flipY=!1,_.rotate(0)},saveObjectTransform:function(_){return{scaleX:_.scaleX,scaleY:_.scaleY,skewX:_.skewX,skewY:_.skewY,angle:_.angle,left:_.left,flipX:_.flipX,flipY:_.flipY,top:_.top}},isTransparent:function(_,b,O,C){C>0&&(b>C?b-=C:b=0,O>C?O-=C:O=0);var F,P=!0,Q=_.getImageData(b,O,2*C||1,2*C||1),ne=Q.data.length;for(F=3;F<ne&&0!=(P=Q.data[F]<=0);F+=4);return Q=null,P},parsePreserveAspectRatioAttribute:function(_){var F,b="meet",P=_.split(" ");return P&&P.length&&("meet"!==(b=P.pop())&&"slice"!==b?(F=b,b="meet"):P.length&&(F=P.pop())),{meetOrSlice:b,alignX:"none"!==F?F.slice(1,4):"none",alignY:"none"!==F?F.slice(5,8):"none"}},clearFabricFontCache:function(_){(_=(_||"").toLowerCase())?n.charWidthsCache[_]&&delete n.charWidthsCache[_]:n.charWidthsCache={}},limitDimsByArea:function(_,b){var O=Math.sqrt(b*_),C=Math.floor(b/O);return{x:Math.floor(O),y:C}},capValue:function(_,b,O){return Math.max(_,Math.min(b,O))},findScaleToFit:function(_,b){return Math.min(b.width/_.width,b.height/_.height)},findScaleToCover:function(_,b){return Math.max(b.width/_.width,b.height/_.height)},matrixToSVG:function(_){return"matrix("+_.map(function(b){return n.util.toFixed(b,n.Object.NUM_FRACTION_DIGITS)}).join(" ")+")"},removeTransformFromObject:function(_,b){var O=n.util.invertTransform(b),C=n.util.multiplyTransformMatrices(O,_.calcOwnMatrix());n.util.applyTransformToObject(_,C)},addTransformToObject:function(_,b){n.util.applyTransformToObject(_,n.util.multiplyTransformMatrices(b,_.calcOwnMatrix()))},applyTransformToObject:function(_,b){var O=n.util.qrDecompose(b),C=new n.Point(O.translateX,O.translateY);_.flipX=!1,_.flipY=!1,_.set("scaleX",O.scaleX),_.set("scaleY",O.scaleY),_.skewX=O.skewX,_.skewY=O.skewY,_.angle=O.angle,_.setPositionByOrigin(C,"center","center")},sizeAfterTransform:function(_,b,O){var C=_/2,P=b/2,F=[{x:-C,y:-P},{x:C,y:-P},{x:-C,y:P},{x:C,y:P}],$=n.util.calcDimensionsMatrix(O),Q=n.util.makeBoundingBoxFromPoints(F,$);return{x:Q.width,y:Q.height}},mergeClipPaths:function(_,b){var O=_,C=b;O.inverted&&!C.inverted&&(O=b,C=_),n.util.applyTransformToObject(C,n.util.multiplyTransformMatrices(n.util.invertTransform(O.calcTransformMatrix()),C.calcTransformMatrix()));var P=O.inverted&&C.inverted;return P&&(O.inverted=C.inverted=!1),new n.Group([O],{clipPath:C,inverted:P})},hasStyleChanged:function(_,b,O){return O=O||!1,_.fill!==b.fill||_.stroke!==b.stroke||_.strokeWidth!==b.strokeWidth||_.fontSize!==b.fontSize||_.fontFamily!==b.fontFamily||_.fontWeight!==b.fontWeight||_.fontStyle!==b.fontStyle||_.textBackgroundColor!==b.textBackgroundColor||_.deltaY!==b.deltaY||O&&(_.overline!==b.overline||_.underline!==b.underline||_.linethrough!==b.linethrough)},stylesToArray:function(O,b){O=n.util.object.clone(O,!0);for(var C=b.split("\n"),P=-1,F={},$=[],Q=0;Q<C.length;Q++)if(O[Q])for(var ne=0;ne<C[Q].length;ne++){P++;var ue=O[Q][ne];ue&&Object.keys(ue).length>0&&(n.util.hasStyleChanged(F,ue,!0)?$.push({start:P,end:P+1,style:ue}):$[$.length-1].end++),F=ue||{}}else P+=C[Q].length;return $},stylesFromArray:function(_,b){if(!Array.isArray(_))return _;for(var O=b.split("\n"),C=-1,P=0,F={},$=0;$<O.length;$++)for(var Q=0;Q<O[$].length;Q++)C++,_[P]&&_[P].start<=C&&C<_[P].end&&(F[$]=F[$]||{},F[$][Q]=Object.assign({},_[P].style),C===_[P].end-1&&P++);return F}},function(){var I=Array.prototype.join,x={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},S={m:"l",M:"L"};function M(be,pe,fe,ye,ke,Ce,de,Ue,$e,pt,et){var _t=n.util.cos(be),It=n.util.sin(be),jt=n.util.cos(pe),ot=n.util.sin(pe),Xe=fe*ke*jt-ye*Ce*ot+de,vt=ye*ke*jt+fe*Ce*ot+Ue;return["C",pt+$e*(-fe*ke*It-ye*Ce*_t),et+$e*(-ye*ke*It+fe*Ce*_t),Xe+$e*(fe*ke*ot+ye*Ce*jt),vt+$e*(ye*ke*ot-fe*Ce*jt),Xe,vt]}function g(be,pe,fe,ye){var ke=Math.atan2(pe,be),Ce=Math.atan2(ye,fe);return Ce>=ke?Ce-ke:2*Math.PI-(ke-Ce)}function b(be,pe,fe){for(var et=function m(be,pe,fe,ye,ke,Ce,de){var Ue=Math.PI,$e=de*Ue/180,pt=n.util.sin($e),et=n.util.cos($e),_t=0,It=0,jt=-et*be*.5-pt*pe*.5,ot=-et*pe*.5+pt*be*.5,Xe=(fe=Math.abs(fe))*fe,vt=(ye=Math.abs(ye))*ye,Mt=ot*ot,mt=jt*jt,nt=Xe*vt-Xe*Mt-vt*mt,Zt=0;if(nt<0){var Mn=Math.sqrt(1-nt/(Xe*vt));fe*=Mn,ye*=Mn}else Zt=(ke===Ce?-1:1)*Math.sqrt(nt/(Xe*Mt+vt*mt));var on=Zt*fe*ot/ye,At=-Zt*ye*jt/fe,gn=et*on-pt*At+.5*be,bn=pt*on+et*At+.5*pe,Sn=g(1,0,(jt-on)/fe,(ot-At)/ye),kn=g((jt-on)/fe,(ot-At)/ye,(-jt-on)/fe,(-ot-At)/ye);0===Ce&&kn>0?kn-=2*Ue:1===Ce&&kn<0&&(kn+=2*Ue);for(var Kt=Math.ceil(Math.abs(kn/Ue*2)),we=[],je=kn/Kt,ct=8/3*Math.sin(je/4)*Math.sin(je/4)/Math.sin(je/2),St=Sn+je,Pt=0;Pt<Kt;Pt++)we[Pt]=M(Sn,St,et,pt,fe,ye,gn,bn,ct,_t,It),_t=we[Pt][5],It=we[Pt][6],Sn=St,St+=je;return we}(fe[6]-be,fe[7]-pe,fe[1],fe[2],fe[4],fe[5],fe[3]),_t=0,It=et.length;_t<It;_t++)et[_t][1]+=be,et[_t][2]+=pe,et[_t][3]+=be,et[_t][4]+=pe,et[_t][5]+=be,et[_t][6]+=pe;return et}function C(be,pe,fe,ye){return Math.sqrt((fe-be)*(fe-be)+(ye-pe)*(ye-pe))}function ne(be,pe,fe,ye,ke,Ce,de,Ue){return function($e){var pt=function P(be){return be*be*be}($e),et=function F(be){return 3*be*be*(1-be)}($e),_t=function $(be){return 3*be*(1-be)*(1-be)}($e),It=function Q(be){return(1-be)*(1-be)*(1-be)}($e);return{x:de*pt+ke*et+fe*_t+be*It,y:Ue*pt+Ce*et+ye*_t+pe*It}}}function ue(be,pe,fe,ye,ke,Ce,de,Ue){return function($e){var pt=1-$e;return Math.atan2(3*pt*pt*(ye-pe)+6*pt*$e*(Ce-ye)+3*$e*$e*(Ue-Ce),3*pt*pt*(fe-be)+6*pt*$e*(ke-fe)+3*$e*$e*(de-ke))}}function We(be,pe,fe,ye,ke,Ce){return function(de){var Ue=function ge(be){return be*be}(de),$e=function _e(be){return 2*be*(1-be)}(de),pt=function Ie(be){return(1-be)*(1-be)}(de);return{x:ke*Ue+fe*$e+be*pt,y:Ce*Ue+ye*$e+pe*pt}}}function Ke(be,pe,fe,ye,ke,Ce){return function(de){var Ue=1-de;return Math.atan2(2*Ue*(ye-pe)+2*de*(Ce-ye),2*Ue*(fe-be)+2*de*(ke-fe))}}function yt(be,pe,fe){var ke,de,ye={x:pe,y:fe},Ce=0;for(de=1;de<=100;de+=1)ke=be(de/100),Ce+=C(ye.x,ye.y,ke.x,ke.y),ye=ke;return Ce}function bt(be){for(var ye,pt,et,_t,pe=0,fe=be.length,ke=0,Ce=0,de=0,Ue=0,$e=[],It=0;It<fe;It++){switch(et={x:ke,y:Ce,command:(ye=be[It])[0]},ye[0]){case"M":et.length=0,de=ke=ye[1],Ue=Ce=ye[2];break;case"L":et.length=C(ke,Ce,ye[1],ye[2]),ke=ye[1],Ce=ye[2];break;case"C":pt=ne(ke,Ce,ye[1],ye[2],ye[3],ye[4],ye[5],ye[6]),_t=ue(ke,Ce,ye[1],ye[2],ye[3],ye[4],ye[5],ye[6]),et.iterator=pt,et.angleFinder=_t,et.length=yt(pt,ke,Ce),ke=ye[5],Ce=ye[6];break;case"Q":pt=We(ke,Ce,ye[1],ye[2],ye[3],ye[4]),_t=Ke(ke,Ce,ye[1],ye[2],ye[3],ye[4]),et.iterator=pt,et.angleFinder=_t,et.length=yt(pt,ke,Ce),ke=ye[3],Ce=ye[4];break;case"Z":case"z":et.destX=de,et.destY=Ue,et.length=C(ke,Ce,de,Ue),ke=de,Ce=Ue}pe+=et.length,$e.push(et)}return $e.push({length:pe,x:ke,y:Ce}),$e}n.util.joinPath=function(be){return be.map(function(pe){return pe.join(" ")}).join(" ")},n.util.parsePath=function Xt(be){var ye,ke,_t,It,jt,pe=[],fe=[],Ce=n.rePathCommand,de="[-+]?(?:\\d*\\.\\d+|\\d+\\.?)(?:[eE][-+]?\\d+)?\\s*",Ue="("+de+")"+n.commaWsp,$e="([01])"+n.commaWsp+"?",et=new RegExp(Ue+"?"+Ue+"?"+Ue+$e+$e+Ue+"?("+de+")","g");if(!be||!be.match)return pe;for(var Xe,ot=0,vt=(jt=be.match(/[mzlhvcsqta][^mzlhvcsqta]*/gi)).length;ot<vt;ot++){It=(ye=jt[ot]).slice(1).trim(),fe.length=0;var Mt=ye.charAt(0);if(Xe=[Mt],"a"===Mt.toLowerCase())for(var mt;mt=et.exec(It);)for(var nt=1;nt<mt.length;nt++)fe.push(mt[nt]);else for(;_t=Ce.exec(It);)fe.push(_t[0]);nt=0;for(var Zt=fe.length;nt<Zt;nt++)ke=parseFloat(fe[nt]),isNaN(ke)||Xe.push(ke);var Mn=x[Mt.toLowerCase()],on=S[Mt]||Mt;if(Xe.length-1>Mn)for(var At=1,gn=Xe.length;At<gn;At+=Mn)pe.push([Mt].concat(Xe.slice(At,At+Mn))),Mt=on;else pe.push(Xe)}return pe},n.util.makePathSimpler=function O(be){var de,Ue,$e,et,_t,It,pe=0,fe=0,ye=be.length,ke=0,Ce=0,pt=[];for(Ue=0;Ue<ye;++Ue){switch($e=!1,(de=be[Ue].slice(0))[0]){case"l":de[0]="L",de[1]+=pe,de[2]+=fe;case"L":pe=de[1],fe=de[2];break;case"h":de[1]+=pe;case"H":de[0]="L",de[2]=fe,pe=de[1];break;case"v":de[1]+=fe;case"V":de[0]="L",fe=de[1],de[1]=pe,de[2]=fe;break;case"m":de[0]="M",de[1]+=pe,de[2]+=fe;case"M":pe=de[1],fe=de[2],ke=de[1],Ce=de[2];break;case"c":de[0]="C",de[1]+=pe,de[2]+=fe,de[3]+=pe,de[4]+=fe,de[5]+=pe,de[6]+=fe;case"C":_t=de[3],It=de[4],pe=de[5],fe=de[6];break;case"s":de[0]="S",de[1]+=pe,de[2]+=fe,de[3]+=pe,de[4]+=fe;case"S":"C"===et?(_t=2*pe-_t,It=2*fe-It):(_t=pe,It=fe),pe=de[3],fe=de[4],de[0]="C",de[5]=de[3],de[6]=de[4],de[3]=de[1],de[4]=de[2],de[1]=_t,de[2]=It,_t=de[3],It=de[4];break;case"q":de[0]="Q",de[1]+=pe,de[2]+=fe,de[3]+=pe,de[4]+=fe;case"Q":_t=de[1],It=de[2],pe=de[3],fe=de[4];break;case"t":de[0]="T",de[1]+=pe,de[2]+=fe;case"T":"Q"===et?(_t=2*pe-_t,It=2*fe-It):(_t=pe,It=fe),de[0]="Q",pe=de[1],fe=de[2],de[1]=_t,de[2]=It,de[3]=pe,de[4]=fe;break;case"a":de[0]="A",de[6]+=pe,de[7]+=fe;case"A":$e=!0,pt=pt.concat(b(pe,fe,de)),pe=de[6],fe=de[7];break;case"z":case"Z":pe=ke,fe=Ce}$e||pt.push(de),et=de[0]}return pt},n.util.getSmoothPathFromPoints=function sn(be,pe){var ye,fe=[],ke=new n.Point(be[0].x,be[0].y),Ce=new n.Point(be[1].x,be[1].y),de=be.length,Ue=1,$e=0,pt=de>2;for(pt&&(Ue=be[2].x<Ce.x?-1:be[2].x===Ce.x?0:1,$e=be[2].y<Ce.y?-1:be[2].y===Ce.y?0:1),fe.push(["M",ke.x-Ue*(pe=pe||0),ke.y-$e*pe]),ye=1;ye<de;ye++){if(!ke.eq(Ce)){var et=ke.midPointFrom(Ce);fe.push(["Q",ke.x,ke.y,et.x,et.y])}ke=be[ye],ye+1<be.length&&(Ce=be[ye+1])}return pt&&(Ue=ke.x>be[ye-2].x?1:ke.x===be[ye-2].x?0:-1,$e=ke.y>be[ye-2].y?1:ke.y===be[ye-2].y?0:-1),fe.push(["L",ke.x+Ue*pe,ke.y+$e*pe]),fe},n.util.getPathSegmentsInfo=bt,n.util.getBoundsOfCurve=function _(be,pe,fe,ye,ke,Ce,de,Ue){var $e;if(n.cachesBoundsOfCurve&&($e=I.call(arguments),n.boundsOfCurveCache[$e]))return n.boundsOfCurveCache[$e];var Xe,vt,Mt,mt,nt,Zt,Mn,on,pt=Math.sqrt,et=Math.min,_t=Math.max,It=Math.abs,jt=[],ot=[[],[]];vt=6*be-12*fe+6*ke,Xe=-3*be+9*fe-9*ke+3*de,Mt=3*fe-3*be;for(var At=0;At<2;++At)if(At>0&&(vt=6*pe-12*ye+6*Ce,Xe=-3*pe+9*ye-9*Ce+3*Ue,Mt=3*ye-3*pe),It(Xe)<1e-12){if(It(vt)<1e-12)continue;0<(mt=-Mt/vt)&&mt<1&&jt.push(mt)}else!((Mn=vt*vt-4*Mt*Xe)<0)&&(0<(nt=(-vt+(on=pt(Mn)))/(2*Xe))&&nt<1&&jt.push(nt),0<(Zt=(-vt-on)/(2*Xe))&&Zt<1&&jt.push(Zt));for(var Kt,Sn=jt.length,kn=Sn;Sn--;)ot[0][Sn]=(Kt=1-(mt=jt[Sn]))*Kt*Kt*be+3*Kt*Kt*mt*fe+3*Kt*mt*mt*ke+mt*mt*mt*de,ot[1][Sn]=Kt*Kt*Kt*pe+3*Kt*Kt*mt*ye+3*Kt*mt*mt*Ce+mt*mt*mt*Ue;ot[0][kn]=be,ot[1][kn]=pe,ot[0][kn+1]=de,ot[1][kn+1]=Ue;var we=[{x:et.apply(null,ot[0]),y:et.apply(null,ot[1])},{x:_t.apply(null,ot[0]),y:_t.apply(null,ot[1])}];return n.cachesBoundsOfCurve&&(n.boundsOfCurveCache[$e]=we),we},n.util.getPointOnPath=function lt(be,pe,fe){fe||(fe=bt(be));for(var ye=0;pe-fe[ye].length>0&&ye<fe.length-2;)pe-=fe[ye].length,ye++;var $e,ke=fe[ye],Ce=pe/ke.length,Ue=be[ye];switch(ke.command){case"M":return{x:ke.x,y:ke.y,angle:0};case"Z":case"z":return($e=new n.Point(ke.x,ke.y).lerp(new n.Point(ke.destX,ke.destY),Ce)).angle=Math.atan2(ke.destY-ke.y,ke.destX-ke.x),$e;case"L":return($e=new n.Point(ke.x,ke.y).lerp(new n.Point(Ue[1],Ue[2]),Ce)).angle=Math.atan2(Ue[2]-ke.y,Ue[1]-ke.x),$e;case"C":case"Q":return function ht(be,pe){for(var de,Ue,et,fe=0,ye=0,ke=be.iterator,Ce={x:be.x,y:be.y},$e=.01,pt=be.angleFinder;ye<pe&&$e>1e-4;)de=ke(fe),et=fe,(Ue=C(Ce.x,Ce.y,de.x,de.y))+ye>pe?(fe-=$e,$e/=2):(Ce=de,fe+=$e,ye+=Ue);return de.angle=pt(et),de}(ke,pe)}},n.util.transformPath=function ln(be,pe,fe){return fe&&(pe=n.util.multiplyTransformMatrices(pe,[1,0,0,1,-fe.x,-fe.y])),be.map(function(ye){for(var ke=ye.slice(0),Ce={},de=1;de<ye.length-1;de+=2)Ce.x=ye[de],Ce.y=ye[de+1],Ce=n.util.transformPoint(Ce,pe),ke[de]=Ce.x,ke[de+1]=Ce.y;return ke})}}(),function(){var I=Array.prototype.slice;function g(_,b,O){if(_&&0!==_.length){var C=_.length-1,P=b?_[C][b]:_[C];if(b)for(;C--;)O(_[C][b],P)&&(P=_[C][b]);else for(;C--;)O(_[C],P)&&(P=_[C]);return P}}n.util.array={fill:function m(_,b){for(var O=_.length;O--;)_[O]=b;return _},invoke:function x(_,b){for(var O=I.call(arguments,2),C=[],P=0,F=_.length;P<F;P++)C[P]=O.length?_[P][b].apply(_[P],O):_[P][b].call(_[P]);return C},min:function M(_,b){return g(_,b,function(O,C){return O<C})},max:function S(_,b){return g(_,b,function(O,C){return O>=C})}}}(),function(){function I(S,M,m){if(m)if(!n.isLikelyNode&&M instanceof Element)S=M;else if(M instanceof Array){S=[];for(var g=0,_=M.length;g<_;g++)S[g]=I({},M[g],m)}else if(M&&"object"==typeof M)for(var b in M)"canvas"===b||"group"===b?S[b]=null:M.hasOwnProperty(b)&&(S[b]=I({},M[b],m));else S=M;else for(var b in M)S[b]=M[b];return S}n.util.object={extend:I,clone:function x(S,M){return I({},S,M)}},n.util.object.extend(n.util,n.Observable)}(),function(){function m(g,_){var b=g.charCodeAt(_);if(isNaN(b))return"";if(b<55296||b>57343)return g.charAt(_);if(55296<=b&&b<=56319){if(g.length<=_+1)throw"High surrogate without following low surrogate";var O=g.charCodeAt(_+1);if(56320>O||O>57343)throw"High surrogate without following low surrogate";return g.charAt(_)+g.charAt(_+1)}if(0===_)throw"Low surrogate without preceding high surrogate";var C=g.charCodeAt(_-1);if(55296>C||C>56319)throw"Low surrogate without preceding high surrogate";return!1}n.util.string={camelize:function I(g){return g.replace(/-+(.)?/g,function(_,b){return b?b.toUpperCase():""})},capitalize:function x(g,_){return g.charAt(0).toUpperCase()+(_?g.slice(1):g.slice(1).toLowerCase())},escapeXml:function S(g){return g.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},graphemeSplit:function M(g){var b,_=0,O=[];for(_=0;_<g.length;_++)!1!==(b=m(g,_))&&O.push(b);return O}}}(),function(){var I=Array.prototype.slice,x=function(){},S=function(){for(var b in{toString:1})if("toString"===b)return!1;return!0}(),M=function(b,O,C){for(var P in O)b.prototype[P]=P in b.prototype&&"function"==typeof b.prototype[P]&&(O[P]+"").indexOf("callSuper")>-1?function(F){return function(){var $=this.constructor.superclass;this.constructor.superclass=C;var Q=O[F].apply(this,arguments);if(this.constructor.superclass=$,"initialize"!==F)return Q}}(P):O[P],S&&(O.toString!==Object.prototype.toString&&(b.prototype.toString=O.toString),O.valueOf!==Object.prototype.valueOf&&(b.prototype.valueOf=O.valueOf))};function m(){}function g(b){for(var O=null,C=this;C.constructor.superclass;){var P=C.constructor.superclass.prototype[b];if(C[b]!==P){O=P;break}C=C.constructor.superclass.prototype}return O?arguments.length>1?O.apply(this,I.call(arguments,1)):O.call(this):console.log("tried to callSuper "+b+", method not found in prototype chain",this)}n.util.createClass=function _(){var b=null,O=I.call(arguments,0);function C(){this.initialize.apply(this,arguments)}"function"==typeof O[0]&&(b=O.shift()),C.superclass=b,C.subclasses=[],b&&(m.prototype=b.prototype,C.prototype=new m,b.subclasses.push(C));for(var P=0,F=O.length;P<F;P++)M(C,O[P],b);return C.prototype.initialize||(C.prototype.initialize=x),C.prototype.constructor=C,C.prototype.callSuper=g,C}}(),function(){var I=!!n.document.createElement("div").attachEvent,x=["touchstart","touchmove","touchend"];n.util.addListener=function(M,m,g,_){M&&M.addEventListener(m,g,!I&&_)},n.util.removeListener=function(M,m,g,_){M&&M.removeEventListener(m,g,!I&&_)},n.util.getPointer=function(M){var g=n.util.getScrollLeftTop(M.target),_=function S(M){var m=M.changedTouches;return m&&m[0]?m[0]:M}(M);return{x:_.clientX+g.left,y:_.clientY+g.top}},n.util.isTouchEvent=function(M){return x.indexOf(M.type)>-1||"touch"===M.pointerType}}(),function(){var x=n.document.createElement("div"),m=/alpha\s*\(\s*opacity\s*=\s*([^\)]+)\)/,g=function(_){return _};"string"==typeof x.style.opacity?g=function(_,b){return _.style.opacity=b,_}:"string"==typeof x.style.filter&&(g=function(_,b){var O=_.style;return _.currentStyle&&!_.currentStyle.hasLayout&&(O.zoom=1),m.test(O.filter)?O.filter=O.filter.replace(m,b=b>=.9999?"":"alpha(opacity="+100*b+")"):O.filter+=" alpha(opacity="+100*b+")",_}),n.util.setStyle=function I(_,b){var O=_.style;if(!O)return _;if("string"==typeof b)return _.style.cssText+=";"+b,b.indexOf("opacity")>-1?g(_,b.match(/opacity:\s*(\d?\.?\d*)/)[1]):_;for(var C in b)"opacity"===C?g(_,b[C]):O.setProperty("float"===C||"cssFloat"===C?typeof O.styleFloat>"u"?"cssFloat":"styleFloat":C,b[C]);return _}}(),function(){var S,C,Q,ne,I=Array.prototype.slice,M=function(Q){return I.call(Q,0)};try{S=M(n.document.childNodes)instanceof Array}catch{}function m(Q,ne){var ue=n.document.createElement(Q);for(var ge in ne)"class"===ge?ue.className=ne[ge]:"for"===ge?ue.htmlFor=ne[ge]:ue.setAttribute(ge,ne[ge]);return ue}function b(Q){for(var ne=0,ue=0,ge=n.document.documentElement,_e=n.document.body||{scrollLeft:0,scrollTop:0};Q&&(Q.parentNode||Q.host)&&((Q=Q.parentNode||Q.host)===n.document?(ne=_e.scrollLeft||ge.scrollLeft||0,ue=_e.scrollTop||ge.scrollTop||0):(ne+=Q.scrollLeft||0,ue+=Q.scrollTop||0),1!==Q.nodeType||"fixed"!==Q.style.position););return{left:ne,top:ue}}S||(M=function(Q){for(var ne=new Array(Q.length),ue=Q.length;ue--;)ne[ue]=Q[ue];return ne}),C=n.document.defaultView&&n.document.defaultView.getComputedStyle?function(Q,ne){var ue=n.document.defaultView.getComputedStyle(Q,null);return ue?ue[ne]:void 0}:function(Q,ne){var ue=Q.style[ne];return!ue&&Q.currentStyle&&(ue=Q.currentStyle[ne]),ue},ne="userSelect"in(Q=n.document.documentElement.style)?"userSelect":"MozUserSelect"in Q?"MozUserSelect":"WebkitUserSelect"in Q?"WebkitUserSelect":"KhtmlUserSelect"in Q?"KhtmlUserSelect":"",n.util.makeElementUnselectable=function ue(_e){return typeof _e.onselectstart<"u"&&(_e.onselectstart=n.util.falseFunction),ne?_e.style[ne]="none":"string"==typeof _e.unselectable&&(_e.unselectable="on"),_e},n.util.makeElementSelectable=function ge(_e){return typeof _e.onselectstart<"u"&&(_e.onselectstart=null),ne?_e.style[ne]="":"string"==typeof _e.unselectable&&(_e.unselectable=""),_e},n.util.setImageSmoothing=function $(Q,ne){Q.imageSmoothingEnabled=Q.imageSmoothingEnabled||Q.webkitImageSmoothingEnabled||Q.mozImageSmoothingEnabled||Q.msImageSmoothingEnabled||Q.oImageSmoothingEnabled,Q.imageSmoothingEnabled=ne},n.util.getById=function x(Q){return"string"==typeof Q?n.document.getElementById(Q):Q},n.util.toArray=M,n.util.addClass=function g(Q,ne){Q&&-1===(" "+Q.className+" ").indexOf(" "+ne+" ")&&(Q.className+=(Q.className?" ":"")+ne)},n.util.makeElement=m,n.util.wrapElement=function _(Q,ne,ue){return"string"==typeof ne&&(ne=m(ne,ue)),Q.parentNode&&Q.parentNode.replaceChild(ne,Q),ne.appendChild(Q),ne},n.util.getScrollLeftTop=b,n.util.getElementOffset=function O(Q){var ne,Ie,ue=Q&&Q.ownerDocument,ge={left:0,top:0},_e={left:0,top:0},We={borderLeftWidth:"left",borderTopWidth:"top",paddingLeft:"left",paddingTop:"top"};if(!ue)return _e;for(var Ke in We)_e[We[Ke]]+=parseInt(C(Q,Ke),10)||0;return ne=ue.documentElement,typeof Q.getBoundingClientRect<"u"&&(ge=Q.getBoundingClientRect()),Ie=b(Q),{left:ge.left+Ie.left-(ne.clientLeft||0)+_e.left,top:ge.top+Ie.top-(ne.clientTop||0)+_e.top}},n.util.getNodeCanvas=function P(Q){var ne=n.jsdomImplForWrapper(Q);return ne._canvas||ne._image},n.util.cleanUpJsdomNode=function F(Q){if(n.isLikelyNode){var ne=n.jsdomImplForWrapper(Q);ne&&(ne._image=null,ne._canvas=null,ne._currentSrc=null,ne._attributes=null,ne._classList=null)}}}(),function(){function x(){}n.util.request=function S(M,m){m||(m={});var g=m.method?m.method.toUpperCase():"GET",_=m.onComplete||function(){},b=new n.window.XMLHttpRequest,O=m.body||m.parameters;return b.onreadystatechange=function(){4===b.readyState&&(_(b),b.onreadystatechange=x)},"GET"===g&&(O=null,"string"==typeof m.parameters&&(M=function I(M,m){return M+(/\?/.test(M)?"&":"?")+m}(M,m.parameters))),b.open(g,M,!0),("POST"===g||"PUT"===g)&&b.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),b.send(O),b}}(),n.log=console.log,n.warn=console.warn,function(){var I=n.util.object.extend,x=n.util.object.clone,S=[];function M(){return!1}function m(P,F,$,Q){return-$*Math.cos(P/Q*(Math.PI/2))+$+F}n.util.object.extend(S,{cancelAll:function(){var P=this.splice(0);return P.forEach(function(F){F.cancel()}),P},cancelByCanvas:function(P){if(!P)return[];var F=this.filter(function($){return"object"==typeof $.target&&$.target.canvas===P});return F.forEach(function($){$.cancel()}),F},cancelByTarget:function(P){var F=this.findAnimationsByTarget(P);return F.forEach(function($){$.cancel()}),F},findAnimationIndex:function(P){return this.indexOf(this.findAnimation(P))},findAnimation:function(P){return this.find(function(F){return F.cancel===P})},findAnimationsByTarget:function(P){return P?this.filter(function(F){return F.target===P}):[]}});var _=n.window.requestAnimationFrame||n.window.webkitRequestAnimationFrame||n.window.mozRequestAnimationFrame||n.window.oRequestAnimationFrame||n.window.msRequestAnimationFrame||function(P){return n.window.setTimeout(P,1e3/60)},b=n.window.cancelAnimationFrame||n.window.clearTimeout;function O(){return _.apply(n.window,arguments)}n.util.animate=function g(P){P||(P={});var $,F=!1,Q=function(){var ne=n.runningAnimations.indexOf($);return ne>-1&&n.runningAnimations.splice(ne,1)[0]};return $=I(x(P),{cancel:function(){return F=!0,Q()},currentValue:"startValue"in P?P.startValue:0,completionRate:0,durationRate:0}),n.runningAnimations.push($),O(function(ne){var Ie,ue=ne||+new Date,ge=P.duration||500,_e=ue+ge,We=P.onChange||M,Ke=P.abort||M,yt=P.onComplete||M,ht=P.easing||m,bt="startValue"in P&&P.startValue.length>0,lt="startValue"in P?P.startValue:0,Xt="endValue"in P?P.endValue:100,sn=P.byValue||(bt?lt.map(function(ln,be){return Xt[be]-lt[be]}):Xt-lt);P.onStart&&P.onStart(),function ln(be){var pe=(Ie=be||+new Date)>_e?ge:Ie-ue,fe=pe/ge,ye=bt?lt.map(function(Ce,de){return ht(pe,lt[de],sn[de],ge)}):ht(pe,lt,sn,ge),ke=Math.abs(bt?(ye[0]-lt[0])/sn[0]:(ye-lt)/sn);if($.currentValue=bt?ye.slice():ye,$.completionRate=ke,$.durationRate=fe,!F){if(Ke(ye,ke,fe))return void Q();if(Ie>_e)return $.currentValue=bt?Xt.slice():Xt,$.completionRate=1,$.durationRate=1,We(bt?Xt.slice():Xt,1,1),yt(Xt,1,1),void Q();We(ye,ke,fe),O(ln)}}(ue)}),$.cancel},n.util.requestAnimFrame=O,n.util.cancelAnimFrame=function C(){return b.apply(n.window,arguments)},n.runningAnimations=S}(),function(){function I(S,M,m){var g="rgba("+parseInt(S[0]+m*(M[0]-S[0]),10)+","+parseInt(S[1]+m*(M[1]-S[1]),10)+","+parseInt(S[2]+m*(M[2]-S[2]),10);return(g+=","+(S&&M?parseFloat(S[3]+m*(M[3]-S[3])):1))+")"}n.util.animateColor=function x(S,M,m,g){var _=new n.Color(S).getSource(),b=new n.Color(M).getSource(),O=g.onComplete,C=g.onChange;return n.util.animate(n.util.object.extend(g=g||{},{duration:m||500,startValue:_,endValue:b,byValue:b,easing:function(P,F,$,Q){return I(F,$,g.colorEasing?g.colorEasing(P,Q):1-Math.cos(P/Q*(Math.PI/2)))},onComplete:function(P,F,$){if(O)return O(I(b,b,0),F,$)},onChange:function(P,F,$){if(C){if(Array.isArray(P))return C(I(P,P,0),F,$);C(P,F,$)}}}))}}(),function(){function I(be,pe,fe,ye){return be<Math.abs(pe)?(be=pe,ye=fe/4):ye=0===pe&&0===be?fe/(2*Math.PI)*Math.asin(1):fe/(2*Math.PI)*Math.asin(pe/be),{a:be,c:pe,p:fe,s:ye}}function x(be,pe,fe){return be.a*Math.pow(2,10*(pe-=1))*Math.sin((pe*fe-be.s)*(2*Math.PI)/be.p)}function Xt(be,pe,fe,ye){return fe-sn(ye-be,0,fe,ye)+pe}function sn(be,pe,fe,ye){return(be/=ye)<1/2.75?fe*(7.5625*be*be)+pe:be<2/2.75?fe*(7.5625*(be-=1.5/2.75)*be+.75)+pe:be<2.5/2.75?fe*(7.5625*(be-=2.25/2.75)*be+.9375)+pe:fe*(7.5625*(be-=2.625/2.75)*be+.984375)+pe}n.util.ease={easeInQuad:function(be,pe,fe,ye){return fe*(be/=ye)*be+pe},easeOutQuad:function(be,pe,fe,ye){return-fe*(be/=ye)*(be-2)+pe},easeInOutQuad:function(be,pe,fe,ye){return(be/=ye/2)<1?fe/2*be*be+pe:-fe/2*(--be*(be-2)-1)+pe},easeInCubic:function(be,pe,fe,ye){return fe*(be/=ye)*be*be+pe},easeOutCubic:function S(be,pe,fe,ye){return fe*((be=be/ye-1)*be*be+1)+pe},easeInOutCubic:function M(be,pe,fe,ye){return(be/=ye/2)<1?fe/2*be*be*be+pe:fe/2*((be-=2)*be*be+2)+pe},easeInQuart:function m(be,pe,fe,ye){return fe*(be/=ye)*be*be*be+pe},easeOutQuart:function g(be,pe,fe,ye){return-fe*((be=be/ye-1)*be*be*be-1)+pe},easeInOutQuart:function _(be,pe,fe,ye){return(be/=ye/2)<1?fe/2*be*be*be*be+pe:-fe/2*((be-=2)*be*be*be-2)+pe},easeInQuint:function b(be,pe,fe,ye){return fe*(be/=ye)*be*be*be*be+pe},easeOutQuint:function O(be,pe,fe,ye){return fe*((be=be/ye-1)*be*be*be*be+1)+pe},easeInOutQuint:function C(be,pe,fe,ye){return(be/=ye/2)<1?fe/2*be*be*be*be*be+pe:fe/2*((be-=2)*be*be*be*be+2)+pe},easeInSine:function P(be,pe,fe,ye){return-fe*Math.cos(be/ye*(Math.PI/2))+fe+pe},easeOutSine:function F(be,pe,fe,ye){return fe*Math.sin(be/ye*(Math.PI/2))+pe},easeInOutSine:function $(be,pe,fe,ye){return-fe/2*(Math.cos(Math.PI*be/ye)-1)+pe},easeInExpo:function Q(be,pe,fe,ye){return 0===be?pe:fe*Math.pow(2,10*(be/ye-1))+pe},easeOutExpo:function ne(be,pe,fe,ye){return be===ye?pe+fe:fe*(1-Math.pow(2,-10*be/ye))+pe},easeInOutExpo:function ue(be,pe,fe,ye){return 0===be?pe:be===ye?pe+fe:(be/=ye/2)<1?fe/2*Math.pow(2,10*(be-1))+pe:fe/2*(2-Math.pow(2,-10*--be))+pe},easeInCirc:function ge(be,pe,fe,ye){return-fe*(Math.sqrt(1-(be/=ye)*be)-1)+pe},easeOutCirc:function _e(be,pe,fe,ye){return fe*Math.sqrt(1-(be=be/ye-1)*be)+pe},easeInOutCirc:function Ie(be,pe,fe,ye){return(be/=ye/2)<1?-fe/2*(Math.sqrt(1-be*be)-1)+pe:fe/2*(Math.sqrt(1-(be-=2)*be)+1)+pe},easeInElastic:function We(be,pe,fe,ye){var Ce=0;return 0===be?pe:1==(be/=ye)?pe+fe:(Ce||(Ce=.3*ye),-x(I(fe,fe,Ce,1.70158),be,ye)+pe)},easeOutElastic:function Ke(be,pe,fe,ye){var Ce=0;if(0===be)return pe;if(1==(be/=ye))return pe+fe;Ce||(Ce=.3*ye);var Ue=I(fe,fe,Ce,1.70158);return Ue.a*Math.pow(2,-10*be)*Math.sin((be*ye-Ue.s)*(2*Math.PI)/Ue.p)+Ue.c+pe},easeInOutElastic:function yt(be,pe,fe,ye){var Ce=0;if(0===be)return pe;if(2==(be/=ye/2))return pe+fe;Ce||(Ce=ye*(.3*1.5));var Ue=I(fe,fe,Ce,1.70158);return be<1?-.5*x(Ue,be,ye)+pe:Ue.a*Math.pow(2,-10*(be-=1))*Math.sin((be*ye-Ue.s)*(2*Math.PI)/Ue.p)*.5+Ue.c+pe},easeInBack:function ht(be,pe,fe,ye,ke){return void 0===ke&&(ke=1.70158),fe*(be/=ye)*be*((ke+1)*be-ke)+pe},easeOutBack:function bt(be,pe,fe,ye,ke){return void 0===ke&&(ke=1.70158),fe*((be=be/ye-1)*be*((ke+1)*be+ke)+1)+pe},easeInOutBack:function lt(be,pe,fe,ye,ke){return void 0===ke&&(ke=1.70158),(be/=ye/2)<1?fe/2*(be*be*((1+(ke*=1.525))*be-ke))+pe:fe/2*((be-=2)*be*((1+(ke*=1.525))*be+ke)+2)+pe},easeInBounce:Xt,easeOutBounce:sn,easeInOutBounce:function ln(be,pe,fe,ye){return be<ye/2?.5*Xt(2*be,0,fe,ye)+pe:.5*sn(2*be-ye,0,fe,ye)+.5*fe+pe}}}(),function(I){"use strict";var x=I.fabric||(I.fabric={}),S=x.util.object.extend,M=x.util.object.clone,m=x.util.toFixed,g=x.util.parseUnit,_=x.util.multiplyTransformMatrices,F={cx:"left",x:"left",r:"radius",cy:"top",y:"top",display:"visible",visibility:"visible",transform:"transformMatrix","fill-opacity":"fillOpacity","fill-rule":"fillRule","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","letter-spacing":"charSpacing","paint-order":"paintFirst","stroke-dasharray":"strokeDashArray","stroke-dashoffset":"strokeDashOffset","stroke-linecap":"strokeLineCap","stroke-linejoin":"strokeLineJoin","stroke-miterlimit":"strokeMiterLimit","stroke-opacity":"strokeOpacity","stroke-width":"strokeWidth","text-decoration":"textDecoration","text-anchor":"textAnchor",opacity:"opacity","clip-path":"clipPath","clip-rule":"clipRule","vector-effect":"strokeUniform","image-rendering":"imageSmoothing"},$={stroke:"strokeOpacity",fill:"fillOpacity"},Q="font-size",ne="clip-path";function ue(Ce){return Ce in F?F[Ce]:Ce}function ge(Ce,de,Ue,$e){var et,pt=Array.isArray(de);if("fill"!==Ce&&"stroke"!==Ce||"none"!==de){if("strokeUniform"===Ce)return"non-scaling-stroke"===de;if("strokeDashArray"===Ce)de="none"===de?null:de.replace(/,/g," ").split(/\s+/).map(parseFloat);else if("transformMatrix"===Ce)de=Ue&&Ue.transformMatrix?_(Ue.transformMatrix,x.parseTransformAttribute(de)):x.parseTransformAttribute(de);else if("visible"===Ce)de="none"!==de&&"hidden"!==de,Ue&&!1===Ue.visible&&(de=!1);else if("opacity"===Ce)de=parseFloat(de),Ue&&typeof Ue.opacity<"u"&&(de*=Ue.opacity);else if("textAnchor"===Ce)de="start"===de?"left":"end"===de?"right":"center";else if("charSpacing"===Ce)et=g(de,$e)/$e*1e3;else if("paintFirst"===Ce){var _t=de.indexOf("fill"),It=de.indexOf("stroke");de="fill",(_t>-1&&It>-1&&It<_t||-1===_t&&It>-1)&&(de="stroke")}else{if("href"===Ce||"xlink:href"===Ce||"font"===Ce)return de;if("imageSmoothing"===Ce)return"optimizeQuality"===de;et=pt?de.map(g):g(de,$e)}}else de="";return!pt&&isNaN(et)?de:et}function _e(Ce){return new RegExp("^("+Ce.join("|")+")\\b","i")}function We(Ce,de){var pt,et,_t,$e=[];for(et=0,_t=de.length;et<_t;et++)pt=Ce.getElementsByTagName(de[et]),$e=$e.concat(Array.prototype.slice.call(pt));return $e}function bt(Ce,de){var Ue,$e=!0;return(Ue=Xt(Ce,de.pop()))&&de.length&&($e=function lt(Ce,de){for(var Ue,$e=!0;Ce.parentNode&&1===Ce.parentNode.nodeType&&de.length;)$e&&(Ue=de.pop()),$e=Xt(Ce=Ce.parentNode,Ue);return 0===de.length}(Ce,de)),Ue&&$e&&0===de.length}function Xt(Ce,de){var et,_t,Ue=Ce.nodeName,$e=Ce.getAttribute("class"),pt=Ce.getAttribute("id");if(et=new RegExp("^"+Ue,"i"),de=de.replace(et,""),pt&&de.length&&(et=new RegExp("#"+pt+"(?![a-zA-Z\\-]+)","i"),de=de.replace(et,"")),$e&&de.length)for(_t=($e=$e.split(" ")).length;_t--;)et=new RegExp("\\."+$e[_t]+"(?![a-zA-Z\\-]+)","i"),de=de.replace(et,"");return 0===de.length}function sn(Ce,de){var Ue;if(Ce.getElementById&&(Ue=Ce.getElementById(de)),Ue)return Ue;var $e,pt,et,_t=Ce.getElementsByTagName("*");for(pt=0,et=_t.length;pt<et;pt++)if(de===($e=_t[pt]).getAttribute("id"))return $e}x.svgValidTagNamesRegEx=_e(["path","circle","polygon","polyline","ellipse","rect","line","image","text"]),x.svgViewBoxElementsRegEx=_e(["symbol","image","marker","pattern","view","svg"]),x.svgInvalidAncestorsRegEx=_e(["pattern","defs","symbol","metadata","clipPath","mask","desc"]),x.svgValidParentsRegEx=_e(["symbol","g","a","svg","clipPath","defs"]),x.cssRules={},x.gradientDefs={},x.clipPaths={},x.parseTransformAttribute=function(){function Ue(At,gn,bn){At[bn]=Math.tan(x.util.degreesToRadians(gn[0]))}var pt=x.iMatrix,et=x.reNum,_t=x.commaWsp,mt="(?:(?:(matrix)\\s*\\(\\s*("+et+")"+_t+"("+et+")"+_t+"("+et+")"+_t+"("+et+")"+_t+"("+et+")"+_t+"("+et+")\\s*\\))|(?:(translate)\\s*\\(\\s*("+et+")(?:"+_t+"("+et+"))?\\s*\\))|(?:(scale)\\s*\\(\\s*("+et+")(?:"+_t+"("+et+"))?\\s*\\))|(?:(rotate)\\s*\\(\\s*("+et+")(?:"+_t+"("+et+")"+_t+"("+et+"))?\\s*\\))|(?:(skewX)\\s*\\(\\s*("+et+")\\s*\\))|(?:(skewY)\\s*\\(\\s*("+et+")\\s*\\)))",Mn=new RegExp("^\\s*(?:(?:"+mt+"(?:"+_t+"*"+mt+")*)?)\\s*$"),on=new RegExp(mt,"g");return function(At){var gn=pt.concat(),bn=[];if(!At||At&&!Mn.test(At))return gn;At.replace(on,function(kn){var Kt=new RegExp(mt).exec(kn).filter(function(ct){return!!ct}),we=Kt[1],je=Kt.slice(2).map(parseFloat);switch(we){case"translate":!function $e(At,gn){At[4]=gn[0],2===gn.length&&(At[5]=gn[1])}(gn,je);break;case"rotate":je[0]=x.util.degreesToRadians(je[0]),function Ce(At,gn){var bn=x.util.cos(gn[0]),Sn=x.util.sin(gn[0]),kn=0,Kt=0;3===gn.length&&(kn=gn[1],Kt=gn[2]),At[0]=bn,At[1]=Sn,At[2]=-Sn,At[3]=bn,At[4]=kn-(bn*kn-Sn*Kt),At[5]=Kt-(Sn*kn+bn*Kt)}(gn,je);break;case"scale":!function de(At,gn){var Sn=2===gn.length?gn[1]:gn[0];At[0]=gn[0],At[3]=Sn}(gn,je);break;case"skewX":Ue(gn,je,2);break;case"skewY":Ue(gn,je,1);break;case"matrix":gn=je}bn.push(gn.concat()),gn=pt.concat()});for(var Sn=bn[0];bn.length>1;)bn.shift(),Sn=x.util.multiplyTransformMatrices(Sn,bn[0]);return Sn}}();var be=new RegExp("^\\s*("+x.reNum+"+)\\s*,?\\s*("+x.reNum+"+)\\s*,?\\s*("+x.reNum+"+)\\s*,?\\s*("+x.reNum+"+)\\s*$");function pe(Ce){if(!x.svgViewBoxElementsRegEx.test(Ce.nodeName))return{};var pt,et,_t,It,jt,ot,de=Ce.getAttribute("viewBox"),Ue=1,$e=1,Xe=Ce.getAttribute("width"),vt=Ce.getAttribute("height"),Mt=Ce.getAttribute("x")||0,mt=Ce.getAttribute("y")||0,nt=Ce.getAttribute("preserveAspectRatio")||"",Zt=!de||!(de=de.match(be)),Mn=!Xe||!vt||"100%"===Xe||"100%"===vt,on=Zt&&Mn,At={},gn="",bn=0,Sn=0;if(At.width=0,At.height=0,At.toBeParsed=on,Zt&&(Mt||mt)&&Ce.parentNode&&"#document"!==Ce.parentNode.nodeName&&(gn=" translate("+g(Mt)+" "+g(mt)+") ",jt=(Ce.getAttribute("transform")||"")+gn,Ce.setAttribute("transform",jt),Ce.removeAttribute("x"),Ce.removeAttribute("y")),on)return At;if(Zt)return At.width=g(Xe),At.height=g(vt),At;if(pt=-parseFloat(de[1]),et=-parseFloat(de[2]),_t=parseFloat(de[3]),It=parseFloat(de[4]),At.minX=pt,At.minY=et,At.viewBoxWidth=_t,At.viewBoxHeight=It,Mn?(At.width=_t,At.height=It):(At.width=g(Xe),At.height=g(vt),Ue=At.width/_t,$e=At.height/It),"none"!==(nt=x.util.parsePreserveAspectRatioAttribute(nt)).alignX&&("meet"===nt.meetOrSlice&&($e=Ue=Ue>$e?$e:Ue),"slice"===nt.meetOrSlice&&($e=Ue=Ue>$e?Ue:$e),bn=At.width-_t*Ue,Sn=At.height-It*Ue,"Mid"===nt.alignX&&(bn/=2),"Mid"===nt.alignY&&(Sn/=2),"Min"===nt.alignX&&(bn=0),"Min"===nt.alignY&&(Sn=0)),1===Ue&&1===$e&&0===pt&&0===et&&0===Mt&&0===mt)return At;if((Mt||mt)&&"#document"!==Ce.parentNode.nodeName&&(gn=" translate("+g(Mt)+" "+g(mt)+") "),jt=gn+" matrix("+Ue+" 0 0 "+$e+" "+(pt*Ue+bn)+" "+(et*$e+Sn)+") ","svg"===Ce.nodeName){for(ot=Ce.ownerDocument.createElementNS(x.svgNS,"g");Ce.firstChild;)ot.appendChild(Ce.firstChild);Ce.appendChild(ot)}else(ot=Ce).removeAttribute("x"),ot.removeAttribute("y"),jt=ot.getAttribute("transform")+jt;return ot.setAttribute("transform",jt),At}function ye(Ce,de){var $e="xlink:href",et=sn(Ce,de.getAttribute($e).slice(1));if(et&&et.getAttribute($e)&&ye(Ce,et),["gradientTransform","x1","x2","y1","y2","gradientUnits","cx","cy","r","fx","fy"].forEach(function(It){et&&!de.hasAttribute(It)&&et.hasAttribute(It)&&de.setAttribute(It,et.getAttribute(It))}),!de.children.length)for(var _t=et.cloneNode(!0);_t.firstChild;)de.appendChild(_t.firstChild);de.removeAttribute($e)}x.parseSVGDocument=function(Ce,de,Ue,$e){if(Ce){!function ln(Ce){for(var de=We(Ce,["use","svg:use"]),Ue=0;de.length&&Ue<de.length;){var $e=de[Ue],pt=$e.getAttribute("xlink:href")||$e.getAttribute("href");if(null===pt)return;var Mt,mt,nt,Zt,et=pt.slice(1),_t=$e.getAttribute("x")||0,It=$e.getAttribute("y")||0,jt=sn(Ce,et).cloneNode(!0),ot=(jt.getAttribute("transform")||"")+" translate("+_t+", "+It+")",vt=de.length,Mn=x.svgNS;if(pe(jt),/^svg$/i.test(jt.nodeName)){var on=jt.ownerDocument.createElementNS(Mn,"g");for(mt=0,Zt=(nt=jt.attributes).length;mt<Zt;mt++)Mt=nt.item(mt),on.setAttributeNS(Mn,Mt.nodeName,Mt.nodeValue);for(;jt.firstChild;)on.appendChild(jt.firstChild);jt=on}for(mt=0,Zt=(nt=$e.attributes).length;mt<Zt;mt++)"x"!==(Mt=nt.item(mt)).nodeName&&"y"!==Mt.nodeName&&"xlink:href"!==Mt.nodeName&&"href"!==Mt.nodeName&&("transform"===Mt.nodeName?ot=Mt.nodeValue+" "+ot:jt.setAttribute(Mt.nodeName,Mt.nodeValue));jt.setAttribute("transform",ot),jt.setAttribute("instantiated_by_use","1"),jt.removeAttribute("id"),$e.parentNode.replaceChild(jt,$e),de.length===vt&&Ue++}}(Ce);var et,_t,pt=x.Object.__uid++,It=pe(Ce),jt=x.util.toArray(Ce.getElementsByTagName("*"));if(It.crossOrigin=$e&&$e.crossOrigin,It.svgUid=pt,0===jt.length&&x.isLikelyNode){var ot=[];for(et=0,_t=(jt=Ce.selectNodes('//*[name(.)!="svg"]')).length;et<_t;et++)ot[et]=jt[et];jt=ot}var Xe=jt.filter(function(Mt){return pe(Mt),x.svgValidTagNamesRegEx.test(Mt.nodeName.replace("svg:",""))&&!function fe(Ce,de){for(;Ce&&(Ce=Ce.parentNode);)if(Ce.nodeName&&de.test(Ce.nodeName.replace("svg:",""))&&!Ce.getAttribute("instantiated_by_use"))return!0;return!1}(Mt,x.svgInvalidAncestorsRegEx)});if(!Xe||Xe&&!Xe.length)return void(de&&de([],{}));var vt={};jt.filter(function(Mt){return"clipPath"===Mt.nodeName.replace("svg:","")}).forEach(function(Mt){var mt=Mt.getAttribute("id");vt[mt]=x.util.toArray(Mt.getElementsByTagName("*")).filter(function(nt){return x.svgValidTagNamesRegEx.test(nt.nodeName.replace("svg:",""))})}),x.gradientDefs[pt]=x.getGradientDefs(Ce),x.cssRules[pt]=x.getCSSRules(Ce),x.clipPaths[pt]=vt,x.parseElements(Xe,function(Mt,mt){de&&(de(Mt,It,mt,jt),delete x.gradientDefs[pt],delete x.cssRules[pt],delete x.clipPaths[pt])},M(It),Ue,$e)}};var ke=new RegExp("(normal|italic)?\\s*(normal|small-caps)?\\s*(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)?\\s*("+x.reNum+"(?:px|cm|mm|em|pt|pc|in)*)(?:\\/(normal|"+x.reNum+"))?\\s+(.*)");S(x,{parseFontDeclaration:function(Ce,de){var Ue=Ce.match(ke);if(Ue){var $e=Ue[1],pt=Ue[3],et=Ue[4],_t=Ue[5],It=Ue[6];$e&&(de.fontStyle=$e),pt&&(de.fontWeight=isNaN(parseFloat(pt))?pt:parseFloat(pt)),et&&(de.fontSize=g(et)),It&&(de.fontFamily=It),_t&&(de.lineHeight="normal"===_t?1:_t)}},getGradientDefs:function(Ce){var $e,Ue=We(Ce,["linearGradient","radialGradient","svg:linearGradient","svg:radialGradient"]),pt=0,et={};for(pt=Ue.length;pt--;)($e=Ue[pt]).getAttribute("xlink:href")&&ye(Ce,$e),et[$e.getAttribute("id")]=$e;return et},parseAttributes:function(Ce,de,Ue){if(Ce){var $e,et,_t,pt={};typeof Ue>"u"&&(Ue=Ce.getAttribute("svgUid")),Ce.parentNode&&x.svgValidParentsRegEx.test(Ce.parentNode.nodeName)&&(pt=x.parseAttributes(Ce.parentNode,de,Ue));var It=de.reduce(function(nt,Zt){return($e=Ce.getAttribute(Zt))&&(nt[Zt]=$e),nt},{}),jt=S(function ht(Ce,de){var Ue={};for(var $e in x.cssRules[de])if(bt(Ce,$e.split(" ")))for(var pt in x.cssRules[de][$e])Ue[pt]=x.cssRules[de][$e][pt];return Ue}(Ce,Ue),x.parseStyleAttribute(Ce));It=S(It,jt),jt[ne]&&Ce.setAttribute(ne,jt[ne]),et=_t=pt.fontSize||x.Text.DEFAULT_SVG_FONT_SIZE,It[Q]&&(It[Q]=et=g(It[Q],_t));var ot,Xe,vt={};for(var Mt in It)Xe=ge(ot=ue(Mt),It[Mt],pt,et),vt[ot]=Xe;vt&&vt.font&&x.parseFontDeclaration(vt.font,vt);var mt=S(pt,vt);return x.svgValidParentsRegEx.test(Ce.nodeName)?mt:function Ie(Ce){for(var de in $)if(!(typeof Ce[$[de]]>"u"||""===Ce[de])){if(typeof Ce[de]>"u"){if(!x.Object.prototype[de])continue;Ce[de]=x.Object.prototype[de]}if(0!==Ce[de].indexOf("url(")){var Ue=new x.Color(Ce[de]);Ce[de]=Ue.setAlpha(m(Ue.getAlpha()*Ce[$[de]],2)).toRgba()}}return Ce}(mt)}},parseElements:function(Ce,de,Ue,$e,pt){new x.ElementsParser(Ce,de,Ue,$e,pt).parse()},parseStyleAttribute:function(Ce){var de={},Ue=Ce.getAttribute("style");return Ue&&("string"==typeof Ue?function Ke(Ce,de){var Ue,$e;Ce.replace(/;\s*$/,"").split(";").forEach(function(pt){var et=pt.split(":");Ue=et[0].trim().toLowerCase(),$e=et[1].trim(),de[Ue]=$e})}(Ue,de):function yt(Ce,de){for(var pt in Ce)typeof Ce[pt]>"u"||(de[pt.toLowerCase()]=Ce[pt])}(Ue,de)),de},parsePointsAttribute:function(Ce){if(!Ce)return null;var Ue,$e,de=[];for(Ue=0,$e=(Ce=(Ce=Ce.replace(/,/g," ").trim()).split(/\s+/)).length;Ue<$e;Ue+=2)de.push({x:parseFloat(Ce[Ue]),y:parseFloat(Ce[Ue+1])});return de},getCSSRules:function(Ce){var Ue,$e,de=Ce.getElementsByTagName("style"),pt={};for(Ue=0,$e=de.length;Ue<$e;Ue++){var _t=de[Ue].textContent;""!==(_t=_t.replace(/\/\*[\s\S]*?\*\//g,"")).trim()&&_t.split("}").filter(function(It){return It.trim()}).forEach(function(It){var jt=It.split("{"),ot={},vt=jt[1].trim().split(";").filter(function(Zt){return Zt.trim()});for(Ue=0,$e=vt.length;Ue<$e;Ue++){var Mt=vt[Ue].split(":"),mt=Mt[0].trim(),nt=Mt[1].trim();ot[mt]=nt}(It=jt[0].trim()).split(",").forEach(function(Zt){""!==(Zt=Zt.replace(/^svg/i,"").trim())&&(pt[Zt]?x.util.object.extend(pt[Zt],ot):pt[Zt]=x.util.object.clone(ot))})})}return pt},loadSVGFromURL:function(Ce,de,Ue,$e){Ce=Ce.replace(/^\n\s*/,"").trim(),new x.util.request(Ce,{method:"get",onComplete:function pt(et){var _t=et.responseXML;if(!_t||!_t.documentElement)return de&&de(null),!1;x.parseSVGDocument(_t.documentElement,function(It,jt,ot,Xe){de&&de(It,jt,ot,Xe)},Ue,$e)}})},loadSVGFromString:function(Ce,de,Ue,$e){var et=(new x.window.DOMParser).parseFromString(Ce.trim(),"text/xml");x.parseSVGDocument(et.documentElement,function(_t,It,jt,ot){de(_t,It,jt,ot)},Ue,$e)}})}(De),n.ElementsParser=function(I,x,S,M,m,g){this.elements=I,this.callback=x,this.options=S,this.reviver=M,this.svgUid=S&&S.svgUid||0,this.parsingOptions=m,this.regexUrl=/^url\(['"]?#([^'"]+)['"]?\)/g,this.doc=g},function(I){I.parse=function(){this.instances=new Array(this.elements.length),this.numElements=this.elements.length,this.createObjects()},I.createObjects=function(){var x=this;this.elements.forEach(function(S,M){S.setAttribute("svgUid",x.svgUid),x.createObject(S,M)})},I.findTag=function(x){return n[n.util.string.capitalize(x.tagName.replace("svg:",""))]},I.createObject=function(x,S){var M=this.findTag(x);if(M&&M.fromElement)try{M.fromElement(x,this.createCallback(S,x),this.options)}catch(m){n.log(m)}else this.checkIfDone()},I.createCallback=function(x,S){var M=this;return function(m){var g;M.resolveGradient(m,S,"fill"),M.resolveGradient(m,S,"stroke"),m instanceof n.Image&&m._originalElement&&(g=m.parsePreserveAspectRatioAttribute(S)),m._removeTransformMatrix(g),M.resolveClipPath(m,S),M.reviver&&M.reviver(S,m),M.instances[x]=m,M.checkIfDone()}},I.extractPropertyDefinition=function(x,S,M){var m=x[S],g=this.regexUrl;if(g.test(m)){g.lastIndex=0;var _=g.exec(m)[1];return g.lastIndex=0,n[M][this.svgUid][_]}},I.resolveGradient=function(x,S,M){var m=this.extractPropertyDefinition(x,M,"gradientDefs");if(m){var g=S.getAttribute(M+"-opacity"),_=n.Gradient.fromElement(m,x,g,this.options);x.set(M,_)}},I.createClipPathCallback=function(x,S){return function(M){M._removeTransformMatrix(),M.fillRule=M.clipRule,S.push(M)}},I.resolveClipPath=function(x,S){var m,_,b,O,M=this.extractPropertyDefinition(x,"clipPath","clipPaths");if(M){b=[],_=n.util.invertTransform(x.calcTransformMatrix());for(var P=M[0].parentNode,F=S;F.parentNode&&F.getAttribute("clip-path")!==x.clipPath;)F=F.parentNode;F.parentNode.appendChild(P);for(var $=0;$<M.length;$++)this.findTag(m=M[$]).fromElement(m,this.createClipPathCallback(x,b),this.options);M=1===b.length?b[0]:new n.Group(b),O=n.util.multiplyTransformMatrices(_,M.calcTransformMatrix()),M.clipPath&&this.resolveClipPath(M,F);var C=n.util.qrDecompose(O);M.flipX=!1,M.flipY=!1,M.set("scaleX",C.scaleX),M.set("scaleY",C.scaleY),M.angle=C.angle,M.skewX=C.skewX,M.skewY=0,M.setPositionByOrigin({x:C.translateX,y:C.translateY},"center","center"),x.clipPath=M}else delete x.clipPath},I.checkIfDone=function(){0==--this.numElements&&(this.instances=this.instances.filter(function(x){return null!=x}),this.callback(this.instances,this.elements))}}(n.ElementsParser.prototype),function(I){"use strict";var x=I.fabric||(I.fabric={});function S(M,m){this.x=M,this.y=m}x.Point?x.warn("fabric.Point is already defined"):(x.Point=S,S.prototype={type:"point",constructor:S,add:function(M){return new S(this.x+M.x,this.y+M.y)},addEquals:function(M){return this.x+=M.x,this.y+=M.y,this},scalarAdd:function(M){return new S(this.x+M,this.y+M)},scalarAddEquals:function(M){return this.x+=M,this.y+=M,this},subtract:function(M){return new S(this.x-M.x,this.y-M.y)},subtractEquals:function(M){return this.x-=M.x,this.y-=M.y,this},scalarSubtract:function(M){return new S(this.x-M,this.y-M)},scalarSubtractEquals:function(M){return this.x-=M,this.y-=M,this},multiply:function(M){return new S(this.x*M,this.y*M)},multiplyEquals:function(M){return this.x*=M,this.y*=M,this},divide:function(M){return new S(this.x/M,this.y/M)},divideEquals:function(M){return this.x/=M,this.y/=M,this},eq:function(M){return this.x===M.x&&this.y===M.y},lt:function(M){return this.x<M.x&&this.y<M.y},lte:function(M){return this.x<=M.x&&this.y<=M.y},gt:function(M){return this.x>M.x&&this.y>M.y},gte:function(M){return this.x>=M.x&&this.y>=M.y},lerp:function(M,m){return typeof m>"u"&&(m=.5),m=Math.max(Math.min(1,m),0),new S(this.x+(M.x-this.x)*m,this.y+(M.y-this.y)*m)},distanceFrom:function(M){var m=this.x-M.x,g=this.y-M.y;return Math.sqrt(m*m+g*g)},midPointFrom:function(M){return this.lerp(M)},min:function(M){return new S(Math.min(this.x,M.x),Math.min(this.y,M.y))},max:function(M){return new S(Math.max(this.x,M.x),Math.max(this.y,M.y))},toString:function(){return this.x+","+this.y},setXY:function(M,m){return this.x=M,this.y=m,this},setX:function(M){return this.x=M,this},setY:function(M){return this.y=M,this},setFromPoint:function(M){return this.x=M.x,this.y=M.y,this},swap:function(M){var m=this.x,g=this.y;this.x=M.x,this.y=M.y,M.x=m,M.y=g},clone:function(){return new S(this.x,this.y)}})}(De),function(I){"use strict";var x=I.fabric||(I.fabric={});function S(M){this.status=M,this.points=[]}x.Intersection?x.warn("fabric.Intersection is already defined"):(x.Intersection=S,x.Intersection.prototype={constructor:S,appendPoint:function(M){return this.points.push(M),this},appendPoints:function(M){return this.points=this.points.concat(M),this}},x.Intersection.intersectLineLine=function(M,m,g,_){var b,O=(_.x-g.x)*(M.y-g.y)-(_.y-g.y)*(M.x-g.x),C=(m.x-M.x)*(M.y-g.y)-(m.y-M.y)*(M.x-g.x),P=(_.y-g.y)*(m.x-M.x)-(_.x-g.x)*(m.y-M.y);if(0!==P){var F=O/P,$=C/P;0<=F&&F<=1&&0<=$&&$<=1?(b=new S("Intersection")).appendPoint(new x.Point(M.x+F*(m.x-M.x),M.y+F*(m.y-M.y))):b=new S}else b=new S(0===O||0===C?"Coincident":"Parallel");return b},x.Intersection.intersectLinePolygon=function(M,m,g){var P,F,_=new S,b=g.length;for(F=0;F<b;F++)P=S.intersectLineLine(M,m,g[F],g[(F+1)%b]),_.appendPoints(P.points);return _.points.length>0&&(_.status="Intersection"),_},x.Intersection.intersectPolygonPolygon=function(M,m){var b,g=new S,_=M.length;for(b=0;b<_;b++){var P=S.intersectLinePolygon(M[b],M[(b+1)%_],m);g.appendPoints(P.points)}return g.points.length>0&&(g.status="Intersection"),g},x.Intersection.intersectPolygonRectangle=function(M,m,g){var _=m.min(g),b=m.max(g),O=new x.Point(b.x,_.y),C=new x.Point(_.x,b.y),P=S.intersectLinePolygon(_,O,M),F=S.intersectLinePolygon(O,b,M),$=S.intersectLinePolygon(b,C,M),Q=S.intersectLinePolygon(C,_,M),ne=new S;return ne.appendPoints(P.points),ne.appendPoints(F.points),ne.appendPoints($.points),ne.appendPoints(Q.points),ne.points.length>0&&(ne.status="Intersection"),ne})}(De),function(I){"use strict";var x=I.fabric||(I.fabric={});function S(m){m?this._tryParsingColor(m):this.setSource([0,0,0,1])}function M(m,g,_){return _<0&&(_+=1),_>1&&(_-=1),_<1/6?m+6*(g-m)*_:_<.5?g:_<2/3?m+(g-m)*(2/3-_)*6:m}x.Color?x.warn("fabric.Color is already defined."):(x.Color=S,x.Color.prototype={_tryParsingColor:function(m){var g;m in S.colorNameMap&&(m=S.colorNameMap[m]),"transparent"===m&&(g=[255,255,255,0]),g||(g=S.sourceFromHex(m)),g||(g=S.sourceFromRgb(m)),g||(g=S.sourceFromHsl(m)),g||(g=[0,0,0,1]),g&&this.setSource(g)},_rgbToHsl:function(m,g,_){var b,O,C,P=x.util.array.max([m/=255,g/=255,_/=255]),F=x.util.array.min([m,g,_]);if(C=(P+F)/2,P===F)b=O=0;else{var $=P-F;switch(O=C>.5?$/(2-P-F):$/(P+F),P){case m:b=(g-_)/$+(g<_?6:0);break;case g:b=(_-m)/$+2;break;case _:b=(m-g)/$+4}b/=6}return[Math.round(360*b),Math.round(100*O),Math.round(100*C)]},getSource:function(){return this._source},setSource:function(m){this._source=m},toRgb:function(){var m=this.getSource();return"rgb("+m[0]+","+m[1]+","+m[2]+")"},toRgba:function(){var m=this.getSource();return"rgba("+m[0]+","+m[1]+","+m[2]+","+m[3]+")"},toHsl:function(){var m=this.getSource(),g=this._rgbToHsl(m[0],m[1],m[2]);return"hsl("+g[0]+","+g[1]+"%,"+g[2]+"%)"},toHsla:function(){var m=this.getSource(),g=this._rgbToHsl(m[0],m[1],m[2]);return"hsla("+g[0]+","+g[1]+"%,"+g[2]+"%,"+m[3]+")"},toHex:function(){var g,_,b,m=this.getSource();return g=1===(g=m[0].toString(16)).length?"0"+g:g,_=1===(_=m[1].toString(16)).length?"0"+_:_,b=1===(b=m[2].toString(16)).length?"0"+b:b,g.toUpperCase()+_.toUpperCase()+b.toUpperCase()},toHexa:function(){var g,m=this.getSource();return g=1===(g=(g=Math.round(255*m[3])).toString(16)).length?"0"+g:g,this.toHex()+g.toUpperCase()},getAlpha:function(){return this.getSource()[3]},setAlpha:function(m){var g=this.getSource();return g[3]=m,this.setSource(g),this},toGrayscale:function(){var m=this.getSource(),g=parseInt((.3*m[0]+.59*m[1]+.11*m[2]).toFixed(0),10);return this.setSource([g,g,g,m[3]]),this},toBlackWhite:function(m){var g=this.getSource(),_=(.3*g[0]+.59*g[1]+.11*g[2]).toFixed(0),b=g[3];return m=m||127,_=Number(_)<Number(m)?0:255,this.setSource([_,_,_,b]),this},overlayWith:function(m){m instanceof S||(m=new S(m));var P,g=[],_=this.getAlpha(),O=this.getSource(),C=m.getSource();for(P=0;P<3;P++)g.push(Math.round(.5*O[P]+.5*C[P]));return g[3]=_,this.setSource(g),this}},x.Color.reRGBa=/^rgba?\(\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*(?:\s*,\s*((?:\d*\.?\d+)?)\s*)?\)$/i,x.Color.reHSLa=/^hsla?\(\s*(\d{1,3})\s*,\s*(\d{1,3}\%)\s*,\s*(\d{1,3}\%)\s*(?:\s*,\s*(\d+(?:\.\d+)?)\s*)?\)$/i,x.Color.reHex=/^#?([0-9a-f]{8}|[0-9a-f]{6}|[0-9a-f]{4}|[0-9a-f]{3})$/i,x.Color.colorNameMap={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",darkgreen:"#006400",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",lightgreen:"#90EE90",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"},x.Color.fromRgb=function(m){return S.fromSource(S.sourceFromRgb(m))},x.Color.sourceFromRgb=function(m){var g=m.match(S.reRGBa);if(g){var _=parseInt(g[1],10)/(/%$/.test(g[1])?100:1)*(/%$/.test(g[1])?255:1),b=parseInt(g[2],10)/(/%$/.test(g[2])?100:1)*(/%$/.test(g[2])?255:1),O=parseInt(g[3],10)/(/%$/.test(g[3])?100:1)*(/%$/.test(g[3])?255:1);return[parseInt(_,10),parseInt(b,10),parseInt(O,10),g[4]?parseFloat(g[4]):1]}},x.Color.fromRgba=S.fromRgb,x.Color.fromHsl=function(m){return S.fromSource(S.sourceFromHsl(m))},x.Color.sourceFromHsl=function(m){var g=m.match(S.reHSLa);if(g){var C,P,F,_=(parseFloat(g[1])%360+360)%360/360,b=parseFloat(g[2])/(/%$/.test(g[2])?100:1),O=parseFloat(g[3])/(/%$/.test(g[3])?100:1);if(0===b)C=P=F=O;else{var $=O<=.5?O*(b+1):O+b-O*b,Q=2*O-$;C=M(Q,$,_+1/3),P=M(Q,$,_),F=M(Q,$,_-1/3)}return[Math.round(255*C),Math.round(255*P),Math.round(255*F),g[4]?parseFloat(g[4]):1]}},x.Color.fromHsla=S.fromHsl,x.Color.fromHex=function(m){return S.fromSource(S.sourceFromHex(m))},x.Color.sourceFromHex=function(m){if(m.match(S.reHex)){var g=m.slice(m.indexOf("#")+1),_=3===g.length||4===g.length,b=8===g.length||4===g.length,O=_?g.charAt(0)+g.charAt(0):g.substring(0,2),C=_?g.charAt(1)+g.charAt(1):g.substring(2,4),P=_?g.charAt(2)+g.charAt(2):g.substring(4,6),F=b?_?g.charAt(3)+g.charAt(3):g.substring(6,8):"FF";return[parseInt(O,16),parseInt(C,16),parseInt(P,16),parseFloat((parseInt(F,16)/255).toFixed(2))]}},x.Color.fromSource=function(m){var g=new S;return g.setSource(m),g})}(De),function(I){"use strict";var x=I.fabric||(I.fabric={}),S=["e","se","s","sw","w","nw","n","ne","e"],M=["ns","nesw","ew","nwse"],m={},g="left",_="top",b="right",O="bottom",C="center",P={top:O,bottom:_,left:b,right:g,center:C},F=x.util.radiansToDegrees,$=Math.sign||function(ot){return(ot>0)-(ot<0)||+ot};function Q(ot,Xe){var vt=ot.angle+F(Math.atan2(Xe.y,Xe.x))+360;return Math.round(vt%360/45)}function ne(ot,Xe){var vt=Xe.transform.target,Mt=vt.canvas,mt=x.util.object.clone(Xe);mt.target=vt,Mt&&Mt.fire("object:"+ot,mt),vt.fire(ot,Xe)}function ue(ot,Xe){var vt=Xe.canvas,mt=ot[vt.uniScaleKey];return vt.uniformScaling&&!mt||!vt.uniformScaling&&mt}function ge(ot){return ot.originX===C&&ot.originY===C}function _e(ot,Xe,vt){var Mt=ot.lockScalingX,mt=ot.lockScalingY;return!!(Mt&&mt||!Xe&&(Mt||mt)&&vt||Mt&&"x"===Xe||mt&&"y"===Xe)}function bt(ot,Xe,vt,Mt){return{e:ot,transform:Xe,pointer:{x:vt,y:Mt}}}function lt(ot){return function(Xe,vt,Mt,mt){var nt=vt.target,Zt=nt.getCenterPoint(),Mn=nt.translateToOriginPoint(Zt,vt.originX,vt.originY),on=ot(Xe,vt,Mt,mt);return nt.setPositionByOrigin(Mn,vt.originX,vt.originY),on}}function Xt(ot,Xe){return function(vt,Mt,mt,nt){var Zt=Xe(vt,Mt,mt,nt);return Zt&&ne(ot,bt(vt,Mt,mt,nt)),Zt}}function sn(ot,Xe,vt,Mt,mt){var nt=ot.target,Zt=nt.controls[ot.corner],Mn=nt.canvas.getZoom(),on=nt.padding/Mn,At=nt.toLocalPoint(new x.Point(Mt,mt),Xe,vt);return At.x>=on&&(At.x-=on),At.x<=-on&&(At.x+=on),At.y>=on&&(At.y-=on),At.y<=on&&(At.y+=on),At.x-=Zt.offsetX,At.y-=Zt.offsetY,At}function ln(ot){return ot.flipX!==ot.flipY}function be(ot,Xe,vt,Mt,mt){if(0!==ot[Xe]){var nt=ot._getTransformedDimensions()[Mt];ot.set(vt,mt/nt*ot[vt])}}function pe(ot,Xe,vt,Mt){var At,mt=Xe.target,nt=mt._getTransformedDimensions(0,mt.skewY),Zt=sn(Xe,Xe.originX,Xe.originY,vt,Mt),Mn=Math.abs(2*Zt.x)-nt.x,on=mt.skewX;Mn<2?At=0:(At=F(Math.atan2(Mn/mt.scaleX,nt.y/mt.scaleY)),Xe.originX===g&&Xe.originY===O&&(At=-At),Xe.originX===b&&Xe.originY===_&&(At=-At),ln(mt)&&(At=-At));var gn=on!==At;if(gn){var bn=mt._getTransformedDimensions().y;mt.set("skewX",At),be(mt,"skewY","scaleY","y",bn)}return gn}function fe(ot,Xe,vt,Mt){var At,mt=Xe.target,nt=mt._getTransformedDimensions(mt.skewX,0),Zt=sn(Xe,Xe.originX,Xe.originY,vt,Mt),Mn=Math.abs(2*Zt.y)-nt.y,on=mt.skewY;Mn<2?At=0:(At=F(Math.atan2(Mn/mt.scaleY,nt.x/mt.scaleX)),Xe.originX===g&&Xe.originY===O&&(At=-At),Xe.originX===b&&Xe.originY===_&&(At=-At),ln(mt)&&(At=-At));var gn=on!==At;if(gn){var bn=mt._getTransformedDimensions().x;mt.set("skewY",At),be(mt,"skewX","scaleX","x",bn)}return gn}function de(ot,Xe,vt,Mt,mt){var At,gn,bn,Sn,we,je,nt=Xe.target,Zt=nt.lockScalingX,Mn=nt.lockScalingY,on=(mt=mt||{}).by,kn=ue(ot,nt),Kt=_e(nt,on,kn),ct=Xe.gestureScale;if(Kt)return!1;if(ct)gn=Xe.scaleX*ct,bn=Xe.scaleY*ct;else{if(At=sn(Xe,Xe.originX,Xe.originY,vt,Mt),we="y"!==on?$(At.x):1,je="x"!==on?$(At.y):1,Xe.signX||(Xe.signX=we),Xe.signY||(Xe.signY=je),nt.lockScalingFlip&&(Xe.signX!==we||Xe.signY!==je))return!1;if(Sn=nt._getTransformedDimensions(),kn&&!on){var St=Math.abs(At.x)+Math.abs(At.y),Pt=Xe.original,Jt=St/(Math.abs(Sn.x*Pt.scaleX/nt.scaleX)+Math.abs(Sn.y*Pt.scaleY/nt.scaleY));gn=Pt.scaleX*Jt,bn=Pt.scaleY*Jt}else gn=Math.abs(At.x*nt.scaleX/Sn.x),bn=Math.abs(At.y*nt.scaleY/Sn.y);ge(Xe)&&(gn*=2,bn*=2),Xe.signX!==we&&"y"!==on&&(Xe.originX=P[Xe.originX],gn*=-1,Xe.signX=we),Xe.signY!==je&&"x"!==on&&(Xe.originY=P[Xe.originY],bn*=-1,Xe.signY=je)}var Nt=nt.scaleX,tn=nt.scaleY;return on?("x"===on&&nt.set("scaleX",gn),"y"===on&&nt.set("scaleY",bn)):(!Zt&&nt.set("scaleX",gn),!Mn&&nt.set("scaleY",bn)),Nt!==nt.scaleX||tn!==nt.scaleY}m.scaleCursorStyleHandler=function Ie(ot,Xe,vt){var mt=ue(ot,vt),nt="";if(0!==Xe.x&&0===Xe.y?nt="x":0===Xe.x&&0!==Xe.y&&(nt="y"),_e(vt,nt,mt))return"not-allowed";var Zt=Q(vt,Xe);return S[Zt]+"-resize"},m.skewCursorStyleHandler=function We(ot,Xe,vt){if(0!==Xe.x&&vt.lockSkewingY||0!==Xe.y&&vt.lockSkewingX)return"not-allowed";var mt=Q(vt,Xe)%4;return M[mt]+"-resize"},m.scaleSkewCursorStyleHandler=function Ke(ot,Xe,vt){return ot[vt.canvas.altActionKey]?m.skewCursorStyleHandler(ot,Xe,vt):m.scaleCursorStyleHandler(ot,Xe,vt)},m.rotationWithSnapping=Xt("rotating",lt(function Ce(ot,Xe,vt,Mt){var mt=Xe,nt=mt.target,Zt=nt.translateToOriginPoint(nt.getCenterPoint(),mt.originX,mt.originY);if(nt.lockRotation)return!1;var gn,Mn=Math.atan2(mt.ey-Zt.y,mt.ex-Zt.x),on=Math.atan2(Mt-Zt.y,vt-Zt.x),At=F(on-Mn+mt.theta);if(nt.snapAngle>0){var bn=nt.snapAngle,Sn=nt.snapThreshold||bn,kn=Math.ceil(At/bn)*bn,Kt=Math.floor(At/bn)*bn;Math.abs(At-Kt)<Sn?At=Kt:Math.abs(At-kn)<Sn&&(At=kn)}return At<0&&(At=360+At),gn=nt.angle!==(At%=360),nt.angle=At,gn})),m.scalingEqually=Xt("scaling",lt(function Ue(ot,Xe,vt,Mt){return de(ot,Xe,vt,Mt)})),m.scalingX=Xt("scaling",lt(function $e(ot,Xe,vt,Mt){return de(ot,Xe,vt,Mt,{by:"x"})})),m.scalingY=Xt("scaling",lt(function pt(ot,Xe,vt,Mt){return de(ot,Xe,vt,Mt,{by:"y"})})),m.scalingYOrSkewingX=function et(ot,Xe,vt,Mt){return ot[Xe.target.canvas.altActionKey]?m.skewHandlerX(ot,Xe,vt,Mt):m.scalingY(ot,Xe,vt,Mt)},m.scalingXOrSkewingY=function _t(ot,Xe,vt,Mt){return ot[Xe.target.canvas.altActionKey]?m.skewHandlerY(ot,Xe,vt,Mt):m.scalingX(ot,Xe,vt,Mt)},m.changeWidth=Xt("resizing",lt(function It(ot,Xe,vt,Mt){var mt=Xe.target,nt=sn(Xe,Xe.originX,Xe.originY,vt,Mt),Zt=mt.strokeWidth/(mt.strokeUniform?mt.scaleX:1),Mn=ge(Xe)?2:1,on=mt.width,At=Math.abs(nt.x*Mn/mt.scaleX)-Zt;return mt.set("width",Math.max(At,0)),on!==At})),m.skewHandlerX=function ye(ot,Xe,vt,Mt){var Zt,mt=Xe.target,nt=mt.skewX,Mn=Xe.originY;return!mt.lockSkewingX&&(0===nt?Zt=sn(Xe,C,C,vt,Mt).x>0?g:b:(nt>0&&(Zt=Mn===_?g:b),nt<0&&(Zt=Mn===_?b:g),ln(mt)&&(Zt=Zt===g?b:g)),Xe.originX=Zt,Xt("skewing",lt(pe))(ot,Xe,vt,Mt))},m.skewHandlerY=function ke(ot,Xe,vt,Mt){var Zt,mt=Xe.target,nt=mt.skewY,Mn=Xe.originX;return!mt.lockSkewingY&&(0===nt?Zt=sn(Xe,C,C,vt,Mt).y>0?_:O:(nt>0&&(Zt=Mn===g?_:O),nt<0&&(Zt=Mn===g?O:_),ln(mt)&&(Zt=Zt===_?O:_)),Xe.originY=Zt,Xt("skewing",lt(fe))(ot,Xe,vt,Mt))},m.dragHandler=function jt(ot,Xe,vt,Mt){var mt=Xe.target,nt=vt-Xe.offsetX,Zt=Mt-Xe.offsetY,Mn=!mt.get("lockMovementX")&&mt.left!==nt,on=!mt.get("lockMovementY")&&mt.top!==Zt;return Mn&&mt.set("left",nt),on&&mt.set("top",Zt),(Mn||on)&&ne("moving",bt(ot,Xe,vt,Mt)),Mn||on},m.scaleOrSkewActionName=function yt(ot,Xe,vt){var Mt=ot[vt.canvas.altActionKey];return 0===Xe.x?Mt?"skewX":"scaleY":0===Xe.y?Mt?"skewY":"scaleX":void 0},m.rotationStyleHandler=function ht(ot,Xe,vt){return vt.lockRotation?"not-allowed":Xe.cursorStyle},m.fireEvent=ne,m.wrapWithFixedAnchor=lt,m.wrapWithFireEvent=Xt,m.getLocalPoint=sn,x.controlsUtils=m}(De),function(I){"use strict";var x=I.fabric||(I.fabric={}),S=x.util.degreesToRadians,M=x.controlsUtils;M.renderCircleControl=function m(_,b,O,C,P){C=C||{};var Ie,F=this.sizeX||C.cornerSize||P.cornerSize,$=this.sizeY||C.cornerSize||P.cornerSize,Q=typeof C.transparentCorners<"u"?C.transparentCorners:P.transparentCorners,ne=Q?"stroke":"fill",ue=!Q&&(C.cornerStrokeColor||P.cornerStrokeColor),ge=b,_e=O;_.save(),_.fillStyle=C.cornerColor||P.cornerColor,_.strokeStyle=C.cornerStrokeColor||P.cornerStrokeColor,F>$?(Ie=F,_.scale(1,$/F),_e=O*F/$):$>F?(Ie=$,_.scale(F/$,1),ge=b*$/F):Ie=F,_.lineWidth=1,_.beginPath(),_.arc(ge,_e,Ie/2,0,2*Math.PI,!1),_[ne](),ue&&_.stroke(),_.restore()},M.renderSquareControl=function g(_,b,O,C,P){C=C||{};var F=this.sizeX||C.cornerSize||P.cornerSize,$=this.sizeY||C.cornerSize||P.cornerSize,Q=typeof C.transparentCorners<"u"?C.transparentCorners:P.transparentCorners,ne=Q?"stroke":"fill",ue=!Q&&(C.cornerStrokeColor||P.cornerStrokeColor),ge=F/2,_e=$/2;_.save(),_.fillStyle=C.cornerColor||P.cornerColor,_.strokeStyle=C.cornerStrokeColor||P.cornerStrokeColor,_.lineWidth=1,_.translate(b,O),_.rotate(S(P.angle)),_[ne+"Rect"](-ge,-_e,F,$),ue&&_.strokeRect(-ge,-_e,F,$),_.restore()}}(De),function(I){"use strict";var x=I.fabric||(I.fabric={});x.Control=function S(M){for(var m in M)this[m]=M[m]},x.Control.prototype={visible:!0,actionName:"scale",angle:0,x:0,y:0,offsetX:0,offsetY:0,sizeX:null,sizeY:null,touchSizeX:null,touchSizeY:null,cursorStyle:"crosshair",withConnection:!1,actionHandler:function(){},mouseDownHandler:function(){},mouseUpHandler:function(){},getActionHandler:function(){return this.actionHandler},getMouseDownHandler:function(){return this.mouseDownHandler},getMouseUpHandler:function(){return this.mouseUpHandler},cursorStyleHandler:function(M,m){return m.cursorStyle},getActionName:function(M,m){return m.actionName},getVisibility:function(M,m){var g=M._controlsVisibility;return g&&typeof g[m]<"u"?g[m]:this.visible},setVisibility:function(M){this.visible=M},positionHandler:function(M,m){return x.util.transformPoint({x:this.x*M.x+this.offsetX,y:this.y*M.y+this.offsetY},m)},calcCornerCoords:function(M,m,g,_,b){var O,C,P,F,$=b?this.touchSizeX:this.sizeX,Q=b?this.touchSizeY:this.sizeY;if($&&Q&&$!==Q){var ne=Math.atan2(Q,$),ue=Math.sqrt($*$+Q*Q)/2,ge=ne-x.util.degreesToRadians(M),_e=Math.PI/2-ne-x.util.degreesToRadians(M);O=ue*x.util.cos(ge),C=ue*x.util.sin(ge),P=ue*x.util.cos(_e),F=ue*x.util.sin(_e)}else ue=.7071067812*($&&Q?$:m),ge=x.util.degreesToRadians(45-M),O=P=ue*x.util.cos(ge),C=F=ue*x.util.sin(ge);return{tl:{x:g-F,y:_-P},tr:{x:g+O,y:_-C},bl:{x:g-O,y:_+C},br:{x:g+F,y:_+P}}},render:function(M,m,g,_,b){"circle"===((_=_||{}).cornerStyle||b.cornerStyle)?x.controlsUtils.renderCircleControl.call(this,M,m,g,_,b):x.controlsUtils.renderSquareControl.call(this,M,m,g,_,b)}}}(De),function(){function I(g,_){var C,P,F,$,b=g.getAttribute("style"),O=g.getAttribute("offset")||0;if(O=(O=parseFloat(O)/(/%$/.test(O)?100:1))<0?0:O>1?1:O,b){var Q=b.split(/\s*;\s*/);for(""===Q[Q.length-1]&&Q.pop(),$=Q.length;$--;){var ne=Q[$].split(/\s*:\s*/),ue=ne[0].trim(),ge=ne[1].trim();"stop-color"===ue?C=ge:"stop-opacity"===ue&&(F=ge)}}return C||(C=g.getAttribute("stop-color")||"rgb(0,0,0)"),F||(F=g.getAttribute("stop-opacity")),P=(C=new n.Color(C)).getAlpha(),F=isNaN(parseFloat(F))?1:parseFloat(F),F*=P*_,{offset:O,color:C.toRgb(),opacity:F}}var M=n.util.object.clone;n.Gradient=n.util.createClass({offsetX:0,offsetY:0,gradientTransform:null,gradientUnits:"pixels",type:"linear",initialize:function(g){g||(g={}),g.coords||(g.coords={});var _,b=this;Object.keys(g).forEach(function(O){b[O]=g[O]}),this.id?this.id+="_"+n.Object.__uid++:this.id=n.Object.__uid++,_={x1:g.coords.x1||0,y1:g.coords.y1||0,x2:g.coords.x2||0,y2:g.coords.y2||0},"radial"===this.type&&(_.r1=g.coords.r1||0,_.r2=g.coords.r2||0),this.coords=_,this.colorStops=g.colorStops.slice()},addColorStop:function(g){for(var _ in g){var b=new n.Color(g[_]);this.colorStops.push({offset:parseFloat(_),color:b.toRgb(),opacity:b.getAlpha()})}return this},toObject:function(g){var _={type:this.type,coords:this.coords,colorStops:this.colorStops,offsetX:this.offsetX,offsetY:this.offsetY,gradientUnits:this.gradientUnits,gradientTransform:this.gradientTransform?this.gradientTransform.concat():this.gradientTransform};return n.util.populateWithProperties(this,_,g),_},toSVG:function(g,P){var O,C,F,$,b=M(this.coords,!0),Q=(P=P||{},M(this.colorStops,!0)),ne=b.r1>b.r2,ue=this.gradientTransform?this.gradientTransform.concat():n.iMatrix.concat(),ge=-this.offsetX,_e=-this.offsetY,Ie=!!P.additionalTransform,We="pixels"===this.gradientUnits?"userSpaceOnUse":"objectBoundingBox";if(Q.sort(function(lt,Xt){return lt.offset-Xt.offset}),"objectBoundingBox"===We?(ge/=g.width,_e/=g.height):(ge+=g.width/2,_e+=g.height/2),"path"===g.type&&"percentage"!==this.gradientUnits&&(ge-=g.pathOffset.x,_e-=g.pathOffset.y),ue[4]-=ge,ue[5]-=_e,$='id="SVGID_'+this.id+'" gradientUnits="'+We+'"',$+=' gradientTransform="'+(Ie?P.additionalTransform+" ":"")+n.util.matrixToSVG(ue)+'" ',"linear"===this.type?F=["<linearGradient ",$,' x1="',b.x1,'" y1="',b.y1,'" x2="',b.x2,'" y2="',b.y2,'">\n']:"radial"===this.type&&(F=["<radialGradient ",$,' cx="',ne?b.x1:b.x2,'" cy="',ne?b.y1:b.y2,'" r="',ne?b.r1:b.r2,'" fx="',ne?b.x2:b.x1,'" fy="',ne?b.y2:b.y1,'">\n']),"radial"===this.type){if(ne)for((Q=Q.concat()).reverse(),O=0,C=Q.length;O<C;O++)Q[O].offset=1-Q[O].offset;var Ke=Math.min(b.r1,b.r2);if(Ke>0){var ht=Ke/Math.max(b.r1,b.r2);for(O=0,C=Q.length;O<C;O++)Q[O].offset+=ht*(1-Q[O].offset)}}for(O=0,C=Q.length;O<C;O++){var bt=Q[O];F.push("<stop ",'offset="',100*bt.offset+"%",'" style="stop-color:',bt.color,typeof bt.opacity<"u"?";stop-opacity: "+bt.opacity:";",'"/>\n')}return F.push("linear"===this.type?"</linearGradient>\n":"</radialGradient>\n"),F.join("")},toLive:function(g){var _,O,C,b=n.util.object.clone(this.coords);if(this.type){for("linear"===this.type?_=g.createLinearGradient(b.x1,b.y1,b.x2,b.y2):"radial"===this.type&&(_=g.createRadialGradient(b.x1,b.y1,b.r1,b.x2,b.y2,b.r2)),O=0,C=this.colorStops.length;O<C;O++){var P=this.colorStops[O].color,F=this.colorStops[O].opacity,$=this.colorStops[O].offset;typeof F<"u"&&(P=new n.Color(P).setAlpha(F).toRgba()),_.addColorStop($,P)}return _}}}),n.util.object.extend(n.Gradient,{fromElement:function(g,_,b,O){var C=parseFloat(b)/(/%$/.test(b)?100:1);C=C<0?0:C>1?1:C,isNaN(C)&&(C=1);var F,ue,ge,We,P=g.getElementsByTagName("stop"),$="userSpaceOnUse"===g.getAttribute("gradientUnits")?"pixels":"percentage",Q=g.getAttribute("gradientTransform")||"",ne=[],_e=0,Ie=0;for("linearGradient"===g.nodeName||"LINEARGRADIENT"===g.nodeName?(F="linear",ue=function x(g){return{x1:g.getAttribute("x1")||0,y1:g.getAttribute("y1")||0,x2:g.getAttribute("x2")||"100%",y2:g.getAttribute("y2")||0}}(g)):(F="radial",ue=function S(g){return{x1:g.getAttribute("fx")||g.getAttribute("cx")||"50%",y1:g.getAttribute("fy")||g.getAttribute("cy")||"50%",r1:0,x2:g.getAttribute("cx")||"50%",y2:g.getAttribute("cy")||"50%",r2:g.getAttribute("r")||"50%"}}(g)),ge=P.length;ge--;)ne.push(I(P[ge],C));return We=n.parseTransformAttribute(Q),function m(g,_,b,O){var C,P;Object.keys(_).forEach(function(F){"Infinity"===(C=_[F])?P=1:"-Infinity"===C?P=0:(P=parseFloat(_[F],10),"string"==typeof C&&/^(\d+\.\d+)%|(\d+)%$/.test(C)&&(P*=.01,"pixels"===O&&(("x1"===F||"x2"===F||"r2"===F)&&(P*=b.viewBoxWidth||b.width),("y1"===F||"y2"===F)&&(P*=b.viewBoxHeight||b.height)))),_[F]=P})}(0,ue,O,$),"pixels"===$&&(_e=-_.left,Ie=-_.top),new n.Gradient({id:g.getAttribute("id"),type:F,coords:ue,colorStops:ne,gradientUnits:$,gradientTransform:We,offsetX:_e,offsetY:Ie})}})}(),function(){"use strict";var I=n.util.toFixed;n.Pattern=n.util.createClass({repeat:"repeat",offsetX:0,offsetY:0,crossOrigin:"",patternTransform:null,initialize:function(x,S){if(x||(x={}),this.id=n.Object.__uid++,this.setOptions(x),!x.source||x.source&&"string"!=typeof x.source)S&&S(this);else{var M=this;this.source=n.util.createImage(),n.util.loadImage(x.source,function(m,g){M.source=m,S&&S(M,g)},null,this.crossOrigin)}},toObject:function(x){var M,m,S=n.Object.NUM_FRACTION_DIGITS;return"string"==typeof this.source.src?M=this.source.src:"object"==typeof this.source&&this.source.toDataURL&&(M=this.source.toDataURL()),m={type:"pattern",source:M,repeat:this.repeat,crossOrigin:this.crossOrigin,offsetX:I(this.offsetX,S),offsetY:I(this.offsetY,S),patternTransform:this.patternTransform?this.patternTransform.concat():null},n.util.populateWithProperties(this,m,x),m},toSVG:function(x){var S="function"==typeof this.source?this.source():this.source,M=S.width/x.width,m=S.height/x.height,g=this.offsetX/x.width,_=this.offsetY/x.height,b="";return("repeat-x"===this.repeat||"no-repeat"===this.repeat)&&(m=1,_&&(m+=Math.abs(_))),("repeat-y"===this.repeat||"no-repeat"===this.repeat)&&(M=1,g&&(M+=Math.abs(g))),S.src?b=S.src:S.toDataURL&&(b=S.toDataURL()),'<pattern id="SVGID_'+this.id+'" x="'+g+'" y="'+_+'" width="'+M+'" height="'+m+'">\n<image x="0" y="0" width="'+S.width+'" height="'+S.height+'" xlink:href="'+b+'"></image>\n</pattern>\n'},setOptions:function(x){for(var S in x)this[S]=x[S]},toLive:function(x){var S=this.source;return!S||typeof S.src<"u"&&(!S.complete||0===S.naturalWidth||0===S.naturalHeight)?"":x.createPattern(S,this.repeat)}})}(),function(I){"use strict";var x=I.fabric||(I.fabric={}),S=x.util.toFixed;x.Shadow?x.warn("fabric.Shadow is already defined."):(x.Shadow=x.util.createClass({color:"rgb(0,0,0)",blur:0,offsetX:0,offsetY:0,affectStroke:!1,includeDefaultValues:!0,nonScaling:!1,initialize:function(M){for(var m in"string"==typeof M&&(M=this._parseShadow(M)),M)this[m]=M[m];this.id=x.Object.__uid++},_parseShadow:function(M){var m=M.trim(),g=x.Shadow.reOffsetsAndBlur.exec(m)||[];return{color:(m.replace(x.Shadow.reOffsetsAndBlur,"")||"rgb(0,0,0)").trim(),offsetX:parseFloat(g[1],10)||0,offsetY:parseFloat(g[2],10)||0,blur:parseFloat(g[3],10)||0}},toString:function(){return[this.offsetX,this.offsetY,this.blur,this.color].join("px ")},toSVG:function(M){var m=40,g=40,_=x.Object.NUM_FRACTION_DIGITS,b=x.util.rotateVector({x:this.offsetX,y:this.offsetY},x.util.degreesToRadians(-M.angle)),C=new x.Color(this.color);return M.width&&M.height&&(m=100*S((Math.abs(b.x)+this.blur)/M.width,_)+20,g=100*S((Math.abs(b.y)+this.blur)/M.height,_)+20),M.flipX&&(b.x*=-1),M.flipY&&(b.y*=-1),'<filter id="SVGID_'+this.id+'" y="-'+g+'%" height="'+(100+2*g)+'%" x="-'+m+'%" width="'+(100+2*m)+'%" >\n\t<feGaussianBlur in="SourceAlpha" stdDeviation="'+S(this.blur?this.blur/2:0,_)+'"></feGaussianBlur>\n\t<feOffset dx="'+S(b.x,_)+'" dy="'+S(b.y,_)+'" result="oBlur" ></feOffset>\n\t<feFlood flood-color="'+C.toRgb()+'" flood-opacity="'+C.getAlpha()+'"/>\n\t<feComposite in2="oBlur" operator="in" />\n\t<feMerge>\n\t\t<feMergeNode></feMergeNode>\n\t\t<feMergeNode in="SourceGraphic"></feMergeNode>\n\t</feMerge>\n</filter>\n'},toObject:function(){if(this.includeDefaultValues)return{color:this.color,blur:this.blur,offsetX:this.offsetX,offsetY:this.offsetY,affectStroke:this.affectStroke,nonScaling:this.nonScaling};var M={},m=x.Shadow.prototype;return["color","blur","offsetX","offsetY","affectStroke","nonScaling"].forEach(function(g){this[g]!==m[g]&&(M[g]=this[g])},this),M}}),x.Shadow.reOffsetsAndBlur=/(?:\s|^)(-?\d+(?:\.\d*)?(?:px)?(?:\s?|$))?(-?\d+(?:\.\d*)?(?:px)?(?:\s?|$))?(\d+(?:\.\d*)?(?:px)?)?(?:\s?|$)(?:$|\s)/)}(De),function(){"use strict";if(n.StaticCanvas)n.warn("fabric.StaticCanvas is already defined.");else{var I=n.util.object.extend,x=n.util.getElementOffset,S=n.util.removeFromArray,M=n.util.toFixed,m=n.util.transformPoint,g=n.util.invertTransform,_=n.util.getNodeCanvas,b=n.util.createCanvasElement,O=new Error("Could not initialize `canvas` element");n.StaticCanvas=n.util.createClass(n.CommonMethods,{initialize:function(C,P){P||(P={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(C,P)},backgroundColor:"",backgroundImage:null,overlayColor:"",overlayImage:null,includeDefaultValues:!0,stateful:!1,renderOnAddRemove:!0,controlsAboveOverlay:!1,allowTouchScrolling:!1,imageSmoothingEnabled:!0,viewportTransform:n.iMatrix.concat(),backgroundVpt:!0,overlayVpt:!0,enableRetinaScaling:!0,vptCoords:{},skipOffscreen:!0,clipPath:void 0,_initStatic:function(C,P){var F=this.requestRenderAllBound;this._objects=[],this._createLowerCanvas(C),this._initOptions(P),this.interactive||this._initRetinaScaling(),P.overlayImage&&this.setOverlayImage(P.overlayImage,F),P.backgroundImage&&this.setBackgroundImage(P.backgroundImage,F),P.backgroundColor&&this.setBackgroundColor(P.backgroundColor,F),P.overlayColor&&this.setOverlayColor(P.overlayColor,F),this.calcOffset()},_isRetinaScaling:function(){return n.devicePixelRatio>1&&this.enableRetinaScaling},getRetinaScaling:function(){return this._isRetinaScaling()?Math.max(1,n.devicePixelRatio):1},_initRetinaScaling:function(){if(this._isRetinaScaling()){var C=n.devicePixelRatio;this.__initRetinaScaling(C,this.lowerCanvasEl,this.contextContainer),this.upperCanvasEl&&this.__initRetinaScaling(C,this.upperCanvasEl,this.contextTop)}},__initRetinaScaling:function(C,P,F){P.setAttribute("width",this.width*C),P.setAttribute("height",this.height*C),F.scale(C,C)},calcOffset:function(){return this._offset=x(this.lowerCanvasEl),this},setOverlayImage:function(C,P,F){return this.__setBgOverlayImage("overlayImage",C,P,F)},setBackgroundImage:function(C,P,F){return this.__setBgOverlayImage("backgroundImage",C,P,F)},setOverlayColor:function(C,P){return this.__setBgOverlayColor("overlayColor",C,P)},setBackgroundColor:function(C,P){return this.__setBgOverlayColor("backgroundColor",C,P)},__setBgOverlayImage:function(C,P,F,$){return"string"==typeof P?n.util.loadImage(P,function(Q,ne){if(Q){var ue=new n.Image(Q,$);this[C]=ue,ue.canvas=this}F&&F(Q,ne)},this,$&&$.crossOrigin):($&&P.setOptions($),this[C]=P,P&&(P.canvas=this),F&&F(P,!1)),this},__setBgOverlayColor:function(C,P,F){return this[C]=P,this._initGradient(P,C),this._initPattern(P,C,F),this},_createCanvasElement:function(){var C=b();if(!C||(C.style||(C.style={}),typeof C.getContext>"u"))throw O;return C},_initOptions:function(C){var P=this.lowerCanvasEl;this._setOptions(C),this.width=this.width||parseInt(P.width,10)||0,this.height=this.height||parseInt(P.height,10)||0,this.lowerCanvasEl.style&&(P.width=this.width,P.height=this.height,P.style.width=this.width+"px",P.style.height=this.height+"px",this.viewportTransform=this.viewportTransform.slice())},_createLowerCanvas:function(C){this.lowerCanvasEl=C&&C.getContext?C:n.util.getById(C)||this._createCanvasElement(),n.util.addClass(this.lowerCanvasEl,"lower-canvas"),this._originalCanvasStyle=this.lowerCanvasEl.style,this.interactive&&this._applyCanvasStyle(this.lowerCanvasEl),this.contextContainer=this.lowerCanvasEl.getContext("2d")},getWidth:function(){return this.width},getHeight:function(){return this.height},setWidth:function(C,P){return this.setDimensions({width:C},P)},setHeight:function(C,P){return this.setDimensions({height:C},P)},setDimensions:function(C,P){var F;for(var $ in P=P||{},C)F=C[$],P.cssOnly||(this._setBackstoreDimension($,C[$]),F+="px",this.hasLostContext=!0),P.backstoreOnly||this._setCssDimension($,F);return this._isCurrentlyDrawing&&this.freeDrawingBrush&&this.freeDrawingBrush._setBrushStyles(this.contextTop),this._initRetinaScaling(),this.calcOffset(),P.cssOnly||this.requestRenderAll(),this},_setBackstoreDimension:function(C,P){return this.lowerCanvasEl[C]=P,this.upperCanvasEl&&(this.upperCanvasEl[C]=P),this.cacheCanvasEl&&(this.cacheCanvasEl[C]=P),this[C]=P,this},_setCssDimension:function(C,P){return this.lowerCanvasEl.style[C]=P,this.upperCanvasEl&&(this.upperCanvasEl.style[C]=P),this.wrapperEl&&(this.wrapperEl.style[C]=P),this},getZoom:function(){return this.viewportTransform[0]},setViewportTransform:function(C){var Q,ne,ue,P=this._activeObject,F=this.backgroundImage,$=this.overlayImage;for(this.viewportTransform=C,ne=0,ue=this._objects.length;ne<ue;ne++)(Q=this._objects[ne]).group||Q.setCoords(!0);return P&&P.setCoords(),F&&F.setCoords(!0),$&&$.setCoords(!0),this.calcViewportBoundaries(),this.renderOnAddRemove&&this.requestRenderAll(),this},zoomToPoint:function(C,P){var F=C,$=this.viewportTransform.slice(0);C=m(C,g(this.viewportTransform)),$[0]=P,$[3]=P;var Q=m(C,$);return $[4]+=F.x-Q.x,$[5]+=F.y-Q.y,this.setViewportTransform($)},setZoom:function(C){return this.zoomToPoint(new n.Point(0,0),C),this},absolutePan:function(C){var P=this.viewportTransform.slice(0);return P[4]=-C.x,P[5]=-C.y,this.setViewportTransform(P)},relativePan:function(C){return this.absolutePan(new n.Point(-C.x-this.viewportTransform[4],-C.y-this.viewportTransform[5]))},getElement:function(){return this.lowerCanvasEl},_onObjectAdded:function(C){this.stateful&&C.setupState(),C._set("canvas",this),C.setCoords(),this.fire("object:added",{target:C}),C.fire("added")},_onObjectRemoved:function(C){this.fire("object:removed",{target:C}),C.fire("removed"),delete C.canvas},clearContext:function(C){return C.clearRect(0,0,this.width,this.height),this},getContext:function(){return this.contextContainer},clear:function(){return this.remove.apply(this,this.getObjects()),this.backgroundImage=null,this.overlayImage=null,this.backgroundColor="",this.overlayColor="",this._hasITextHandlers&&(this.off("mouse:up",this._mouseUpITextHandler),this._iTextInstances=null,this._hasITextHandlers=!1),this.clearContext(this.contextContainer),this.fire("canvas:cleared"),this.renderOnAddRemove&&this.requestRenderAll(),this},renderAll:function(){return this.renderCanvas(this.contextContainer,this._objects),this},renderAndReset:function(){this.isRendering=0,this.renderAll()},requestRenderAll:function(){return this.isRendering||(this.isRendering=n.util.requestAnimFrame(this.renderAndResetBound)),this},calcViewportBoundaries:function(){var C={},P=this.width,F=this.height,$=g(this.viewportTransform);return C.tl=m({x:0,y:0},$),C.br=m({x:P,y:F},$),C.tr=new n.Point(C.br.x,C.tl.y),C.bl=new n.Point(C.tl.x,C.br.y),this.vptCoords=C,C},cancelRequestedRender:function(){this.isRendering&&(n.util.cancelAnimFrame(this.isRendering),this.isRendering=0)},renderCanvas:function(C,P){var F=this.viewportTransform,$=this.clipPath;this.cancelRequestedRender(),this.calcViewportBoundaries(),this.clearContext(C),n.util.setImageSmoothing(C,this.imageSmoothingEnabled),this.fire("before:render",{ctx:C}),this._renderBackground(C),C.save(),C.transform(F[0],F[1],F[2],F[3],F[4],F[5]),this._renderObjects(C,P),C.restore(),!this.controlsAboveOverlay&&this.interactive&&this.drawControls(C),$&&($.canvas=this,$.shouldCache(),$._transformDone=!0,$.renderCache({forClipping:!0}),this.drawClipPathOnCanvas(C)),this._renderOverlay(C),this.controlsAboveOverlay&&this.interactive&&this.drawControls(C),this.fire("after:render",{ctx:C})},drawClipPathOnCanvas:function(C){var P=this.viewportTransform,F=this.clipPath;C.save(),C.transform(P[0],P[1],P[2],P[3],P[4],P[5]),C.globalCompositeOperation="destination-in",F.transform(C),C.scale(1/F.zoomX,1/F.zoomY),C.drawImage(F._cacheCanvas,-F.cacheTranslationX,-F.cacheTranslationY),C.restore()},_renderObjects:function(C,P){var F,$;for(F=0,$=P.length;F<$;++F)P[F]&&P[F].render(C)},_renderBackgroundOrOverlay:function(C,P){var F=this[P+"Color"],$=this[P+"Image"],Q=this.viewportTransform,ne=this[P+"Vpt"];if(F||$){if(F){C.save(),C.beginPath(),C.moveTo(0,0),C.lineTo(this.width,0),C.lineTo(this.width,this.height),C.lineTo(0,this.height),C.closePath(),C.fillStyle=F.toLive?F.toLive(C,this):F,ne&&C.transform(Q[0],Q[1],Q[2],Q[3],Q[4],Q[5]),C.transform(1,0,0,1,F.offsetX||0,F.offsetY||0);var ue=F.gradientTransform||F.patternTransform;ue&&C.transform(ue[0],ue[1],ue[2],ue[3],ue[4],ue[5]),C.fill(),C.restore()}$&&(C.save(),ne&&C.transform(Q[0],Q[1],Q[2],Q[3],Q[4],Q[5]),$.render(C),C.restore())}},_renderBackground:function(C){this._renderBackgroundOrOverlay(C,"background")},_renderOverlay:function(C){this._renderBackgroundOrOverlay(C,"overlay")},getCenter:function(){return{top:this.height/2,left:this.width/2}},getCenterPoint:function(){return new n.Point(this.width/2,this.height/2)},centerObjectH:function(C){return this._centerObject(C,new n.Point(this.getCenterPoint().x,C.getCenterPoint().y))},centerObjectV:function(C){return this._centerObject(C,new n.Point(C.getCenterPoint().x,this.getCenterPoint().y))},centerObject:function(C){var P=this.getCenterPoint();return this._centerObject(C,P)},viewportCenterObject:function(C){var P=this.getVpCenter();return this._centerObject(C,P)},viewportCenterObjectH:function(C){var P=this.getVpCenter();return this._centerObject(C,new n.Point(P.x,C.getCenterPoint().y)),this},viewportCenterObjectV:function(C){var P=this.getVpCenter();return this._centerObject(C,new n.Point(C.getCenterPoint().x,P.y))},getVpCenter:function(){var C=this.getCenterPoint(),P=g(this.viewportTransform);return m(C,P)},_centerObject:function(C,P){return C.setPositionByOrigin(P,"center","center"),C.setCoords(),this.renderOnAddRemove&&this.requestRenderAll(),this},toDatalessJSON:function(C){return this.toDatalessObject(C)},toObject:function(C){return this._toObjectMethod("toObject",C)},toDatalessObject:function(C){return this._toObjectMethod("toDatalessObject",C)},_toObjectMethod:function(C,P){var F=this.clipPath,$={version:n.version,objects:this._toObjects(C,P)};return F&&!F.excludeFromExport&&($.clipPath=this._toObject(this.clipPath,C,P)),I($,this.__serializeBgOverlay(C,P)),n.util.populateWithProperties(this,$,P),$},_toObjects:function(C,P){return this._objects.filter(function(F){return!F.excludeFromExport}).map(function(F){return this._toObject(F,C,P)},this)},_toObject:function(C,P,F){var $;this.includeDefaultValues||($=C.includeDefaultValues,C.includeDefaultValues=!1);var Q=C[P](F);return this.includeDefaultValues||(C.includeDefaultValues=$),Q},__serializeBgOverlay:function(C,P){var F={},$=this.backgroundImage,Q=this.overlayImage,ne=this.backgroundColor,ue=this.overlayColor;return ne&&ne.toObject?ne.excludeFromExport||(F.background=ne.toObject(P)):ne&&(F.background=ne),ue&&ue.toObject?ue.excludeFromExport||(F.overlay=ue.toObject(P)):ue&&(F.overlay=ue),$&&!$.excludeFromExport&&(F.backgroundImage=this._toObject($,C,P)),Q&&!Q.excludeFromExport&&(F.overlayImage=this._toObject(Q,C,P)),F},svgViewportTransformation:!0,toSVG:function(C,P){C||(C={}),C.reviver=P;var F=[];return this._setSVGPreamble(F,C),this._setSVGHeader(F,C),this.clipPath&&F.push('<g clip-path="url(#'+this.clipPath.clipPathId+')" >\n'),this._setSVGBgOverlayColor(F,"background"),this._setSVGBgOverlayImage(F,"backgroundImage",P),this._setSVGObjects(F,P),this.clipPath&&F.push("</g>\n"),this._setSVGBgOverlayColor(F,"overlay"),this._setSVGBgOverlayImage(F,"overlayImage",P),F.push("</svg>"),F.join("")},_setSVGPreamble:function(C,P){P.suppressPreamble||C.push('<?xml version="1.0" encoding="',P.encoding||"UTF-8",'" standalone="no" ?>\n','<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" ','"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n')},_setSVGHeader:function(C,P){var Q,F=P.width||this.width,$=P.height||this.height,ne='viewBox="0 0 '+this.width+" "+this.height+'" ',ue=n.Object.NUM_FRACTION_DIGITS;P.viewBox?ne='viewBox="'+P.viewBox.x+" "+P.viewBox.y+" "+P.viewBox.width+" "+P.viewBox.height+'" ':this.svgViewportTransformation&&(ne='viewBox="'+M(-(Q=this.viewportTransform)[4]/Q[0],ue)+" "+M(-Q[5]/Q[3],ue)+" "+M(this.width/Q[0],ue)+" "+M(this.height/Q[3],ue)+'" '),C.push("<svg ",'xmlns="http://www.w3.org/2000/svg" ','xmlns:xlink="http://www.w3.org/1999/xlink" ','version="1.1" ','width="',F,'" ','height="',$,'" ',ne,'xml:space="preserve">\n',"<desc>Created with Fabric.js ",n.version,"</desc>\n","<defs>\n",this.createSVGFontFacesMarkup(),this.createSVGRefElementsMarkup(),this.createSVGClipPathMarkup(P),"</defs>\n")},createSVGClipPathMarkup:function(C){var P=this.clipPath;return P?(P.clipPathId="CLIPPATH_"+n.Object.__uid++,'<clipPath id="'+P.clipPathId+'" >\n'+this.clipPath.toClipPathSVG(C.reviver)+"</clipPath>\n"):""},createSVGRefElementsMarkup:function(){var C=this;return["background","overlay"].map(function(F){var $=C[F+"Color"];if($&&$.toLive){var Q=C[F+"Vpt"],ne=C.viewportTransform;return $.toSVG({width:C.width/(Q?ne[0]:1),height:C.height/(Q?ne[3]:1)},{additionalTransform:Q?n.util.matrixToSVG(ne):""})}}).join("")},createSVGFontFacesMarkup:function(){var F,$,Q,ne,ue,_e,Ie,We,C="",P={},Ke=n.fontPaths,yt=[];for(this._objects.forEach(function bt(lt){yt.push(lt),lt._objects&&lt._objects.forEach(bt)}),Ie=0,We=yt.length;Ie<We;Ie++)if($=(F=yt[Ie]).fontFamily,-1!==F.type.indexOf("text")&&!P[$]&&Ke[$]&&(P[$]=!0,F.styles))for(ue in Q=F.styles)for(_e in ne=Q[ue])!P[$=ne[_e].fontFamily]&&Ke[$]&&(P[$]=!0);for(var ht in P)C+=["\t\t@font-face {\n","\t\t\tfont-family: '",ht,"';\n","\t\t\tsrc: url('",Ke[ht],"');\n","\t\t}\n"].join("");return C&&(C=['\t<style type="text/css">',"<![CDATA[\n",C,"]]>","</style>\n"].join("")),C},_setSVGObjects:function(C,P){var F,$,Q,ne=this._objects;for($=0,Q=ne.length;$<Q;$++)!(F=ne[$]).excludeFromExport&&this._setSVGObject(C,F,P)},_setSVGObject:function(C,P,F){C.push(P.toSVG(F))},_setSVGBgOverlayImage:function(C,P,F){this[P]&&!this[P].excludeFromExport&&this[P].toSVG&&C.push(this[P].toSVG(F))},_setSVGBgOverlayColor:function(C,P){var F=this[P+"Color"],Q=this.width,ne=this.height;if(F)if(F.toLive){var ue=F.repeat,ge=n.util.invertTransform(this.viewportTransform),Ie=this[P+"Vpt"]?n.util.matrixToSVG(ge):"";C.push('<rect transform="'+Ie+" translate(",Q/2,",",ne/2,')"',' x="',F.offsetX-Q/2,'" y="',F.offsetY-ne/2,'" ','width="',"repeat-y"===ue||"no-repeat"===ue?F.source.width:Q,'" height="',"repeat-x"===ue||"no-repeat"===ue?F.source.height:ne,'" fill="url(#SVGID_'+F.id+')"',"></rect>\n")}else C.push('<rect x="0" y="0" width="100%" height="100%" ','fill="',F,'"',"></rect>\n")},sendToBack:function(C){if(!C)return this;var F,$,Q,P=this._activeObject;if(C===P&&"activeSelection"===C.type)for(F=(Q=P._objects).length;F--;)S(this._objects,$=Q[F]),this._objects.unshift($);else S(this._objects,C),this._objects.unshift(C);return this.renderOnAddRemove&&this.requestRenderAll(),this},bringToFront:function(C){if(!C)return this;var F,$,Q,P=this._activeObject;if(C===P&&"activeSelection"===C.type)for(Q=P._objects,F=0;F<Q.length;F++)S(this._objects,$=Q[F]),this._objects.push($);else S(this._objects,C),this._objects.push(C);return this.renderOnAddRemove&&this.requestRenderAll(),this},sendBackwards:function(C,P){if(!C)return this;var $,Q,ne,ue,ge,F=this._activeObject,_e=0;if(C===F&&"activeSelection"===C.type)for(ge=F._objects,$=0;$<ge.length;$++)(ne=this._objects.indexOf(Q=ge[$]))>0+_e&&(ue=ne-1,S(this._objects,Q),this._objects.splice(ue,0,Q)),_e++;else 0!==(ne=this._objects.indexOf(C))&&(ue=this._findNewLowerIndex(C,ne,P),S(this._objects,C),this._objects.splice(ue,0,C));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewLowerIndex:function(C,P,F){var $,Q;if(F){for($=P,Q=P-1;Q>=0;--Q)if(C.intersectsWithObject(this._objects[Q])||C.isContainedWithinObject(this._objects[Q])||this._objects[Q].isContainedWithinObject(C)){$=Q;break}}else $=P-1;return $},bringForward:function(C,P){if(!C)return this;var $,Q,ne,ue,ge,F=this._activeObject,_e=0;if(C===F&&"activeSelection"===C.type)for($=(ge=F._objects).length;$--;)(ne=this._objects.indexOf(Q=ge[$]))<this._objects.length-1-_e&&(ue=ne+1,S(this._objects,Q),this._objects.splice(ue,0,Q)),_e++;else(ne=this._objects.indexOf(C))!==this._objects.length-1&&(ue=this._findNewUpperIndex(C,ne,P),S(this._objects,C),this._objects.splice(ue,0,C));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewUpperIndex:function(C,P,F){var $,Q,ne;if(F){for($=P,Q=P+1,ne=this._objects.length;Q<ne;++Q)if(C.intersectsWithObject(this._objects[Q])||C.isContainedWithinObject(this._objects[Q])||this._objects[Q].isContainedWithinObject(C)){$=Q;break}}else $=P+1;return $},moveTo:function(C,P){return S(this._objects,C),this._objects.splice(P,0,C),this.renderOnAddRemove&&this.requestRenderAll()},dispose:function(){return this.isRendering&&(n.util.cancelAnimFrame(this.isRendering),this.isRendering=0),this.forEachObject(function(C){C.dispose&&C.dispose()}),this._objects=[],this.backgroundImage&&this.backgroundImage.dispose&&this.backgroundImage.dispose(),this.backgroundImage=null,this.overlayImage&&this.overlayImage.dispose&&this.overlayImage.dispose(),this.overlayImage=null,this._iTextInstances=null,this.contextContainer=null,this.lowerCanvasEl.classList.remove("lower-canvas"),n.util.setStyle(this.lowerCanvasEl,this._originalCanvasStyle),delete this._originalCanvasStyle,this.lowerCanvasEl.setAttribute("width",this.width),this.lowerCanvasEl.setAttribute("height",this.height),n.util.cleanUpJsdomNode(this.lowerCanvasEl),this.lowerCanvasEl=void 0,this},toString:function(){return"#<fabric.Canvas ("+this.complexity()+"): { objects: "+this._objects.length+" }>"}}),I(n.StaticCanvas.prototype,n.Observable),I(n.StaticCanvas.prototype,n.Collection),I(n.StaticCanvas.prototype,n.DataURLExporter),I(n.StaticCanvas,{EMPTY_JSON:'{"objects": [], "background": "white"}',supports:function(C){var P=b();if(!P||!P.getContext)return null;var F=P.getContext("2d");return F&&"setLineDash"===C?typeof F.setLineDash<"u":null}}),n.StaticCanvas.prototype.toJSON=n.StaticCanvas.prototype.toObject,n.isLikelyNode&&(n.StaticCanvas.prototype.createPNGStream=function(){var C=_(this.lowerCanvasEl);return C&&C.createPNGStream()},n.StaticCanvas.prototype.createJPEGStream=function(C){var P=_(this.lowerCanvasEl);return P&&P.createJPEGStream(C)})}}(),n.BaseBrush=n.util.createClass({color:"rgb(0, 0, 0)",width:1,shadow:null,strokeLineCap:"round",strokeLineJoin:"round",strokeMiterLimit:10,strokeDashArray:null,limitedToCanvasSize:!1,_setBrushStyles:function(I){I.strokeStyle=this.color,I.lineWidth=this.width,I.lineCap=this.strokeLineCap,I.miterLimit=this.strokeMiterLimit,I.lineJoin=this.strokeLineJoin,I.setLineDash(this.strokeDashArray||[])},_saveAndTransform:function(I){var x=this.canvas.viewportTransform;I.save(),I.transform(x[0],x[1],x[2],x[3],x[4],x[5])},_setShadow:function(){if(this.shadow){var I=this.canvas,x=this.shadow,S=I.contextTop,M=I.getZoom();I&&I._isRetinaScaling()&&(M*=n.devicePixelRatio),S.shadowColor=x.color,S.shadowBlur=x.blur*M,S.shadowOffsetX=x.offsetX*M,S.shadowOffsetY=x.offsetY*M}},needsFullRender:function(){return new n.Color(this.color).getAlpha()<1||!!this.shadow},_resetShadow:function(){var I=this.canvas.contextTop;I.shadowColor="",I.shadowBlur=I.shadowOffsetX=I.shadowOffsetY=0},_isOutSideCanvas:function(I){return I.x<0||I.x>this.canvas.getWidth()||I.y<0||I.y>this.canvas.getHeight()}}),n.PencilBrush=n.util.createClass(n.BaseBrush,{decimate:.4,drawStraightLine:!1,straightLineKey:"shiftKey",initialize:function(I){this.canvas=I,this._points=[]},needsFullRender:function(){return this.callSuper("needsFullRender")||this._hasStraightLine},_drawSegment:function(I,x,S){var M=x.midPointFrom(S);return I.quadraticCurveTo(x.x,x.y,M.x,M.y),M},onMouseDown:function(I,x){!this.canvas._isMainEvent(x.e)||(this.drawStraightLine=x.e[this.straightLineKey],this._prepareForDrawing(I),this._captureDrawingPath(I),this._render())},onMouseMove:function(I,x){if(this.canvas._isMainEvent(x.e)&&(this.drawStraightLine=x.e[this.straightLineKey],(!0!==this.limitedToCanvasSize||!this._isOutSideCanvas(I))&&this._captureDrawingPath(I)&&this._points.length>1))if(this.needsFullRender())this.canvas.clearContext(this.canvas.contextTop),this._render();else{var S=this._points,M=S.length,m=this.canvas.contextTop;this._saveAndTransform(m),this.oldEnd&&(m.beginPath(),m.moveTo(this.oldEnd.x,this.oldEnd.y)),this.oldEnd=this._drawSegment(m,S[M-2],S[M-1],!0),m.stroke(),m.restore()}},onMouseUp:function(I){return!this.canvas._isMainEvent(I.e)||(this.drawStraightLine=!1,this.oldEnd=void 0,this._finalizeAndAddPath(),!1)},_prepareForDrawing:function(I){var x=new n.Point(I.x,I.y);this._reset(),this._addPoint(x),this.canvas.contextTop.moveTo(x.x,x.y)},_addPoint:function(I){return!(this._points.length>1&&I.eq(this._points[this._points.length-1])||(this.drawStraightLine&&this._points.length>1&&(this._hasStraightLine=!0,this._points.pop()),this._points.push(I),0))},_reset:function(){this._points=[],this._setBrushStyles(this.canvas.contextTop),this._setShadow(),this._hasStraightLine=!1},_captureDrawingPath:function(I){var x=new n.Point(I.x,I.y);return this._addPoint(x)},_render:function(I){var x,S,M=this._points[0],m=this._points[1];if(this._saveAndTransform(I=I||this.canvas.contextTop),I.beginPath(),2===this._points.length&&M.x===m.x&&M.y===m.y){var g=this.width/1e3;M=new n.Point(M.x,M.y),m=new n.Point(m.x,m.y),M.x-=g,m.x+=g}for(I.moveTo(M.x,M.y),x=1,S=this._points.length;x<S;x++)this._drawSegment(I,M,m),M=this._points[x],m=this._points[x+1];I.lineTo(M.x,M.y),I.stroke(),I.restore()},convertPointsToSVGPath:function(I){return n.util.getSmoothPathFromPoints(I,this.width/1e3)},_isEmptySVGPath:function(I){return"M 0 0 Q 0 0 0 0 L 0 0"===n.util.joinPath(I)},createPath:function(I){var x=new n.Path(I,{fill:null,stroke:this.color,strokeWidth:this.width,strokeLineCap:this.strokeLineCap,strokeMiterLimit:this.strokeMiterLimit,strokeLineJoin:this.strokeLineJoin,strokeDashArray:this.strokeDashArray});return this.shadow&&(this.shadow.affectStroke=!0,x.shadow=new n.Shadow(this.shadow)),x},decimatePoints:function(I,x){if(I.length<=2)return I;var m,S=this.canvas.getZoom(),M=Math.pow(x/S,2),g=I.length-1,_=I[0],b=[_];for(m=1;m<g-1;m++)Math.pow(_.x-I[m].x,2)+Math.pow(_.y-I[m].y,2)>=M&&b.push(_=I[m]);return b.push(I[g]),b},_finalizeAndAddPath:function(){this.canvas.contextTop.closePath(),this.decimate&&(this._points=this.decimatePoints(this._points,this.decimate));var x=this.convertPointsToSVGPath(this._points);if(this._isEmptySVGPath(x))this.canvas.requestRenderAll();else{var S=this.createPath(x);this.canvas.clearContext(this.canvas.contextTop),this.canvas.fire("before:path:created",{path:S}),this.canvas.add(S),this.canvas.requestRenderAll(),S.setCoords(),this._resetShadow(),this.canvas.fire("path:created",{path:S})}}}),n.CircleBrush=n.util.createClass(n.BaseBrush,{width:10,initialize:function(I){this.canvas=I,this.points=[]},drawDot:function(I){var x=this.addPoint(I),S=this.canvas.contextTop;this._saveAndTransform(S),this.dot(S,x),S.restore()},dot:function(I,x){I.fillStyle=x.fill,I.beginPath(),I.arc(x.x,x.y,x.radius,0,2*Math.PI,!1),I.closePath(),I.fill()},onMouseDown:function(I){this.points.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.drawDot(I)},_render:function(){var x,S,I=this.canvas.contextTop,M=this.points;for(this._saveAndTransform(I),x=0,S=M.length;x<S;x++)this.dot(I,M[x]);I.restore()},onMouseMove:function(I){!0===this.limitedToCanvasSize&&this._isOutSideCanvas(I)||(this.needsFullRender()?(this.canvas.clearContext(this.canvas.contextTop),this.addPoint(I),this._render()):this.drawDot(I))},onMouseUp:function(){var x,S,I=this.canvas.renderOnAddRemove;this.canvas.renderOnAddRemove=!1;var M=[];for(x=0,S=this.points.length;x<S;x++){var m=this.points[x],g=new n.Circle({radius:m.radius,left:m.x,top:m.y,originX:"center",originY:"center",fill:m.fill});this.shadow&&(g.shadow=new n.Shadow(this.shadow)),M.push(g)}var _=new n.Group(M);_.canvas=this.canvas,this.canvas.fire("before:path:created",{path:_}),this.canvas.add(_),this.canvas.fire("path:created",{path:_}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=I,this.canvas.requestRenderAll()},addPoint:function(I){var x=new n.Point(I.x,I.y),S=n.util.getRandomInt(Math.max(0,this.width-20),this.width+20)/2,M=new n.Color(this.color).setAlpha(n.util.getRandomInt(0,100)/100).toRgba();return x.radius=S,x.fill=M,this.points.push(x),x}}),n.SprayBrush=n.util.createClass(n.BaseBrush,{width:10,density:20,dotWidth:1,dotWidthVariance:1,randomOpacity:!1,optimizeOverlapping:!0,initialize:function(I){this.canvas=I,this.sprayChunks=[]},onMouseDown:function(I){this.sprayChunks.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.addSprayChunk(I),this.render(this.sprayChunkPoints)},onMouseMove:function(I){!0===this.limitedToCanvasSize&&this._isOutSideCanvas(I)||(this.addSprayChunk(I),this.render(this.sprayChunkPoints))},onMouseUp:function(){var I=this.canvas.renderOnAddRemove;this.canvas.renderOnAddRemove=!1;for(var x=[],S=0,M=this.sprayChunks.length;S<M;S++)for(var m=this.sprayChunks[S],g=0,_=m.length;g<_;g++){var b=new n.Rect({width:m[g].width,height:m[g].width,left:m[g].x+1,top:m[g].y+1,originX:"center",originY:"center",fill:this.color});x.push(b)}this.optimizeOverlapping&&(x=this._getOptimizedRects(x));var O=new n.Group(x);this.shadow&&O.set("shadow",new n.Shadow(this.shadow)),this.canvas.fire("before:path:created",{path:O}),this.canvas.add(O),this.canvas.fire("path:created",{path:O}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=I,this.canvas.requestRenderAll()},_getOptimizedRects:function(I){var S,M,m,x={};for(M=0,m=I.length;M<m;M++)x[S=I[M].left+""+I[M].top]||(x[S]=I[M]);var g=[];for(S in x)g.push(x[S]);return g},render:function(I){var S,M,x=this.canvas.contextTop;for(x.fillStyle=this.color,this._saveAndTransform(x),S=0,M=I.length;S<M;S++){var m=I[S];typeof m.opacity<"u"&&(x.globalAlpha=m.opacity),x.fillRect(m.x,m.y,m.width,m.width)}x.restore()},_render:function(){var x,S,I=this.canvas.contextTop;for(I.fillStyle=this.color,this._saveAndTransform(I),x=0,S=this.sprayChunks.length;x<S;x++)this.render(this.sprayChunks[x]);I.restore()},addSprayChunk:function(I){this.sprayChunkPoints=[];var x,S,M,g,m=this.width/2;for(g=0;g<this.density;g++){x=n.util.getRandomInt(I.x-m,I.x+m),S=n.util.getRandomInt(I.y-m,I.y+m),M=this.dotWidthVariance?n.util.getRandomInt(Math.max(1,this.dotWidth-this.dotWidthVariance),this.dotWidth+this.dotWidthVariance):this.dotWidth;var _=new n.Point(x,S);_.width=M,this.randomOpacity&&(_.opacity=n.util.getRandomInt(0,100)/100),this.sprayChunkPoints.push(_)}this.sprayChunks.push(this.sprayChunkPoints)}}),n.PatternBrush=n.util.createClass(n.PencilBrush,{getPatternSrc:function(){var S=n.util.createCanvasElement(),M=S.getContext("2d");return S.width=S.height=25,M.fillStyle=this.color,M.beginPath(),M.arc(10,10,10,0,2*Math.PI,!1),M.closePath(),M.fill(),S},getPatternSrcFunction:function(){return String(this.getPatternSrc).replace("this.color",'"'+this.color+'"')},getPattern:function(I){return I.createPattern(this.source||this.getPatternSrc(),"repeat")},_setBrushStyles:function(I){this.callSuper("_setBrushStyles",I),I.strokeStyle=this.getPattern(I)},createPath:function(I){var x=this.callSuper("createPath",I),S=x._getLeftTopCoords().scalarAdd(x.strokeWidth/2);return x.stroke=new n.Pattern({source:this.source||this.getPatternSrcFunction(),offsetX:-S.x,offsetY:-S.y}),x}}),function(){var I=n.util.getPointer,x=n.util.degreesToRadians,S=n.util.isTouchEvent;for(var M in n.Canvas=n.util.createClass(n.StaticCanvas,{initialize:function(m,g){g||(g={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(m,g),this._initInteractive(),this._createCacheCanvas()},uniformScaling:!0,uniScaleKey:"shiftKey",centeredScaling:!1,centeredRotation:!1,centeredKey:"altKey",altActionKey:"shiftKey",interactive:!0,selection:!0,selectionKey:"shiftKey",altSelectionKey:null,selectionColor:"rgba(100, 100, 255, 0.3)",selectionDashArray:[],selectionBorderColor:"rgba(255, 255, 255, 0.3)",selectionLineWidth:1,selectionFullyContained:!1,hoverCursor:"move",moveCursor:"move",defaultCursor:"default",freeDrawingCursor:"crosshair",notAllowedCursor:"not-allowed",containerClass:"canvas-container",perPixelTargetFind:!1,targetFindTolerance:0,skipTargetFind:!1,isDrawingMode:!1,preserveObjectStacking:!1,snapAngle:0,snapThreshold:null,stopContextMenu:!1,fireRightClick:!1,fireMiddleClick:!1,targets:[],enablePointerEvents:!1,_hoveredTarget:null,_hoveredTargets:[],_initInteractive:function(){this._currentTransform=null,this._groupSelector=null,this._initWrapperElement(),this._createUpperCanvas(),this._initEventListeners(),this._initRetinaScaling(),this.freeDrawingBrush=n.PencilBrush&&new n.PencilBrush(this),this.calcOffset()},_chooseObjectsToRender:function(){var g,_,b,m=this.getActiveObjects();if(m.length>0&&!this.preserveObjectStacking){_=[],b=[];for(var O=0,C=this._objects.length;O<C;O++)-1===m.indexOf(g=this._objects[O])?_.push(g):b.push(g);m.length>1&&(this._activeObject._objects=b),_.push.apply(_,b)}else _=this._objects;return _},renderAll:function(){return this.contextTopDirty&&!this._groupSelector&&!this.isDrawingMode&&(this.clearContext(this.contextTop),this.contextTopDirty=!1),this.hasLostContext&&(this.renderTopLayer(this.contextTop),this.hasLostContext=!1),this.renderCanvas(this.contextContainer,this._chooseObjectsToRender()),this},renderTopLayer:function(m){m.save(),this.isDrawingMode&&this._isCurrentlyDrawing&&(this.freeDrawingBrush&&this.freeDrawingBrush._render(),this.contextTopDirty=!0),this.selection&&this._groupSelector&&(this._drawSelection(m),this.contextTopDirty=!0),m.restore()},renderTop:function(){var m=this.contextTop;return this.clearContext(m),this.renderTopLayer(m),this.fire("after:render"),this},_normalizePointer:function(m,g){var _=m.calcTransformMatrix(),b=n.util.invertTransform(_),O=this.restorePointerVpt(g);return n.util.transformPoint(O,b)},isTargetTransparent:function(m,g,_){if(m.shouldCache()&&m._cacheCanvas&&m!==this._activeObject){var b=this._normalizePointer(m,{x:g,y:_}),O=Math.max(m.cacheTranslationX+b.x*m.zoomX,0),C=Math.max(m.cacheTranslationY+b.y*m.zoomY,0);return n.util.isTransparent(m._cacheContext,Math.round(O),Math.round(C),this.targetFindTolerance)}var P=this.contextCache,F=m.selectionBackgroundColor,$=this.viewportTransform;return m.selectionBackgroundColor="",this.clearContext(P),P.save(),P.transform($[0],$[1],$[2],$[3],$[4],$[5]),m.render(P),P.restore(),m.selectionBackgroundColor=F,n.util.isTransparent(P,g,_,this.targetFindTolerance)},_isSelectionKeyPressed:function(m){return Array.isArray(this.selectionKey)?!!this.selectionKey.find(function(_){return!0===m[_]}):m[this.selectionKey]},_shouldClearSelection:function(m,g){var _=this.getActiveObjects(),b=this._activeObject;return!g||g&&b&&_.length>1&&-1===_.indexOf(g)&&b!==g&&!this._isSelectionKeyPressed(m)||g&&!g.evented||g&&!g.selectable&&b&&b!==g},_shouldCenterTransform:function(m,g,_){var b;if(m)return"scale"===g||"scaleX"===g||"scaleY"===g||"resizing"===g?b=this.centeredScaling||m.centeredScaling:"rotate"===g&&(b=this.centeredRotation||m.centeredRotation),b?!_:_},_getOriginFromCorner:function(m,g){var _={x:m.originX,y:m.originY};return"ml"===g||"tl"===g||"bl"===g?_.x="right":("mr"===g||"tr"===g||"br"===g)&&(_.x="left"),"tl"===g||"mt"===g||"tr"===g?_.y="bottom":("bl"===g||"mb"===g||"br"===g)&&(_.y="top"),_},_getActionFromCorner:function(m,g,_,b){if(!g||!m)return"drag";var O=b.controls[g];return O.getActionName(_,O,b)},_setupCurrentTransform:function(m,g,_){if(g){var b=this.getPointer(m),O=g.__corner,C=g.controls[O],P=_&&O?C.getActionHandler(m,g,C):n.controlsUtils.dragHandler,F=this._getActionFromCorner(_,O,m,g),$=this._getOriginFromCorner(g,O),Q=m[this.centeredKey],ne={target:g,action:F,actionHandler:P,corner:O,scaleX:g.scaleX,scaleY:g.scaleY,skewX:g.skewX,skewY:g.skewY,offsetX:b.x-g.left,offsetY:b.y-g.top,originX:$.x,originY:$.y,ex:b.x,ey:b.y,lastX:b.x,lastY:b.y,theta:x(g.angle),width:g.width*g.scaleX,shiftKey:m.shiftKey,altKey:Q,original:n.util.saveObjectTransform(g)};this._shouldCenterTransform(g,F,Q)&&(ne.originX="center",ne.originY="center"),ne.original.originX=$.x,ne.original.originY=$.y,this._currentTransform=ne,this._beforeTransform(m)}},setCursor:function(m){this.upperCanvasEl.style.cursor=m},_drawSelection:function(m){var g=this._groupSelector,_=new n.Point(g.ex,g.ey),b=n.util.transformPoint(_,this.viewportTransform),O=new n.Point(g.ex+g.left,g.ey+g.top),C=n.util.transformPoint(O,this.viewportTransform),P=Math.min(b.x,C.x),F=Math.min(b.y,C.y),$=Math.max(b.x,C.x),Q=Math.max(b.y,C.y),ne=this.selectionLineWidth/2;this.selectionColor&&(m.fillStyle=this.selectionColor,m.fillRect(P,F,$-P,Q-F)),this.selectionLineWidth&&this.selectionBorderColor&&(m.lineWidth=this.selectionLineWidth,m.strokeStyle=this.selectionBorderColor,P+=ne,F+=ne,$-=ne,Q-=ne,n.Object.prototype._setLineDash.call(this,m,this.selectionDashArray),m.strokeRect(P,F,$-P,Q-F))},findTarget:function(m,g){if(!this.skipTargetFind){var P,F,b=this.getPointer(m,!0),O=this._activeObject,C=this.getActiveObjects(),$=S(m),Q=C.length>1&&!g||1===C.length;if(this.targets=[],Q&&O._findTargetCorner(b,$)||C.length>1&&!g&&O===this._searchPossibleTargets([O],b))return O;if(1===C.length&&O===this._searchPossibleTargets([O],b)){if(!this.preserveObjectStacking)return O;P=O,F=this.targets,this.targets=[]}var ne=this._searchPossibleTargets(this._objects,b);return m[this.altSelectionKey]&&ne&&P&&ne!==P&&(ne=P,this.targets=F),ne}},_checkTarget:function(m,g,_){if(g&&g.visible&&g.evented&&g.containsPoint(m)){if(!this.perPixelTargetFind&&!g.perPixelTargetFind||g.isEditing)return!0;if(!this.isTargetTransparent(g,_.x,_.y))return!0}},_searchPossibleTargets:function(m,g){for(var _,O,b=m.length;b--;){var C=m[b],P=C.group?this._normalizePointer(C.group,g):g;if(this._checkTarget(P,C,g)){(_=m[b]).subTargetCheck&&_ instanceof n.Group&&(O=this._searchPossibleTargets(_._objects,g))&&this.targets.push(O);break}}return _},restorePointerVpt:function(m){return n.util.transformPoint(m,n.util.invertTransform(this.viewportTransform))},getPointer:function(m,g){if(this._absolutePointer&&!g)return this._absolutePointer;if(this._pointer&&g)return this._pointer;var F,_=I(m),b=this.upperCanvasEl,O=b.getBoundingClientRect(),C=O.width||0,P=O.height||0;(!C||!P)&&("top"in O&&"bottom"in O&&(P=Math.abs(O.top-O.bottom)),"right"in O&&"left"in O&&(C=Math.abs(O.right-O.left))),this.calcOffset(),_.x=_.x-this._offset.left,_.y=_.y-this._offset.top,g||(_=this.restorePointerVpt(_));var $=this.getRetinaScaling();return 1!==$&&(_.x/=$,_.y/=$),{x:_.x*(F=0===C||0===P?{width:1,height:1}:{width:b.width/C,height:b.height/P}).width,y:_.y*F.height}},_createUpperCanvas:function(){var m=this.lowerCanvasEl.className.replace(/\s*lower-canvas\s*/,""),g=this.lowerCanvasEl,_=this.upperCanvasEl;_?_.className="":(_=this._createCanvasElement(),this.upperCanvasEl=_),n.util.addClass(_,"upper-canvas "+m),this.wrapperEl.appendChild(_),this._copyCanvasStyle(g,_),this._applyCanvasStyle(_),this.contextTop=_.getContext("2d")},getTopContext:function(){return this.contextTop},_createCacheCanvas:function(){this.cacheCanvasEl=this._createCanvasElement(),this.cacheCanvasEl.setAttribute("width",this.width),this.cacheCanvasEl.setAttribute("height",this.height),this.contextCache=this.cacheCanvasEl.getContext("2d")},_initWrapperElement:function(){this.wrapperEl=n.util.wrapElement(this.lowerCanvasEl,"div",{class:this.containerClass}),n.util.setStyle(this.wrapperEl,{width:this.width+"px",height:this.height+"px",position:"relative"}),n.util.makeElementUnselectable(this.wrapperEl)},_applyCanvasStyle:function(m){var g=this.width||m.width,_=this.height||m.height;n.util.setStyle(m,{position:"absolute",width:g+"px",height:_+"px",left:0,top:0,"touch-action":this.allowTouchScrolling?"manipulation":"none","-ms-touch-action":this.allowTouchScrolling?"manipulation":"none"}),m.width=g,m.height=_,n.util.makeElementUnselectable(m)},_copyCanvasStyle:function(m,g){g.style.cssText=m.style.cssText},getSelectionContext:function(){return this.contextTop},getSelectionElement:function(){return this.upperCanvasEl},getActiveObject:function(){return this._activeObject},getActiveObjects:function(){var m=this._activeObject;return m?"activeSelection"===m.type&&m._objects?m._objects.slice(0):[m]:[]},_onObjectRemoved:function(m){m===this._activeObject&&(this.fire("before:selection:cleared",{target:m}),this._discardActiveObject(),this.fire("selection:cleared",{target:m}),m.fire("deselected")),m===this._hoveredTarget&&(this._hoveredTarget=null,this._hoveredTargets=[]),this.callSuper("_onObjectRemoved",m)},_fireSelectionEvents:function(m,g){var _=!1,b=this.getActiveObjects(),O=[],C=[];m.forEach(function(P){-1===b.indexOf(P)&&(_=!0,P.fire("deselected",{e:g,target:P}),C.push(P))}),b.forEach(function(P){-1===m.indexOf(P)&&(_=!0,P.fire("selected",{e:g,target:P}),O.push(P))}),m.length>0&&b.length>0?_&&this.fire("selection:updated",{e:g,selected:O,deselected:C}):b.length>0?this.fire("selection:created",{e:g,selected:O}):m.length>0&&this.fire("selection:cleared",{e:g,deselected:C})},setActiveObject:function(m,g){var _=this.getActiveObjects();return this._setActiveObject(m,g),this._fireSelectionEvents(_,g),this},_setActiveObject:function(m,g){return!(this._activeObject===m||!this._discardActiveObject(g,m)||m.onSelect({e:g})||(this._activeObject=m,0))},_discardActiveObject:function(m,g){var _=this._activeObject;if(_){if(_.onDeselect({e:m,object:g}))return!1;this._activeObject=null}return!0},discardActiveObject:function(m){var g=this.getActiveObjects(),_=this.getActiveObject();return g.length&&this.fire("before:selection:cleared",{target:_,e:m}),this._discardActiveObject(m),this._fireSelectionEvents(g,m),this},dispose:function(){var m=this.wrapperEl;return this.removeListeners(),m.removeChild(this.upperCanvasEl),m.removeChild(this.lowerCanvasEl),this.contextCache=null,this.contextTop=null,["upperCanvasEl","cacheCanvasEl"].forEach(function(g){n.util.cleanUpJsdomNode(this[g]),this[g]=void 0}.bind(this)),m.parentNode&&m.parentNode.replaceChild(this.lowerCanvasEl,this.wrapperEl),delete this.wrapperEl,n.StaticCanvas.prototype.dispose.call(this),this},clear:function(){return this.discardActiveObject(),this.clearContext(this.contextTop),this.callSuper("clear")},drawControls:function(m){var g=this._activeObject;g&&g._renderControls(m)},_toObject:function(m,g,_){var b=this._realizeGroupTransformOnObject(m),O=this.callSuper("_toObject",m,g,_);return this._unwindGroupTransformOnObject(m,b),O},_realizeGroupTransformOnObject:function(m){if(m.group&&"activeSelection"===m.group.type&&this._activeObject===m.group){var _={};return["angle","flipX","flipY","left","scaleX","scaleY","skewX","skewY","top"].forEach(function(b){_[b]=m[b]}),n.util.addTransformToObject(m,this._activeObject.calcOwnMatrix()),_}return null},_unwindGroupTransformOnObject:function(m,g){g&&m.set(g)},_setSVGObject:function(m,g,_){var b=this._realizeGroupTransformOnObject(g);this.callSuper("_setSVGObject",m,g,_),this._unwindGroupTransformOnObject(g,b)},setViewportTransform:function(m){this.renderOnAddRemove&&this._activeObject&&this._activeObject.isEditing&&this._activeObject.clearContextTop(),n.StaticCanvas.prototype.setViewportTransform.call(this,m)}}),n.StaticCanvas)"prototype"!==M&&(n.Canvas[M]=n.StaticCanvas[M])}(),function(){var I=n.util.addListener,x=n.util.removeListener,g={passive:!1};function _(b,O){return b.button&&b.button===O-1}n.util.object.extend(n.Canvas.prototype,{mainTouchId:null,_initEventListeners:function(){this.removeListeners(),this._bindEvents(),this.addOrRemove(I,"add")},_getEventPrefix:function(){return this.enablePointerEvents?"pointer":"mouse"},addOrRemove:function(b,O){var C=this.upperCanvasEl,P=this._getEventPrefix();b(n.window,"resize",this._onResize),b(C,P+"down",this._onMouseDown),b(C,P+"move",this._onMouseMove,g),b(C,P+"out",this._onMouseOut),b(C,P+"enter",this._onMouseEnter),b(C,"wheel",this._onMouseWheel),b(C,"contextmenu",this._onContextMenu),b(C,"dblclick",this._onDoubleClick),b(C,"dragover",this._onDragOver),b(C,"dragenter",this._onDragEnter),b(C,"dragleave",this._onDragLeave),b(C,"drop",this._onDrop),this.enablePointerEvents||b(C,"touchstart",this._onTouchStart,g),typeof eventjs<"u"&&O in eventjs&&(eventjs[O](C,"gesture",this._onGesture),eventjs[O](C,"drag",this._onDrag),eventjs[O](C,"orientation",this._onOrientationChange),eventjs[O](C,"shake",this._onShake),eventjs[O](C,"longpress",this._onLongPress))},removeListeners:function(){this.addOrRemove(x,"remove");var b=this._getEventPrefix();x(n.document,b+"up",this._onMouseUp),x(n.document,"touchend",this._onTouchEnd,g),x(n.document,b+"move",this._onMouseMove,g),x(n.document,"touchmove",this._onMouseMove,g)},_bindEvents:function(){this.eventsBound||(this._onMouseDown=this._onMouseDown.bind(this),this._onTouchStart=this._onTouchStart.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this._onMouseUp=this._onMouseUp.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),this._onResize=this._onResize.bind(this),this._onGesture=this._onGesture.bind(this),this._onDrag=this._onDrag.bind(this),this._onShake=this._onShake.bind(this),this._onLongPress=this._onLongPress.bind(this),this._onOrientationChange=this._onOrientationChange.bind(this),this._onMouseWheel=this._onMouseWheel.bind(this),this._onMouseOut=this._onMouseOut.bind(this),this._onMouseEnter=this._onMouseEnter.bind(this),this._onContextMenu=this._onContextMenu.bind(this),this._onDoubleClick=this._onDoubleClick.bind(this),this._onDragOver=this._onDragOver.bind(this),this._onDragEnter=this._simpleEventHandler.bind(this,"dragenter"),this._onDragLeave=this._simpleEventHandler.bind(this,"dragleave"),this._onDrop=this._onDrop.bind(this),this.eventsBound=!0)},_onGesture:function(b,O){this.__onTransformGesture&&this.__onTransformGesture(b,O)},_onDrag:function(b,O){this.__onDrag&&this.__onDrag(b,O)},_onMouseWheel:function(b){this.__onMouseWheel(b)},_onMouseOut:function(b){var O=this._hoveredTarget;this.fire("mouse:out",{target:O,e:b}),this._hoveredTarget=null,O&&O.fire("mouseout",{e:b});var C=this;this._hoveredTargets.forEach(function(P){C.fire("mouse:out",{target:O,e:b}),P&&O.fire("mouseout",{e:b})}),this._hoveredTargets=[]},_onMouseEnter:function(b){!this._currentTransform&&!this.findTarget(b)&&(this.fire("mouse:over",{target:null,e:b}),this._hoveredTarget=null,this._hoveredTargets=[])},_onOrientationChange:function(b,O){this.__onOrientationChange&&this.__onOrientationChange(b,O)},_onShake:function(b,O){this.__onShake&&this.__onShake(b,O)},_onLongPress:function(b,O){this.__onLongPress&&this.__onLongPress(b,O)},_onDragOver:function(b){b.preventDefault();var O=this._simpleEventHandler("dragover",b);this._fireEnterLeaveEvents(O,b)},_onDrop:function(b){return this._simpleEventHandler("drop:before",b),this._simpleEventHandler("drop",b)},_onContextMenu:function(b){return this.stopContextMenu&&(b.stopPropagation(),b.preventDefault()),!1},_onDoubleClick:function(b){this._cacheTransformEventData(b),this._handleEvent(b,"dblclick"),this._resetTransformEventData(b)},getPointerId:function(b){var O=b.changedTouches;return O?O[0]&&O[0].identifier:this.enablePointerEvents?b.pointerId:-1},_isMainEvent:function(b){return!0===b.isPrimary||!1!==b.isPrimary&&("touchend"===b.type&&0===b.touches.length||!b.changedTouches||b.changedTouches[0].identifier===this.mainTouchId)},_onTouchStart:function(b){b.preventDefault(),null===this.mainTouchId&&(this.mainTouchId=this.getPointerId(b)),this.__onMouseDown(b),this._resetTransformEventData();var O=this.upperCanvasEl,C=this._getEventPrefix();I(n.document,"touchend",this._onTouchEnd,g),I(n.document,"touchmove",this._onMouseMove,g),x(O,C+"down",this._onMouseDown)},_onMouseDown:function(b){this.__onMouseDown(b),this._resetTransformEventData();var O=this.upperCanvasEl,C=this._getEventPrefix();x(O,C+"move",this._onMouseMove,g),I(n.document,C+"up",this._onMouseUp),I(n.document,C+"move",this._onMouseMove,g)},_onTouchEnd:function(b){if(!(b.touches.length>0)){this.__onMouseUp(b),this._resetTransformEventData(),this.mainTouchId=null;var O=this._getEventPrefix();x(n.document,"touchend",this._onTouchEnd,g),x(n.document,"touchmove",this._onMouseMove,g);var C=this;this._willAddMouseDown&&clearTimeout(this._willAddMouseDown),this._willAddMouseDown=setTimeout(function(){I(C.upperCanvasEl,O+"down",C._onMouseDown),C._willAddMouseDown=0},400)}},_onMouseUp:function(b){this.__onMouseUp(b),this._resetTransformEventData();var O=this.upperCanvasEl,C=this._getEventPrefix();this._isMainEvent(b)&&(x(n.document,C+"up",this._onMouseUp),x(n.document,C+"move",this._onMouseMove,g),I(O,C+"move",this._onMouseMove,g))},_onMouseMove:function(b){!this.allowTouchScrolling&&b.preventDefault&&b.preventDefault(),this.__onMouseMove(b)},_onResize:function(){this.calcOffset()},_shouldRender:function(b){var O=this._activeObject;return!!(!!O!=!!b||O&&b&&O!==b)},__onMouseUp:function(b){var O,C=this._currentTransform,P=this._groupSelector,F=!1,$=!P||0===P.left&&0===P.top;if(this._cacheTransformEventData(b),O=this._target,this._handleEvent(b,"up:before"),_(b,3))this.fireRightClick&&this._handleEvent(b,"up",3,$);else{if(_(b,2))return this.fireMiddleClick&&this._handleEvent(b,"up",2,$),void this._resetTransformEventData();if(this.isDrawingMode&&this._isCurrentlyDrawing)this._onMouseUpInDrawingMode(b);else if(this._isMainEvent(b)){if(C&&(this._finalizeCurrentTransform(b),F=C.actionPerformed),!$){var Q=O===this._activeObject;this._maybeGroupObjects(b),F||(F=this._shouldRender(O)||!Q&&O===this._activeObject)}var ne,ue;if(O){if(ne=O._findTargetCorner(this.getPointer(b,!0),n.util.isTouchEvent(b)),O.selectable&&O!==this._activeObject&&"up"===O.activeOn)this.setActiveObject(O,b),F=!0;else{var ge=O.controls[ne],_e=ge&&ge.getMouseUpHandler(b,O,ge);_e&&_e(b,C,(ue=this.getPointer(b)).x,ue.y)}O.isMoving=!1}if(C&&(C.target!==O||C.corner!==ne)){var Ie=C.target&&C.target.controls[C.corner],We=Ie&&Ie.getMouseUpHandler(b,O,ge);ue=ue||this.getPointer(b),We&&We(b,C,ue.x,ue.y)}this._setCursorFromEvent(b,O),this._handleEvent(b,"up",1,$),this._groupSelector=null,this._currentTransform=null,O&&(O.__corner=0),F?this.requestRenderAll():$||this.renderTop()}}},_simpleEventHandler:function(b,O){var C=this.findTarget(O),P=this.targets,F={e:O,target:C,subTargets:P};if(this.fire(b,F),C&&C.fire(b,F),!P)return C;for(var $=0;$<P.length;$++)P[$].fire(b,F);return C},_handleEvent:function(b,O,C,P){var F=this._target,$=this.targets||[],Q={e:b,target:F,subTargets:$,button:C||1,isClick:P||!1,pointer:this._pointer,absolutePointer:this._absolutePointer,transform:this._currentTransform};"up"===O&&(Q.currentTarget=this.findTarget(b),Q.currentSubTargets=this.targets),this.fire("mouse:"+O,Q),F&&F.fire("mouse"+O,Q);for(var ne=0;ne<$.length;ne++)$[ne].fire("mouse"+O,Q)},_finalizeCurrentTransform:function(b){var O=this._currentTransform,C=O.target,P={e:b,target:C,transform:O,action:O.action};C._scaling&&(C._scaling=!1),C.setCoords(),(O.actionPerformed||this.stateful&&C.hasStateChanged())&&this._fire("modified",P)},_onMouseDownInDrawingMode:function(b){this._isCurrentlyDrawing=!0,this.getActiveObject()&&this.discardActiveObject(b).requestRenderAll();var O=this.getPointer(b);this.freeDrawingBrush.onMouseDown(O,{e:b,pointer:O}),this._handleEvent(b,"down")},_onMouseMoveInDrawingMode:function(b){if(this._isCurrentlyDrawing){var O=this.getPointer(b);this.freeDrawingBrush.onMouseMove(O,{e:b,pointer:O})}this.setCursor(this.freeDrawingCursor),this._handleEvent(b,"move")},_onMouseUpInDrawingMode:function(b){var O=this.getPointer(b);this._isCurrentlyDrawing=this.freeDrawingBrush.onMouseUp({e:b,pointer:O}),this._handleEvent(b,"up")},__onMouseDown:function(b){this._cacheTransformEventData(b),this._handleEvent(b,"down:before");var O=this._target;if(_(b,3))this.fireRightClick&&this._handleEvent(b,"down",3);else if(_(b,2))this.fireMiddleClick&&this._handleEvent(b,"down",2);else if(this.isDrawingMode)this._onMouseDownInDrawingMode(b);else if(this._isMainEvent(b)&&!this._currentTransform){this._previousPointer=C=this._pointer;var P=this._shouldRender(O),F=this._shouldGroup(b,O);if(this._shouldClearSelection(b,O)?this.discardActiveObject(b):F&&(this._handleGrouping(b,O),O=this._activeObject),this.selection&&(!O||!O.selectable&&!O.isEditing&&O!==this._activeObject)&&(this._groupSelector={ex:this._absolutePointer.x,ey:this._absolutePointer.y,top:0,left:0}),O){var $=O===this._activeObject;O.selectable&&"down"===O.activeOn&&this.setActiveObject(O,b);var Q=O._findTargetCorner(this.getPointer(b,!0),n.util.isTouchEvent(b));if(O.__corner=Q,O===this._activeObject&&(Q||!F)){this._setupCurrentTransform(b,O,$);var ne=O.controls[Q],C=this.getPointer(b),ue=ne&&ne.getMouseDownHandler(b,O,ne);ue&&ue(b,this._currentTransform,C.x,C.y)}}this._handleEvent(b,"down"),(P||F)&&this.requestRenderAll()}},_resetTransformEventData:function(){this._target=null,this._pointer=null,this._absolutePointer=null},_cacheTransformEventData:function(b){this._resetTransformEventData(),this._pointer=this.getPointer(b,!0),this._absolutePointer=this.restorePointerVpt(this._pointer),this._target=this._currentTransform?this._currentTransform.target:this.findTarget(b)||null},_beforeTransform:function(b){var O=this._currentTransform;this.stateful&&O.target.saveState(),this.fire("before:transform",{e:b,transform:O})},__onMouseMove:function(b){var O,C;if(this._handleEvent(b,"move:before"),this._cacheTransformEventData(b),this.isDrawingMode)this._onMouseMoveInDrawingMode(b);else if(this._isMainEvent(b)){var P=this._groupSelector;P?(P.left=(C=this._absolutePointer).x-P.ex,P.top=C.y-P.ey,this.renderTop()):this._currentTransform?this._transformObject(b):(O=this.findTarget(b)||null,this._setCursorFromEvent(b,O),this._fireOverOutEvents(O,b)),this._handleEvent(b,"move"),this._resetTransformEventData()}},_fireOverOutEvents:function(b,O){var C=this._hoveredTarget,P=this._hoveredTargets,F=this.targets,$=Math.max(P.length,F.length);this.fireSyntheticInOutEvents(b,O,{oldTarget:C,evtOut:"mouseout",canvasEvtOut:"mouse:out",evtIn:"mouseover",canvasEvtIn:"mouse:over"});for(var Q=0;Q<$;Q++)this.fireSyntheticInOutEvents(F[Q],O,{oldTarget:P[Q],evtOut:"mouseout",evtIn:"mouseover"});this._hoveredTarget=b,this._hoveredTargets=this.targets.concat()},_fireEnterLeaveEvents:function(b,O){var C=this._draggedoverTarget,P=this._hoveredTargets,F=this.targets,$=Math.max(P.length,F.length);this.fireSyntheticInOutEvents(b,O,{oldTarget:C,evtOut:"dragleave",evtIn:"dragenter"});for(var Q=0;Q<$;Q++)this.fireSyntheticInOutEvents(F[Q],O,{oldTarget:P[Q],evtOut:"dragleave",evtIn:"dragenter"});this._draggedoverTarget=b},fireSyntheticInOutEvents:function(b,O,C){var P,F,ne,$=C.oldTarget,ue=$!==b,ge=C.canvasEvtIn,_e=C.canvasEvtOut;ue&&(P={e:O,target:b,previousTarget:$},F={e:O,target:$,nextTarget:b}),ne=b&&ue,$&&ue&&(_e&&this.fire(_e,F),$.fire(C.evtOut,F)),ne&&(ge&&this.fire(ge,P),b.fire(C.evtIn,P))},__onMouseWheel:function(b){this._cacheTransformEventData(b),this._handleEvent(b,"wheel"),this._resetTransformEventData()},_transformObject:function(b){var O=this.getPointer(b),C=this._currentTransform;C.reset=!1,C.shiftKey=b.shiftKey,C.altKey=b[this.centeredKey],this._performTransformAction(b,C,O),C.actionPerformed&&this.requestRenderAll()},_performTransformAction:function(b,O,C){var $=O.action,Q=!1,ne=O.actionHandler;ne&&(Q=ne(b,O,C.x,C.y)),"drag"===$&&Q&&(O.target.isMoving=!0,this.setCursor(O.target.moveCursor||this.moveCursor)),O.actionPerformed=O.actionPerformed||Q},_fire:n.controlsUtils.fireEvent,_setCursorFromEvent:function(b,O){if(!O)return this.setCursor(this.defaultCursor),!1;var C=O.hoverCursor||this.hoverCursor,P=this._activeObject&&"activeSelection"===this._activeObject.type?this._activeObject:null,F=(!P||!P.contains(O))&&O._findTargetCorner(this.getPointer(b,!0));F?this.setCursor(this.getCornerCursor(F,O,b)):(O.subTargetCheck&&this.targets.concat().reverse().map(function($){C=$.hoverCursor||C}),this.setCursor(C))},getCornerCursor:function(b,O,C){var P=O.controls[b];return P.cursorStyleHandler(C,P,O)}})}(),function(){var I=Math.min,x=Math.max;n.util.object.extend(n.Canvas.prototype,{_shouldGroup:function(S,M){var m=this._activeObject;return m&&this._isSelectionKeyPressed(S)&&M&&M.selectable&&this.selection&&(m!==M||"activeSelection"===m.type)&&!M.onSelect({e:S})},_handleGrouping:function(S,M){var m=this._activeObject;m.__corner||M===m&&(!(M=this.findTarget(S,!0))||!M.selectable)||(m&&"activeSelection"===m.type?this._updateActiveSelection(M,S):this._createActiveSelection(M,S))},_updateActiveSelection:function(S,M){var m=this._activeObject,g=m._objects.slice(0);m.contains(S)?(m.removeWithUpdate(S),this._hoveredTarget=S,this._hoveredTargets=this.targets.concat(),1===m.size()&&this._setActiveObject(m.item(0),M)):(m.addWithUpdate(S),this._hoveredTarget=m,this._hoveredTargets=this.targets.concat()),this._fireSelectionEvents(g,M)},_createActiveSelection:function(S,M){var m=this.getActiveObjects(),g=this._createGroup(S);this._hoveredTarget=g,this._setActiveObject(g,M),this._fireSelectionEvents(m,M)},_createGroup:function(S){var M=this._objects,g=M.indexOf(this._activeObject)<M.indexOf(S)?[this._activeObject,S]:[S,this._activeObject];return this._activeObject.isEditing&&this._activeObject.exitEditing(),new n.ActiveSelection(g,{canvas:this})},_groupSelectedObjects:function(S){var m,M=this._collectObjects(S);1===M.length?this.setActiveObject(M[0],S):M.length>1&&(m=new n.ActiveSelection(M.reverse(),{canvas:this}),this.setActiveObject(m,S))},_collectObjects:function(S){for(var m,M=[],g=this._groupSelector.ex,_=this._groupSelector.ey,b=g+this._groupSelector.left,O=_+this._groupSelector.top,C=new n.Point(I(g,b),I(_,O)),P=new n.Point(x(g,b),x(_,O)),F=!this.selectionFullyContained,$=g===b&&_===O,Q=this._objects.length;Q--&&!((m=this._objects[Q])&&m.selectable&&m.visible&&(F&&m.intersectsWithRect(C,P,!0)||m.isContainedWithinRect(C,P,!0)||F&&m.containsPoint(C,null,!0)||F&&m.containsPoint(P,null,!0))&&(M.push(m),$)););return M.length>1&&(M=M.filter(function(ne){return!ne.onSelect({e:S})})),M},_maybeGroupObjects:function(S){this.selection&&this._groupSelector&&this._groupSelectedObjects(S),this.setCursor(this.defaultCursor),this._groupSelector=null}})}(),n.util.object.extend(n.StaticCanvas.prototype,{toDataURL:function(I){I||(I={});var x=I.format||"png",S=I.quality||1,M=(I.multiplier||1)*(I.enableRetinaScaling?this.getRetinaScaling():1),m=this.toCanvasElement(M,I);return n.util.toDataURL(m,x,S)},toCanvasElement:function(I,x){var S=((x=x||{}).width||this.width)*(I=I||1),M=(x.height||this.height)*I,m=this.getZoom(),g=this.width,_=this.height,b=m*I,O=this.viewportTransform,F=this.interactive,$=[b,0,0,b,(O[4]-(x.left||0))*I,(O[5]-(x.top||0))*I],Q=this.enableRetinaScaling,ne=n.util.createCanvasElement(),ue=this.contextTop;return ne.width=S,ne.height=M,this.contextTop=null,this.enableRetinaScaling=!1,this.interactive=!1,this.viewportTransform=$,this.width=S,this.height=M,this.calcViewportBoundaries(),this.renderCanvas(ne.getContext("2d"),this._objects),this.viewportTransform=O,this.width=g,this.height=_,this.calcViewportBoundaries(),this.interactive=F,this.enableRetinaScaling=Q,this.contextTop=ue,ne}}),n.util.object.extend(n.StaticCanvas.prototype,{loadFromJSON:function(I,x,S){if(I){var M="string"==typeof I?JSON.parse(I):n.util.object.clone(I),m=this,g=M.clipPath,_=this.renderOnAddRemove;return this.renderOnAddRemove=!1,delete M.clipPath,this._enlivenObjects(M.objects,function(b){m.clear(),m._setBgOverlay(M,function(){g?m._enlivenObjects([g],function(O){m.clipPath=O[0],m.__setupCanvas.call(m,M,b,_,x)}):m.__setupCanvas.call(m,M,b,_,x)})},S),this}},__setupCanvas:function(I,x,S,M){var m=this;x.forEach(function(g,_){m.insertAt(g,_)}),this.renderOnAddRemove=S,delete I.objects,delete I.backgroundImage,delete I.overlayImage,delete I.background,delete I.overlay,this._setOptions(I),this.renderAll(),M&&M()},_setBgOverlay:function(I,x){var S={backgroundColor:!1,overlayColor:!1,backgroundImage:!1,overlayImage:!1};if(I.backgroundImage||I.overlayImage||I.background||I.overlay){var M=function(){S.backgroundImage&&S.overlayImage&&S.backgroundColor&&S.overlayColor&&x&&x()};this.__setBgOverlay("backgroundImage",I.backgroundImage,S,M),this.__setBgOverlay("overlayImage",I.overlayImage,S,M),this.__setBgOverlay("backgroundColor",I.background,S,M),this.__setBgOverlay("overlayColor",I.overlay,S,M)}else x&&x()},__setBgOverlay:function(I,x,S,M){var m=this;if(!x)return S[I]=!0,void(M&&M());"backgroundImage"===I||"overlayImage"===I?n.util.enlivenObjects([x],function(g){m[I]=g[0],S[I]=!0,M&&M()}):this["set"+n.util.string.capitalize(I,!0)](x,function(){S[I]=!0,M&&M()})},_enlivenObjects:function(I,x,S){I&&0!==I.length?n.util.enlivenObjects(I,function(M){x&&x(M)},null,S):x&&x([])},_toDataURL:function(I,x){this.clone(function(S){x(S.toDataURL(I))})},_toDataURLWithMultiplier:function(I,x,S){this.clone(function(M){S(M.toDataURLWithMultiplier(I,x))})},clone:function(I,x){var S=JSON.stringify(this.toJSON(x));this.cloneWithoutData(function(M){M.loadFromJSON(S,function(){I&&I(M)})})},cloneWithoutData:function(I){var x=n.util.createCanvasElement();x.width=this.width,x.height=this.height;var S=new n.Canvas(x);this.backgroundImage?(S.setBackgroundImage(this.backgroundImage.src,function(){S.renderAll(),I&&I(S)}),S.backgroundImageOpacity=this.backgroundImageOpacity,S.backgroundImageStretch=this.backgroundImageStretch):I&&I(S)}}),function(I){"use strict";var x=I.fabric||(I.fabric={}),S=x.util.object.extend,M=x.util.object.clone,m=x.util.toFixed,g=x.util.string.capitalize,_=x.util.degreesToRadians;x.Object||(x.Object=x.util.createClass(x.CommonMethods,{type:"object",originX:"left",originY:"top",top:0,left:0,width:0,height:0,scaleX:1,scaleY:1,flipX:!1,flipY:!1,opacity:1,angle:0,skewX:0,skewY:0,cornerSize:13,touchCornerSize:24,transparentCorners:!0,hoverCursor:null,moveCursor:null,padding:0,borderColor:"rgb(178,204,255)",borderDashArray:null,cornerColor:"rgb(178,204,255)",cornerStrokeColor:null,cornerStyle:"rect",cornerDashArray:null,centeredScaling:!1,centeredRotation:!0,fill:"rgb(0,0,0)",fillRule:"nonzero",globalCompositeOperation:"source-over",backgroundColor:"",selectionBackgroundColor:"",stroke:null,strokeWidth:1,strokeDashArray:null,strokeDashOffset:0,strokeLineCap:"butt",strokeLineJoin:"miter",strokeMiterLimit:4,shadow:null,borderOpacityWhenMoving:.4,borderScaleFactor:1,minScaleLimit:0,selectable:!0,evented:!0,visible:!0,hasControls:!0,hasBorders:!0,perPixelTargetFind:!1,includeDefaultValues:!0,lockMovementX:!1,lockMovementY:!1,lockRotation:!1,lockScalingX:!1,lockScalingY:!1,lockSkewingX:!1,lockSkewingY:!1,lockScalingFlip:!1,excludeFromExport:!1,objectCaching:!x.isLikelyNode,statefullCache:!1,noScaleCache:!0,strokeUniform:!1,dirty:!0,__corner:0,paintFirst:"fill",activeOn:"down",stateProperties:"top left width height scaleX scaleY flipX flipY originX originY transformMatrix stroke strokeWidth strokeDashArray strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit angle opacity fill globalCompositeOperation shadow visible backgroundColor skewX skewY fillRule paintFirst clipPath strokeUniform".split(" "),cacheProperties:"fill stroke strokeWidth strokeDashArray width height paintFirst strokeUniform strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit backgroundColor clipPath".split(" "),colorProperties:"fill stroke backgroundColor".split(" "),clipPath:void 0,inverted:!1,absolutePositioned:!1,initialize:function(C){C&&this.setOptions(C)},_createCacheCanvas:function(){this._cacheProperties={},this._cacheCanvas=x.util.createCanvasElement(),this._cacheContext=this._cacheCanvas.getContext("2d"),this._updateCacheCanvas(),this.dirty=!0},_limitCacheSize:function(C){var P=x.perfLimitSizeTotal,F=C.width,$=C.height,Q=x.maxCacheSideLimit,ne=x.minCacheSideLimit;if(F<=Q&&$<=Q&&F*$<=P)return F<ne&&(C.width=ne),$<ne&&(C.height=ne),C;var ge=x.util.limitDimsByArea(F/$,P),_e=x.util.capValue,Ie=_e(ne,ge.x,Q),We=_e(ne,ge.y,Q);return F>Ie&&(C.zoomX/=F/Ie,C.width=Ie,C.capped=!0),$>We&&(C.zoomY/=$/We,C.height=We,C.capped=!0),C},_getCacheCanvasDimensions:function(){var C=this.getTotalObjectScaling(),P=this._getTransformedDimensions(0,0),F=P.x*C.scaleX/this.scaleX,$=P.y*C.scaleY/this.scaleY;return{width:F+2,height:$+2,zoomX:C.scaleX,zoomY:C.scaleY,x:F,y:$}},_updateCacheCanvas:function(){var C=this.canvas;if(this.noScaleCache&&C&&C._currentTransform){var F=C._currentTransform.action;if(this===C._currentTransform.target&&F.slice&&"scale"===F.slice(0,5))return!1}var _e,Ie,$=this._cacheCanvas,Q=this._limitCacheSize(this._getCacheCanvasDimensions()),ne=x.minCacheSideLimit,ue=Q.width,ge=Q.height,We=Q.zoomX,Ke=Q.zoomY,yt=ue!==this.cacheWidth||ge!==this.cacheHeight,bt=yt||this.zoomX!==We||this.zoomY!==Ke,lt=0,Xt=0,sn=!1;if(yt){var ln=this._cacheCanvas.width,be=this._cacheCanvas.height,pe=ue>ln||ge>be;sn=pe||(ue<.9*ln||ge<.9*be)&&ln>ne&&be>ne,pe&&!Q.capped&&(ue>ne||ge>ne)&&(lt=.1*ue,Xt=.1*ge)}return this instanceof x.Text&&this.path&&(bt=!0,sn=!0,lt+=this.getHeightOfLine(0)*this.zoomX,Xt+=this.getHeightOfLine(0)*this.zoomY),!!bt&&(sn?($.width=Math.ceil(ue+lt),$.height=Math.ceil(ge+Xt)):(this._cacheContext.setTransform(1,0,0,1,0,0),this._cacheContext.clearRect(0,0,$.width,$.height)),_e=Q.x/2,Ie=Q.y/2,this.cacheTranslationX=Math.round($.width/2-_e)+_e,this.cacheTranslationY=Math.round($.height/2-Ie)+Ie,this.cacheWidth=ue,this.cacheHeight=ge,this._cacheContext.translate(this.cacheTranslationX,this.cacheTranslationY),this._cacheContext.scale(We,Ke),this.zoomX=We,this.zoomY=Ke,!0)},setOptions:function(C){this._setOptions(C),this._initGradient(C.fill,"fill"),this._initGradient(C.stroke,"stroke"),this._initPattern(C.fill,"fill"),this._initPattern(C.stroke,"stroke")},transform:function(C){var F=this.calcTransformMatrix(!(this.group&&!this.group._transformDone||this.group&&this.canvas&&C===this.canvas.contextTop));C.transform(F[0],F[1],F[2],F[3],F[4],F[5])},toObject:function(C){var P=x.Object.NUM_FRACTION_DIGITS,F={type:this.type,version:x.version,originX:this.originX,originY:this.originY,left:m(this.left,P),top:m(this.top,P),width:m(this.width,P),height:m(this.height,P),fill:this.fill&&this.fill.toObject?this.fill.toObject():this.fill,stroke:this.stroke&&this.stroke.toObject?this.stroke.toObject():this.stroke,strokeWidth:m(this.strokeWidth,P),strokeDashArray:this.strokeDashArray?this.strokeDashArray.concat():this.strokeDashArray,strokeLineCap:this.strokeLineCap,strokeDashOffset:this.strokeDashOffset,strokeLineJoin:this.strokeLineJoin,strokeUniform:this.strokeUniform,strokeMiterLimit:m(this.strokeMiterLimit,P),scaleX:m(this.scaleX,P),scaleY:m(this.scaleY,P),angle:m(this.angle,P),flipX:this.flipX,flipY:this.flipY,opacity:m(this.opacity,P),shadow:this.shadow&&this.shadow.toObject?this.shadow.toObject():this.shadow,visible:this.visible,backgroundColor:this.backgroundColor,fillRule:this.fillRule,paintFirst:this.paintFirst,globalCompositeOperation:this.globalCompositeOperation,skewX:m(this.skewX,P),skewY:m(this.skewY,P)};return this.clipPath&&!this.clipPath.excludeFromExport&&(F.clipPath=this.clipPath.toObject(C),F.clipPath.inverted=this.clipPath.inverted,F.clipPath.absolutePositioned=this.clipPath.absolutePositioned),x.util.populateWithProperties(this,F,C),this.includeDefaultValues||(F=this._removeDefaultValues(F)),F},toDatalessObject:function(C){return this.toObject(C)},_removeDefaultValues:function(C){var P=x.util.getKlass(C.type).prototype;return P.stateProperties.forEach(function($){"left"===$||"top"===$||(C[$]===P[$]&&delete C[$],Array.isArray(C[$])&&Array.isArray(P[$])&&0===C[$].length&&0===P[$].length&&delete C[$])}),C},toString:function(){return"#<fabric."+g(this.type)+">"},getObjectScaling:function(){if(!this.group)return{scaleX:this.scaleX,scaleY:this.scaleY};var C=x.util.qrDecompose(this.calcTransformMatrix());return{scaleX:Math.abs(C.scaleX),scaleY:Math.abs(C.scaleY)}},getTotalObjectScaling:function(){var C=this.getObjectScaling(),P=C.scaleX,F=C.scaleY;if(this.canvas){var $=this.canvas.getZoom(),Q=this.canvas.getRetinaScaling();P*=$*Q,F*=$*Q}return{scaleX:P,scaleY:F}},getObjectOpacity:function(){var C=this.opacity;return this.group&&(C*=this.group.getObjectOpacity()),C},_set:function(C,P){var $=this[C]!==P,Q=!1;return("scaleX"===C||"scaleY"===C)&&(P=this._constrainScale(P)),"scaleX"===C&&P<0?(this.flipX=!this.flipX,P*=-1):"scaleY"===C&&P<0?(this.flipY=!this.flipY,P*=-1):"shadow"!==C||!P||P instanceof x.Shadow?"dirty"===C&&this.group&&this.group.set("dirty",P):P=new x.Shadow(P),this[C]=P,$&&(Q=this.group&&this.group.isOnACache(),this.cacheProperties.indexOf(C)>-1?(this.dirty=!0,Q&&this.group.set("dirty",!0)):Q&&this.stateProperties.indexOf(C)>-1&&this.group.set("dirty",!0)),this},setOnGroup:function(){},getViewportTransform:function(){return this.canvas&&this.canvas.viewportTransform?this.canvas.viewportTransform:x.iMatrix.concat()},isNotVisible:function(){return 0===this.opacity||!this.width&&!this.height&&0===this.strokeWidth||!this.visible},render:function(C){this.isNotVisible()||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(C.save(),this._setupCompositeOperation(C),this.drawSelectionBackground(C),this.transform(C),this._setOpacity(C),this._setShadow(C,this),this.shouldCache()?(this.renderCache(),this.drawCacheOnCanvas(C)):(this._removeCacheCanvas(),this.dirty=!1,this.drawObject(C),this.objectCaching&&this.statefullCache&&this.saveState({propertySet:"cacheProperties"})),C.restore())},renderCache:function(C){C=C||{},(!this._cacheCanvas||!this._cacheContext)&&this._createCacheCanvas(),this.isCacheDirty()&&(this.statefullCache&&this.saveState({propertySet:"cacheProperties"}),this.drawObject(this._cacheContext,C.forClipping),this.dirty=!1)},_removeCacheCanvas:function(){this._cacheCanvas=null,this._cacheContext=null,this.cacheWidth=0,this.cacheHeight=0},hasStroke:function(){return this.stroke&&"transparent"!==this.stroke&&0!==this.strokeWidth},hasFill:function(){return this.fill&&"transparent"!==this.fill},needsItsOwnCache:function(){return!!("stroke"===this.paintFirst&&this.hasFill()&&this.hasStroke()&&"object"==typeof this.shadow||this.clipPath)},shouldCache:function(){return this.ownCaching=this.needsItsOwnCache()||this.objectCaching&&(!this.group||!this.group.isOnACache()),this.ownCaching},willDrawShadow:function(){return!!this.shadow&&(0!==this.shadow.offsetX||0!==this.shadow.offsetY)},drawClipPathOnCache:function(C,P){if(C.save(),C.globalCompositeOperation=P.inverted?"destination-out":"destination-in",P.absolutePositioned){var F=x.util.invertTransform(this.calcTransformMatrix());C.transform(F[0],F[1],F[2],F[3],F[4],F[5])}P.transform(C),C.scale(1/P.zoomX,1/P.zoomY),C.drawImage(P._cacheCanvas,-P.cacheTranslationX,-P.cacheTranslationY),C.restore()},drawObject:function(C,P){var F=this.fill,$=this.stroke;P?(this.fill="black",this.stroke="",this._setClippingProperties(C)):this._renderBackground(C),this._render(C),this._drawClipPath(C,this.clipPath),this.fill=F,this.stroke=$},_drawClipPath:function(C,P){!P||(P.canvas=this.canvas,P.shouldCache(),P._transformDone=!0,P.renderCache({forClipping:!0}),this.drawClipPathOnCache(C,P))},drawCacheOnCanvas:function(C){C.scale(1/this.zoomX,1/this.zoomY),C.drawImage(this._cacheCanvas,-this.cacheTranslationX,-this.cacheTranslationY)},isCacheDirty:function(C){if(this.isNotVisible())return!1;if(this._cacheCanvas&&this._cacheContext&&!C&&this._updateCacheCanvas())return!0;if(this.dirty||this.clipPath&&this.clipPath.absolutePositioned||this.statefullCache&&this.hasStateChanged("cacheProperties")){if(this._cacheCanvas&&this._cacheContext&&!C){var P=this.cacheWidth/this.zoomX,F=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-P/2,-F/2,P,F)}return!0}return!1},_renderBackground:function(C){if(this.backgroundColor){var P=this._getNonTransformedDimensions();C.fillStyle=this.backgroundColor,C.fillRect(-P.x/2,-P.y/2,P.x,P.y),this._removeShadow(C)}},_setOpacity:function(C){this.group&&!this.group._transformDone?C.globalAlpha=this.getObjectOpacity():C.globalAlpha*=this.opacity},_setStrokeStyles:function(C,P){var F=P.stroke;F&&(C.lineWidth=P.strokeWidth,C.lineCap=P.strokeLineCap,C.lineDashOffset=P.strokeDashOffset,C.lineJoin=P.strokeLineJoin,C.miterLimit=P.strokeMiterLimit,F.toLive?"percentage"===F.gradientUnits||F.gradientTransform||F.patternTransform?this._applyPatternForTransformedGradient(C,F):(C.strokeStyle=F.toLive(C,this),this._applyPatternGradientTransform(C,F)):C.strokeStyle=P.stroke)},_setFillStyles:function(C,P){var F=P.fill;F&&(F.toLive?(C.fillStyle=F.toLive(C,this),this._applyPatternGradientTransform(C,P.fill)):C.fillStyle=F)},_setClippingProperties:function(C){C.globalAlpha=1,C.strokeStyle="transparent",C.fillStyle="#000000"},_setLineDash:function(C,P){!P||0===P.length||(1&P.length&&P.push.apply(P,P),C.setLineDash(P))},_renderControls:function(C,P){var Q,ne,ue,F=this.getViewportTransform(),$=this.calcTransformMatrix();ne=typeof(P=P||{}).hasBorders<"u"?P.hasBorders:this.hasBorders,ue=typeof P.hasControls<"u"?P.hasControls:this.hasControls,$=x.util.multiplyTransformMatrices(F,$),Q=x.util.qrDecompose($),C.save(),C.translate(Q.translateX,Q.translateY),C.lineWidth=1*this.borderScaleFactor,this.group||(C.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1),this.flipX&&(Q.angle-=180),C.rotate(_(this.group?Q.angle:this.angle)),P.forActiveSelection||this.group?ne&&this.drawBordersInGroup(C,Q,P):ne&&this.drawBorders(C,P),ue&&this.drawControls(C,P),C.restore()},_setShadow:function(C){if(this.shadow){var $,P=this.shadow,F=this.canvas,Q=F&&F.viewportTransform[0]||1,ne=F&&F.viewportTransform[3]||1;$=P.nonScaling?{scaleX:1,scaleY:1}:this.getObjectScaling(),F&&F._isRetinaScaling()&&(Q*=x.devicePixelRatio,ne*=x.devicePixelRatio),C.shadowColor=P.color,C.shadowBlur=P.blur*x.browserShadowBlurConstant*(Q+ne)*($.scaleX+$.scaleY)/4,C.shadowOffsetX=P.offsetX*Q*$.scaleX,C.shadowOffsetY=P.offsetY*ne*$.scaleY}},_removeShadow:function(C){!this.shadow||(C.shadowColor="",C.shadowBlur=C.shadowOffsetX=C.shadowOffsetY=0)},_applyPatternGradientTransform:function(C,P){if(!P||!P.toLive)return{offsetX:0,offsetY:0};var F=P.gradientTransform||P.patternTransform,$=-this.width/2+P.offsetX||0,Q=-this.height/2+P.offsetY||0;return"percentage"===P.gradientUnits?C.transform(this.width,0,0,this.height,$,Q):C.transform(1,0,0,1,$,Q),F&&C.transform(F[0],F[1],F[2],F[3],F[4],F[5]),{offsetX:$,offsetY:Q}},_renderPaintInOrder:function(C){"stroke"===this.paintFirst?(this._renderStroke(C),this._renderFill(C)):(this._renderFill(C),this._renderStroke(C))},_render:function(){},_renderFill:function(C){!this.fill||(C.save(),this._setFillStyles(C,this),"evenodd"===this.fillRule?C.fill("evenodd"):C.fill(),C.restore())},_renderStroke:function(C){if(this.stroke&&0!==this.strokeWidth){if(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(C),C.save(),this.strokeUniform&&this.group){var P=this.getObjectScaling();C.scale(1/P.scaleX,1/P.scaleY)}else this.strokeUniform&&C.scale(1/this.scaleX,1/this.scaleY);this._setLineDash(C,this.strokeDashArray),this._setStrokeStyles(C,this),C.stroke(),C.restore()}},_applyPatternForTransformedGradient:function(C,P){var Q,F=this._limitCacheSize(this._getCacheCanvasDimensions()),$=x.util.createCanvasElement(),ne=this.canvas.getRetinaScaling(),ue=F.x/this.scaleX/ne,ge=F.y/this.scaleY/ne;$.width=ue,$.height=ge,(Q=$.getContext("2d")).beginPath(),Q.moveTo(0,0),Q.lineTo(ue,0),Q.lineTo(ue,ge),Q.lineTo(0,ge),Q.closePath(),Q.translate(ue/2,ge/2),Q.scale(F.zoomX/this.scaleX/ne,F.zoomY/this.scaleY/ne),this._applyPatternGradientTransform(Q,P),Q.fillStyle=P.toLive(C),Q.fill(),C.translate(-this.width/2-this.strokeWidth/2,-this.height/2-this.strokeWidth/2),C.scale(ne*this.scaleX/F.zoomX,ne*this.scaleY/F.zoomY),C.strokeStyle=Q.createPattern($,"no-repeat")},_findCenterFromElement:function(){return{x:this.left+this.width/2,y:this.top+this.height/2}},_assignTransformMatrixProps:function(){if(this.transformMatrix){var C=x.util.qrDecompose(this.transformMatrix);this.flipX=!1,this.flipY=!1,this.set("scaleX",C.scaleX),this.set("scaleY",C.scaleY),this.angle=C.angle,this.skewX=C.skewX,this.skewY=0}},_removeTransformMatrix:function(C){var P=this._findCenterFromElement();this.transformMatrix&&(this._assignTransformMatrixProps(),P=x.util.transformPoint(P,this.transformMatrix)),this.transformMatrix=null,C&&(this.scaleX*=C.scaleX,this.scaleY*=C.scaleY,this.cropX=C.cropX,this.cropY=C.cropY,P.x+=C.offsetLeft,P.y+=C.offsetTop,this.width=C.width,this.height=C.height),this.setPositionByOrigin(P,"center","center")},clone:function(C,P){var F=this.toObject(P);this.constructor.fromObject?this.constructor.fromObject(F,C):x.Object._fromObject("Object",F,C)},cloneAsImage:function(C,P){var F=this.toCanvasElement(P);return C&&C(new x.Image(F)),this},toCanvasElement:function(C){C||(C={});var P=x.util,F=P.saveObjectTransform(this),$=this.group,Q=this.shadow,ne=Math.abs,ue=(C.multiplier||1)*(C.enableRetinaScaling?x.devicePixelRatio:1);delete this.group,C.withoutTransform&&P.resetObjectTransform(this),C.withoutShadow&&(this.shadow=null);var We,yt,bt,ge=x.util.createCanvasElement(),_e=this.getBoundingRect(!0,!0),Ie=this.shadow,Ke={x:0,y:0};Ie&&(yt=Ie.blur,We=Ie.nonScaling?{scaleX:1,scaleY:1}:this.getObjectScaling(),Ke.x=2*Math.round(ne(Ie.offsetX)+yt)*ne(We.scaleX),Ke.y=2*Math.round(ne(Ie.offsetY)+yt)*ne(We.scaleY)),bt=_e.height+Ke.y,ge.width=Math.ceil(_e.width+Ke.x),ge.height=Math.ceil(bt);var lt=new x.StaticCanvas(ge,{enableRetinaScaling:!1,renderOnAddRemove:!1,skipOffscreen:!1});"jpeg"===C.format&&(lt.backgroundColor="#fff"),this.setPositionByOrigin(new x.Point(lt.width/2,lt.height/2),"center","center");var Xt=this.canvas;lt.add(this);var sn=lt.toCanvasElement(ue||1,C);return this.shadow=Q,this.set("canvas",Xt),$&&(this.group=$),this.set(F).setCoords(),lt._objects=[],lt.dispose(),lt=null,sn},toDataURL:function(C){return C||(C={}),x.util.toDataURL(this.toCanvasElement(C),C.format||"png",C.quality||1)},isType:function(C){return arguments.length>1?Array.from(arguments).includes(this.type):this.type===C},complexity:function(){return 1},toJSON:function(C){return this.toObject(C)},rotate:function(C){var P=("center"!==this.originX||"center"!==this.originY)&&this.centeredRotation;return P&&this._setOriginToCenter(),this.set("angle",C),P&&this._resetOrigin(),this},centerH:function(){return this.canvas&&this.canvas.centerObjectH(this),this},viewportCenterH:function(){return this.canvas&&this.canvas.viewportCenterObjectH(this),this},centerV:function(){return this.canvas&&this.canvas.centerObjectV(this),this},viewportCenterV:function(){return this.canvas&&this.canvas.viewportCenterObjectV(this),this},center:function(){return this.canvas&&this.canvas.centerObject(this),this},viewportCenter:function(){return this.canvas&&this.canvas.viewportCenterObject(this),this},getLocalPointer:function(C,P){P=P||this.canvas.getPointer(C);var F=new x.Point(P.x,P.y),$=this._getLeftTopCoords();return this.angle&&(F=x.util.rotatePoint(F,$,_(-this.angle))),{x:F.x-$.x,y:F.y-$.y}},_setupCompositeOperation:function(C){this.globalCompositeOperation&&(C.globalCompositeOperation=this.globalCompositeOperation)},dispose:function(){x.runningAnimations&&x.runningAnimations.cancelByTarget(this)}}),x.util.createAccessors&&x.util.createAccessors(x.Object),S(x.Object.prototype,x.Observable),x.Object.NUM_FRACTION_DIGITS=2,x.Object.ENLIVEN_PROPS=["clipPath"],x.Object._fromObject=function(C,P,F,$){var Q=x[C];P=M(P,!0),x.util.enlivenPatterns([P.fill,P.stroke],function(ne){typeof ne[0]<"u"&&(P.fill=ne[0]),typeof ne[1]<"u"&&(P.stroke=ne[1]),x.util.enlivenObjectEnlivables(P,P,function(){var ue=$?new Q(P[$],P):new Q(P);F&&F(ue)})})},x.Object.__uid=0)}(De),function(){var I=n.util.degreesToRadians,x={left:-.5,center:0,right:.5},S={top:-.5,center:0,bottom:.5};n.util.object.extend(n.Object.prototype,{translateToGivenOrigin:function(M,m,g,_,b){var P,F,$,O=M.x,C=M.y;return"string"==typeof m?m=x[m]:m-=.5,"string"==typeof _?_=x[_]:_-=.5,"string"==typeof g?g=S[g]:g-=.5,"string"==typeof b?b=S[b]:b-=.5,F=b-g,((P=_-m)||F)&&($=this._getTransformedDimensions(),O=M.x+P*$.x,C=M.y+F*$.y),new n.Point(O,C)},translateToCenterPoint:function(M,m,g){var _=this.translateToGivenOrigin(M,m,g,"center","center");return this.angle?n.util.rotatePoint(_,M,I(this.angle)):_},translateToOriginPoint:function(M,m,g){var _=this.translateToGivenOrigin(M,"center","center",m,g);return this.angle?n.util.rotatePoint(_,M,I(this.angle)):_},getCenterPoint:function(){var M=new n.Point(this.left,this.top);return this.translateToCenterPoint(M,this.originX,this.originY)},getPointByOrigin:function(M,m){var g=this.getCenterPoint();return this.translateToOriginPoint(g,M,m)},toLocalPoint:function(M,m,g){var b,O,_=this.getCenterPoint();return b=typeof m<"u"&&typeof g<"u"?this.translateToGivenOrigin(_,"center","center",m,g):new n.Point(this.left,this.top),O=new n.Point(M.x,M.y),this.angle&&(O=n.util.rotatePoint(O,_,-I(this.angle))),O.subtractEquals(b)},setPositionByOrigin:function(M,m,g){var _=this.translateToCenterPoint(M,m,g),b=this.translateToOriginPoint(_,this.originX,this.originY);this.set("left",b.x),this.set("top",b.y)},adjustPosition:function(M){var O,C,m=I(this.angle),g=this.getScaledWidth(),_=n.util.cos(m)*g,b=n.util.sin(m)*g;this.left+=_*((C="string"==typeof M?x[M]:M-.5)-(O="string"==typeof this.originX?x[this.originX]:this.originX-.5)),this.top+=b*(C-O),this.setCoords(),this.originX=M},_setOriginToCenter:function(){this._originalOriginX=this.originX,this._originalOriginY=this.originY;var M=this.getCenterPoint();this.originX="center",this.originY="center",this.left=M.x,this.top=M.y},_resetOrigin:function(){var M=this.translateToOriginPoint(this.getCenterPoint(),this._originalOriginX,this._originalOriginY);this.originX=this._originalOriginX,this.originY=this._originalOriginY,this.left=M.x,this.top=M.y,this._originalOriginX=null,this._originalOriginY=null},_getLeftTopCoords:function(){return this.translateToOriginPoint(this.getCenterPoint(),"left","top")}})}(),function(){var x=n.util,S=x.degreesToRadians,M=x.multiplyTransformMatrices,m=x.transformPoint;x.object.extend(n.Object.prototype,{oCoords:null,aCoords:null,lineCoords:null,ownMatrixCache:null,matrixCache:null,controls:{},_getCoords:function(g,_){return _?g?this.calcACoords():this.calcLineCoords():((!this.aCoords||!this.lineCoords)&&this.setCoords(!0),g?this.aCoords:this.lineCoords)},getCoords:function(g,_){return function I(g){return[new n.Point(g.tl.x,g.tl.y),new n.Point(g.tr.x,g.tr.y),new n.Point(g.br.x,g.br.y),new n.Point(g.bl.x,g.bl.y)]}(this._getCoords(g,_))},intersectsWithRect:function(g,_,b,O){var C=this.getCoords(b,O);return"Intersection"===n.Intersection.intersectPolygonRectangle(C,g,_).status},intersectsWithObject:function(g,_,b){return"Intersection"===n.Intersection.intersectPolygonPolygon(this.getCoords(_,b),g.getCoords(_,b)).status||g.isContainedWithinObject(this,_,b)||this.isContainedWithinObject(g,_,b)},isContainedWithinObject:function(g,_,b){for(var O=this.getCoords(_,b),P=0,F=g._getImageLines(_?g.aCoords:g.lineCoords);P<4;P++)if(!g.containsPoint(O[P],F))return!1;return!0},isContainedWithinRect:function(g,_,b,O){var C=this.getBoundingRect(b,O);return C.left>=g.x&&C.left+C.width<=_.x&&C.top>=g.y&&C.top+C.height<=_.y},containsPoint:function(g,P,b,O){var C=this._getCoords(b,O),F=(P=P||this._getImageLines(C),this._findCrossPoints(g,P));return 0!==F&&F%2==1},isOnScreen:function(g){if(!this.canvas)return!1;var _=this.canvas.vptCoords.tl,b=this.canvas.vptCoords.br;return!(!this.getCoords(!0,g).some(function(C){return C.x<=b.x&&C.x>=_.x&&C.y<=b.y&&C.y>=_.y})&&!this.intersectsWithRect(_,b,!0,g))||this._containsCenterOfCanvas(_,b,g)},_containsCenterOfCanvas:function(g,_,b){return!!this.containsPoint({x:(g.x+_.x)/2,y:(g.y+_.y)/2},null,!0,b)},isPartiallyOnScreen:function(g){if(!this.canvas)return!1;var _=this.canvas.vptCoords.tl,b=this.canvas.vptCoords.br;return!!this.intersectsWithRect(_,b,!0,g)||this.getCoords(!0,g).every(function(C){return(C.x>=b.x||C.x<=_.x)&&(C.y>=b.y||C.y<=_.y)})&&this._containsCenterOfCanvas(_,b,g)},_getImageLines:function(g){return{topline:{o:g.tl,d:g.tr},rightline:{o:g.tr,d:g.br},bottomline:{o:g.br,d:g.bl},leftline:{o:g.bl,d:g.tl}}},_findCrossPoints:function(g,_){var O,C,P,F,Q,$=0;for(var ne in _)if(!((Q=_[ne]).o.y<g.y&&Q.d.y<g.y||Q.o.y>=g.y&&Q.d.y>=g.y||(Q.o.x===Q.d.x&&Q.o.x>=g.x?F=Q.o.x:(O=(Q.d.y-Q.o.y)/(Q.d.x-Q.o.x),C=g.y-0*g.x,P=Q.o.y-O*Q.o.x,F=-(C-P)/(0-O)),F>=g.x&&($+=1),2!==$)))break;return $},getBoundingRect:function(g,_){var b=this.getCoords(g,_);return x.makeBoundingBoxFromPoints(b)},getScaledWidth:function(){return this._getTransformedDimensions().x},getScaledHeight:function(){return this._getTransformedDimensions().y},_constrainScale:function(g){return Math.abs(g)<this.minScaleLimit?g<0?-this.minScaleLimit:this.minScaleLimit:0===g?1e-4:g},scale:function(g){return this._set("scaleX",g),this._set("scaleY",g),this.setCoords()},scaleToWidth:function(g,_){var b=this.getBoundingRect(_).width/this.getScaledWidth();return this.scale(g/this.width/b)},scaleToHeight:function(g,_){var b=this.getBoundingRect(_).height/this.getScaledHeight();return this.scale(g/this.height/b)},calcLineCoords:function(){var g=this.getViewportTransform(),_=this.padding,b=S(this.angle),P=x.cos(b)*_,F=x.sin(b)*_,$=P+F,Q=P-F,ne=this.calcACoords(),ue={tl:m(ne.tl,g),tr:m(ne.tr,g),bl:m(ne.bl,g),br:m(ne.br,g)};return _&&(ue.tl.x-=Q,ue.tl.y-=$,ue.tr.x+=$,ue.tr.y-=Q,ue.bl.x-=$,ue.bl.y+=Q,ue.br.x+=Q,ue.br.y+=$),ue},calcOCoords:function(){var g=this._calcRotateMatrix(),_=this._calcTranslateMatrix(),b=this.getViewportTransform(),O=M(b,_),C=M(O,g),P=(C=M(C,[1/b[0],0,0,1/b[3],0,0]),this._calculateCurrentDimensions()),F={};return this.forEachControl(function($,Q,ne){F[Q]=$.positionHandler(P,C,ne)}),F},calcACoords:function(){var g=this._calcRotateMatrix(),_=this._calcTranslateMatrix(),b=M(_,g),O=this._getTransformedDimensions(),C=O.x/2,P=O.y/2;return{tl:m({x:-C,y:-P},b),tr:m({x:C,y:-P},b),bl:m({x:-C,y:P},b),br:m({x:C,y:P},b)}},setCoords:function(g){return this.aCoords=this.calcACoords(),this.lineCoords=this.group?this.aCoords:this.calcLineCoords(),g||(this.oCoords=this.calcOCoords(),this._setCornerCoords&&this._setCornerCoords()),this},_calcRotateMatrix:function(){return x.calcRotateMatrix(this)},_calcTranslateMatrix:function(){var g=this.getCenterPoint();return[1,0,0,1,g.x,g.y]},transformMatrixKey:function(g){var _="_",b="";return!g&&this.group&&(b=this.group.transformMatrixKey(g)+_),b+this.top+_+this.left+_+this.scaleX+_+this.scaleY+_+this.skewX+_+this.skewY+_+this.angle+_+this.originX+_+this.originY+_+this.width+_+this.height+_+this.strokeWidth+this.flipX+this.flipY},calcTransformMatrix:function(g){var _=this.calcOwnMatrix();if(g||!this.group)return _;var b=this.transformMatrixKey(g),O=this.matrixCache||(this.matrixCache={});return O.key===b?O.value:(this.group&&(_=M(this.group.calcTransformMatrix(!1),_)),O.key=b,O.value=_,_)},calcOwnMatrix:function(){var g=this.transformMatrixKey(!0),_=this.ownMatrixCache||(this.ownMatrixCache={});if(_.key===g)return _.value;var b=this._calcTranslateMatrix(),O={angle:this.angle,translateX:b[4],translateY:b[5],scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,flipX:this.flipX,flipY:this.flipY};return _.key=g,_.value=x.composeMatrix(O),_.value},_getNonTransformedDimensions:function(){var g=this.strokeWidth;return{x:this.width+g,y:this.height+g}},_getTransformedDimensions:function(g,_){typeof g>"u"&&(g=this.skewX),typeof _>"u"&&(_=this.skewY);var b,O,C,P=0===g&&0===_;if(this.strokeUniform?(O=this.width,C=this.height):(O=(b=this._getNonTransformedDimensions()).x,C=b.y),P)return this._finalizeDimensions(O*this.scaleX,C*this.scaleY);var F=x.sizeAfterTransform(O,C,{scaleX:this.scaleX,scaleY:this.scaleY,skewX:g,skewY:_});return this._finalizeDimensions(F.x,F.y)},_finalizeDimensions:function(g,_){return this.strokeUniform?{x:g+this.strokeWidth,y:_+this.strokeWidth}:{x:g,y:_}},_calculateCurrentDimensions:function(){var g=this.getViewportTransform(),_=this._getTransformedDimensions();return m(_,g,!0).scalarAdd(2*this.padding)}})}(),n.util.object.extend(n.Object.prototype,{sendToBack:function(){return this.group?n.StaticCanvas.prototype.sendToBack.call(this.group,this):this.canvas&&this.canvas.sendToBack(this),this},bringToFront:function(){return this.group?n.StaticCanvas.prototype.bringToFront.call(this.group,this):this.canvas&&this.canvas.bringToFront(this),this},sendBackwards:function(I){return this.group?n.StaticCanvas.prototype.sendBackwards.call(this.group,this,I):this.canvas&&this.canvas.sendBackwards(this,I),this},bringForward:function(I){return this.group?n.StaticCanvas.prototype.bringForward.call(this.group,this,I):this.canvas&&this.canvas.bringForward(this,I),this},moveTo:function(I){return this.group&&"activeSelection"!==this.group.type?n.StaticCanvas.prototype.moveTo.call(this.group,this,I):this.canvas&&this.canvas.moveTo(this,I),this}}),function(){function I(S,M){if(M){if(M.toLive)return S+": url(#SVGID_"+M.id+"); ";var m=new n.Color(M),g=S+": "+m.toRgb()+"; ",_=m.getAlpha();return 1!==_&&(g+=S+"-opacity: "+_.toString()+"; "),g}return S+": none; "}var x=n.util.toFixed;n.util.object.extend(n.Object.prototype,{getSvgStyles:function(S){var M=this.fillRule?this.fillRule:"nonzero",m=this.strokeWidth?this.strokeWidth:"0",g=this.strokeDashArray?this.strokeDashArray.join(" "):"none",_=this.strokeDashOffset?this.strokeDashOffset:"0",b=this.strokeLineCap?this.strokeLineCap:"butt",O=this.strokeLineJoin?this.strokeLineJoin:"miter",C=this.strokeMiterLimit?this.strokeMiterLimit:"4",P=typeof this.opacity<"u"?this.opacity:"1",F=this.visible?"":" visibility: hidden;",$=S?"":this.getSvgFilter(),Q=I("fill",this.fill);return[I("stroke",this.stroke),"stroke-width: ",m,"; ","stroke-dasharray: ",g,"; ","stroke-linecap: ",b,"; ","stroke-dashoffset: ",_,"; ","stroke-linejoin: ",O,"; ","stroke-miterlimit: ",C,"; ",Q,"fill-rule: ",M,"; ","opacity: ",P,";",$,F].join("")},getSvgSpanStyles:function(S,M){var m="; ",_=S.fontFamily?"font-family: "+(-1===S.fontFamily.indexOf("'")&&-1===S.fontFamily.indexOf('"')?"'"+S.fontFamily+"'":S.fontFamily)+m:"",g=S.strokeWidth?"stroke-width: "+S.strokeWidth+m:"",b=S.fontSize?"font-size: "+S.fontSize+"px"+m:"",O=S.fontStyle?"font-style: "+S.fontStyle+m:"",C=S.fontWeight?"font-weight: "+S.fontWeight+m:"",P=S.fill?I("fill",S.fill):"",F=S.stroke?I("stroke",S.stroke):"",$=this.getSvgTextDecoration(S);return $&&($="text-decoration: "+$+m),[F,g,_,b,O,C,$,P,S.deltaY?"baseline-shift: "+-S.deltaY+"; ":"",M?"white-space: pre; ":""].join("")},getSvgTextDecoration:function(S){return["overline","underline","line-through"].filter(function(M){return S[M.replace("-","")]}).join(" ")},getSvgFilter:function(){return this.shadow?"filter: url(#SVGID_"+this.shadow.id+");":""},getSvgCommons:function(){return[this.id?'id="'+this.id+'" ':"",this.clipPath?'clip-path="url(#'+this.clipPath.clipPathId+')" ':""].join("")},getSvgTransform:function(S,M){var m=S?this.calcTransformMatrix():this.calcOwnMatrix();return'transform="'+n.util.matrixToSVG(m)+(M||"")+'" '},_setSVGBg:function(S){if(this.backgroundColor){var M=n.Object.NUM_FRACTION_DIGITS;S.push("\t\t<rect ",this._getFillAttributes(this.backgroundColor),' x="',x(-this.width/2,M),'" y="',x(-this.height/2,M),'" width="',x(this.width,M),'" height="',x(this.height,M),'"></rect>\n')}},toSVG:function(S){return this._createBaseSVGMarkup(this._toSVG(S),{reviver:S})},toClipPathSVG:function(S){return"\t"+this._createBaseClipPathSVGMarkup(this._toSVG(S),{reviver:S})},_createBaseClipPathSVGMarkup:function(S,M){var m=(M=M||{}).reviver,_=[this.getSvgTransform(!0,M.additionalTransform||""),this.getSvgCommons()].join(""),b=S.indexOf("COMMON_PARTS");return S[b]=_,m?m(S.join("")):S.join("")},_createBaseSVGMarkup:function(S,M){var ne,ge,m=(M=M||{}).noStyle,g=M.reviver,_=m?"":'style="'+this.getSvgStyles()+'" ',b=M.withShadow?'style="'+this.getSvgFilter()+'" ':"",O=this.clipPath,C=this.strokeUniform?'vector-effect="non-scaling-stroke" ':"",P=O&&O.absolutePositioned,F=this.stroke,$=this.fill,Q=this.shadow,ue=[],_e=S.indexOf("COMMON_PARTS"),Ie=M.additionalTransform;return O&&(O.clipPathId="CLIPPATH_"+n.Object.__uid++,ge='<clipPath id="'+O.clipPathId+'" >\n'+O.toClipPathSVG(g)+"</clipPath>\n"),P&&ue.push("<g ",b,this.getSvgCommons()," >\n"),ue.push("<g ",this.getSvgTransform(!1),P?"":b+this.getSvgCommons()," >\n"),ne=[_,C,m?"":this.addPaintOrder()," ",Ie?'transform="'+Ie+'" ':""].join(""),S[_e]=ne,$&&$.toLive&&ue.push($.toSVG(this)),F&&F.toLive&&ue.push(F.toSVG(this)),Q&&ue.push(Q.toSVG(this)),O&&ue.push(ge),ue.push(S.join("")),ue.push("</g>\n"),P&&ue.push("</g>\n"),g?g(ue.join("")):ue.join("")},addPaintOrder:function(){return"fill"!==this.paintFirst?' paint-order="'+this.paintFirst+'" ':""}})}(),function(){var I=n.util.object.extend,x="stateProperties";function S(m,g,_){var b={};_.forEach(function(C){b[C]=m[C]}),I(m[g],b,!0)}function M(m,g,_){if(m===g)return!0;if(Array.isArray(m)){if(!Array.isArray(g)||m.length!==g.length)return!1;for(var b=0,O=m.length;b<O;b++)if(!M(m[b],g[b]))return!1;return!0}if(m&&"object"==typeof m){var P,C=Object.keys(m);if(!g||"object"!=typeof g||!_&&C.length!==Object.keys(g).length)return!1;for(b=0,O=C.length;b<O;b++)if("canvas"!==(P=C[b])&&"group"!==P&&!M(m[P],g[P]))return!1;return!0}}n.util.object.extend(n.Object.prototype,{hasStateChanged:function(m){var g="_"+(m=m||x);return Object.keys(this[g]).length<this[m].length||!M(this[g],this,!0)},saveState:function(m){var g=m&&m.propertySet||x,_="_"+g;return this[_]?(S(this,_,this[g]),m&&m.stateProperties&&S(this,_,m.stateProperties),this):this.setupState(m)},setupState:function(m){var g=(m=m||{}).propertySet||x;return m.propertySet=g,this["_"+g]={},this.saveState(m),this}})}(),function(){var I=n.util.degreesToRadians;n.util.object.extend(n.Object.prototype,{_findTargetCorner:function(x,S){if(!this.hasControls||this.group||!this.canvas||this.canvas._activeObject!==this)return!1;var g,_,C,M=x.x,m=x.y,b=Object.keys(this.oCoords),O=b.length-1;for(this.__corner=0;O>=0;O--)if(this.isControlVisible(C=b[O])&&(_=this._getImageLines(S?this.oCoords[C].touchCorner:this.oCoords[C].corner),0!==(g=this._findCrossPoints({x:M,y:m},_))&&g%2==1))return this.__corner=C,C;return!1},forEachControl:function(x){for(var S in this.controls)x(this.controls[S],S,this)},_setCornerCoords:function(){var x=this.oCoords;for(var S in x){var M=this.controls[S];x[S].corner=M.calcCornerCoords(this.angle,this.cornerSize,x[S].x,x[S].y,!1),x[S].touchCorner=M.calcCornerCoords(this.angle,this.touchCornerSize,x[S].x,x[S].y,!0)}},drawSelectionBackground:function(x){if(!this.selectionBackgroundColor||this.canvas&&!this.canvas.interactive||this.canvas&&this.canvas._activeObject!==this)return this;x.save();var S=this.getCenterPoint(),M=this._calculateCurrentDimensions(),m=this.canvas.viewportTransform;return x.translate(S.x,S.y),x.scale(1/m[0],1/m[3]),x.rotate(I(this.angle)),x.fillStyle=this.selectionBackgroundColor,x.fillRect(-M.x/2,-M.y/2,M.x,M.y),x.restore(),this},drawBorders:function(x,S){S=S||{};var M=this._calculateCurrentDimensions(),m=this.borderScaleFactor,g=M.x+m,_=M.y+m,b=typeof S.hasControls<"u"?S.hasControls:this.hasControls,O=!1;return x.save(),x.strokeStyle=S.borderColor||this.borderColor,this._setLineDash(x,S.borderDashArray||this.borderDashArray),x.strokeRect(-g/2,-_/2,g,_),b&&(x.beginPath(),this.forEachControl(function(C,P,F){C.withConnection&&C.getVisibility(F,P)&&(O=!0,x.moveTo(C.x*g,C.y*_),x.lineTo(C.x*g+C.offsetX,C.y*_+C.offsetY))}),O&&x.stroke()),x.restore(),this},drawBordersInGroup:function(x,S,M){M=M||{};var m=n.util.sizeAfterTransform(this.width,this.height,S),g=this.strokeWidth,_=this.strokeUniform,b=this.borderScaleFactor,O=m.x+g*(_?this.canvas.getZoom():S.scaleX)+b,C=m.y+g*(_?this.canvas.getZoom():S.scaleY)+b;return x.save(),this._setLineDash(x,M.borderDashArray||this.borderDashArray),x.strokeStyle=M.borderColor||this.borderColor,x.strokeRect(-O/2,-C/2,O,C),x.restore(),this},drawControls:function(x,S){S=S||{},x.save();var m,g,M=this.canvas.getRetinaScaling();return x.setTransform(M,0,0,M,0,0),x.strokeStyle=x.fillStyle=S.cornerColor||this.cornerColor,this.transparentCorners||(x.strokeStyle=S.cornerStrokeColor||this.cornerStrokeColor),this._setLineDash(x,S.cornerDashArray||this.cornerDashArray),this.setCoords(),this.group&&(m=this.group.calcTransformMatrix()),this.forEachControl(function(_,b,O){g=O.oCoords[b],_.getVisibility(O,b)&&(m&&(g=n.util.transformPoint(g,m)),_.render(x,g.x,g.y,S,O))}),x.restore(),this},isControlVisible:function(x){return this.controls[x]&&this.controls[x].getVisibility(this,x)},setControlVisible:function(x,S){return this._controlsVisibility||(this._controlsVisibility={}),this._controlsVisibility[x]=S,this},setControlsVisibility:function(x){for(var S in x||(x={}),x)this.setControlVisible(S,x[S]);return this},onDeselect:function(){},onSelect:function(){}})}(),n.util.object.extend(n.StaticCanvas.prototype,{FX_DURATION:500,fxCenterObjectH:function(I,x){var S=function(){},M=(x=x||{}).onComplete||S,m=x.onChange||S,g=this;return n.util.animate({target:this,startValue:I.left,endValue:this.getCenterPoint().x,duration:this.FX_DURATION,onChange:function(_){I.set("left",_),g.requestRenderAll(),m()},onComplete:function(){I.setCoords(),M()}})},fxCenterObjectV:function(I,x){var S=function(){},M=(x=x||{}).onComplete||S,m=x.onChange||S,g=this;return n.util.animate({target:this,startValue:I.top,endValue:this.getCenterPoint().y,duration:this.FX_DURATION,onChange:function(_){I.set("top",_),g.requestRenderAll(),m()},onComplete:function(){I.setCoords(),M()}})},fxRemove:function(I,x){var S=function(){},M=(x=x||{}).onComplete||S,m=x.onChange||S,g=this;return n.util.animate({target:this,startValue:I.opacity,endValue:0,duration:this.FX_DURATION,onChange:function(_){I.set("opacity",_),g.requestRenderAll(),m()},onComplete:function(){g.remove(I),M()}})}}),n.util.object.extend(n.Object.prototype,{animate:function(){if(arguments[0]&&"object"==typeof arguments[0]){var x,I=[],M=[];for(x in arguments[0])I.push(x);for(var m=0,g=I.length;m<g;m++)M.push(this._animate(x=I[m],arguments[0][x],arguments[1],m!==g-1));return M}return this._animate.apply(this,arguments)},_animate:function(I,x,S,M){var g,m=this;x=x.toString(),S=S?n.util.object.clone(S):{},~I.indexOf(".")&&(g=I.split("."));var _=m.colorProperties.indexOf(I)>-1||g&&m.colorProperties.indexOf(g[1])>-1,b=g?this.get(g[0])[g[1]]:this.get(I);"from"in S||(S.from=b),_||(x=~x.indexOf("=")?b+parseFloat(x.replace("=","")):parseFloat(x));var O={target:this,startValue:S.from,endValue:x,byValue:S.by,easing:S.easing,duration:S.duration,abort:S.abort&&function(C,P,F){return S.abort.call(m,C,P,F)},onChange:function(C,P,F){g?m[g[0]][g[1]]=C:m.set(I,C),!M&&S.onChange&&S.onChange(C,P,F)},onComplete:function(C,P,F){M||(m.setCoords(),S.onComplete&&S.onComplete(C,P,F))}};return _?n.util.animateColor(O.startValue,O.endValue,O.duration,O):n.util.animate(O)}}),function(I){"use strict";var x=I.fabric||(I.fabric={}),S=x.util.object.extend,M=x.util.object.clone,m={x1:1,x2:1,y1:1,y2:1};function g(_,b){var O=_.origin,C=_.axis1,P=_.axis2,F=_.dimension,$=b.nearest,Q=b.center,ne=b.farthest;return function(){switch(this.get(O)){case $:return Math.min(this.get(C),this.get(P));case Q:return Math.min(this.get(C),this.get(P))+.5*this.get(F);case ne:return Math.max(this.get(C),this.get(P))}}}x.Line?x.warn("fabric.Line is already defined"):(x.Line=x.util.createClass(x.Object,{type:"line",x1:0,y1:0,x2:0,y2:0,cacheProperties:x.Object.prototype.cacheProperties.concat("x1","x2","y1","y2"),initialize:function(_,b){_||(_=[0,0,0,0]),this.callSuper("initialize",b),this.set("x1",_[0]),this.set("y1",_[1]),this.set("x2",_[2]),this.set("y2",_[3]),this._setWidthHeight(b)},_setWidthHeight:function(_){_||(_={}),this.width=Math.abs(this.x2-this.x1),this.height=Math.abs(this.y2-this.y1),this.left="left"in _?_.left:this._getLeftToOriginX(),this.top="top"in _?_.top:this._getTopToOriginY()},_set:function(_,b){return this.callSuper("_set",_,b),typeof m[_]<"u"&&this._setWidthHeight(),this},_getLeftToOriginX:g({origin:"originX",axis1:"x1",axis2:"x2",dimension:"width"},{nearest:"left",center:"center",farthest:"right"}),_getTopToOriginY:g({origin:"originY",axis1:"y1",axis2:"y2",dimension:"height"},{nearest:"top",center:"center",farthest:"bottom"}),_render:function(_){_.beginPath();var b=this.calcLinePoints();_.moveTo(b.x1,b.y1),_.lineTo(b.x2,b.y2),_.lineWidth=this.strokeWidth;var O=_.strokeStyle;_.strokeStyle=this.stroke||_.fillStyle,this.stroke&&this._renderStroke(_),_.strokeStyle=O},_findCenterFromElement:function(){return{x:(this.x1+this.x2)/2,y:(this.y1+this.y2)/2}},toObject:function(_){return S(this.callSuper("toObject",_),this.calcLinePoints())},_getNonTransformedDimensions:function(){var _=this.callSuper("_getNonTransformedDimensions");return"butt"===this.strokeLineCap&&(0===this.width&&(_.y-=this.strokeWidth),0===this.height&&(_.x-=this.strokeWidth)),_},calcLinePoints:function(){var _=this.x1<=this.x2?-1:1,b=this.y1<=this.y2?-1:1;return{x1:_*this.width*.5,x2:_*this.width*-.5,y1:b*this.height*.5,y2:b*this.height*-.5}},_toSVG:function(){var _=this.calcLinePoints();return["<line ","COMMON_PARTS",'x1="',_.x1,'" y1="',_.y1,'" x2="',_.x2,'" y2="',_.y2,'" />\n']}}),x.Line.ATTRIBUTE_NAMES=x.SHARED_ATTRIBUTES.concat("x1 y1 x2 y2".split(" ")),x.Line.fromElement=function(_,b,O){O=O||{};var C=x.parseAttributes(_,x.Line.ATTRIBUTE_NAMES);b(new x.Line([C.x1||0,C.y1||0,C.x2||0,C.y2||0],S(C,O)))},x.Line.fromObject=function(_,b){var C=M(_,!0);C.points=[_.x1,_.y1,_.x2,_.y2],x.Object._fromObject("Line",C,function O(P){delete P.points,b&&b(P)},"points")})}(De),function(I){"use strict";var x=I.fabric||(I.fabric={}),S=x.util.degreesToRadians;x.Circle?x.warn("fabric.Circle is already defined."):(x.Circle=x.util.createClass(x.Object,{type:"circle",radius:0,startAngle:0,endAngle:360,cacheProperties:x.Object.prototype.cacheProperties.concat("radius","startAngle","endAngle"),_set:function(m,g){return this.callSuper("_set",m,g),"radius"===m&&this.setRadius(g),this},toObject:function(m){return this.callSuper("toObject",["radius","startAngle","endAngle"].concat(m))},_toSVG:function(){var m,b=(this.endAngle-this.startAngle)%360;if(0===b)m=["<circle ","COMMON_PARTS",'cx="0" cy="0" ','r="',this.radius,'" />\n'];else{var O=S(this.startAngle),C=S(this.endAngle),P=this.radius;m=['<path d="M '+x.util.cos(O)*P+" "+x.util.sin(O)*P," A "+P+" "+P," 0 ",+(b>180?"1":"0")+" 1"," "+x.util.cos(C)*P+" "+x.util.sin(C)*P,'" ',"COMMON_PARTS"," />\n"]}return m},_render:function(m){m.beginPath(),m.arc(0,0,this.radius,S(this.startAngle),S(this.endAngle),!1),this._renderPaintInOrder(m)},getRadiusX:function(){return this.get("radius")*this.get("scaleX")},getRadiusY:function(){return this.get("radius")*this.get("scaleY")},setRadius:function(m){return this.radius=m,this.set("width",2*m).set("height",2*m)}}),x.Circle.ATTRIBUTE_NAMES=x.SHARED_ATTRIBUTES.concat("cx cy r".split(" ")),x.Circle.fromElement=function(m,g){var _=x.parseAttributes(m,x.Circle.ATTRIBUTE_NAMES);if(!function M(m){return"radius"in m&&m.radius>=0}(_))throw new Error("value of `r` attribute is required and can not be negative");_.left=(_.left||0)-_.radius,_.top=(_.top||0)-_.radius,g(new x.Circle(_))},x.Circle.fromObject=function(m,g){x.Object._fromObject("Circle",m,g)})}(De),function(I){"use strict";var x=I.fabric||(I.fabric={});x.Triangle?x.warn("fabric.Triangle is already defined"):(x.Triangle=x.util.createClass(x.Object,{type:"triangle",width:100,height:100,_render:function(S){var M=this.width/2,m=this.height/2;S.beginPath(),S.moveTo(-M,m),S.lineTo(0,-m),S.lineTo(M,m),S.closePath(),this._renderPaintInOrder(S)},_toSVG:function(){var S=this.width/2,M=this.height/2;return["<polygon ","COMMON_PARTS",'points="',[-S+" "+M,"0 "+-M,S+" "+M].join(","),'" />']}}),x.Triangle.fromObject=function(S,M){return x.Object._fromObject("Triangle",S,M)})}(De),function(I){"use strict";var x=I.fabric||(I.fabric={}),S=2*Math.PI;x.Ellipse?x.warn("fabric.Ellipse is already defined."):(x.Ellipse=x.util.createClass(x.Object,{type:"ellipse",rx:0,ry:0,cacheProperties:x.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(M){this.callSuper("initialize",M),this.set("rx",M&&M.rx||0),this.set("ry",M&&M.ry||0)},_set:function(M,m){switch(this.callSuper("_set",M,m),M){case"rx":this.rx=m,this.set("width",2*m);break;case"ry":this.ry=m,this.set("height",2*m)}return this},getRx:function(){return this.get("rx")*this.get("scaleX")},getRy:function(){return this.get("ry")*this.get("scaleY")},toObject:function(M){return this.callSuper("toObject",["rx","ry"].concat(M))},_toSVG:function(){return["<ellipse ","COMMON_PARTS",'cx="0" cy="0" ','rx="',this.rx,'" ry="',this.ry,'" />\n']},_render:function(M){M.beginPath(),M.save(),M.transform(1,0,0,this.ry/this.rx,0,0),M.arc(0,0,this.rx,0,S,!1),M.restore(),this._renderPaintInOrder(M)}}),x.Ellipse.ATTRIBUTE_NAMES=x.SHARED_ATTRIBUTES.concat("cx cy rx ry".split(" ")),x.Ellipse.fromElement=function(M,m){var g=x.parseAttributes(M,x.Ellipse.ATTRIBUTE_NAMES);g.left=(g.left||0)-g.rx,g.top=(g.top||0)-g.ry,m(new x.Ellipse(g))},x.Ellipse.fromObject=function(M,m){x.Object._fromObject("Ellipse",M,m)})}(De),function(I){"use strict";var x=I.fabric||(I.fabric={}),S=x.util.object.extend;x.Rect?x.warn("fabric.Rect is already defined"):(x.Rect=x.util.createClass(x.Object,{stateProperties:x.Object.prototype.stateProperties.concat("rx","ry"),type:"rect",rx:0,ry:0,cacheProperties:x.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(M){this.callSuper("initialize",M),this._initRxRy()},_initRxRy:function(){this.rx&&!this.ry?this.ry=this.rx:this.ry&&!this.rx&&(this.rx=this.ry)},_render:function(M){var m=this.rx?Math.min(this.rx,this.width/2):0,g=this.ry?Math.min(this.ry,this.height/2):0,_=this.width,b=this.height,O=-this.width/2,C=-this.height/2,P=0!==m||0!==g,F=.4477152502;M.beginPath(),M.moveTo(O+m,C),M.lineTo(O+_-m,C),P&&M.bezierCurveTo(O+_-F*m,C,O+_,C+F*g,O+_,C+g),M.lineTo(O+_,C+b-g),P&&M.bezierCurveTo(O+_,C+b-F*g,O+_-F*m,C+b,O+_-m,C+b),M.lineTo(O+m,C+b),P&&M.bezierCurveTo(O+F*m,C+b,O,C+b-F*g,O,C+b-g),M.lineTo(O,C+g),P&&M.bezierCurveTo(O,C+F*g,O+F*m,C,O+m,C),M.closePath(),this._renderPaintInOrder(M)},toObject:function(M){return this.callSuper("toObject",["rx","ry"].concat(M))},_toSVG:function(){return["<rect ","COMMON_PARTS",'x="',-this.width/2,'" y="',-this.height/2,'" rx="',this.rx,'" ry="',this.ry,'" width="',this.width,'" height="',this.height,'" />\n']}}),x.Rect.ATTRIBUTE_NAMES=x.SHARED_ATTRIBUTES.concat("x y rx ry width height".split(" ")),x.Rect.fromElement=function(M,m,g){if(!M)return m(null);g=g||{};var _=x.parseAttributes(M,x.Rect.ATTRIBUTE_NAMES);_.left=_.left||0,_.top=_.top||0,_.height=_.height||0,_.width=_.width||0;var b=new x.Rect(S(g?x.util.object.clone(g):{},_));b.visible=b.visible&&b.width>0&&b.height>0,m(b)},x.Rect.fromObject=function(M,m){return x.Object._fromObject("Rect",M,m)})}(De),function(I){"use strict";var x=I.fabric||(I.fabric={}),S=x.util.object.extend,M=x.util.array.min,m=x.util.array.max,g=x.util.toFixed,_=x.util.projectStrokeOnPoints;x.Polyline?x.warn("fabric.Polyline is already defined"):(x.Polyline=x.util.createClass(x.Object,{type:"polyline",points:null,exactBoundingBox:!1,cacheProperties:x.Object.prototype.cacheProperties.concat("points"),initialize:function(b,O){O=O||{},this.points=b||[],this.callSuper("initialize",O),this._setPositionDimensions(O)},_projectStrokeOnPoints:function(){return _(this.points,this,!0)},_setPositionDimensions:function(b){var C,O=this._calcDimensions(b),P=this.exactBoundingBox?this.strokeWidth:0;this.width=O.width-P,this.height=O.height-P,b.fromSVG||(C=this.translateToGivenOrigin({x:O.left-this.strokeWidth/2+P/2,y:O.top-this.strokeWidth/2+P/2},"left","top",this.originX,this.originY)),typeof b.left>"u"&&(this.left=b.fromSVG?O.left:C.x),typeof b.top>"u"&&(this.top=b.fromSVG?O.top:C.y),this.pathOffset={x:O.left+this.width/2+P/2,y:O.top+this.height/2+P/2}},_calcDimensions:function(){var b=this.exactBoundingBox?this._projectStrokeOnPoints():this.points,O=M(b,"x")||0,C=M(b,"y")||0;return{left:O,top:C,width:(m(b,"x")||0)-O,height:(m(b,"y")||0)-C}},toObject:function(b){return S(this.callSuper("toObject",b),{points:this.points.concat()})},_toSVG:function(){for(var b=[],O=this.pathOffset.x,C=this.pathOffset.y,P=x.Object.NUM_FRACTION_DIGITS,F=0,$=this.points.length;F<$;F++)b.push(g(this.points[F].x-O,P),",",g(this.points[F].y-C,P)," ");return["<"+this.type+" ","COMMON_PARTS",'points="',b.join(""),'" />\n']},commonRender:function(b){var O,C=this.points.length,P=this.pathOffset.x,F=this.pathOffset.y;if(!C||isNaN(this.points[C-1].y))return!1;b.beginPath(),b.moveTo(this.points[0].x-P,this.points[0].y-F);for(var $=0;$<C;$++)b.lineTo((O=this.points[$]).x-P,O.y-F);return!0},_render:function(b){!this.commonRender(b)||this._renderPaintInOrder(b)},complexity:function(){return this.get("points").length}}),x.Polyline.ATTRIBUTE_NAMES=x.SHARED_ATTRIBUTES.concat(),x.Polyline.fromElementGenerator=function(b){return function(O,C,P){if(!O)return C(null);P||(P={});var F=x.parsePointsAttribute(O.getAttribute("points")),$=x.parseAttributes(O,x[b].ATTRIBUTE_NAMES);$.fromSVG=!0,C(new x[b](F,S($,P)))}},x.Polyline.fromElement=x.Polyline.fromElementGenerator("Polyline"),x.Polyline.fromObject=function(b,O){return x.Object._fromObject("Polyline",b,O,"points")})}(De),function(I){"use strict";var x=I.fabric||(I.fabric={}),S=x.util.projectStrokeOnPoints;x.Polygon?x.warn("fabric.Polygon is already defined"):(x.Polygon=x.util.createClass(x.Polyline,{type:"polygon",_projectStrokeOnPoints:function(){return S(this.points,this)},_render:function(M){!this.commonRender(M)||(M.closePath(),this._renderPaintInOrder(M))}}),x.Polygon.ATTRIBUTE_NAMES=x.SHARED_ATTRIBUTES.concat(),x.Polygon.fromElement=x.Polyline.fromElementGenerator("Polygon"),x.Polygon.fromObject=function(M,m){x.Object._fromObject("Polygon",M,m,"points")})}(De),function(I){"use strict";var x=I.fabric||(I.fabric={}),S=x.util.array.min,M=x.util.array.max,m=x.util.object.extend,g=x.util.object.clone,_=x.util.toFixed;x.Path?x.warn("fabric.Path is already defined"):(x.Path=x.util.createClass(x.Object,{type:"path",path:null,cacheProperties:x.Object.prototype.cacheProperties.concat("path","fillRule"),stateProperties:x.Object.prototype.stateProperties.concat("path"),initialize:function(b,O){delete(O=g(O||{})).path,this.callSuper("initialize",O),this._setPath(b||[],O)},_setPath:function(b,O){this.path=x.util.makePathSimpler(Array.isArray(b)?b:x.util.parsePath(b)),x.Polyline.prototype._setPositionDimensions.call(this,O||{})},_renderPathCommands:function(b){var O,C=0,P=0,F=0,$=0,ue=-this.pathOffset.x,ge=-this.pathOffset.y;b.beginPath();for(var _e=0,Ie=this.path.length;_e<Ie;++_e)switch(O=this.path[_e],O[0]){case"L":b.lineTo((F=O[1])+ue,($=O[2])+ge);break;case"M":C=F=O[1],P=$=O[2],b.moveTo(F+ue,$+ge);break;case"C":b.bezierCurveTo(O[1]+ue,O[2]+ge,O[3]+ue,O[4]+ge,(F=O[5])+ue,($=O[6])+ge);break;case"Q":b.quadraticCurveTo(O[1]+ue,O[2]+ge,O[3]+ue,O[4]+ge),F=O[3],$=O[4];break;case"z":case"Z":F=C,$=P,b.closePath()}},_render:function(b){this._renderPathCommands(b),this._renderPaintInOrder(b)},toString:function(){return"#<fabric.Path ("+this.complexity()+'): { "top": '+this.top+', "left": '+this.left+" }>"},toObject:function(b){return m(this.callSuper("toObject",b),{path:this.path.map(function(O){return O.slice()})})},toDatalessObject:function(b){var O=this.toObject(["sourcePath"].concat(b));return O.sourcePath&&delete O.path,O},_toSVG:function(){return["<path ","COMMON_PARTS",'d="',x.util.joinPath(this.path),'" stroke-linecap="round" ',"/>\n"]},_getOffsetTransform:function(){var b=x.Object.NUM_FRACTION_DIGITS;return" translate("+_(-this.pathOffset.x,b)+", "+_(-this.pathOffset.y,b)+")"},toClipPathSVG:function(b){var O=this._getOffsetTransform();return"\t"+this._createBaseClipPathSVGMarkup(this._toSVG(),{reviver:b,additionalTransform:O})},toSVG:function(b){var O=this._getOffsetTransform();return this._createBaseSVGMarkup(this._toSVG(),{reviver:b,additionalTransform:O})},complexity:function(){return this.path.length},_calcDimensions:function(){for(var C,ne,b=[],O=[],P=0,F=0,$=0,Q=0,ue=0,ge=this.path.length;ue<ge;++ue){switch((C=this.path[ue])[0]){case"L":$=C[1],Q=C[2],ne=[];break;case"M":P=$=C[1],F=Q=C[2],ne=[];break;case"C":ne=x.util.getBoundsOfCurve($,Q,C[1],C[2],C[3],C[4],C[5],C[6]),$=C[5],Q=C[6];break;case"Q":ne=x.util.getBoundsOfCurve($,Q,C[1],C[2],C[1],C[2],C[3],C[4]),$=C[3],Q=C[4];break;case"z":case"Z":$=P,Q=F}ne.forEach(function(bt){b.push(bt.x),O.push(bt.y)}),b.push($),O.push(Q)}var _e=S(b)||0,Ie=S(O)||0;return{left:_e,top:Ie,width:(M(b)||0)-_e,height:(M(O)||0)-Ie}}}),x.Path.fromObject=function(b,O){"string"==typeof b.sourcePath?x.loadSVGFromURL(b.sourcePath,function(P){var F=P[0];F.setOptions(b),b.clipPath?x.util.enlivenObjects([b.clipPath],function($){F.clipPath=$[0],O&&O(F)}):O&&O(F)}):x.Object._fromObject("Path",b,O,"path")},x.Path.ATTRIBUTE_NAMES=x.SHARED_ATTRIBUTES.concat(["d"]),x.Path.fromElement=function(b,O,C){var P=x.parseAttributes(b,x.Path.ATTRIBUTE_NAMES);P.fromSVG=!0,O(new x.Path(P.d,m(P,C)))})}(De),function(I){"use strict";var x=I.fabric||(I.fabric={}),S=x.util.array.min,M=x.util.array.max;x.Group||(x.Group=x.util.createClass(x.Object,x.Collection,{type:"group",strokeWidth:0,subTargetCheck:!1,cacheProperties:[],useSetOnGroup:!1,initialize:function(m,g,_){g=g||{},this._objects=[],_&&this.callSuper("initialize",g),this._objects=m||[];for(var b=this._objects.length;b--;)this._objects[b].group=this;if(_)this._updateObjectsACoords();else{var O=g&&g.centerPoint;void 0!==g.originX&&(this.originX=g.originX),void 0!==g.originY&&(this.originY=g.originY),O||this._calcBounds(),this._updateObjectsCoords(O),delete g.centerPoint,this.callSuper("initialize",g)}this.setCoords()},_updateObjectsACoords:function(){for(var g=this._objects.length;g--;)this._objects[g].setCoords(!0)},_updateObjectsCoords:function(g){g=g||this.getCenterPoint();for(var _=this._objects.length;_--;)this._updateObjectCoords(this._objects[_],g)},_updateObjectCoords:function(m,g){m.set({left:m.left-g.x,top:m.top-g.y}),m.group=this,m.setCoords(!0)},toString:function(){return"#<fabric.Group: ("+this.complexity()+")>"},addWithUpdate:function(m){var g=!!this.group;return this._restoreObjectsState(),x.util.resetObjectTransform(this),m&&(g&&x.util.removeTransformFromObject(m,this.group.calcTransformMatrix()),this._objects.push(m),m.group=this,m._set("canvas",this.canvas)),this._calcBounds(),this._updateObjectsCoords(),this.dirty=!0,g?this.group.addWithUpdate():this.setCoords(),this},removeWithUpdate:function(m){return this._restoreObjectsState(),x.util.resetObjectTransform(this),this.remove(m),this._calcBounds(),this._updateObjectsCoords(),this.setCoords(),this.dirty=!0,this},_onObjectAdded:function(m){this.dirty=!0,m.group=this,m._set("canvas",this.canvas)},_onObjectRemoved:function(m){this.dirty=!0,delete m.group},_set:function(m,g){var _=this._objects.length;if(this.useSetOnGroup)for(;_--;)this._objects[_].setOnGroup(m,g);if("canvas"===m)for(;_--;)this._objects[_]._set(m,g);x.Object.prototype._set.call(this,m,g)},toObject:function(m){var g=this.includeDefaultValues,_=this._objects.filter(function(O){return!O.excludeFromExport}).map(function(O){var C=O.includeDefaultValues;O.includeDefaultValues=g;var P=O.toObject(m);return O.includeDefaultValues=C,P}),b=x.Object.prototype.toObject.call(this,m);return b.objects=_,b},toDatalessObject:function(m){var g,_=this.sourcePath;if(_)g=_;else{var b=this.includeDefaultValues;g=this._objects.map(function(C){var P=C.includeDefaultValues;C.includeDefaultValues=b;var F=C.toDatalessObject(m);return C.includeDefaultValues=P,F})}var O=x.Object.prototype.toDatalessObject.call(this,m);return O.objects=g,O},render:function(m){this._transformDone=!0,this.callSuper("render",m),this._transformDone=!1},shouldCache:function(){var m=x.Object.prototype.shouldCache.call(this);if(m)for(var g=0,_=this._objects.length;g<_;g++)if(this._objects[g].willDrawShadow())return this.ownCaching=!1,!1;return m},willDrawShadow:function(){if(x.Object.prototype.willDrawShadow.call(this))return!0;for(var m=0,g=this._objects.length;m<g;m++)if(this._objects[m].willDrawShadow())return!0;return!1},isOnACache:function(){return this.ownCaching||this.group&&this.group.isOnACache()},drawObject:function(m){for(var g=0,_=this._objects.length;g<_;g++)this._objects[g].render(m);this._drawClipPath(m,this.clipPath)},isCacheDirty:function(m){if(this.callSuper("isCacheDirty",m))return!0;if(!this.statefullCache)return!1;for(var g=0,_=this._objects.length;g<_;g++)if(this._objects[g].isCacheDirty(!0)){if(this._cacheCanvas){var b=this.cacheWidth/this.zoomX,O=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-b/2,-O/2,b,O)}return!0}return!1},_restoreObjectsState:function(){var m=this.calcOwnMatrix();return this._objects.forEach(function(g){x.util.addTransformToObject(g,m),delete g.group,g.setCoords()}),this},destroy:function(){return this._objects.forEach(function(m){m.set("dirty",!0)}),this._restoreObjectsState()},dispose:function(){this.callSuper("dispose"),this.forEachObject(function(m){m.dispose&&m.dispose()}),this._objects=[]},toActiveSelection:function(){if(this.canvas){var m=this._objects,g=this.canvas;this._objects=[];var _=this.toObject();delete _.objects;var b=new x.ActiveSelection([]);return b.set(_),b.type="activeSelection",g.remove(this),m.forEach(function(O){O.group=b,O.dirty=!0,g.add(O)}),b.canvas=g,b._objects=m,g._activeObject=b,b.setCoords(),b}},ungroupOnCanvas:function(){return this._restoreObjectsState()},setObjectsCoords:function(){return this.forEachObject(function(g){g.setCoords(!0)}),this},_calcBounds:function(m){for(var b,O,C,Q,g=[],_=[],P=["tr","br","bl","tl"],F=0,$=this._objects.length,ne=P.length;F<$;++F){for(C=(b=this._objects[F]).calcACoords(),Q=0;Q<ne;Q++)g.push(C[O=P[Q]].x),_.push(C[O].y);b.aCoords=C}this._getBounds(g,_,m)},_getBounds:function(m,g,_){var b=new x.Point(S(m),S(g)),O=new x.Point(M(m),M(g)),C=b.y||0,P=b.x||0,$=O.y-b.y||0;this.width=O.x-b.x||0,this.height=$,_||this.setPositionByOrigin({x:P,y:C},"left","top")},_toSVG:function(m){for(var g=["<g ","COMMON_PARTS"," >\n"],_=0,b=this._objects.length;_<b;_++)g.push("\t\t",this._objects[_].toSVG(m));return g.push("</g>\n"),g},getSvgStyles:function(){var g=this.visible?"":" visibility: hidden;";return[typeof this.opacity<"u"&&1!==this.opacity?"opacity: "+this.opacity+";":"",this.getSvgFilter(),g].join("")},toClipPathSVG:function(m){for(var g=[],_=0,b=this._objects.length;_<b;_++)g.push("\t",this._objects[_].toClipPathSVG(m));return this._createBaseClipPathSVGMarkup(g,{reviver:m})}}),x.Group.fromObject=function(m,g){var _=m.objects,b=x.util.object.clone(m,!0);delete b.objects,"string"!=typeof _?x.util.enlivenObjects(_,function(O){x.util.enlivenObjectEnlivables(m,b,function(){g&&g(new x.Group(O,b,!0))})}):x.loadSVGFromURL(_,function(O){var C=x.util.groupSVGElements(O,m,_),P=b.clipPath;delete b.clipPath,C.set(b),P?x.util.enlivenObjects([P],function(F){C.clipPath=F[0],g&&g(C)}):g&&g(C)})})}(De),function(I){"use strict";var x=I.fabric||(I.fabric={});x.ActiveSelection||(x.ActiveSelection=x.util.createClass(x.Group,{type:"activeSelection",initialize:function(S,M){M=M||{},this._objects=S||[];for(var m=this._objects.length;m--;)this._objects[m].group=this;M.originX&&(this.originX=M.originX),M.originY&&(this.originY=M.originY),this._calcBounds(),this._updateObjectsCoords(),x.Object.prototype.initialize.call(this,M),this.setCoords()},toGroup:function(){var S=this._objects.concat();this._objects=[];var M=x.Object.prototype.toObject.call(this),m=new x.Group([]);if(delete M.type,m.set(M),S.forEach(function(_){_.canvas.remove(_),_.group=m}),m._objects=S,!this.canvas)return m;var g=this.canvas;return g.add(m),g._activeObject=m,m.setCoords(),m},onDeselect:function(){return this.destroy(),!1},toString:function(){return"#<fabric.ActiveSelection: ("+this.complexity()+")>"},shouldCache:function(){return!1},isOnACache:function(){return!1},_renderControls:function(S,M,m){S.save(),S.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1,this.callSuper("_renderControls",S,M),typeof(m=m||{}).hasControls>"u"&&(m.hasControls=!1),m.forActiveSelection=!0;for(var g=0,_=this._objects.length;g<_;g++)this._objects[g]._renderControls(S,m);S.restore()}}),x.ActiveSelection.fromObject=function(S,M){x.util.enlivenObjects(S.objects,function(m){delete S.objects,M&&M(new x.ActiveSelection(m,S,!0))})})}(De),function(I){"use strict";var x=n.util.object.extend;I.fabric||(I.fabric={}),I.fabric.Image?n.warn("fabric.Image is already defined."):(n.Image=n.util.createClass(n.Object,{type:"image",strokeWidth:0,srcFromAttribute:!1,_lastScaleX:1,_lastScaleY:1,_filterScalingX:1,_filterScalingY:1,minimumScaleTrigger:.5,stateProperties:n.Object.prototype.stateProperties.concat("cropX","cropY"),cacheProperties:n.Object.prototype.cacheProperties.concat("cropX","cropY"),cacheKey:"",cropX:0,cropY:0,imageSmoothing:!0,initialize:function(S,M){M||(M={}),this.filters=[],this.cacheKey="texture"+n.Object.__uid++,this.callSuper("initialize",M),this._initElement(S,M)},getElement:function(){return this._element||{}},setElement:function(S,M){return this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._element=S,this._originalElement=S,this._initConfig(M),0!==this.filters.length&&this.applyFilters(),this.resizeFilter&&this.applyResizeFilters(),this},removeTexture:function(S){var M=n.filterBackend;M&&M.evictCachesForKey&&M.evictCachesForKey(S)},dispose:function(){this.callSuper("dispose"),this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._cacheContext=void 0,["_originalElement","_element","_filteredEl","_cacheCanvas"].forEach(function(S){n.util.cleanUpJsdomNode(this[S]),this[S]=void 0}.bind(this))},getCrossOrigin:function(){return this._originalElement&&(this._originalElement.crossOrigin||null)},getOriginalSize:function(){var S=this.getElement();return{width:S.naturalWidth||S.width,height:S.naturalHeight||S.height}},_stroke:function(S){if(this.stroke&&0!==this.strokeWidth){var M=this.width/2,m=this.height/2;S.beginPath(),S.moveTo(-M,-m),S.lineTo(M,-m),S.lineTo(M,m),S.lineTo(-M,m),S.lineTo(-M,-m),S.closePath()}},toObject:function(S){var M=[];this.filters.forEach(function(g){g&&M.push(g.toObject())});var m=x(this.callSuper("toObject",["cropX","cropY"].concat(S)),{src:this.getSrc(),crossOrigin:this.getCrossOrigin(),filters:M});return this.resizeFilter&&(m.resizeFilter=this.resizeFilter.toObject()),m},hasCrop:function(){return this.cropX||this.cropY||this.width<this._element.width||this.height<this._element.height},_toSVG:function(){var m,S=[],M=[],g=this._element,_=-this.width/2,b=-this.height/2,O="",C="";if(!g)return[];if(this.hasCrop()){var P=n.Object.__uid++;S.push('<clipPath id="imageCrop_'+P+'">\n','\t<rect x="'+_+'" y="'+b+'" width="'+this.width+'" height="'+this.height+'" />\n',"</clipPath>\n"),O=' clip-path="url(#imageCrop_'+P+')" '}if(this.imageSmoothing||(C='" image-rendering="optimizeSpeed'),M.push("\t<image ","COMMON_PARTS",'xlink:href="',this.getSvgSrc(!0),'" x="',_-this.cropX,'" y="',b-this.cropY,'" width="',g.width||g.naturalWidth,'" height="',g.height||g.height,C,'"',O,"></image>\n"),this.stroke||this.strokeDashArray){var F=this.fill;this.fill=null,m=["\t<rect ",'x="',_,'" y="',b,'" width="',this.width,'" height="',this.height,'" style="',this.getSvgStyles(),'"/>\n'],this.fill=F}return"fill"!==this.paintFirst?S.concat(m,M):S.concat(M,m)},getSrc:function(S){var M=S?this._element:this._originalElement;return M?M.toDataURL?M.toDataURL():this.srcFromAttribute?M.getAttribute("src"):M.src:this.src||""},setSrc:function(S,M,m){return n.util.loadImage(S,function(g,_){this.setElement(g,m),this._setWidthHeight(),M&&M(this,_)},this,m&&m.crossOrigin),this},toString:function(){return'#<fabric.Image: { src: "'+this.getSrc()+'" }>'},applyResizeFilters:function(){var S=this.resizeFilter,M=this.minimumScaleTrigger,m=this.getTotalObjectScaling(),g=m.scaleX,_=m.scaleY,b=this._filteredEl||this._originalElement;if(this.group&&this.set("dirty",!0),!S||g>M&&_>M)return this._element=b,this._filterScalingX=1,this._filterScalingY=1,this._lastScaleX=g,void(this._lastScaleY=_);n.filterBackend||(n.filterBackend=n.initFilterBackend());var O=n.util.createCanvasElement(),C=this._filteredEl?this.cacheKey+"_filtered":this.cacheKey,P=b.width,F=b.height;O.width=P,O.height=F,this._element=O,this._lastScaleX=S.scaleX=g,this._lastScaleY=S.scaleY=_,n.filterBackend.applyFilters([S],b,P,F,this._element,C),this._filterScalingX=O.width/this._originalElement.width,this._filterScalingY=O.height/this._originalElement.height},applyFilters:function(S){if(S=(S=S||this.filters||[]).filter(function(b){return b&&!b.isNeutralState()}),this.set("dirty",!0),this.removeTexture(this.cacheKey+"_filtered"),0===S.length)return this._element=this._originalElement,this._filteredEl=null,this._filterScalingX=1,this._filterScalingY=1,this;var M=this._originalElement,m=M.naturalWidth||M.width,g=M.naturalHeight||M.height;if(this._element===this._originalElement){var _=n.util.createCanvasElement();_.width=m,_.height=g,this._element=_,this._filteredEl=_}else this._element=this._filteredEl,this._filteredEl.getContext("2d").clearRect(0,0,m,g),this._lastScaleX=1,this._lastScaleY=1;return n.filterBackend||(n.filterBackend=n.initFilterBackend()),n.filterBackend.applyFilters(S,this._originalElement,m,g,this._element,this.cacheKey),(this._originalElement.width!==this._element.width||this._originalElement.height!==this._element.height)&&(this._filterScalingX=this._element.width/this._originalElement.width,this._filterScalingY=this._element.height/this._originalElement.height),this},_render:function(S){n.util.setImageSmoothing(S,this.imageSmoothing),!0!==this.isMoving&&this.resizeFilter&&this._needsResize()&&this.applyResizeFilters(),this._stroke(S),this._renderPaintInOrder(S)},drawCacheOnCanvas:function(S){n.util.setImageSmoothing(S,this.imageSmoothing),n.Object.prototype.drawCacheOnCanvas.call(this,S)},shouldCache:function(){return this.needsItsOwnCache()},_renderFill:function(S){var M=this._element;if(M){var m=this._filterScalingX,g=this._filterScalingY,_=this.width,b=this.height,O=Math.min,C=Math.max,P=C(this.cropX,0),F=C(this.cropY,0),$=M.naturalWidth||M.width,Q=M.naturalHeight||M.height,ne=P*m,ue=F*g,ge=O(_*m,$-ne),_e=O(b*g,Q-ue),Ie=-_/2,We=-b/2,Ke=O(_,$/m-P),yt=O(b,Q/g-F);M&&S.drawImage(M,ne,ue,ge,_e,Ie,We,Ke,yt)}},_needsResize:function(){var S=this.getTotalObjectScaling();return S.scaleX!==this._lastScaleX||S.scaleY!==this._lastScaleY},_resetWidthHeight:function(){this.set(this.getOriginalSize())},_initElement:function(S,M){this.setElement(n.util.getById(S),M),n.util.addClass(this.getElement(),n.Image.CSS_CANVAS)},_initConfig:function(S){S||(S={}),this.setOptions(S),this._setWidthHeight(S)},_initFilters:function(S,M){S&&S.length?n.util.enlivenObjects(S,function(m){M&&M(m)},"fabric.Image.filters"):M&&M()},_setWidthHeight:function(S){S||(S={});var M=this.getElement();this.width=S.width||M.naturalWidth||M.width||0,this.height=S.height||M.naturalHeight||M.height||0},parsePreserveAspectRatioAttribute:function(){var F,S=n.util.parsePreserveAspectRatioAttribute(this.preserveAspectRatio||""),M=this._element.width,m=this._element.height,g=1,_=1,b=0,O=0,C=0,P=0,$=this.width,Q=this.height,ne={width:$,height:Q};return!S||"none"===S.alignX&&"none"===S.alignY?(g=$/M,_=Q/m):("meet"===S.meetOrSlice&&(F=($-M*(g=_=n.util.findScaleToFit(this._element,ne)))/2,"Min"===S.alignX&&(b=-F),"Max"===S.alignX&&(b=F),F=(Q-m*_)/2,"Min"===S.alignY&&(O=-F),"Max"===S.alignY&&(O=F)),"slice"===S.meetOrSlice&&(F=M-$/(g=_=n.util.findScaleToCover(this._element,ne)),"Mid"===S.alignX&&(C=F/2),"Max"===S.alignX&&(C=F),F=m-Q/_,"Mid"===S.alignY&&(P=F/2),"Max"===S.alignY&&(P=F),M=$/g,m=Q/_)),{width:M,height:m,scaleX:g,scaleY:_,offsetLeft:b,offsetTop:O,cropX:C,cropY:P}}}),n.Image.CSS_CANVAS="canvas-img",n.Image.prototype.getSvgSrc=n.Image.prototype.getSrc,n.Image.fromObject=function(S,M){var m=n.util.object.clone(S);n.util.loadImage(m.src,function(g,_){_?M&&M(null,!0):n.Image.prototype._initFilters.call(m,m.filters,function(b){m.filters=b||[],n.Image.prototype._initFilters.call(m,[m.resizeFilter],function(O){m.resizeFilter=O[0],n.util.enlivenObjectEnlivables(m,m,function(){var C=new n.Image(g,m);M(C,!1)})})})},null,m.crossOrigin)},n.Image.fromURL=function(S,M,m){n.util.loadImage(S,function(g,_){M&&M(new n.Image(g,m),_)},null,m&&m.crossOrigin)},n.Image.ATTRIBUTE_NAMES=n.SHARED_ATTRIBUTES.concat("x y width height preserveAspectRatio xlink:href crossOrigin image-rendering".split(" ")),n.Image.fromElement=function(S,M,m){var g=n.parseAttributes(S,n.Image.ATTRIBUTE_NAMES);n.Image.fromURL(g["xlink:href"],M,x(m?n.util.object.clone(m):{},g))})}(De),n.util.object.extend(n.Object.prototype,{_getAngleValueForStraighten:function(){var I=this.angle%360;return I>0?90*Math.round((I-1)/90):90*Math.round(I/90)},straighten:function(){return this.rotate(this._getAngleValueForStraighten())},fxStraighten:function(I){var x=function(){},S=(I=I||{}).onComplete||x,M=I.onChange||x,m=this;return n.util.animate({target:this,startValue:this.get("angle"),endValue:this._getAngleValueForStraighten(),duration:this.FX_DURATION,onChange:function(g){m.rotate(g),M()},onComplete:function(){m.setCoords(),S()}})}}),n.util.object.extend(n.StaticCanvas.prototype,{straightenObject:function(I){return I.straighten(),this.requestRenderAll(),this},fxStraightenObject:function(I){return I.fxStraighten({onChange:this.requestRenderAllBound})}}),function(){"use strict";function I(S,M){var m="precision "+M+" float;\nvoid main(){}",g=S.createShader(S.FRAGMENT_SHADER);return S.shaderSource(g,m),S.compileShader(g),!!S.getShaderParameter(g,S.COMPILE_STATUS)}function x(S){S&&S.tileSize&&(this.tileSize=S.tileSize),this.setupGLContext(this.tileSize,this.tileSize),this.captureGPUInfo()}n.isWebglSupported=function(S){if(n.isLikelyNode)return!1;S=S||n.WebglFilterBackend.prototype.tileSize;var M=document.createElement("canvas"),m=M.getContext("webgl")||M.getContext("experimental-webgl"),g=!1;if(m){n.maxTextureSize=m.getParameter(m.MAX_TEXTURE_SIZE),g=n.maxTextureSize>=S;for(var _=["highp","mediump","lowp"],b=0;b<3;b++)if(I(m,_[b])){n.webGlPrecision=_[b];break}}return this.isSupported=g,g},n.WebglFilterBackend=x,x.prototype={tileSize:2048,resources:{},setupGLContext:function(S,M){this.dispose(),this.createWebGLCanvas(S,M),this.aPosition=new Float32Array([0,0,0,1,1,0,1,1]),this.chooseFastestCopyGLTo2DMethod(S,M)},chooseFastestCopyGLTo2DMethod:function(S,M){var g,m=typeof window.performance<"u";try{new ImageData(1,1),g=!0}catch{g=!1}var _=typeof ArrayBuffer<"u",b=typeof Uint8ClampedArray<"u";if(m&&g&&_&&b){var O=n.util.createCanvasElement(),C=new ArrayBuffer(S*M*4);if(n.forceGLPutImageData)return this.imageBuffer=C,void(this.copyGLTo2D=Ge);var F,$,P={imageBuffer:C,destinationWidth:S,destinationHeight:M,targetCanvas:O};O.width=S,O.height=M,F=window.performance.now(),Pe.call(P,this.gl,P),$=window.performance.now()-F,F=window.performance.now(),Ge.call(P,this.gl,P),$>window.performance.now()-F?(this.imageBuffer=C,this.copyGLTo2D=Ge):this.copyGLTo2D=Pe}},createWebGLCanvas:function(S,M){var m=n.util.createCanvasElement();m.width=S,m.height=M;var g={alpha:!0,premultipliedAlpha:!1,depth:!1,stencil:!1,antialias:!1},_=m.getContext("webgl",g);_||(_=m.getContext("experimental-webgl",g)),_&&(_.clearColor(0,0,0,0),this.canvas=m,this.gl=_)},applyFilters:function(S,M,m,g,_,b){var C,O=this.gl;b&&(C=this.getCachedTexture(b,M));var P={originalWidth:M.width||M.originalWidth,originalHeight:M.height||M.originalHeight,sourceWidth:m,sourceHeight:g,destinationWidth:m,destinationHeight:g,context:O,sourceTexture:this.createTexture(O,m,g,!C&&M),targetTexture:this.createTexture(O,m,g),originalTexture:C||this.createTexture(O,m,g,!C&&M),passes:S.length,webgl:!0,aPosition:this.aPosition,programCache:this.programCache,pass:0,filterBackend:this,targetCanvas:_},F=O.createFramebuffer();return O.bindFramebuffer(O.FRAMEBUFFER,F),S.forEach(function($){$&&$.applyTo(P)}),function Qe(I){var x=I.targetCanvas,m=I.destinationWidth,g=I.destinationHeight;(x.width!==m||x.height!==g)&&(x.width=m,x.height=g)}(P),this.copyGLTo2D(O,P),O.bindTexture(O.TEXTURE_2D,null),O.deleteTexture(P.sourceTexture),O.deleteTexture(P.targetTexture),O.deleteFramebuffer(F),_.getContext("2d").setTransform(1,0,0,1,0,0),P},dispose:function(){this.canvas&&(this.canvas=null,this.gl=null),this.clearWebGLCaches()},clearWebGLCaches:function(){this.programCache={},this.textureCache={}},createTexture:function(S,M,m,g,_){var b=S.createTexture();return S.bindTexture(S.TEXTURE_2D,b),S.texParameteri(S.TEXTURE_2D,S.TEXTURE_MAG_FILTER,_||S.NEAREST),S.texParameteri(S.TEXTURE_2D,S.TEXTURE_MIN_FILTER,_||S.NEAREST),S.texParameteri(S.TEXTURE_2D,S.TEXTURE_WRAP_S,S.CLAMP_TO_EDGE),S.texParameteri(S.TEXTURE_2D,S.TEXTURE_WRAP_T,S.CLAMP_TO_EDGE),g?S.texImage2D(S.TEXTURE_2D,0,S.RGBA,S.RGBA,S.UNSIGNED_BYTE,g):S.texImage2D(S.TEXTURE_2D,0,S.RGBA,M,m,0,S.RGBA,S.UNSIGNED_BYTE,null),b},getCachedTexture:function(S,M){if(this.textureCache[S])return this.textureCache[S];var m=this.createTexture(this.gl,M.width,M.height,M);return this.textureCache[S]=m,m},evictCachesForKey:function(S){this.textureCache[S]&&(this.gl.deleteTexture(this.textureCache[S]),delete this.textureCache[S])},copyGLTo2D:Pe,captureGPUInfo:function(){if(this.gpuInfo)return this.gpuInfo;var S=this.gl,M={renderer:"",vendor:""};if(!S)return M;var m=S.getExtension("WEBGL_debug_renderer_info");if(m){var g=S.getParameter(m.UNMASKED_RENDERER_WEBGL),_=S.getParameter(m.UNMASKED_VENDOR_WEBGL);g&&(M.renderer=g.toLowerCase()),_&&(M.vendor=_.toLowerCase())}return this.gpuInfo=M,M}}}(),function(){"use strict";var I=function(){};function x(){}n.Canvas2dFilterBackend=x,x.prototype={evictCachesForKey:I,dispose:I,clearWebGLCaches:I,resources:{},applyFilters:function(S,M,m,g,_){var b=_.getContext("2d");b.drawImage(M,0,0,m,g);var P={sourceWidth:m,sourceHeight:g,imageData:b.getImageData(0,0,m,g),originalEl:M,originalImageData:b.getImageData(0,0,m,g),canvasEl:_,ctx:b,filterBackend:this};return S.forEach(function(F){F.applyTo(P)}),(P.imageData.width!==m||P.imageData.height!==g)&&(_.width=P.imageData.width,_.height=P.imageData.height),b.putImageData(P.imageData,0,0),P}}}(),n.Image=n.Image||{},n.Image.filters=n.Image.filters||{},n.Image.filters.BaseFilter=n.util.createClass({type:"BaseFilter",vertexSource:"attribute vec2 aPosition;\nvarying vec2 vTexCoord;\nvoid main() {\nvTexCoord = aPosition;\ngl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);\n}",fragmentSource:"precision highp float;\nvarying vec2 vTexCoord;\nuniform sampler2D uTexture;\nvoid main() {\ngl_FragColor = texture2D(uTexture, vTexCoord);\n}",initialize:function(I){I&&this.setOptions(I)},setOptions:function(I){for(var x in I)this[x]=I[x]},createProgram:function(I,x,S){x=x||this.fragmentSource,S=S||this.vertexSource,"highp"!==n.webGlPrecision&&(x=x.replace(/precision highp float/g,"precision "+n.webGlPrecision+" float"));var M=I.createShader(I.VERTEX_SHADER);if(I.shaderSource(M,S),I.compileShader(M),!I.getShaderParameter(M,I.COMPILE_STATUS))throw new Error("Vertex shader compile error for "+this.type+": "+I.getShaderInfoLog(M));var m=I.createShader(I.FRAGMENT_SHADER);if(I.shaderSource(m,x),I.compileShader(m),!I.getShaderParameter(m,I.COMPILE_STATUS))throw new Error("Fragment shader compile error for "+this.type+": "+I.getShaderInfoLog(m));var g=I.createProgram();if(I.attachShader(g,M),I.attachShader(g,m),I.linkProgram(g),!I.getProgramParameter(g,I.LINK_STATUS))throw new Error('Shader link error for "${this.type}" '+I.getProgramInfoLog(g));var _=this.getAttributeLocations(I,g),b=this.getUniformLocations(I,g)||{};return b.uStepW=I.getUniformLocation(g,"uStepW"),b.uStepH=I.getUniformLocation(g,"uStepH"),{program:g,attributeLocations:_,uniformLocations:b}},getAttributeLocations:function(I,x){return{aPosition:I.getAttribLocation(x,"aPosition")}},getUniformLocations:function(){return{}},sendAttributeData:function(I,x,S){var M=x.aPosition,m=I.createBuffer();I.bindBuffer(I.ARRAY_BUFFER,m),I.enableVertexAttribArray(M),I.vertexAttribPointer(M,2,I.FLOAT,!1,0,0),I.bufferData(I.ARRAY_BUFFER,S,I.STATIC_DRAW)},_setupFrameBuffer:function(I){var S,M,x=I.context;I.passes>1?(M=I.destinationHeight,(I.sourceWidth!==(S=I.destinationWidth)||I.sourceHeight!==M)&&(x.deleteTexture(I.targetTexture),I.targetTexture=I.filterBackend.createTexture(x,S,M)),x.framebufferTexture2D(x.FRAMEBUFFER,x.COLOR_ATTACHMENT0,x.TEXTURE_2D,I.targetTexture,0)):(x.bindFramebuffer(x.FRAMEBUFFER,null),x.finish())},_swapTextures:function(I){I.passes--,I.pass++;var x=I.targetTexture;I.targetTexture=I.sourceTexture,I.sourceTexture=x},isNeutralState:function(){var I=this.mainParameter,x=n.Image.filters[this.type].prototype;if(I){if(Array.isArray(x[I])){for(var S=x[I].length;S--;)if(this[I][S]!==x[I][S])return!1;return!0}return x[I]===this[I]}return!1},applyTo:function(I){I.webgl?(this._setupFrameBuffer(I),this.applyToWebGL(I),this._swapTextures(I)):this.applyTo2d(I)},retrieveShader:function(I){return I.programCache.hasOwnProperty(this.type)||(I.programCache[this.type]=this.createProgram(I.context)),I.programCache[this.type]},applyToWebGL:function(I){var x=I.context,S=this.retrieveShader(I);x.bindTexture(x.TEXTURE_2D,0===I.pass&&I.originalTexture?I.originalTexture:I.sourceTexture),x.useProgram(S.program),this.sendAttributeData(x,S.attributeLocations,I.aPosition),x.uniform1f(S.uniformLocations.uStepW,1/I.sourceWidth),x.uniform1f(S.uniformLocations.uStepH,1/I.sourceHeight),this.sendUniformData(x,S.uniformLocations),x.viewport(0,0,I.destinationWidth,I.destinationHeight),x.drawArrays(x.TRIANGLE_STRIP,0,4)},bindAdditionalTexture:function(I,x,S){I.activeTexture(S),I.bindTexture(I.TEXTURE_2D,x),I.activeTexture(I.TEXTURE0)},unbindAdditionalTexture:function(I,x){I.activeTexture(x),I.bindTexture(I.TEXTURE_2D,null),I.activeTexture(I.TEXTURE0)},getMainParameter:function(){return this[this.mainParameter]},setMainParameter:function(I){this[this.mainParameter]=I},sendUniformData:function(){},createHelpLayer:function(I){if(!I.helpLayer){var x=document.createElement("canvas");x.width=I.sourceWidth,x.height=I.sourceHeight,I.helpLayer=x}},toObject:function(){var I={type:this.type},x=this.mainParameter;return x&&(I[x]=this[x]),I},toJSON:function(){return this.toObject()}}),n.Image.filters.BaseFilter.fromObject=function(I,x){var S=new n.Image.filters[I.type](I);return x&&x(S),S},function(I){"use strict";var x=I.fabric||(I.fabric={}),S=x.Image.filters;S.ColorMatrix=(0,x.util.createClass)(S.BaseFilter,{type:"ColorMatrix",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nvarying vec2 vTexCoord;\nuniform mat4 uColorMatrix;\nuniform vec4 uConstants;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\ncolor *= uColorMatrix;\ncolor += uConstants;\ngl_FragColor = color;\n}",matrix:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],mainParameter:"matrix",colorsOnly:!0,initialize:function(m){this.callSuper("initialize",m),this.matrix=this.matrix.slice(0)},applyTo2d:function(m){var C,P,F,$,Q,_=m.imageData.data,b=_.length,O=this.matrix,ne=this.colorsOnly;for(Q=0;Q<b;Q+=4)C=_[Q],P=_[Q+1],F=_[Q+2],ne?(_[Q]=C*O[0]+P*O[1]+F*O[2]+255*O[4],_[Q+1]=C*O[5]+P*O[6]+F*O[7]+255*O[9],_[Q+2]=C*O[10]+P*O[11]+F*O[12]+255*O[14]):(_[Q]=C*O[0]+P*O[1]+F*O[2]+($=_[Q+3])*O[3]+255*O[4],_[Q+1]=C*O[5]+P*O[6]+F*O[7]+$*O[8]+255*O[9],_[Q+2]=C*O[10]+P*O[11]+F*O[12]+$*O[13]+255*O[14],_[Q+3]=C*O[15]+P*O[16]+F*O[17]+$*O[18]+255*O[19])},getUniformLocations:function(m,g){return{uColorMatrix:m.getUniformLocation(g,"uColorMatrix"),uConstants:m.getUniformLocation(g,"uConstants")}},sendUniformData:function(m,g){var _=this.matrix,O=[_[4],_[9],_[14],_[19]];m.uniformMatrix4fv(g.uColorMatrix,!1,[_[0],_[1],_[2],_[3],_[5],_[6],_[7],_[8],_[10],_[11],_[12],_[13],_[15],_[16],_[17],_[18]]),m.uniform4fv(g.uConstants,O)}}),x.Image.filters.ColorMatrix.fromObject=x.Image.filters.BaseFilter.fromObject}(De),function(I){"use strict";var x=I.fabric||(I.fabric={}),S=x.Image.filters;S.Brightness=(0,x.util.createClass)(S.BaseFilter,{type:"Brightness",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uBrightness;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\ncolor.rgb += uBrightness;\ngl_FragColor = color;\n}",brightness:0,mainParameter:"brightness",applyTo2d:function(m){if(0!==this.brightness){var b,_=m.imageData.data,O=_.length,C=Math.round(255*this.brightness);for(b=0;b<O;b+=4)_[b]=_[b]+C,_[b+1]=_[b+1]+C,_[b+2]=_[b+2]+C}},getUniformLocations:function(m,g){return{uBrightness:m.getUniformLocation(g,"uBrightness")}},sendUniformData:function(m,g){m.uniform1f(g.uBrightness,this.brightness)}}),x.Image.filters.Brightness.fromObject=x.Image.filters.BaseFilter.fromObject}(De),function(I){"use strict";var x=I.fabric||(I.fabric={}),S=x.util.object.extend,M=x.Image.filters;M.Convolute=(0,x.util.createClass)(M.BaseFilter,{type:"Convolute",opaque:!1,matrix:[0,0,0,0,1,0,0,0,0],fragmentSource:{Convolute_3_1:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[9];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 0);\nfor (float h = 0.0; h < 3.0; h+=1.0) {\nfor (float w = 0.0; w < 3.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 1), uStepH * (h - 1));\ncolor += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 3.0 + w)];\n}\n}\ngl_FragColor = color;\n}",Convolute_3_0:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[9];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 1);\nfor (float h = 0.0; h < 3.0; h+=1.0) {\nfor (float w = 0.0; w < 3.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 1.0), uStepH * (h - 1.0));\ncolor.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 3.0 + w)];\n}\n}\nfloat alpha = texture2D(uTexture, vTexCoord).a;\ngl_FragColor = color;\ngl_FragColor.a = alpha;\n}",Convolute_5_1:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[25];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 0);\nfor (float h = 0.0; h < 5.0; h+=1.0) {\nfor (float w = 0.0; w < 5.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));\ncolor += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 5.0 + w)];\n}\n}\ngl_FragColor = color;\n}",Convolute_5_0:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[25];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 1);\nfor (float h = 0.0; h < 5.0; h+=1.0) {\nfor (float w = 0.0; w < 5.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));\ncolor.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 5.0 + w)];\n}\n}\nfloat alpha = texture2D(uTexture, vTexCoord).a;\ngl_FragColor = color;\ngl_FragColor.a = alpha;\n}",Convolute_7_1:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[49];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 0);\nfor (float h = 0.0; h < 7.0; h+=1.0) {\nfor (float w = 0.0; w < 7.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));\ncolor += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 7.0 + w)];\n}\n}\ngl_FragColor = color;\n}",Convolute_7_0:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[49];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 1);\nfor (float h = 0.0; h < 7.0; h+=1.0) {\nfor (float w = 0.0; w < 7.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));\ncolor.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 7.0 + w)];\n}\n}\nfloat alpha = texture2D(uTexture, vTexCoord).a;\ngl_FragColor = color;\ngl_FragColor.a = alpha;\n}",Convolute_9_1:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[81];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 0);\nfor (float h = 0.0; h < 9.0; h+=1.0) {\nfor (float w = 0.0; w < 9.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));\ncolor += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 9.0 + w)];\n}\n}\ngl_FragColor = color;\n}",Convolute_9_0:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[81];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 1);\nfor (float h = 0.0; h < 9.0; h+=1.0) {\nfor (float w = 0.0; w < 9.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));\ncolor.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 9.0 + w)];\n}\n}\nfloat alpha = texture2D(uTexture, vTexCoord).a;\ngl_FragColor = color;\ngl_FragColor.a = alpha;\n}"},retrieveShader:function(g){var _=Math.sqrt(this.matrix.length),b=this.type+"_"+_+"_"+(this.opaque?1:0),O=this.fragmentSource[b];return g.programCache.hasOwnProperty(b)||(g.programCache[b]=this.createProgram(g.context,O)),g.programCache[b]},applyTo2d:function(g){var ge,_e,Ie,We,Ke,yt,ht,bt,lt,Xt,sn,ln,be,_=g.imageData,b=_.data,O=this.matrix,C=Math.round(Math.sqrt(O.length)),P=Math.floor(C/2),F=_.width,$=_.height,Q=g.ctx.createImageData(F,$),ne=Q.data,ue=this.opaque?1:0;for(sn=0;sn<$;sn++)for(Xt=0;Xt<F;Xt++){for(Ke=4*(sn*F+Xt),ge=0,_e=0,Ie=0,We=0,be=0;be<C;be++)for(ln=0;ln<C;ln++)yt=Xt+ln-P,!((ht=sn+be-P)<0||ht>=$||yt<0||yt>=F)&&(ge+=b[bt=4*(ht*F+yt)]*(lt=O[be*C+ln]),_e+=b[bt+1]*lt,Ie+=b[bt+2]*lt,ue||(We+=b[bt+3]*lt));ne[Ke]=ge,ne[Ke+1]=_e,ne[Ke+2]=Ie,ne[Ke+3]=ue?b[Ke+3]:We}g.imageData=Q},getUniformLocations:function(g,_){return{uMatrix:g.getUniformLocation(_,"uMatrix"),uOpaque:g.getUniformLocation(_,"uOpaque"),uHalfSize:g.getUniformLocation(_,"uHalfSize"),uSize:g.getUniformLocation(_,"uSize")}},sendUniformData:function(g,_){g.uniform1fv(_.uMatrix,this.matrix)},toObject:function(){return S(this.callSuper("toObject"),{opaque:this.opaque,matrix:this.matrix})}}),x.Image.filters.Convolute.fromObject=x.Image.filters.BaseFilter.fromObject}(De),function(I){"use strict";var x=I.fabric||(I.fabric={}),S=x.Image.filters;S.Grayscale=(0,x.util.createClass)(S.BaseFilter,{type:"Grayscale",fragmentSource:{average:"precision highp float;\nuniform sampler2D uTexture;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nfloat average = (color.r + color.b + color.g) / 3.0;\ngl_FragColor = vec4(average, average, average, color.a);\n}",lightness:"precision highp float;\nuniform sampler2D uTexture;\nuniform int uMode;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 col = texture2D(uTexture, vTexCoord);\nfloat average = (max(max(col.r, col.g),col.b) + min(min(col.r, col.g),col.b)) / 2.0;\ngl_FragColor = vec4(average, average, average, col.a);\n}",luminosity:"precision highp float;\nuniform sampler2D uTexture;\nuniform int uMode;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 col = texture2D(uTexture, vTexCoord);\nfloat average = 0.21 * col.r + 0.72 * col.g + 0.07 * col.b;\ngl_FragColor = vec4(average, average, average, col.a);\n}"},mode:"average",mainParameter:"mode",applyTo2d:function(m){var b,C,_=m.imageData.data,O=_.length,P=this.mode;for(b=0;b<O;b+=4)"average"===P?C=(_[b]+_[b+1]+_[b+2])/3:"lightness"===P?C=(Math.min(_[b],_[b+1],_[b+2])+Math.max(_[b],_[b+1],_[b+2]))/2:"luminosity"===P&&(C=.21*_[b]+.72*_[b+1]+.07*_[b+2]),_[b]=C,_[b+1]=C,_[b+2]=C},retrieveShader:function(m){var g=this.type+"_"+this.mode;return m.programCache.hasOwnProperty(g)||(m.programCache[g]=this.createProgram(m.context,this.fragmentSource[this.mode])),m.programCache[g]},getUniformLocations:function(m,g){return{uMode:m.getUniformLocation(g,"uMode")}},sendUniformData:function(m,g){m.uniform1i(g.uMode,1)},isNeutralState:function(){return!1}}),x.Image.filters.Grayscale.fromObject=x.Image.filters.BaseFilter.fromObject}(De),function(I){"use strict";var x=I.fabric||(I.fabric={}),S=x.Image.filters;S.Invert=(0,x.util.createClass)(S.BaseFilter,{type:"Invert",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform int uInvert;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nif (uInvert == 1) {\ngl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,color.a);\n} else {\ngl_FragColor = color;\n}\n}",invert:!0,mainParameter:"invert",applyTo2d:function(m){var b,_=m.imageData.data,O=_.length;for(b=0;b<O;b+=4)_[b]=255-_[b],_[b+1]=255-_[b+1],_[b+2]=255-_[b+2]},isNeutralState:function(){return!this.invert},getUniformLocations:function(m,g){return{uInvert:m.getUniformLocation(g,"uInvert")}},sendUniformData:function(m,g){m.uniform1i(g.uInvert,this.invert)}}),x.Image.filters.Invert.fromObject=x.Image.filters.BaseFilter.fromObject}(De),function(I){"use strict";var x=I.fabric||(I.fabric={}),S=x.util.object.extend,M=x.Image.filters;M.Noise=(0,x.util.createClass)(M.BaseFilter,{type:"Noise",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uStepH;\nuniform float uNoise;\nuniform float uSeed;\nvarying vec2 vTexCoord;\nfloat rand(vec2 co, float seed, float vScale) {\nreturn fract(sin(dot(co.xy * vScale ,vec2(12.9898 , 78.233))) * 43758.5453 * (seed + 0.01) / 2.0);\n}\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\ncolor.rgb += (0.5 - rand(vTexCoord, uSeed, 0.1 / uStepH)) * uNoise;\ngl_FragColor = color;\n}",mainParameter:"noise",noise:0,applyTo2d:function(g){if(0!==this.noise){var O,C,F,b=g.imageData.data,P=this.noise;for(O=0,C=b.length;O<C;O+=4)F=(.5-Math.random())*P,b[O]+=F,b[O+1]+=F,b[O+2]+=F}},getUniformLocations:function(g,_){return{uNoise:g.getUniformLocation(_,"uNoise"),uSeed:g.getUniformLocation(_,"uSeed")}},sendUniformData:function(g,_){g.uniform1f(_.uNoise,this.noise/255),g.uniform1f(_.uSeed,Math.random())},toObject:function(){return S(this.callSuper("toObject"),{noise:this.noise})}}),x.Image.filters.Noise.fromObject=x.Image.filters.BaseFilter.fromObject}(De),function(I){"use strict";var x=I.fabric||(I.fabric={}),S=x.Image.filters;S.Pixelate=(0,x.util.createClass)(S.BaseFilter,{type:"Pixelate",blocksize:4,mainParameter:"blocksize",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uBlocksize;\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nfloat blockW = uBlocksize * uStepW;\nfloat blockH = uBlocksize * uStepW;\nint posX = int(vTexCoord.x / blockW);\nint posY = int(vTexCoord.y / blockH);\nfloat fposX = float(posX);\nfloat fposY = float(posY);\nvec2 squareCoords = vec2(fposX * blockW, fposY * blockH);\nvec4 color = texture2D(uTexture, squareCoords);\ngl_FragColor = color;\n}",applyTo2d:function(m){var C,P,F,$,Q,ne,ue,ge,_e,Ie,We,g=m.imageData,_=g.data,b=g.height,O=g.width;for(P=0;P<b;P+=this.blocksize)for(F=0;F<O;F+=this.blocksize)for($=_[C=4*P*O+4*F],Q=_[C+1],ne=_[C+2],ue=_[C+3],Ie=Math.min(P+this.blocksize,b),We=Math.min(F+this.blocksize,O),ge=P;ge<Ie;ge++)for(_e=F;_e<We;_e++)_[C=4*ge*O+4*_e]=$,_[C+1]=Q,_[C+2]=ne,_[C+3]=ue},isNeutralState:function(){return 1===this.blocksize},getUniformLocations:function(m,g){return{uBlocksize:m.getUniformLocation(g,"uBlocksize"),uStepW:m.getUniformLocation(g,"uStepW"),uStepH:m.getUniformLocation(g,"uStepH")}},sendUniformData:function(m,g){m.uniform1f(g.uBlocksize,this.blocksize)}}),x.Image.filters.Pixelate.fromObject=x.Image.filters.BaseFilter.fromObject}(De),function(I){"use strict";var x=I.fabric||(I.fabric={}),S=x.util.object.extend,M=x.Image.filters;M.RemoveColor=(0,x.util.createClass)(M.BaseFilter,{type:"RemoveColor",color:"#FFFFFF",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform vec4 uLow;\nuniform vec4 uHigh;\nvarying vec2 vTexCoord;\nvoid main() {\ngl_FragColor = texture2D(uTexture, vTexCoord);\nif(all(greaterThan(gl_FragColor.rgb,uLow.rgb)) && all(greaterThan(uHigh.rgb,gl_FragColor.rgb))) {\ngl_FragColor.a = 0.0;\n}\n}",distance:.02,useAlpha:!1,applyTo2d:function(g){var O,P,F,$,b=g.imageData.data,C=255*this.distance,Q=new x.Color(this.color).getSource(),ne=[Q[0]-C,Q[1]-C,Q[2]-C],ue=[Q[0]+C,Q[1]+C,Q[2]+C];for(O=0;O<b.length;O+=4)F=b[O+1],$=b[O+2],(P=b[O])>ne[0]&&F>ne[1]&&$>ne[2]&&P<ue[0]&&F<ue[1]&&$<ue[2]&&(b[O+3]=0)},getUniformLocations:function(g,_){return{uLow:g.getUniformLocation(_,"uLow"),uHigh:g.getUniformLocation(_,"uHigh")}},sendUniformData:function(g,_){var b=new x.Color(this.color).getSource(),O=parseFloat(this.distance),P=[b[0]/255+O,b[1]/255+O,b[2]/255+O,1];g.uniform4fv(_.uLow,[0+b[0]/255-O,0+b[1]/255-O,0+b[2]/255-O,1]),g.uniform4fv(_.uHigh,P)},toObject:function(){return S(this.callSuper("toObject"),{color:this.color,distance:this.distance})}}),x.Image.filters.RemoveColor.fromObject=x.Image.filters.BaseFilter.fromObject}(De),function(I){"use strict";var x=I.fabric||(I.fabric={}),S=x.Image.filters,M=x.util.createClass,m={Brownie:[.5997,.34553,-.27082,0,.186,-.0377,.86095,.15059,0,-.1449,.24113,-.07441,.44972,0,-.02965,0,0,0,1,0],Vintage:[.62793,.32021,-.03965,0,.03784,.02578,.64411,.03259,0,.02926,.0466,-.08512,.52416,0,.02023,0,0,0,1,0],Kodachrome:[1.12855,-.39673,-.03992,0,.24991,-.16404,1.08352,-.05498,0,.09698,-.16786,-.56034,1.60148,0,.13972,0,0,0,1,0],Technicolor:[1.91252,-.85453,-.09155,0,.04624,-.30878,1.76589,-.10601,0,-.27589,-.2311,-.75018,1.84759,0,.12137,0,0,0,1,0],Polaroid:[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],Sepia:[.393,.769,.189,0,0,.349,.686,.168,0,0,.272,.534,.131,0,0,0,0,0,1,0],BlackWhite:[1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,0,0,0,1,0]};for(var g in m)S[g]=M(S.ColorMatrix,{type:g,matrix:m[g],mainParameter:!1,colorsOnly:!0}),x.Image.filters[g].fromObject=x.Image.filters.BaseFilter.fromObject}(De),function(I){"use strict";var x=I.fabric,S=x.Image.filters;S.BlendColor=(0,x.util.createClass)(S.BaseFilter,{type:"BlendColor",color:"#F95C63",mode:"multiply",alpha:1,fragmentSource:{multiply:"gl_FragColor.rgb *= uColor.rgb;\n",screen:"gl_FragColor.rgb = 1.0 - (1.0 - gl_FragColor.rgb) * (1.0 - uColor.rgb);\n",add:"gl_FragColor.rgb += uColor.rgb;\n",diff:"gl_FragColor.rgb = abs(gl_FragColor.rgb - uColor.rgb);\n",subtract:"gl_FragColor.rgb -= uColor.rgb;\n",lighten:"gl_FragColor.rgb = max(gl_FragColor.rgb, uColor.rgb);\n",darken:"gl_FragColor.rgb = min(gl_FragColor.rgb, uColor.rgb);\n",exclusion:"gl_FragColor.rgb += uColor.rgb - 2.0 * (uColor.rgb * gl_FragColor.rgb);\n",overlay:"if (uColor.r < 0.5) {\ngl_FragColor.r *= 2.0 * uColor.r;\n} else {\ngl_FragColor.r = 1.0 - 2.0 * (1.0 - gl_FragColor.r) * (1.0 - uColor.r);\n}\nif (uColor.g < 0.5) {\ngl_FragColor.g *= 2.0 * uColor.g;\n} else {\ngl_FragColor.g = 1.0 - 2.0 * (1.0 - gl_FragColor.g) * (1.0 - uColor.g);\n}\nif (uColor.b < 0.5) {\ngl_FragColor.b *= 2.0 * uColor.b;\n} else {\ngl_FragColor.b = 1.0 - 2.0 * (1.0 - gl_FragColor.b) * (1.0 - uColor.b);\n}\n",tint:"gl_FragColor.rgb *= (1.0 - uColor.a);\ngl_FragColor.rgb += uColor.rgb;\n"},buildSource:function(m){return"precision highp float;\nuniform sampler2D uTexture;\nuniform vec4 uColor;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\ngl_FragColor = color;\nif (color.a > 0.0) {\n"+this.fragmentSource[m]+"}\n}"},retrieveShader:function(m){var _,g=this.type+"_"+this.mode;return m.programCache.hasOwnProperty(g)||(_=this.buildSource(this.mode),m.programCache[g]=this.createProgram(m.context,_)),m.programCache[g]},applyTo2d:function(m){var O,C,P,F,$,Q,ne,_=m.imageData.data,b=_.length,ue=1-this.alpha;O=(ne=new x.Color(this.color).getSource())[0]*this.alpha,C=ne[1]*this.alpha,P=ne[2]*this.alpha;for(var ge=0;ge<b;ge+=4)switch(F=_[ge],$=_[ge+1],Q=_[ge+2],this.mode){case"multiply":_[ge]=F*O/255,_[ge+1]=$*C/255,_[ge+2]=Q*P/255;break;case"screen":_[ge]=255-(255-F)*(255-O)/255,_[ge+1]=255-(255-$)*(255-C)/255,_[ge+2]=255-(255-Q)*(255-P)/255;break;case"add":_[ge]=F+O,_[ge+1]=$+C,_[ge+2]=Q+P;break;case"diff":case"difference":_[ge]=Math.abs(F-O),_[ge+1]=Math.abs($-C),_[ge+2]=Math.abs(Q-P);break;case"subtract":_[ge]=F-O,_[ge+1]=$-C,_[ge+2]=Q-P;break;case"darken":_[ge]=Math.min(F,O),_[ge+1]=Math.min($,C),_[ge+2]=Math.min(Q,P);break;case"lighten":_[ge]=Math.max(F,O),_[ge+1]=Math.max($,C),_[ge+2]=Math.max(Q,P);break;case"overlay":_[ge]=O<128?2*F*O/255:255-2*(255-F)*(255-O)/255,_[ge+1]=C<128?2*$*C/255:255-2*(255-$)*(255-C)/255,_[ge+2]=P<128?2*Q*P/255:255-2*(255-Q)*(255-P)/255;break;case"exclusion":_[ge]=O+F-2*O*F/255,_[ge+1]=C+$-2*C*$/255,_[ge+2]=P+Q-2*P*Q/255;break;case"tint":_[ge]=O+F*ue,_[ge+1]=C+$*ue,_[ge+2]=P+Q*ue}},getUniformLocations:function(m,g){return{uColor:m.getUniformLocation(g,"uColor")}},sendUniformData:function(m,g){var _=new x.Color(this.color).getSource();_[0]=this.alpha*_[0]/255,_[1]=this.alpha*_[1]/255,_[2]=this.alpha*_[2]/255,_[3]=this.alpha,m.uniform4fv(g.uColor,_)},toObject:function(){return{type:this.type,color:this.color,mode:this.mode,alpha:this.alpha}}}),x.Image.filters.BlendColor.fromObject=x.Image.filters.BaseFilter.fromObject}(De),function(I){"use strict";var x=I.fabric,S=x.Image.filters;S.BlendImage=(0,x.util.createClass)(S.BaseFilter,{type:"BlendImage",image:null,mode:"multiply",alpha:1,vertexSource:"attribute vec2 aPosition;\nvarying vec2 vTexCoord;\nvarying vec2 vTexCoord2;\nuniform mat3 uTransformMatrix;\nvoid main() {\nvTexCoord = aPosition;\nvTexCoord2 = (uTransformMatrix * vec3(aPosition, 1.0)).xy;\ngl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);\n}",fragmentSource:{multiply:"precision highp float;\nuniform sampler2D uTexture;\nuniform sampler2D uImage;\nuniform vec4 uColor;\nvarying vec2 vTexCoord;\nvarying vec2 vTexCoord2;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nvec4 color2 = texture2D(uImage, vTexCoord2);\ncolor.rgba *= color2.rgba;\ngl_FragColor = color;\n}",mask:"precision highp float;\nuniform sampler2D uTexture;\nuniform sampler2D uImage;\nuniform vec4 uColor;\nvarying vec2 vTexCoord;\nvarying vec2 vTexCoord2;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nvec4 color2 = texture2D(uImage, vTexCoord2);\ncolor.a = color2.a;\ngl_FragColor = color;\n}"},retrieveShader:function(m){var g=this.type+"_"+this.mode,_=this.fragmentSource[this.mode];return m.programCache.hasOwnProperty(g)||(m.programCache[g]=this.createProgram(m.context,_)),m.programCache[g]},applyToWebGL:function(m){var g=m.context,_=this.createTexture(m.filterBackend,this.image);this.bindAdditionalTexture(g,_,g.TEXTURE1),this.callSuper("applyToWebGL",m),this.unbindAdditionalTexture(g,g.TEXTURE1)},createTexture:function(m,g){return m.getCachedTexture(g.cacheKey,g._element)},calculateMatrix:function(){var m=this.image;return[1/m.scaleX,0,0,0,1/m.scaleY,0,-m.left/m._element.width,-m.top/m._element.height,1]},applyTo2d:function(m){var F,$,Q,ne,ue,ge,_e,Ie,We,Ke,ht,g=m.imageData,_=m.filterBackend.resources,b=g.data,O=b.length,C=g.width,P=g.height,yt=this.image;_.blendImage||(_.blendImage=x.util.createCanvasElement()),Ke=(We=_.blendImage).getContext("2d"),We.width!==C||We.height!==P?(We.width=C,We.height=P):Ke.clearRect(0,0,C,P),Ke.setTransform(yt.scaleX,0,0,yt.scaleY,yt.left,yt.top),Ke.drawImage(yt._element,0,0,C,P),ht=Ke.getImageData(0,0,C,P).data;for(var bt=0;bt<O;bt+=4)switch(ue=b[bt],ge=b[bt+1],_e=b[bt+2],Ie=b[bt+3],F=ht[bt],$=ht[bt+1],Q=ht[bt+2],ne=ht[bt+3],this.mode){case"multiply":b[bt]=ue*F/255,b[bt+1]=ge*$/255,b[bt+2]=_e*Q/255,b[bt+3]=Ie*ne/255;break;case"mask":b[bt+3]=ne}},getUniformLocations:function(m,g){return{uTransformMatrix:m.getUniformLocation(g,"uTransformMatrix"),uImage:m.getUniformLocation(g,"uImage")}},sendUniformData:function(m,g){var _=this.calculateMatrix();m.uniform1i(g.uImage,1),m.uniformMatrix3fv(g.uTransformMatrix,!1,_)},toObject:function(){return{type:this.type,image:this.image&&this.image.toObject(),mode:this.mode,alpha:this.alpha}}}),x.Image.filters.BlendImage.fromObject=function(m,g){x.Image.fromObject(m.image,function(_){var b=x.util.object.clone(m);b.image=_,g(new x.Image.filters.BlendImage(b))})}}(De),function(I){"use strict";var x=I.fabric||(I.fabric={}),S=Math.pow,M=Math.floor,m=Math.sqrt,g=Math.abs,_=Math.round,b=Math.sin,O=Math.ceil,C=x.Image.filters;C.Resize=(0,x.util.createClass)(C.BaseFilter,{type:"Resize",resizeType:"hermite",scaleX:1,scaleY:1,lanczosLobes:3,getUniformLocations:function(F,$){return{uDelta:F.getUniformLocation($,"uDelta"),uTaps:F.getUniformLocation($,"uTaps")}},sendUniformData:function(F,$){F.uniform2fv($.uDelta,this.horizontal?[1/this.width,0]:[0,1/this.height]),F.uniform1fv($.uTaps,this.taps)},retrieveShader:function(F){var $=this.getFilterWindow(),Q=this.type+"_"+$;if(!F.programCache.hasOwnProperty(Q)){var ne=this.generateShader($);F.programCache[Q]=this.createProgram(F.context,ne)}return F.programCache[Q]},getFilterWindow:function(){return Math.ceil(this.lanczosLobes/this.tempScale)},getTaps:function(){for(var F=this.lanczosCreate(this.lanczosLobes),$=this.tempScale,Q=this.getFilterWindow(),ne=new Array(Q),ue=1;ue<=Q;ue++)ne[ue-1]=F(ue*$);return ne},generateShader:function(ne){for(var $=new Array(ne),Q=this.fragmentSourceTOP,ue=1;ue<=ne;ue++)$[ue-1]=ue+".0 * uDelta";return Q+="uniform float uTaps["+ne+"];\n",Q+="void main() {\n",Q+="  vec4 color = texture2D(uTexture, vTexCoord);\n",Q+="  float sum = 1.0;\n",$.forEach(function(ge,_e){Q+="  color += texture2D(uTexture, vTexCoord + "+ge+") * uTaps["+_e+"];\n",Q+="  color += texture2D(uTexture, vTexCoord - "+ge+") * uTaps["+_e+"];\n",Q+="  sum += 2.0 * uTaps["+_e+"];\n"}),Q+="  gl_FragColor = color / sum;\n",Q+="}"},fragmentSourceTOP:"precision highp float;\nuniform sampler2D uTexture;\nuniform vec2 uDelta;\nvarying vec2 vTexCoord;\n",applyTo:function(F){F.webgl?(F.passes++,this.width=F.sourceWidth,this.horizontal=!0,this.dW=Math.round(this.width*this.scaleX),this.dH=F.sourceHeight,this.tempScale=this.dW/this.width,this.taps=this.getTaps(),F.destinationWidth=this.dW,this._setupFrameBuffer(F),this.applyToWebGL(F),this._swapTextures(F),F.sourceWidth=F.destinationWidth,this.height=F.sourceHeight,this.horizontal=!1,this.dH=Math.round(this.height*this.scaleY),this.tempScale=this.dH/this.height,this.taps=this.getTaps(),F.destinationHeight=this.dH,this._setupFrameBuffer(F),this.applyToWebGL(F),this._swapTextures(F),F.sourceHeight=F.destinationHeight):this.applyTo2d(F)},isNeutralState:function(){return 1===this.scaleX&&1===this.scaleY},lanczosCreate:function(F){return function($){if($>=F||$<=-F)return 0;if($<1.1920929e-7&&$>-1.1920929e-7)return 1;var Q=($*=Math.PI)/F;return b($)/$*b(Q)/Q}},applyTo2d:function(F){var $=F.imageData,Q=this.scaleX,ne=this.scaleY;this.rcpScaleX=1/Q,this.rcpScaleY=1/ne;var We,ue=$.width,ge=$.height,_e=_(ue*Q),Ie=_(ge*ne);"sliceHack"===this.resizeType?We=this.sliceByTwo(F,ue,ge,_e,Ie):"hermite"===this.resizeType?We=this.hermiteFastResize(F,ue,ge,_e,Ie):"bilinear"===this.resizeType?We=this.bilinearFiltering(F,ue,ge,_e,Ie):"lanczos"===this.resizeType&&(We=this.lanczosResize(F,ue,ge,_e,Ie)),F.imageData=We},sliceByTwo:function(F,$,Q,ne,ue){var bt,lt,ge=F.imageData,Ie=!1,We=!1,Ke=.5*$,yt=.5*Q,ht=x.filterBackend.resources,Xt=0,sn=0,ln=$,be=0;for(ht.sliceByTwo||(ht.sliceByTwo=document.createElement("canvas")),((bt=ht.sliceByTwo).width<1.5*$||bt.height<Q)&&(bt.width=1.5*$,bt.height=Q),(lt=bt.getContext("2d")).clearRect(0,0,1.5*$,Q),lt.putImageData(ge,0,0),ne=M(ne),ue=M(ue);!Ie||!We;)$=Ke,Q=yt,ne<M(.5*Ke)?Ke=M(.5*Ke):(Ke=ne,Ie=!0),ue<M(.5*yt)?yt=M(.5*yt):(yt=ue,We=!0),lt.drawImage(bt,Xt,sn,$,Q,ln,be,Ke,yt),Xt=ln,sn=be,be+=yt;return lt.getImageData(Xt,sn,ne,ue)},lanczosResize:function(F,$,Q,ne,ue){var _e=F.imageData.data,Ie=F.ctx.createImageData(ne,ue),We=Ie.data,Ke=this.lanczosCreate(this.lanczosLobes),yt=this.rcpScaleX,ht=this.rcpScaleY,bt=2/this.rcpScaleX,lt=2/this.rcpScaleY,Xt=O(yt*this.lanczosLobes/2),sn=O(ht*this.lanczosLobes/2),ln={},be={},pe={};return function ge(fe){var ye,ke,Ce,de,Ue,$e,pt,et,_t,It,jt;for(be.x=(fe+.5)*yt,pe.x=M(be.x),ye=0;ye<ue;ye++){for(be.y=(ye+.5)*ht,pe.y=M(be.y),Ue=0,$e=0,pt=0,et=0,_t=0,ke=pe.x-Xt;ke<=pe.x+Xt;ke++)if(!(ke<0||ke>=$)){It=M(1e3*g(ke-be.x)),ln[It]||(ln[It]={});for(var ot=pe.y-sn;ot<=pe.y+sn;ot++)ot<0||ot>=Q||(jt=M(1e3*g(ot-be.y)),ln[It][jt]||(ln[It][jt]=Ke(m(S(It*bt,2)+S(jt*lt,2))/1e3)),(Ce=ln[It][jt])>0&&(Ue+=Ce,$e+=Ce*_e[de=4*(ot*$+ke)],pt+=Ce*_e[de+1],et+=Ce*_e[de+2],_t+=Ce*_e[de+3]))}We[de=4*(ye*ne+fe)]=$e/Ue,We[de+1]=pt/Ue,We[de+2]=et/Ue,We[de+3]=_t/Ue}return++fe<ne?ge(fe):Ie}(0)},bilinearFiltering:function(F,$,Q,ne,ue){var Ke,yt,ht,bt,lt,Xt,sn,pe,be=0,fe=this.rcpScaleX,ye=this.rcpScaleY,ke=4*($-1),de=F.imageData.data,Ue=F.ctx.createImageData(ne,ue),$e=Ue.data;for(ht=0;ht<ue;ht++)for(bt=0;bt<ne;bt++)for(lt=fe*bt-(Ke=M(fe*bt)),Xt=ye*ht-(yt=M(ye*ht)),pe=4*(yt*$+Ke),sn=0;sn<4;sn++)$e[be++]=de[pe+sn]*(1-lt)*(1-Xt)+de[pe+4+sn]*lt*(1-Xt)+de[pe+ke+sn]*Xt*(1-lt)+de[pe+ke+4+sn]*lt*Xt;return Ue},hermiteFastResize:function(F,$,Q,ne,ue){for(var ge=this.rcpScaleX,_e=this.rcpScaleY,Ie=O(ge/2),We=O(_e/2),yt=F.imageData.data,ht=F.ctx.createImageData(ne,ue),bt=ht.data,lt=0;lt<ue;lt++)for(var Xt=0;Xt<ne;Xt++){for(var sn=4*(Xt+lt*ne),ln=0,be=0,pe=0,fe=0,ye=0,ke=0,Ce=0,de=(lt+.5)*_e,Ue=M(lt*_e);Ue<(lt+1)*_e;Ue++)for(var $e=g(de-(Ue+.5))/We,pt=(Xt+.5)*ge,et=$e*$e,_t=M(Xt*ge);_t<(Xt+1)*ge;_t++){var It=g(pt-(_t+.5))/Ie,jt=m(et+It*It);jt>1&&jt<-1||(ln=2*jt*jt*jt-3*jt*jt+1)>0&&(Ce+=ln*yt[3+(It=4*(_t+Ue*$))],pe+=ln,yt[It+3]<255&&(ln=ln*yt[It+3]/250),fe+=ln*yt[It],ye+=ln*yt[It+1],ke+=ln*yt[It+2],be+=ln)}bt[sn]=fe/be,bt[sn+1]=ye/be,bt[sn+2]=ke/be,bt[sn+3]=Ce/pe}return ht},toObject:function(){return{type:this.type,scaleX:this.scaleX,scaleY:this.scaleY,resizeType:this.resizeType,lanczosLobes:this.lanczosLobes}}}),x.Image.filters.Resize.fromObject=x.Image.filters.BaseFilter.fromObject}(De),function(I){"use strict";var x=I.fabric||(I.fabric={}),S=x.Image.filters;S.Contrast=(0,x.util.createClass)(S.BaseFilter,{type:"Contrast",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uContrast;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nfloat contrastF = 1.015 * (uContrast + 1.0) / (1.0 * (1.015 - uContrast));\ncolor.rgb = contrastF * (color.rgb - 0.5) + 0.5;\ngl_FragColor = color;\n}",contrast:0,mainParameter:"contrast",applyTo2d:function(m){if(0!==this.contrast){var _,b=m.imageData.data,O=b.length,C=Math.floor(255*this.contrast),P=259*(C+255)/(255*(259-C));for(_=0;_<O;_+=4)b[_]=P*(b[_]-128)+128,b[_+1]=P*(b[_+1]-128)+128,b[_+2]=P*(b[_+2]-128)+128}},getUniformLocations:function(m,g){return{uContrast:m.getUniformLocation(g,"uContrast")}},sendUniformData:function(m,g){m.uniform1f(g.uContrast,this.contrast)}}),x.Image.filters.Contrast.fromObject=x.Image.filters.BaseFilter.fromObject}(De),function(I){"use strict";var x=I.fabric||(I.fabric={}),S=x.Image.filters;S.Saturation=(0,x.util.createClass)(S.BaseFilter,{type:"Saturation",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uSaturation;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nfloat rgMax = max(color.r, color.g);\nfloat rgbMax = max(rgMax, color.b);\ncolor.r += rgbMax != color.r ? (rgbMax - color.r) * uSaturation : 0.00;\ncolor.g += rgbMax != color.g ? (rgbMax - color.g) * uSaturation : 0.00;\ncolor.b += rgbMax != color.b ? (rgbMax - color.b) * uSaturation : 0.00;\ngl_FragColor = color;\n}",saturation:0,mainParameter:"saturation",applyTo2d:function(m){if(0!==this.saturation){var C,P,_=m.imageData.data,b=_.length,O=-this.saturation;for(C=0;C<b;C+=4)P=Math.max(_[C],_[C+1],_[C+2]),_[C]+=P!==_[C]?(P-_[C])*O:0,_[C+1]+=P!==_[C+1]?(P-_[C+1])*O:0,_[C+2]+=P!==_[C+2]?(P-_[C+2])*O:0}},getUniformLocations:function(m,g){return{uSaturation:m.getUniformLocation(g,"uSaturation")}},sendUniformData:function(m,g){m.uniform1f(g.uSaturation,-this.saturation)}}),x.Image.filters.Saturation.fromObject=x.Image.filters.BaseFilter.fromObject}(De),function(I){"use strict";var x=I.fabric||(I.fabric={}),S=x.Image.filters;S.Vibrance=(0,x.util.createClass)(S.BaseFilter,{type:"Vibrance",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uVibrance;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nfloat max = max(color.r, max(color.g, color.b));\nfloat avg = (color.r + color.g + color.b) / 3.0;\nfloat amt = (abs(max - avg) * 2.0) * uVibrance;\ncolor.r += max != color.r ? (max - color.r) * amt : 0.00;\ncolor.g += max != color.g ? (max - color.g) * amt : 0.00;\ncolor.b += max != color.b ? (max - color.b) * amt : 0.00;\ngl_FragColor = color;\n}",vibrance:0,mainParameter:"vibrance",applyTo2d:function(m){if(0!==this.vibrance){var C,P,$,_=m.imageData.data,b=_.length,O=-this.vibrance;for(C=0;C<b;C+=4)P=Math.max(_[C],_[C+1],_[C+2]),$=2*Math.abs(P-(_[C]+_[C+1]+_[C+2])/3)/255*O,_[C]+=P!==_[C]?(P-_[C])*$:0,_[C+1]+=P!==_[C+1]?(P-_[C+1])*$:0,_[C+2]+=P!==_[C+2]?(P-_[C+2])*$:0}},getUniformLocations:function(m,g){return{uVibrance:m.getUniformLocation(g,"uVibrance")}},sendUniformData:function(m,g){m.uniform1f(g.uVibrance,-this.vibrance)}}),x.Image.filters.Vibrance.fromObject=x.Image.filters.BaseFilter.fromObject}(De),function(I){"use strict";var x=I.fabric||(I.fabric={}),S=x.Image.filters;S.Blur=(0,x.util.createClass)(S.BaseFilter,{type:"Blur",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform vec2 uDelta;\nvarying vec2 vTexCoord;\nconst float nSamples = 15.0;\nvec3 v3offset = vec3(12.9898, 78.233, 151.7182);\nfloat random(vec3 scale) {\nreturn fract(sin(dot(gl_FragCoord.xyz, scale)) * 43758.5453);\n}\nvoid main() {\nvec4 color = vec4(0.0);\nfloat total = 0.0;\nfloat offset = random(v3offset);\nfor (float t = -nSamples; t <= nSamples; t++) {\nfloat percent = (t + offset - 0.5) / nSamples;\nfloat weight = 1.0 - abs(percent);\ncolor += texture2D(uTexture, vTexCoord + uDelta * percent) * weight;\ntotal += weight;\n}\ngl_FragColor = color / total;\n}",blur:0,mainParameter:"blur",applyTo:function(m){m.webgl?(this.aspectRatio=m.sourceWidth/m.sourceHeight,m.passes++,this._setupFrameBuffer(m),this.horizontal=!0,this.applyToWebGL(m),this._swapTextures(m),this._setupFrameBuffer(m),this.horizontal=!1,this.applyToWebGL(m),this._swapTextures(m)):this.applyTo2d(m)},applyTo2d:function(m){m.imageData=this.simpleBlur(m)},simpleBlur:function(m){var _,b,g=m.filterBackend.resources,O=m.imageData.width,C=m.imageData.height;g.blurLayer1||(g.blurLayer1=x.util.createCanvasElement(),g.blurLayer2=x.util.createCanvasElement()),b=g.blurLayer2,((_=g.blurLayer1).width!==O||_.height!==C)&&(b.width=_.width=O,b.height=_.height=C);var Q,ne,ue,ge,P=_.getContext("2d"),F=b.getContext("2d"),$=15,_e=.06*this.blur*.5;for(P.putImageData(m.imageData,0,0),F.clearRect(0,0,O,C),ge=-$;ge<=$;ge++)ue=_e*(ne=ge/$)*O+(Q=(Math.random()-.5)/4),F.globalAlpha=1-Math.abs(ne),F.drawImage(_,ue,Q),P.drawImage(b,0,0),F.globalAlpha=1,F.clearRect(0,0,b.width,b.height);for(ge=-$;ge<=$;ge++)ue=_e*(ne=ge/$)*C+(Q=(Math.random()-.5)/4),F.globalAlpha=1-Math.abs(ne),F.drawImage(_,Q,ue),P.drawImage(b,0,0),F.globalAlpha=1,F.clearRect(0,0,b.width,b.height);m.ctx.drawImage(_,0,0);var Ie=m.ctx.getImageData(0,0,_.width,_.height);return P.globalAlpha=1,P.clearRect(0,0,_.width,_.height),Ie},getUniformLocations:function(m,g){return{delta:m.getUniformLocation(g,"uDelta")}},sendUniformData:function(m,g){var _=this.chooseRightDelta();m.uniform2fv(g.delta,_)},chooseRightDelta:function(){var _,m=1,g=[0,0];return this.horizontal?this.aspectRatio>1&&(m=1/this.aspectRatio):this.aspectRatio<1&&(m=this.aspectRatio),_=m*this.blur*.12,this.horizontal?g[0]=_:g[1]=_,g}}),S.Blur.fromObject=x.Image.filters.BaseFilter.fromObject}(De),function(I){"use strict";var x=I.fabric||(I.fabric={}),S=x.Image.filters;S.Gamma=(0,x.util.createClass)(S.BaseFilter,{type:"Gamma",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform vec3 uGamma;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nvec3 correction = (1.0 / uGamma);\ncolor.r = pow(color.r, correction.r);\ncolor.g = pow(color.g, correction.g);\ncolor.b = pow(color.b, correction.b);\ngl_FragColor = color;\ngl_FragColor.rgb *= color.a;\n}",gamma:[1,1,1],mainParameter:"gamma",initialize:function(m){this.gamma=[1,1,1],S.BaseFilter.prototype.initialize.call(this,m)},applyTo2d:function(m){var $,_=m.imageData.data,b=this.gamma,O=_.length,C=1/b[0],P=1/b[1],F=1/b[2];for(this.rVals||(this.rVals=new Uint8Array(256),this.gVals=new Uint8Array(256),this.bVals=new Uint8Array(256)),$=0,O=256;$<O;$++)this.rVals[$]=255*Math.pow($/255,C),this.gVals[$]=255*Math.pow($/255,P),this.bVals[$]=255*Math.pow($/255,F);for($=0,O=_.length;$<O;$+=4)_[$]=this.rVals[_[$]],_[$+1]=this.gVals[_[$+1]],_[$+2]=this.bVals[_[$+2]]},getUniformLocations:function(m,g){return{uGamma:m.getUniformLocation(g,"uGamma")}},sendUniformData:function(m,g){m.uniform3fv(g.uGamma,this.gamma)}}),x.Image.filters.Gamma.fromObject=x.Image.filters.BaseFilter.fromObject}(De),function(I){"use strict";var x=I.fabric||(I.fabric={}),S=x.Image.filters;S.Composed=(0,x.util.createClass)(S.BaseFilter,{type:"Composed",subFilters:[],initialize:function(m){this.callSuper("initialize",m),this.subFilters=this.subFilters.slice(0)},applyTo:function(m){m.passes+=this.subFilters.length-1,this.subFilters.forEach(function(g){g.applyTo(m)})},toObject:function(){return x.util.object.extend(this.callSuper("toObject"),{subFilters:this.subFilters.map(function(m){return m.toObject()})})},isNeutralState:function(){return!this.subFilters.some(function(m){return!m.isNeutralState()})}}),x.Image.filters.Composed.fromObject=function(m,g){var b=(m.subFilters||[]).map(function(C){return new x.Image.filters[C.type](C)}),O=new x.Image.filters.Composed({subFilters:b});return g&&g(O),O}}(De),function(I){"use strict";var x=I.fabric||(I.fabric={}),S=x.Image.filters;S.HueRotation=(0,x.util.createClass)(S.ColorMatrix,{type:"HueRotation",rotation:0,mainParameter:"rotation",calculateMatrix:function(){var m=this.rotation*Math.PI,g=x.util.cos(m),_=x.util.sin(m),b=1/3,O=Math.sqrt(b)*_,C=1-g;this.matrix=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],this.matrix[0]=g+C/3,this.matrix[1]=b*C-O,this.matrix[2]=b*C+O,this.matrix[5]=b*C+O,this.matrix[6]=g+b*C,this.matrix[7]=b*C-O,this.matrix[10]=b*C-O,this.matrix[11]=b*C+O,this.matrix[12]=g+b*C},isNeutralState:function(m){return this.calculateMatrix(),S.BaseFilter.prototype.isNeutralState.call(this,m)},applyTo:function(m){this.calculateMatrix(),S.BaseFilter.prototype.applyTo.call(this,m)}}),x.Image.filters.HueRotation.fromObject=x.Image.filters.BaseFilter.fromObject}(De),function(I){"use strict";var x=I.fabric||(I.fabric={}),S=x.util.object.clone;if(x.Text)x.warn("fabric.Text is already defined");else{var M="fontFamily fontWeight fontSize text underline overline linethrough textAlign fontStyle lineHeight textBackgroundColor charSpacing styles direction path pathStartOffset pathSide pathAlign".split(" ");x.Text=x.util.createClass(x.Object,{_dimensionAffectingProps:["fontSize","fontWeight","fontFamily","fontStyle","lineHeight","text","charSpacing","textAlign","styles","path","pathStartOffset","pathSide","pathAlign"],_reNewline:/\r?\n/,_reSpacesAndTabs:/[ \t\r]/g,_reSpaceAndTab:/[ \t\r]/,_reWords:/\S+/g,type:"text",fontSize:40,fontWeight:"normal",fontFamily:"Times New Roman",underline:!1,overline:!1,linethrough:!1,textAlign:"left",fontStyle:"normal",lineHeight:1.16,superscript:{size:.6,baseline:-.35},subscript:{size:.6,baseline:.11},textBackgroundColor:"",stateProperties:x.Object.prototype.stateProperties.concat(M),cacheProperties:x.Object.prototype.cacheProperties.concat(M),stroke:null,shadow:null,path:null,pathStartOffset:0,pathSide:"left",pathAlign:"baseline",_fontSizeFraction:.222,offsets:{underline:.1,linethrough:-.315,overline:-.88},_fontSizeMult:1.13,charSpacing:0,styles:null,_measuringContext:null,deltaY:0,direction:"ltr",_styleProperties:["stroke","strokeWidth","fill","fontFamily","fontSize","fontWeight","fontStyle","underline","overline","linethrough","deltaY","textBackgroundColor"],__charBounds:[],CACHE_FONT_SIZE:400,MIN_TEXT_WIDTH:2,initialize:function(m,g){this.styles=g&&g.styles||{},this.text=m,this.__skipDimension=!0,this.callSuper("initialize",g),this.path&&this.setPathInfo(),this.__skipDimension=!1,this.initDimensions(),this.setCoords(),this.setupState({propertySet:"_dimensionAffectingProps"})},setPathInfo:function(){var m=this.path;m&&(m.segmentsInfo=x.util.getPathSegmentsInfo(m.path))},getMeasuringContext:function(){return x._measuringContext||(x._measuringContext=this.canvas&&this.canvas.contextCache||x.util.createCanvasElement().getContext("2d")),x._measuringContext},_splitText:function(){var m=this._splitTextIntoLines(this.text);return this.textLines=m.lines,this._textLines=m.graphemeLines,this._unwrappedTextLines=m._unwrappedLines,this._text=m.graphemeText,m},initDimensions:function(){this.__skipDimension||(this._splitText(),this._clearCache(),this.path?(this.width=this.path.width,this.height=this.path.height):(this.width=this.calcTextWidth()||this.cursorWidth||this.MIN_TEXT_WIDTH,this.height=this.calcTextHeight()),-1!==this.textAlign.indexOf("justify")&&this.enlargeSpaces(),this.saveState({propertySet:"_dimensionAffectingProps"}))},enlargeSpaces:function(){for(var m,g,b,O,C,P,F=0,$=this._textLines.length;F<$;F++)if(("justify"===this.textAlign||F!==$-1&&!this.isEndOfWrapping(F))&&(b=0,O=this._textLines[F],(g=this.getLineWidth(F))<this.width&&(P=this.textLines[F].match(this._reSpacesAndTabs)))){m=(this.width-g)/P.length;for(var Q=0,ne=O.length;Q<=ne;Q++)C=this.__charBounds[F][Q],this._reSpaceAndTab.test(O[Q])?(C.width+=m,C.kernedWidth+=m,C.left+=b,b+=m):C.left+=b}},isEndOfWrapping:function(m){return m===this._textLines.length-1},missingNewlineOffset:function(){return 1},toString:function(){return"#<fabric.Text ("+this.complexity()+'): { "text": "'+this.text+'", "fontFamily": "'+this.fontFamily+'" }>'},_getCacheCanvasDimensions:function(){var m=this.callSuper("_getCacheCanvasDimensions"),g=this.fontSize;return m.width+=g*m.zoomX,m.height+=g*m.zoomY,m},_render:function(m){var g=this.path;g&&!g.isNotVisible()&&g._render(m),this._setTextStyles(m),this._renderTextLinesBackground(m),this._renderTextDecoration(m,"underline"),this._renderText(m),this._renderTextDecoration(m,"overline"),this._renderTextDecoration(m,"linethrough")},_renderText:function(m){"stroke"===this.paintFirst?(this._renderTextStroke(m),this._renderTextFill(m)):(this._renderTextFill(m),this._renderTextStroke(m))},_setTextStyles:function(m,g,_){if(m.textBaseline="alphabetical",this.path)switch(this.pathAlign){case"center":m.textBaseline="middle";break;case"ascender":m.textBaseline="top";break;case"descender":m.textBaseline="bottom"}m.font=this._getFontDeclaration(g,_)},calcTextWidth:function(){for(var m=this.getLineWidth(0),g=1,_=this._textLines.length;g<_;g++){var b=this.getLineWidth(g);b>m&&(m=b)}return m},_renderTextLine:function(m,g,_,b,O,C){this._renderChars(m,g,_,b,O,C)},_renderTextLinesBackground:function(m){if(this.textBackgroundColor||this.styleHas("textBackgroundColor")){for(var g,_,O,C,ne,ue,_e,b=m.fillStyle,P=this._getLeftOffset(),F=this._getTopOffset(),$=0,Q=0,ge=this.path,Ie=0,We=this._textLines.length;Ie<We;Ie++)if(g=this.getHeightOfLine(Ie),this.textBackgroundColor||this.styleHas("textBackgroundColor",Ie)){O=this._textLines[Ie],_=this._getLineLeftOffset(Ie),Q=0,$=0,C=this.getValueOfPropertyAt(Ie,0,"textBackgroundColor");for(var Ke=0,yt=O.length;Ke<yt;Ke++)ne=this.__charBounds[Ie][Ke],ue=this.getValueOfPropertyAt(Ie,Ke,"textBackgroundColor"),ge?(m.save(),m.translate(ne.renderLeft,ne.renderTop),m.rotate(ne.angle),m.fillStyle=ue,ue&&m.fillRect(-ne.width/2,-g/this.lineHeight*(1-this._fontSizeFraction),ne.width,g/this.lineHeight),m.restore()):ue!==C?(_e=P+_+$,"rtl"===this.direction&&(_e=this.width-_e-Q),m.fillStyle=C,C&&m.fillRect(_e,F,Q,g/this.lineHeight),$=ne.left,Q=ne.width,C=ue):Q+=ne.kernedWidth;ue&&!ge&&(_e=P+_+$,"rtl"===this.direction&&(_e=this.width-_e-Q),m.fillStyle=ue,m.fillRect(_e,F,Q,g/this.lineHeight)),F+=g}else F+=g;m.fillStyle=b,this._removeShadow(m)}},getFontCache:function(m){var g=m.fontFamily.toLowerCase();x.charWidthsCache[g]||(x.charWidthsCache[g]={});var _=x.charWidthsCache[g],b=m.fontStyle.toLowerCase()+"_"+(m.fontWeight+"").toLowerCase();return _[b]||(_[b]={}),_[b]},_measureChar:function(m,g,_,b){var Q,ne,ue,_e,O=this.getFontCache(g),F=_+m,$=this._getFontDeclaration(g)===this._getFontDeclaration(b),ge=g.fontSize/this.CACHE_FONT_SIZE;if(_&&void 0!==O[_]&&(ue=O[_]),void 0!==O[m]&&(_e=Q=O[m]),$&&void 0!==O[F]&&(_e=(ne=O[F])-ue),void 0===Q||void 0===ue||void 0===ne){var Ie=this.getMeasuringContext();this._setTextStyles(Ie,g,!0)}return void 0===Q&&(_e=Q=Ie.measureText(m).width,O[m]=Q),void 0===ue&&$&&_&&(ue=Ie.measureText(_).width,O[_]=ue),$&&void 0===ne&&(ne=Ie.measureText(F).width,O[F]=ne,_e=ne-ue),{width:Q*ge,kernedWidth:_e*ge}},getHeightOfChar:function(m,g){return this.getValueOfPropertyAt(m,g,"fontSize")},measureLine:function(m){var g=this._measureLine(m);return 0!==this.charSpacing&&(g.width-=this._getWidthOfCharSpacing()),g.width<0&&(g.width=0),g},_measureLine:function(m){var _,b,C,P,ne,ue,g=0,O=this._textLines[m],$=new Array(O.length),Q=0,ge=this.path,_e="right"===this.pathSide;for(this.__charBounds[m]=$,_=0;_<O.length;_++)P=this._getGraphemeBox(b=O[_],m,_,C),$[_]=P,g+=P.kernedWidth,C=b;if($[_]={left:P?P.left+P.width:0,width:0,kernedWidth:0,height:this.fontSize},ge){switch(ue=ge.segmentsInfo[ge.segmentsInfo.length-1].length,(ne=x.util.getPointOnPath(ge.path,0,ge.segmentsInfo)).x+=ge.pathOffset.x,ne.y+=ge.pathOffset.y,this.textAlign){case"left":Q=_e?ue-g:0;break;case"center":Q=(ue-g)/2;break;case"right":Q=_e?0:ue-g}for(Q+=this.pathStartOffset*(_e?-1:1),_=_e?O.length-1:0;_e?_>=0:_<O.length;_e?_--:_++)Q>ue?Q%=ue:Q<0&&(Q+=ue),this._setGraphemeOnPath(Q,P=$[_],ne),Q+=P.kernedWidth}return{width:g,numOfSpaces:0}},_setGraphemeOnPath:function(m,g,_){var O=this.path,C=x.util.getPointOnPath(O.path,m+g.kernedWidth/2,O.segmentsInfo);g.renderLeft=C.x-_.x,g.renderTop=C.y-_.y,g.angle=C.angle+("right"===this.pathSide?Math.PI:0)},_getGraphemeBox:function(m,g,_,b,O){var ne,C=this.getCompleteStyleDeclaration(g,_),P=b?this.getCompleteStyleDeclaration(g,_-1):{},F=this._measureChar(m,C,b,P),$=F.kernedWidth,Q=F.width;0!==this.charSpacing&&(Q+=ne=this._getWidthOfCharSpacing(),$+=ne);var ue={width:Q,left:0,height:C.fontSize,kernedWidth:$,deltaY:C.deltaY};if(_>0&&!O){var ge=this.__charBounds[g][_-1];ue.left=ge.left+ge.width+F.kernedWidth-F.width}return ue},getHeightOfLine:function(m){if(this.__lineHeights[m])return this.__lineHeights[m];for(var g=this._textLines[m],_=this.getHeightOfChar(m,0),b=1,O=g.length;b<O;b++)_=Math.max(this.getHeightOfChar(m,b),_);return this.__lineHeights[m]=_*this.lineHeight*this._fontSizeMult},calcTextHeight:function(){for(var m,g=0,_=0,b=this._textLines.length;_<b;_++)m=this.getHeightOfLine(_),g+=_===b-1?m/this.lineHeight:m;return g},_getLeftOffset:function(){return"ltr"===this.direction?-this.width/2:this.width/2},_getTopOffset:function(){return-this.height/2},_renderTextCommon:function(m,g){m.save();for(var _=0,b=this._getLeftOffset(),O=this._getTopOffset(),C=0,P=this._textLines.length;C<P;C++){var F=this.getHeightOfLine(C),$=F/this.lineHeight,Q=this._getLineLeftOffset(C);this._renderTextLine(g,m,this._textLines[C],b+Q,O+_+$,C),_+=F}m.restore()},_renderTextFill:function(m){!this.fill&&!this.styleHas("fill")||this._renderTextCommon(m,"fillText")},_renderTextStroke:function(m){(!this.stroke||0===this.strokeWidth)&&this.isEmptyStyles()||(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(m),m.save(),this._setLineDash(m,this.strokeDashArray),m.beginPath(),this._renderTextCommon(m,"strokeText"),m.closePath(),m.restore())},_renderChars:function(m,g,_,b,O,C){var $,Q,ue,_e,P=this.getHeightOfLine(C),F=-1!==this.textAlign.indexOf("justify"),ne="",ge=0,Ie=this.path,We=!F&&0===this.charSpacing&&this.isEmptyStyles(C)&&!Ie,Ke="ltr"===this.direction,yt="ltr"===this.direction?1:-1,bt=g.canvas.getAttribute("dir");if(g.save(),bt!==this.direction&&(g.canvas.setAttribute("dir",Ke?"ltr":"rtl"),g.direction=Ke?"ltr":"rtl",g.textAlign=Ke?"left":"right"),O-=P*this._fontSizeFraction/this.lineHeight,We)return this._renderChar(m,g,C,0,_.join(""),b,O,P),void g.restore();for(var lt=0,Xt=_.length-1;lt<=Xt;lt++)_e=lt===Xt||this.charSpacing||Ie,ne+=_[lt],ue=this.__charBounds[C][lt],0===ge?(b+=yt*(ue.kernedWidth-ue.width),ge+=ue.width):ge+=ue.kernedWidth,F&&!_e&&this._reSpaceAndTab.test(_[lt])&&(_e=!0),_e||($=$||this.getCompleteStyleDeclaration(C,lt),Q=this.getCompleteStyleDeclaration(C,lt+1),_e=x.util.hasStyleChanged($,Q,!1)),_e&&(Ie?(g.save(),g.translate(ue.renderLeft,ue.renderTop),g.rotate(ue.angle),this._renderChar(m,g,C,lt,ne,-ge/2,0,P),g.restore()):this._renderChar(m,g,C,lt,ne,b,O,P),ne="",$=Q,b+=yt*ge,ge=0);g.restore()},_applyPatternGradientTransformText:function(m){var _,g=x.util.createCanvasElement(),b=this.width+this.strokeWidth,O=this.height+this.strokeWidth;return g.width=b,g.height=O,(_=g.getContext("2d")).beginPath(),_.moveTo(0,0),_.lineTo(b,0),_.lineTo(b,O),_.lineTo(0,O),_.closePath(),_.translate(b/2,O/2),_.fillStyle=m.toLive(_),this._applyPatternGradientTransform(_,m),_.fill(),_.createPattern(g,"no-repeat")},handleFiller:function(m,g,_){var b,O;return _.toLive?"percentage"===_.gradientUnits||_.gradientTransform||_.patternTransform?(m.translate(b=-this.width/2,O=-this.height/2),m[g]=this._applyPatternGradientTransformText(_),{offsetX:b,offsetY:O}):(m[g]=_.toLive(m,this),this._applyPatternGradientTransform(m,_)):(m[g]=_,{offsetX:0,offsetY:0})},_setStrokeStyles:function(m,g){return m.lineWidth=g.strokeWidth,m.lineCap=this.strokeLineCap,m.lineDashOffset=this.strokeDashOffset,m.lineJoin=this.strokeLineJoin,m.miterLimit=this.strokeMiterLimit,this.handleFiller(m,"strokeStyle",g.stroke)},_setFillStyles:function(m,g){return this.handleFiller(m,"fillStyle",g.fill)},_renderChar:function(m,g,_,b,O,C,P){var ue,ge,F=this._getStyleDeclaration(_,b),$=this.getCompleteStyleDeclaration(_,b),Q="fillText"===m&&$.fill,ne="strokeText"===m&&$.stroke&&$.strokeWidth;!ne&&!Q||(g.save(),Q&&(ue=this._setFillStyles(g,$)),ne&&(ge=this._setStrokeStyles(g,$)),g.font=this._getFontDeclaration($),F&&F.textBackgroundColor&&this._removeShadow(g),F&&F.deltaY&&(P+=F.deltaY),Q&&g.fillText(O,C-ue.offsetX,P-ue.offsetY),ne&&g.strokeText(O,C-ge.offsetX,P-ge.offsetY),g.restore())},setSuperscript:function(m,g){return this._setScript(m,g,this.superscript)},setSubscript:function(m,g){return this._setScript(m,g,this.subscript)},_setScript:function(m,g,_){var b=this.get2DCursorLocation(m,!0),O=this.getValueOfPropertyAt(b.lineIndex,b.charIndex,"fontSize"),C=this.getValueOfPropertyAt(b.lineIndex,b.charIndex,"deltaY");return this.setSelectionStyles({fontSize:O*_.size,deltaY:C+O*_.baseline},m,g),this},_getLineLeftOffset:function(m){var g=this.getLineWidth(m),_=this.width-g,b=this.textAlign,O=this.direction,C=0,P=this.isEndOfWrapping(m);return"justify"===b||"justify-center"===b&&!P||"justify-right"===b&&!P||"justify-left"===b&&!P?0:("center"===b&&(C=_/2),"right"===b&&(C=_),"justify-center"===b&&(C=_/2),"justify-right"===b&&(C=_),"rtl"===O&&(C-=_),C)},_clearCache:function(){this.__lineWidths=[],this.__lineHeights=[],this.__charBounds=[]},_shouldClearDimensionCache:function(){var m=this._forceClearCache;return m||(m=this.hasStateChanged("_dimensionAffectingProps")),m&&(this.dirty=!0,this._forceClearCache=!1),m},getLineWidth:function(m){if(void 0!==this.__lineWidths[m])return this.__lineWidths[m];var _=this.measureLine(m).width;return this.__lineWidths[m]=_,_},_getWidthOfCharSpacing:function(){return 0!==this.charSpacing?this.fontSize*this.charSpacing/1e3:0},getValueOfPropertyAt:function(m,g,_){var b=this._getStyleDeclaration(m,g);return b&&typeof b[_]<"u"?b[_]:this[_]},_renderTextDecoration:function(m,g){if(this[g]||this.styleHas(g)){for(var _,b,O,C,P,F,$,Q,ge,_e,Ie,We,Ke,yt,ht,bt,ne=this._getLeftOffset(),ue=this._getTopOffset(),lt=this.path,Xt=this._getWidthOfCharSpacing(),sn=this.offsets[g],ln=0,be=this._textLines.length;ln<be;ln++)if(_=this.getHeightOfLine(ln),this[g]||this.styleHas(g,ln)){$=this._textLines[ln],yt=_/this.lineHeight,C=this._getLineLeftOffset(ln),_e=0,Ie=0,Q=this.getValueOfPropertyAt(ln,0,g),bt=this.getValueOfPropertyAt(ln,0,"fill"),ge=ue+yt*(1-this._fontSizeFraction),b=this.getHeightOfChar(ln,0),P=this.getValueOfPropertyAt(ln,0,"deltaY");for(var pe=0,fe=$.length;pe<fe;pe++)if(We=this.__charBounds[ln][pe],Ke=this.getValueOfPropertyAt(ln,pe,g),ht=this.getValueOfPropertyAt(ln,pe,"fill"),O=this.getHeightOfChar(ln,pe),F=this.getValueOfPropertyAt(ln,pe,"deltaY"),lt&&Ke&&ht)m.save(),m.fillStyle=bt,m.translate(We.renderLeft,We.renderTop),m.rotate(We.angle),m.fillRect(-We.kernedWidth/2,sn*O+F,We.kernedWidth,this.fontSize/15),m.restore();else if((Ke!==Q||ht!==bt||O!==b||F!==P)&&Ie>0){var ye=ne+C+_e;"rtl"===this.direction&&(ye=this.width-ye-Ie),Q&&bt&&(m.fillStyle=bt,m.fillRect(ye,ge+sn*b+P,Ie,this.fontSize/15)),_e=We.left,Ie=We.width,Q=Ke,bt=ht,b=O,P=F}else Ie+=We.kernedWidth;ye=ne+C+_e,"rtl"===this.direction&&(ye=this.width-ye-Ie),m.fillStyle=ht,Ke&&ht&&m.fillRect(ye,ge+sn*b+P,Ie-Xt,this.fontSize/15),ue+=_}else ue+=_;this._removeShadow(m)}},_getFontDeclaration:function(m,g){var _=m||this,b=this.fontFamily,O=x.Text.genericFonts.indexOf(b.toLowerCase())>-1,C=void 0===b||b.indexOf("'")>-1||b.indexOf(",")>-1||b.indexOf('"')>-1||O?_.fontFamily:'"'+_.fontFamily+'"';return[x.isLikelyNode?_.fontWeight:_.fontStyle,x.isLikelyNode?_.fontStyle:_.fontWeight,g?this.CACHE_FONT_SIZE+"px":_.fontSize+"px",C].join(" ")},render:function(m){!this.visible||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(this._shouldClearDimensionCache()&&this.initDimensions(),this.callSuper("render",m))},_splitTextIntoLines:function(m){for(var g=m.split(this._reNewline),_=new Array(g.length),b=["\n"],O=[],C=0;C<g.length;C++)_[C]=x.util.string.graphemeSplit(g[C]),O=O.concat(_[C],b);return O.pop(),{_unwrappedLines:_,lines:g,graphemeText:O,graphemeLines:_}},toObject:function(m){var g=M.concat(m),_=this.callSuper("toObject",g);return _.styles=x.util.stylesToArray(this.styles,this.text),_.path&&(_.path=this.path.toObject()),_},set:function(m,g){this.callSuper("set",m,g);var _=!1,b=!1;if("object"==typeof m)for(var O in m)"path"===O&&this.setPathInfo(),_=_||-1!==this._dimensionAffectingProps.indexOf(O),b=b||"path"===O;else _=-1!==this._dimensionAffectingProps.indexOf(m),b="path"===m;return b&&this.setPathInfo(),_&&(this.initDimensions(),this.setCoords()),this},complexity:function(){return 1}}),x.Text.ATTRIBUTE_NAMES=x.SHARED_ATTRIBUTES.concat("x y dx dy font-family font-style font-weight font-size letter-spacing text-decoration text-anchor".split(" ")),x.Text.DEFAULT_SVG_FONT_SIZE=16,x.Text.fromElement=function(m,g,_){if(!m)return g(null);var b=x.parseAttributes(m,x.Text.ATTRIBUTE_NAMES),O=b.textAnchor||"left";if((_=x.util.object.extend(_?S(_):{},b)).top=_.top||0,_.left=_.left||0,b.textDecoration){var C=b.textDecoration;-1!==C.indexOf("underline")&&(_.underline=!0),-1!==C.indexOf("overline")&&(_.overline=!0),-1!==C.indexOf("line-through")&&(_.linethrough=!0),delete _.textDecoration}"dx"in b&&(_.left+=b.dx),"dy"in b&&(_.top+=b.dy),"fontSize"in _||(_.fontSize=x.Text.DEFAULT_SVG_FONT_SIZE);var P="";"textContent"in m?P=m.textContent:"firstChild"in m&&null!==m.firstChild&&"data"in m.firstChild&&null!==m.firstChild.data&&(P=m.firstChild.data),P=P.replace(/^\s+|\s+$|\n+/g,"").replace(/\s+/g," ");var F=_.strokeWidth;_.strokeWidth=0;var $=new x.Text(P,_),Q=$.getScaledHeight()/$.height,ue=(($.height+$.strokeWidth)*$.lineHeight-$.height)*Q,ge=$.getScaledHeight()+ue,_e=0;"center"===O&&(_e=$.getScaledWidth()/2),"right"===O&&(_e=$.getScaledWidth()),$.set({left:$.left-_e,top:$.top-(ge-$.fontSize*(.07+$._fontSizeFraction))/$.lineHeight,strokeWidth:typeof F<"u"?F:1}),g($)},x.Text.fromObject=function(m,g){var _=S(m),b=m.path;return delete _.path,x.Object._fromObject("Text",_,function(O){O.styles=x.util.stylesFromArray(m.styles,m.text),b?x.Object._fromObject("Path",b,function(C){O.set("path",C),g(O)},"path"):g(O)},"text")},x.Text.genericFonts=["sans-serif","serif","cursive","fantasy","monospace"],x.util.createAccessors&&x.util.createAccessors(x.Text)}}(De),n.util.object.extend(n.Text.prototype,{isEmptyStyles:function(I){if(!this.styles||typeof I<"u"&&!this.styles[I])return!0;var x=typeof I>"u"?this.styles:{line:this.styles[I]};for(var S in x)for(var M in x[S])for(var m in x[S][M])return!1;return!0},styleHas:function(I,x){if(!this.styles||!I||""===I||typeof x<"u"&&!this.styles[x])return!1;var S=typeof x>"u"?this.styles:{0:this.styles[x]};for(var M in S)for(var m in S[M])if(typeof S[M][m][I]<"u")return!0;return!1},cleanStyle:function(I){if(!this.styles||!I||""===I)return!1;var M,m,x=this.styles,S=0,g=!0,_=0;for(var O in x){for(var C in M=0,x[O]){var b;S++,(b=x[O][C]).hasOwnProperty(I)?(m?b[I]!==m&&(g=!1):m=b[I],b[I]===this[I]&&delete b[I]):g=!1,0!==Object.keys(b).length?M++:delete x[O][C]}0===M&&delete x[O]}for(var F=0;F<this._textLines.length;F++)_+=this._textLines[F].length;g&&S===_&&(this[I]=m,this.removeStyle(I))},removeStyle:function(I){if(this.styles&&I&&""!==I){var S,M,m,x=this.styles;for(M in x){for(m in S=x[M])delete S[m][I],0===Object.keys(S[m]).length&&delete S[m];0===Object.keys(S).length&&delete x[M]}}},_extendStyles:function(I,x){var S=this.get2DCursorLocation(I);this._getLineStyle(S.lineIndex)||this._setLineStyle(S.lineIndex),this._getStyleDeclaration(S.lineIndex,S.charIndex)||this._setStyleDeclaration(S.lineIndex,S.charIndex,{}),n.util.object.extend(this._getStyleDeclaration(S.lineIndex,S.charIndex),x)},get2DCursorLocation:function(I,x){typeof I>"u"&&(I=this.selectionStart);for(var S=x?this._unwrappedTextLines:this._textLines,M=S.length,m=0;m<M;m++){if(I<=S[m].length)return{lineIndex:m,charIndex:I};I-=S[m].length+this.missingNewlineOffset(m)}return{lineIndex:m-1,charIndex:S[m-1].length<I?S[m-1].length:I}},getSelectionStyles:function(I,x,S){typeof I>"u"&&(I=this.selectionStart||0),typeof x>"u"&&(x=this.selectionEnd||I);for(var M=[],m=I;m<x;m++)M.push(this.getStyleAtPosition(m,S));return M},getStyleAtPosition:function(I,x){var S=this.get2DCursorLocation(I);return(x?this.getCompleteStyleDeclaration(S.lineIndex,S.charIndex):this._getStyleDeclaration(S.lineIndex,S.charIndex))||{}},setSelectionStyles:function(I,x,S){typeof x>"u"&&(x=this.selectionStart||0),typeof S>"u"&&(S=this.selectionEnd||x);for(var M=x;M<S;M++)this._extendStyles(M,I);return this._forceClearCache=!0,this},_getStyleDeclaration:function(I,x){var S=this.styles&&this.styles[I];return S?S[x]:null},getCompleteStyleDeclaration:function(I,x){for(var m,S=this._getStyleDeclaration(I,x)||{},M={},g=0;g<this._styleProperties.length;g++)M[m=this._styleProperties[g]]=typeof S[m]>"u"?this[m]:S[m];return M},_setStyleDeclaration:function(I,x,S){this.styles[I][x]=S},_deleteStyleDeclaration:function(I,x){delete this.styles[I][x]},_getLineStyle:function(I){return!!this.styles[I]},_setLineStyle:function(I){this.styles[I]={}},_deleteLineStyle:function(I){delete this.styles[I]}}),function(){function I(x){x.textDecoration&&(x.textDecoration.indexOf("underline")>-1&&(x.underline=!0),x.textDecoration.indexOf("line-through")>-1&&(x.linethrough=!0),x.textDecoration.indexOf("overline")>-1&&(x.overline=!0),delete x.textDecoration)}n.IText=n.util.createClass(n.Text,n.Observable,{type:"i-text",selectionStart:0,selectionEnd:0,selectionColor:"rgba(17,119,255,0.3)",isEditing:!1,editable:!0,editingBorderColor:"rgba(102,153,255,0.25)",cursorWidth:2,cursorColor:"",cursorDelay:1e3,cursorDuration:600,caching:!0,hiddenTextareaContainer:null,_reSpace:/\s|\n/,_currentCursorOpacity:0,_selectionDirection:null,_abortCursorAnimation:!1,__widthOfSpace:[],inCompositionMode:!1,initialize:function(x,S){this.callSuper("initialize",x,S),this.initBehavior()},setSelectionStart:function(x){x=Math.max(x,0),this._updateAndFire("selectionStart",x)},setSelectionEnd:function(x){x=Math.min(x,this.text.length),this._updateAndFire("selectionEnd",x)},_updateAndFire:function(x,S){this[x]!==S&&(this._fireSelectionChanged(),this[x]=S),this._updateTextarea()},_fireSelectionChanged:function(){this.fire("selection:changed"),this.canvas&&this.canvas.fire("text:selection:changed",{target:this})},initDimensions:function(){this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this.callSuper("initDimensions")},render:function(x){this.clearContextTop(),this.callSuper("render",x),this.cursorOffsetCache={},this.renderCursorOrSelection()},_render:function(x){this.callSuper("_render",x)},clearContextTop:function(x){if(this.isEditing&&this.canvas&&this.canvas.contextTop){var S=this.canvas.contextTop,M=this.canvas.viewportTransform;S.save(),S.transform(M[0],M[1],M[2],M[3],M[4],M[5]),this.transform(S),this._clearTextArea(S),x||S.restore()}},renderCursorOrSelection:function(){if(this.isEditing&&this.canvas&&this.canvas.contextTop){var x=this._getCursorBoundaries(),S=this.canvas.contextTop;this.clearContextTop(!0),this.selectionStart===this.selectionEnd?this.renderCursor(x,S):this.renderSelection(x,S),S.restore()}},_clearTextArea:function(x){var S=this.width+4,M=this.height+4;x.clearRect(-S/2,-M/2,S,M)},_getCursorBoundaries:function(x){typeof x>"u"&&(x=this.selectionStart);var S=this._getLeftOffset(),M=this._getTopOffset(),m=this._getCursorBoundariesOffsets(x);return{left:S,top:M,leftOffset:m.left,topOffset:m.top}},_getCursorBoundariesOffsets:function(x){if(this.cursorOffsetCache&&"top"in this.cursorOffsetCache)return this.cursorOffsetCache;var S,M,m,b,g=0,_=0,O=this.get2DCursorLocation(x);m=O.charIndex,M=O.lineIndex;for(var C=0;C<M;C++)g+=this.getHeightOfLine(C);S=this._getLineLeftOffset(M);var P=this.__charBounds[M][m];return P&&(_=P.left),0!==this.charSpacing&&m===this._textLines[M].length&&(_-=this._getWidthOfCharSpacing()),b={top:g,left:S+(_>0?_:0)},"rtl"===this.direction&&(b.left*=-1),this.cursorOffsetCache=b,this.cursorOffsetCache},renderCursor:function(x,S){var M=this.get2DCursorLocation(),m=M.lineIndex,g=M.charIndex>0?M.charIndex-1:0,_=this.getValueOfPropertyAt(m,g,"fontSize"),b=this.scaleX*this.canvas.getZoom(),O=this.cursorWidth/b,C=x.topOffset,P=this.getValueOfPropertyAt(m,g,"deltaY");C+=(1-this._fontSizeFraction)*this.getHeightOfLine(m)/this.lineHeight-_*(1-this._fontSizeFraction),this.inCompositionMode&&this.renderSelection(x,S),S.fillStyle=this.cursorColor||this.getValueOfPropertyAt(m,g,"fill"),S.globalAlpha=this.__isMousedown?1:this._currentCursorOpacity,S.fillRect(x.left+x.leftOffset-O/2,C+x.top+P,O,_)},renderSelection:function(x,S){for(var M=this.inCompositionMode?this.hiddenTextarea.selectionStart:this.selectionStart,m=this.inCompositionMode?this.hiddenTextarea.selectionEnd:this.selectionEnd,g=-1!==this.textAlign.indexOf("justify"),_=this.get2DCursorLocation(M),b=this.get2DCursorLocation(m),O=_.lineIndex,C=b.lineIndex,P=_.charIndex<0?0:_.charIndex,F=b.charIndex<0?0:b.charIndex,$=O;$<=C;$++){var ue,Q=this._getLineLeftOffset($)||0,ne=this.getHeightOfLine($),ge=0,_e=0;if($===O&&(ge=this.__charBounds[O][P].left),$>=O&&$<C)_e=g&&!this.isEndOfWrapping($)?this.width:this.getLineWidth($)||5;else if($===C)if(0===F)_e=this.__charBounds[C][F].left;else{var Ie=this._getWidthOfCharSpacing();_e=this.__charBounds[C][F-1].left+this.__charBounds[C][F-1].width-Ie}ue=ne,(this.lineHeight<1||$===C&&this.lineHeight>1)&&(ne/=this.lineHeight);var We=x.left+Q+ge,Ke=_e-ge,yt=ne,ht=0;this.inCompositionMode?(S.fillStyle=this.compositionColor||"black",yt=1,ht=ne):S.fillStyle=this.selectionColor,"rtl"===this.direction&&(We=this.width-We-Ke),S.fillRect(We,x.top+x.topOffset+ht,Ke,yt),x.topOffset+=ue}},getCurrentCharFontSize:function(){var x=this._getCurrentCharIndex();return this.getValueOfPropertyAt(x.l,x.c,"fontSize")},getCurrentCharColor:function(){var x=this._getCurrentCharIndex();return this.getValueOfPropertyAt(x.l,x.c,"fill")},_getCurrentCharIndex:function(){var x=this.get2DCursorLocation(this.selectionStart,!0);return{l:x.lineIndex,c:x.charIndex>0?x.charIndex-1:0}}}),n.IText.fromObject=function(x,S){var M=n.util.stylesFromArray(x.styles,x.text),m=Object.assign({},x,{styles:M});if(I(m),m.styles)for(var g in m.styles)for(var _ in m.styles[g])I(m.styles[g][_]);n.Object._fromObject("IText",m,S,"text")}}(),function(){var I=n.util.object.clone;n.util.object.extend(n.IText.prototype,{initBehavior:function(){this.initAddedHandler(),this.initRemovedHandler(),this.initCursorSelectionHandlers(),this.initDoubleClickSimulation(),this.mouseMoveHandler=this.mouseMoveHandler.bind(this)},onDeselect:function(){this.isEditing&&this.exitEditing(),this.selected=!1},initAddedHandler:function(){var x=this;this.on("added",function(){var S=x.canvas;S&&(S._hasITextHandlers||(S._hasITextHandlers=!0,x._initCanvasHandlers(S)),S._iTextInstances=S._iTextInstances||[],S._iTextInstances.push(x))})},initRemovedHandler:function(){var x=this;this.on("removed",function(){var S=x.canvas;S&&(S._iTextInstances=S._iTextInstances||[],n.util.removeFromArray(S._iTextInstances,x),0===S._iTextInstances.length&&(S._hasITextHandlers=!1,x._removeCanvasHandlers(S)))})},_initCanvasHandlers:function(x){x._mouseUpITextHandler=function(){x._iTextInstances&&x._iTextInstances.forEach(function(S){S.__isMousedown=!1})},x.on("mouse:up",x._mouseUpITextHandler)},_removeCanvasHandlers:function(x){x.off("mouse:up",x._mouseUpITextHandler)},_tick:function(){this._currentTickState=this._animateCursor(this,1,this.cursorDuration,"_onTickComplete")},_animateCursor:function(x,S,M,m){var g;return g={isAborted:!1,abort:function(){this.isAborted=!0}},x.animate("_currentCursorOpacity",S,{duration:M,onComplete:function(){g.isAborted||x[m]()},onChange:function(){x.canvas&&x.selectionStart===x.selectionEnd&&x.renderCursorOrSelection()},abort:function(){return g.isAborted}}),g},_onTickComplete:function(){var x=this;this._cursorTimeout1&&clearTimeout(this._cursorTimeout1),this._cursorTimeout1=setTimeout(function(){x._currentTickCompleteState=x._animateCursor(x,0,this.cursorDuration/2,"_tick")},100)},initDelayedCursor:function(x){var S=this,M=x?0:this.cursorDelay;this.abortCursorAnimation(),this._currentCursorOpacity=1,this._cursorTimeout2=setTimeout(function(){S._tick()},M)},abortCursorAnimation:function(){var x=this._currentTickState||this._currentTickCompleteState,S=this.canvas;this._currentTickState&&this._currentTickState.abort(),this._currentTickCompleteState&&this._currentTickCompleteState.abort(),clearTimeout(this._cursorTimeout1),clearTimeout(this._cursorTimeout2),this._currentCursorOpacity=0,x&&S&&S.clearContext(S.contextTop||S.contextContainer)},selectAll:function(){return this.selectionStart=0,this.selectionEnd=this._text.length,this._fireSelectionChanged(),this._updateTextarea(),this},getSelectedText:function(){return this._text.slice(this.selectionStart,this.selectionEnd).join("")},findWordBoundaryLeft:function(x){var S=0,M=x-1;if(this._reSpace.test(this._text[M]))for(;this._reSpace.test(this._text[M]);)S++,M--;for(;/\S/.test(this._text[M])&&M>-1;)S++,M--;return x-S},findWordBoundaryRight:function(x){var S=0,M=x;if(this._reSpace.test(this._text[M]))for(;this._reSpace.test(this._text[M]);)S++,M++;for(;/\S/.test(this._text[M])&&M<this._text.length;)S++,M++;return x+S},findLineBoundaryLeft:function(x){for(var S=0,M=x-1;!/\n/.test(this._text[M])&&M>-1;)S++,M--;return x-S},findLineBoundaryRight:function(x){for(var S=0,M=x;!/\n/.test(this._text[M])&&M<this._text.length;)S++,M++;return x+S},searchWordBoundary:function(x,S){for(var M=this._text,m=this._reSpace.test(M[x])?x-1:x,g=M[m],_=n.reNonWord;!_.test(g)&&m>0&&m<M.length;)g=M[m+=S];return _.test(g)&&(m+=1===S?0:1),m},selectWord:function(x){var S=this.searchWordBoundary(x=x||this.selectionStart,-1),M=this.searchWordBoundary(x,1);this.selectionStart=S,this.selectionEnd=M,this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()},selectLine:function(x){var S=this.findLineBoundaryLeft(x=x||this.selectionStart),M=this.findLineBoundaryRight(x);return this.selectionStart=S,this.selectionEnd=M,this._fireSelectionChanged(),this._updateTextarea(),this},enterEditing:function(x){if(!this.isEditing&&this.editable)return this.canvas&&(this.canvas.calcOffset(),this.exitEditingOnOthers(this.canvas)),this.isEditing=!0,this.initHiddenTextarea(x),this.hiddenTextarea.focus(),this.hiddenTextarea.value=this.text,this._updateTextarea(),this._saveEditingProps(),this._setEditingProps(),this._textBeforeEdit=this.text,this._tick(),this.fire("editing:entered"),this._fireSelectionChanged(),this.canvas?(this.canvas.fire("text:editing:entered",{target:this}),this.initMouseMoveHandler(),this.canvas.requestRenderAll(),this):this},exitEditingOnOthers:function(x){x._iTextInstances&&x._iTextInstances.forEach(function(S){S.selected=!1,S.isEditing&&S.exitEditing()})},initMouseMoveHandler:function(){this.canvas.on("mouse:move",this.mouseMoveHandler)},mouseMoveHandler:function(x){if(this.__isMousedown&&this.isEditing){document.activeElement!==this.hiddenTextarea&&this.hiddenTextarea.focus();var S=this.getSelectionStartFromPointer(x.e),M=this.selectionStart,m=this.selectionEnd;(S!==this.__selectionStartOnMouseDown||M===m)&&(M===S||m===S)||(S>this.__selectionStartOnMouseDown?(this.selectionStart=this.__selectionStartOnMouseDown,this.selectionEnd=S):(this.selectionStart=S,this.selectionEnd=this.__selectionStartOnMouseDown),(this.selectionStart!==M||this.selectionEnd!==m)&&(this.restartCursorIfNeeded(),this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()))}},_setEditingProps:function(){this.hoverCursor="text",this.canvas&&(this.canvas.defaultCursor=this.canvas.moveCursor="text"),this.borderColor=this.editingBorderColor,this.hasControls=this.selectable=!1,this.lockMovementX=this.lockMovementY=!0},fromStringToGraphemeSelection:function(x,S,M){var m=M.slice(0,x),g=n.util.string.graphemeSplit(m).length;if(x===S)return{selectionStart:g,selectionEnd:g};var _=M.slice(x,S);return{selectionStart:g,selectionEnd:g+n.util.string.graphemeSplit(_).length}},fromGraphemeToStringSelection:function(x,S,M){var g=M.slice(0,x).join("").length;return x===S?{selectionStart:g,selectionEnd:g}:{selectionStart:g,selectionEnd:g+M.slice(x,S).join("").length}},_updateTextarea:function(){if(this.cursorOffsetCache={},this.hiddenTextarea){if(!this.inCompositionMode){var x=this.fromGraphemeToStringSelection(this.selectionStart,this.selectionEnd,this._text);this.hiddenTextarea.selectionStart=x.selectionStart,this.hiddenTextarea.selectionEnd=x.selectionEnd}this.updateTextareaPosition()}},updateFromTextArea:function(){if(this.hiddenTextarea){this.cursorOffsetCache={},this.text=this.hiddenTextarea.value,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords());var x=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value);this.selectionEnd=this.selectionStart=x.selectionEnd,this.inCompositionMode||(this.selectionStart=x.selectionStart),this.updateTextareaPosition()}},updateTextareaPosition:function(){if(this.selectionStart===this.selectionEnd){var x=this._calcTextareaPosition();this.hiddenTextarea.style.left=x.left,this.hiddenTextarea.style.top=x.top}},_calcTextareaPosition:function(){if(!this.canvas)return{x:1,y:1};var x=this.inCompositionMode?this.compositionStart:this.selectionStart,S=this._getCursorBoundaries(x),M=this.get2DCursorLocation(x),_=this.getValueOfPropertyAt(M.lineIndex,M.charIndex,"fontSize")*this.lineHeight,b=S.leftOffset,O=this.calcTransformMatrix(),C={x:S.left+b,y:S.top+S.topOffset+_},P=this.canvas.getRetinaScaling(),F=this.canvas.upperCanvasEl,$=F.width/P,Q=F.height/P,ne=$-_,ue=Q-_,ge=F.clientWidth/$,_e=F.clientHeight/Q;return C=n.util.transformPoint(C,O),(C=n.util.transformPoint(C,this.canvas.viewportTransform)).x*=ge,C.y*=_e,C.x<0&&(C.x=0),C.x>ne&&(C.x=ne),C.y<0&&(C.y=0),C.y>ue&&(C.y=ue),C.x+=this.canvas._offset.left,C.y+=this.canvas._offset.top,{left:C.x+"px",top:C.y+"px",fontSize:_+"px",charHeight:_}},_saveEditingProps:function(){this._savedProps={hasControls:this.hasControls,borderColor:this.borderColor,lockMovementX:this.lockMovementX,lockMovementY:this.lockMovementY,hoverCursor:this.hoverCursor,selectable:this.selectable,defaultCursor:this.canvas&&this.canvas.defaultCursor,moveCursor:this.canvas&&this.canvas.moveCursor}},_restoreEditingProps:function(){!this._savedProps||(this.hoverCursor=this._savedProps.hoverCursor,this.hasControls=this._savedProps.hasControls,this.borderColor=this._savedProps.borderColor,this.selectable=this._savedProps.selectable,this.lockMovementX=this._savedProps.lockMovementX,this.lockMovementY=this._savedProps.lockMovementY,this.canvas&&(this.canvas.defaultCursor=this._savedProps.defaultCursor,this.canvas.moveCursor=this._savedProps.moveCursor))},exitEditing:function(){var x=this._textBeforeEdit!==this.text,S=this.hiddenTextarea;return this.selected=!1,this.isEditing=!1,this.selectionEnd=this.selectionStart,S&&(S.blur&&S.blur(),S.parentNode&&S.parentNode.removeChild(S)),this.hiddenTextarea=null,this.abortCursorAnimation(),this._restoreEditingProps(),this._currentCursorOpacity=0,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this.fire("editing:exited"),x&&this.fire("modified"),this.canvas&&(this.canvas.off("mouse:move",this.mouseMoveHandler),this.canvas.fire("text:editing:exited",{target:this}),x&&this.canvas.fire("object:modified",{target:this})),this},_removeExtraneousStyles:function(){for(var x in this.styles)this._textLines[x]||delete this.styles[x]},removeStyleFromTo:function(x,S){var C,P,M=this.get2DCursorLocation(x,!0),m=this.get2DCursorLocation(S,!0),g=M.lineIndex,_=M.charIndex,b=m.lineIndex,O=m.charIndex;if(g!==b){if(this.styles[g])for(C=_;C<this._unwrappedTextLines[g].length;C++)delete this.styles[g][C];if(this.styles[b])for(C=O;C<this._unwrappedTextLines[b].length;C++)(P=this.styles[b][C])&&(this.styles[g]||(this.styles[g]={}),this.styles[g][_+C-O]=P);for(C=g+1;C<=b;C++)delete this.styles[C];this.shiftLineStyles(b,g-b)}else if(this.styles[g]){P=this.styles[g];var $,Q,F=O-_;for(C=_;C<O;C++)delete P[C];for(Q in this.styles[g])($=parseInt(Q,10))>=O&&(P[$-F]=P[Q],delete P[Q])}},shiftLineStyles:function(x,S){var M=I(this.styles);for(var m in this.styles){var g=parseInt(m,10);g>x&&(this.styles[g+S]=M[g],M[g-S]||delete this.styles[g])}},restartCursorIfNeeded:function(){(!this._currentTickState||this._currentTickState.isAborted||!this._currentTickCompleteState||this._currentTickCompleteState.isAborted)&&this.initDelayedCursor()},insertNewlineStyleObject:function(x,S,M,m){var g,_={},b=!1,O=this._unwrappedTextLines[x].length===S;for(var C in M||(M=1),this.shiftLineStyles(x,M),this.styles[x]&&(g=this.styles[x][0===S?S:S-1]),this.styles[x]){var P=parseInt(C,10);P>=S&&(b=!0,_[P-S]=this.styles[x][C],O&&0===S||delete this.styles[x][C])}var F=!1;for(b&&!O&&(this.styles[x+M]=_,F=!0),F&&M--;M>0;)m&&m[M-1]?this.styles[x+M]={0:I(m[M-1])}:g?this.styles[x+M]={0:I(g)}:delete this.styles[x+M],M--;this._forceClearCache=!0},insertCharStyleObject:function(x,S,M,m){this.styles||(this.styles={});var g=this.styles[x],_=g?I(g):{};for(var b in M||(M=1),_){var O=parseInt(b,10);O>=S&&(g[O+M]=_[O],_[O-M]||delete g[O])}if(this._forceClearCache=!0,m)for(;M--;)!Object.keys(m[M]).length||(this.styles[x]||(this.styles[x]={}),this.styles[x][S+M]=I(m[M]));else if(g)for(var C=g[S?S-1:1];C&&M--;)this.styles[x][S+M]=I(C)},insertNewStyleBlock:function(x,S,M){for(var m=this.get2DCursorLocation(S,!0),g=[0],_=0,b=0;b<x.length;b++)"\n"===x[b]?g[++_]=0:g[_]++;for(g[0]>0&&(this.insertCharStyleObject(m.lineIndex,m.charIndex,g[0],M),M=M&&M.slice(g[0]+1)),_&&this.insertNewlineStyleObject(m.lineIndex,m.charIndex+g[0],_),b=1;b<_;b++)g[b]>0?this.insertCharStyleObject(m.lineIndex+b,0,g[b],M):M&&this.styles[m.lineIndex+b]&&M[0]&&(this.styles[m.lineIndex+b][0]=M[0]),M=M&&M.slice(g[b]+1);g[b]>0&&this.insertCharStyleObject(m.lineIndex+b,0,g[b],M)},setSelectionStartEndWithShift:function(x,S,M){M<=x?(S===x?this._selectionDirection="left":"right"===this._selectionDirection&&(this._selectionDirection="left",this.selectionEnd=x),this.selectionStart=M):M>x&&M<S?"right"===this._selectionDirection?this.selectionEnd=M:this.selectionStart=M:(S===x?this._selectionDirection="right":"left"===this._selectionDirection&&(this._selectionDirection="right",this.selectionStart=S),this.selectionEnd=M)},setSelectionInBoundaries:function(){var x=this.text.length;this.selectionStart>x?this.selectionStart=x:this.selectionStart<0&&(this.selectionStart=0),this.selectionEnd>x?this.selectionEnd=x:this.selectionEnd<0&&(this.selectionEnd=0)}})}(),n.util.object.extend(n.IText.prototype,{initDoubleClickSimulation:function(){this.__lastClickTime=+new Date,this.__lastLastClickTime=+new Date,this.__lastPointer={},this.on("mousedown",this.onMouseDown)},onMouseDown:function(I){if(this.canvas){this.__newClickTime=+new Date;var x=I.pointer;this.isTripleClick(x)&&(this.fire("tripleclick",I),this._stopEvent(I.e)),this.__lastLastClickTime=this.__lastClickTime,this.__lastClickTime=this.__newClickTime,this.__lastPointer=x,this.__lastIsEditing=this.isEditing,this.__lastSelected=this.selected}},isTripleClick:function(I){return this.__newClickTime-this.__lastClickTime<500&&this.__lastClickTime-this.__lastLastClickTime<500&&this.__lastPointer.x===I.x&&this.__lastPointer.y===I.y},_stopEvent:function(I){I.preventDefault&&I.preventDefault(),I.stopPropagation&&I.stopPropagation()},initCursorSelectionHandlers:function(){this.initMousedownHandler(),this.initMouseupHandler(),this.initClicks()},doubleClickHandler:function(I){!this.isEditing||this.selectWord(this.getSelectionStartFromPointer(I.e))},tripleClickHandler:function(I){!this.isEditing||this.selectLine(this.getSelectionStartFromPointer(I.e))},initClicks:function(){this.on("mousedblclick",this.doubleClickHandler),this.on("tripleclick",this.tripleClickHandler)},_mouseDownHandler:function(I){!this.canvas||!this.editable||I.e.button&&1!==I.e.button||(this.__isMousedown=!0,this.selected&&(this.inCompositionMode=!1,this.setCursorByClick(I.e)),this.isEditing&&(this.__selectionStartOnMouseDown=this.selectionStart,this.selectionStart===this.selectionEnd&&this.abortCursorAnimation(),this.renderCursorOrSelection()))},_mouseDownHandlerBefore:function(I){!this.canvas||!this.editable||I.e.button&&1!==I.e.button||(this.selected=this===this.canvas._activeObject)},initMousedownHandler:function(){this.on("mousedown",this._mouseDownHandler),this.on("mousedown:before",this._mouseDownHandlerBefore)},initMouseupHandler:function(){this.on("mouseup",this.mouseUpHandler)},mouseUpHandler:function(I){if(this.__isMousedown=!1,!(!this.editable||this.group||I.transform&&I.transform.actionPerformed||I.e.button&&1!==I.e.button)){if(this.canvas){var x=this.canvas._activeObject;if(x&&x!==this)return}this.__lastSelected&&!this.__corner?(this.selected=!1,this.__lastSelected=!1,this.enterEditing(I.e),this.selectionStart===this.selectionEnd?this.initDelayedCursor(!0):this.renderCursorOrSelection()):this.selected=!0}},setCursorByClick:function(I){var x=this.getSelectionStartFromPointer(I);I.shiftKey?this.setSelectionStartEndWithShift(this.selectionStart,this.selectionEnd,x):(this.selectionStart=x,this.selectionEnd=x),this.isEditing&&(this._fireSelectionChanged(),this._updateTextarea())},getSelectionStartFromPointer:function(I){for(var O,x=this.getLocalPointer(I),S=0,M=0,m=0,g=0,_=0,C=0,P=this._textLines.length;C<P&&m<=x.y;C++)m+=this.getHeightOfLine(C)*this.scaleY,_=C,C>0&&(g+=this._textLines[C-1].length+this.missingNewlineOffset(C-1));M=this._getLineLeftOffset(_)*this.scaleX,O=this._textLines[_],"rtl"===this.direction&&(x.x=this.width*this.scaleX-x.x+M);for(var F=0,$=O.length;F<$&&(S=M,(M+=this.__charBounds[_][F].kernedWidth*this.scaleX)<=x.x);F++)g++;return this._getNewSelectionStartFromOffset(x,S,M,g,$)},_getNewSelectionStartFromOffset:function(I,x,S,M,m){var _=S-I.x,O=M+(_>I.x-x||_<0?0:1);return this.flipX&&(O=m-O),O>this._text.length&&(O=this._text.length),O}}),n.util.object.extend(n.IText.prototype,{initHiddenTextarea:function(){this.hiddenTextarea=n.document.createElement("textarea"),this.hiddenTextarea.setAttribute("autocapitalize","off"),this.hiddenTextarea.setAttribute("autocorrect","off"),this.hiddenTextarea.setAttribute("autocomplete","off"),this.hiddenTextarea.setAttribute("spellcheck","false"),this.hiddenTextarea.setAttribute("data-fabric-hiddentextarea",""),this.hiddenTextarea.setAttribute("wrap","off");var I=this._calcTextareaPosition();this.hiddenTextarea.style.cssText="position: absolute; top: "+I.top+"; left: "+I.left+"; z-index: -999; opacity: 0; width: 1px; height: 1px; font-size: 1px; padding-top: "+I.fontSize+";",this.hiddenTextareaContainer?this.hiddenTextareaContainer.appendChild(this.hiddenTextarea):n.document.body.appendChild(this.hiddenTextarea),n.util.addListener(this.hiddenTextarea,"keydown",this.onKeyDown.bind(this)),n.util.addListener(this.hiddenTextarea,"keyup",this.onKeyUp.bind(this)),n.util.addListener(this.hiddenTextarea,"input",this.onInput.bind(this)),n.util.addListener(this.hiddenTextarea,"copy",this.copy.bind(this)),n.util.addListener(this.hiddenTextarea,"cut",this.copy.bind(this)),n.util.addListener(this.hiddenTextarea,"paste",this.paste.bind(this)),n.util.addListener(this.hiddenTextarea,"compositionstart",this.onCompositionStart.bind(this)),n.util.addListener(this.hiddenTextarea,"compositionupdate",this.onCompositionUpdate.bind(this)),n.util.addListener(this.hiddenTextarea,"compositionend",this.onCompositionEnd.bind(this)),!this._clickHandlerInitialized&&this.canvas&&(n.util.addListener(this.canvas.upperCanvasEl,"click",this.onClick.bind(this)),this._clickHandlerInitialized=!0)},keysMap:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorRight",36:"moveCursorLeft",37:"moveCursorLeft",38:"moveCursorUp",39:"moveCursorRight",40:"moveCursorDown"},keysMapRtl:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorLeft",36:"moveCursorRight",37:"moveCursorRight",38:"moveCursorUp",39:"moveCursorLeft",40:"moveCursorDown"},ctrlKeysMapUp:{67:"copy",88:"cut"},ctrlKeysMapDown:{65:"selectAll"},onClick:function(){this.hiddenTextarea&&this.hiddenTextarea.focus()},onKeyDown:function(I){if(this.isEditing){var x="rtl"===this.direction?this.keysMapRtl:this.keysMap;if(I.keyCode in x)this[x[I.keyCode]](I);else{if(!(I.keyCode in this.ctrlKeysMapDown)||!I.ctrlKey&&!I.metaKey)return;this[this.ctrlKeysMapDown[I.keyCode]](I)}I.stopImmediatePropagation(),I.preventDefault(),I.keyCode>=33&&I.keyCode<=40?(this.inCompositionMode=!1,this.clearContextTop(),this.renderCursorOrSelection()):this.canvas&&this.canvas.requestRenderAll()}},onKeyUp:function(I){!this.isEditing||this._copyDone||this.inCompositionMode?this._copyDone=!1:I.keyCode in this.ctrlKeysMapUp&&(I.ctrlKey||I.metaKey)&&(this[this.ctrlKeysMapUp[I.keyCode]](I),I.stopImmediatePropagation(),I.preventDefault(),this.canvas&&this.canvas.requestRenderAll())},onInput:function(I){var x=this.fromPaste;if(this.fromPaste=!1,I&&I.stopPropagation(),this.isEditing){var g,_,F,$,Q,S=this._splitTextIntoLines(this.hiddenTextarea.value).graphemeText,M=this._text.length,m=S.length,b=m-M,O=this.selectionStart,C=this.selectionEnd,P=O!==C;if(""===this.hiddenTextarea.value)return this.styles={},this.updateFromTextArea(),this.fire("changed"),void(this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll()));var ne=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value),ue=O>ne.selectionStart;P?(g=this._text.slice(O,C),b+=C-O):m<M&&(g=ue?this._text.slice(C+b,C):this._text.slice(O,O-b)),_=S.slice(ne.selectionEnd-b,ne.selectionEnd),g&&g.length&&(_.length&&(F=this.getSelectionStyles(O,O+1,!1),F=_.map(function(){return F[0]})),P?($=O,Q=C):ue?($=C-g.length,Q=C):($=C,Q=C+g.length),this.removeStyleFromTo($,Q)),_.length&&(x&&_.join("")===n.copiedText&&!n.disableStyleCopyPaste&&(F=n.copiedTextStyle),this.insertNewStyleBlock(_,O,F)),this.updateFromTextArea(),this.fire("changed"),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll())}},onCompositionStart:function(){this.inCompositionMode=!0},onCompositionEnd:function(){this.inCompositionMode=!1},onCompositionUpdate:function(I){this.compositionStart=I.target.selectionStart,this.compositionEnd=I.target.selectionEnd,this.updateTextareaPosition()},copy:function(){this.selectionStart!==this.selectionEnd&&(n.copiedText=this.getSelectedText(),n.copiedTextStyle=n.disableStyleCopyPaste?null:this.getSelectionStyles(this.selectionStart,this.selectionEnd,!0),this._copyDone=!0)},paste:function(){this.fromPaste=!0},_getClipboardData:function(I){return I&&I.clipboardData||n.window.clipboardData},_getWidthBeforeCursor:function(I,x){var M,S=this._getLineLeftOffset(I);return x>0&&(S+=(M=this.__charBounds[I][x-1]).left+M.width),S},getDownCursorOffset:function(I,x){var S=this._getSelectionForOffset(I,x),M=this.get2DCursorLocation(S),m=M.lineIndex;if(m===this._textLines.length-1||I.metaKey||34===I.keyCode)return this._text.length-S;var g=M.charIndex,_=this._getWidthBeforeCursor(m,g),b=this._getIndexOnLine(m+1,_);return this._textLines[m].slice(g).length+b+1+this.missingNewlineOffset(m)},_getSelectionForOffset:function(I,x){return I.shiftKey&&this.selectionStart!==this.selectionEnd&&x?this.selectionEnd:this.selectionStart},getUpCursorOffset:function(I,x){var S=this._getSelectionForOffset(I,x),M=this.get2DCursorLocation(S),m=M.lineIndex;if(0===m||I.metaKey||33===I.keyCode)return-S;var g=M.charIndex,_=this._getWidthBeforeCursor(m,g),b=this._getIndexOnLine(m-1,_),O=this._textLines[m].slice(0,g),C=this.missingNewlineOffset(m-1);return-this._textLines[m-1].length+b-O.length+(1-C)},_getIndexOnLine:function(I,x){for(var _,b,S=this._textLines[I],m=this._getLineLeftOffset(I),g=0,O=0,C=S.length;O<C;O++)if((m+=_=this.__charBounds[I][O].width)>x){b=!0;var F=m,$=Math.abs(m-_-x);g=Math.abs(F-x)<$?O:O-1;break}return b||(g=S.length-1),g},moveCursorDown:function(I){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorUpOrDown("Down",I)},moveCursorUp:function(I){0===this.selectionStart&&0===this.selectionEnd||this._moveCursorUpOrDown("Up",I)},_moveCursorUpOrDown:function(I,x){var M=this["get"+I+"CursorOffset"](x,"right"===this._selectionDirection);x.shiftKey?this.moveCursorWithShift(M):this.moveCursorWithoutShift(M),0!==M&&(this.setSelectionInBoundaries(),this.abortCursorAnimation(),this._currentCursorOpacity=1,this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorWithShift:function(I){return this.setSelectionStartEndWithShift(this.selectionStart,this.selectionEnd,"left"===this._selectionDirection?this.selectionStart+I:this.selectionEnd+I),0!==I},moveCursorWithoutShift:function(I){return I<0?(this.selectionStart+=I,this.selectionEnd=this.selectionStart):(this.selectionEnd+=I,this.selectionStart=this.selectionEnd),0!==I},moveCursorLeft:function(I){0===this.selectionStart&&0===this.selectionEnd||this._moveCursorLeftOrRight("Left",I)},_move:function(I,x,S){var M;if(I.altKey)M=this["findWordBoundary"+S](this[x]);else{if(!I.metaKey&&35!==I.keyCode&&36!==I.keyCode)return this[x]+="Left"===S?-1:1,!0;M=this["findLineBoundary"+S](this[x])}if(typeof M<"u"&&this[x]!==M)return this[x]=M,!0},_moveLeft:function(I,x){return this._move(I,x,"Left")},_moveRight:function(I,x){return this._move(I,x,"Right")},moveCursorLeftWithoutShift:function(I){var x=!0;return this._selectionDirection="left",this.selectionEnd===this.selectionStart&&0!==this.selectionStart&&(x=this._moveLeft(I,"selectionStart")),this.selectionEnd=this.selectionStart,x},moveCursorLeftWithShift:function(I){return"right"===this._selectionDirection&&this.selectionStart!==this.selectionEnd?this._moveLeft(I,"selectionEnd"):0!==this.selectionStart?(this._selectionDirection="left",this._moveLeft(I,"selectionStart")):void 0},moveCursorRight:function(I){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorLeftOrRight("Right",I)},_moveCursorLeftOrRight:function(I,x){var S="moveCursor"+I+"With";this._currentCursorOpacity=1,this[S+=x.shiftKey?"Shift":"outShift"](x)&&(this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorRightWithShift:function(I){return"left"===this._selectionDirection&&this.selectionStart!==this.selectionEnd?this._moveRight(I,"selectionStart"):this.selectionEnd!==this._text.length?(this._selectionDirection="right",this._moveRight(I,"selectionEnd")):void 0},moveCursorRightWithoutShift:function(I){var x=!0;return this._selectionDirection="right",this.selectionStart===this.selectionEnd?(x=this._moveRight(I,"selectionStart"),this.selectionEnd=this.selectionStart):this.selectionStart=this.selectionEnd,x},removeChars:function(I,x){typeof x>"u"&&(x=I+1),this.removeStyleFromTo(I,x),this._text.splice(I,x-I),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()},insertChars:function(I,x,S,M){typeof M>"u"&&(M=S),M>S&&this.removeStyleFromTo(S,M);var m=n.util.string.graphemeSplit(I);this.insertNewStyleBlock(m,S,x),this._text=[].concat(this._text.slice(0,S),m,this._text.slice(M)),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()}}),function(){var I=n.util.toFixed,x=/  +/g;n.util.object.extend(n.Text.prototype,{_toSVG:function(){var S=this._getSVGLeftTopOffsets(),M=this._getSVGTextAndBg(S.textTop,S.textLeft);return this._wrapSVGTextAndBg(M)},toSVG:function(S){return this._createBaseSVGMarkup(this._toSVG(),{reviver:S,noStyle:!0,withShadow:!0})},_getSVGLeftTopOffsets:function(){return{textLeft:-this.width/2,textTop:-this.height/2,lineTop:this.getHeightOfLine(0)}},_wrapSVGTextAndBg:function(S){var m=this.getSvgTextDecoration(this);return[S.textBgRects.join(""),'\t\t<text xml:space="preserve" ',this.fontFamily?'font-family="'+this.fontFamily.replace(/"/g,"'")+'" ':"",this.fontSize?'font-size="'+this.fontSize+'" ':"",this.fontStyle?'font-style="'+this.fontStyle+'" ':"",this.fontWeight?'font-weight="'+this.fontWeight+'" ':"",m?'text-decoration="'+m+'" ':"",'style="',this.getSvgStyles(!0),'"',this.addPaintOrder()," >",S.textSpans.join(""),"</text>\n"]},_getSVGTextAndBg:function(S,M){var b,m=[],g=[],_=S;this._setSVGBg(g);for(var O=0,C=this._textLines.length;O<C;O++)b=this._getLineLeftOffset(O),(this.textBackgroundColor||this.styleHas("textBackgroundColor",O))&&this._setSVGTextLineBg(g,O,M+b,_),this._setSVGTextLineText(m,O,M+b,_),_+=this.getHeightOfLine(O);return{textSpans:m,textBgRects:g}},_createTextCharSpan:function(S,M,m,g){var _=S!==S.trim()||S.match(x),b=this.getSvgSpanStyles(M,_),O=b?'style="'+b+'"':"",C=M.deltaY,P="",F=n.Object.NUM_FRACTION_DIGITS;return C&&(P=' dy="'+I(C,F)+'" '),['<tspan x="',I(m,F),'" y="',I(g,F),'" ',P,O,">",n.util.string.escapeXml(S),"</tspan>"].join("")},_setSVGTextLineText:function(S,M,m,g){var O,C,F,$,ue,_=this.getHeightOfLine(M),b=-1!==this.textAlign.indexOf("justify"),P="",Q=0,ne=this._textLines[M];g+=_*(1-this._fontSizeFraction)/this.lineHeight;for(var ge=0,_e=ne.length-1;ge<=_e;ge++)ue=ge===_e||this.charSpacing,P+=ne[ge],F=this.__charBounds[M][ge],0===Q?(m+=F.kernedWidth-F.width,Q+=F.width):Q+=F.kernedWidth,b&&!ue&&this._reSpaceAndTab.test(ne[ge])&&(ue=!0),ue||(O=O||this.getCompleteStyleDeclaration(M,ge),C=this.getCompleteStyleDeclaration(M,ge+1),ue=n.util.hasStyleChanged(O,C,!0)),ue&&($=this._getStyleDeclaration(M,ge)||{},S.push(this._createTextCharSpan(P,$,m,g)),P="",O=C,m+=Q,Q=0)},_pushTextBgRect:function(S,M,m,g,_,b){var O=n.Object.NUM_FRACTION_DIGITS;S.push("\t\t<rect ",this._getFillAttributes(M),' x="',I(m,O),'" y="',I(g,O),'" width="',I(_,O),'" height="',I(b,O),'"></rect>\n')},_setSVGTextLineBg:function(S,M,m,g){for(var P,F,_=this._textLines[M],b=this.getHeightOfLine(M)/this.lineHeight,O=0,C=0,$=this.getValueOfPropertyAt(M,0,"textBackgroundColor"),Q=0,ne=_.length;Q<ne;Q++)P=this.__charBounds[M][Q],(F=this.getValueOfPropertyAt(M,Q,"textBackgroundColor"))!==$?($&&this._pushTextBgRect(S,$,m+C,g,O,b),C=P.left,O=P.width,$=F):O+=P.kernedWidth;F&&this._pushTextBgRect(S,F,m+C,g,O,b)},_getFillAttributes:function(S){var M=S&&"string"==typeof S?new n.Color(S):"";return M&&M.getSource()&&1!==M.getAlpha()?'opacity="'+M.getAlpha()+'" fill="'+M.setAlpha(1).toRgb()+'"':'fill="'+S+'"'},_getSVGLineTopOffset:function(S){for(var m,M=0,g=0;g<S;g++)M+=this.getHeightOfLine(g);return m=this.getHeightOfLine(g),{lineTop:M,offset:(this._fontSizeMult-this._fontSizeFraction)*m/(this.lineHeight*this._fontSizeMult)}},getSvgStyles:function(S){return n.Object.prototype.getSvgStyles.call(this,S)+" white-space: pre;"}})}(),function(I){"use strict";var x=I.fabric||(I.fabric={});x.Textbox=x.util.createClass(x.IText,x.Observable,{type:"textbox",minWidth:20,dynamicMinWidth:2,__cachedLines:null,lockScalingFlip:!0,noScaleCache:!1,_dimensionAffectingProps:x.Text.prototype._dimensionAffectingProps.concat("width"),_wordJoiners:/[ \t\r]/,splitByGrapheme:!1,initDimensions:function(){this.__skipDimension||(this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this._clearCache(),this.dynamicMinWidth=0,this._styleMap=this._generateStyleMap(this._splitText()),this.dynamicMinWidth>this.width&&this._set("width",this.dynamicMinWidth),-1!==this.textAlign.indexOf("justify")&&this.enlargeSpaces(),this.height=this.calcTextHeight(),this.saveState({propertySet:"_dimensionAffectingProps"}))},_generateStyleMap:function(S){for(var M=0,m=0,g=0,_={},b=0;b<S.graphemeLines.length;b++)"\n"===S.graphemeText[g]&&b>0?(m=0,g++,M++):!this.splitByGrapheme&&this._reSpaceAndTab.test(S.graphemeText[g])&&b>0&&(m++,g++),_[b]={line:M,offset:m},g+=S.graphemeLines[b].length,m+=S.graphemeLines[b].length;return _},styleHas:function(S,M){if(this._styleMap&&!this.isWrapping){var m=this._styleMap[M];m&&(M=m.line)}return x.Text.prototype.styleHas.call(this,S,M)},isEmptyStyles:function(S){if(!this.styles)return!0;var g,_,M=0,b=!1,O=this._styleMap[S],C=this._styleMap[S+1];for(var P in O&&(S=O.line,M=O.offset),C&&(b=C.line===S,g=C.offset),_=typeof S>"u"?this.styles:{line:this.styles[S]})for(var F in _[P])if(F>=M&&(!b||F<g))for(var $ in _[P][F])return!1;return!0},_getStyleDeclaration:function(S,M){if(this._styleMap&&!this.isWrapping){var m=this._styleMap[S];if(!m)return null;S=m.line,M=m.offset+M}return this.callSuper("_getStyleDeclaration",S,M)},_setStyleDeclaration:function(S,M,m){var g=this._styleMap[S];this.styles[S=g.line][M=g.offset+M]=m},_deleteStyleDeclaration:function(S,M){var m=this._styleMap[S];delete this.styles[S=m.line][M=m.offset+M]},_getLineStyle:function(S){return!!this.styles[this._styleMap[S].line]},_setLineStyle:function(S){this.styles[this._styleMap[S].line]={}},_wrapText:function(S,M){var g,m=[];for(this.isWrapping=!0,g=0;g<S.length;g++)m=m.concat(this._wrapLine(S[g],g,M));return this.isWrapping=!1,m},_measureWord:function(S,M,m){var _,g=0;m=m||0;for(var O=0,C=S.length;O<C;O++)g+=this._getGraphemeBox(S[O],M,O+m,_,!0).kernedWidth,_=S[O];return g},_wrapLine:function(S,M,m,We){var _=0,b=this.splitByGrapheme,O=[],C=[],P=b?x.util.string.graphemeSplit(S):S.split(this._wordJoiners),F="",$=0,Q=b?"":" ",ne=0,ue=0,ge=0,_e=!0,Ie=this._getWidthOfCharSpacing();We=We||0,0===P.length&&P.push([]),m-=We;for(var Ke=0;Ke<P.length;Ke++)F=b?P[Ke]:x.util.string.graphemeSplit(P[Ke]),ne=this._measureWord(F,M,$),$+=F.length,(_+=ue+ne-Ie)>m&&!_e?(O.push(C),C=[],_=ne,_e=!0):_+=Ie,!_e&&!b&&C.push(Q),C=C.concat(F),ue=b?0:this._measureWord([Q],M,$),$++,_e=!1,ne>ge&&(ge=ne);return Ke&&O.push(C),ge+We>this.dynamicMinWidth&&(this.dynamicMinWidth=ge-Ie+We),O},isEndOfWrapping:function(S){return!this._styleMap[S+1]||this._styleMap[S+1].line!==this._styleMap[S].line},missingNewlineOffset:function(S){return this.splitByGrapheme?this.isEndOfWrapping(S)?1:0:1},_splitTextIntoLines:function(S){for(var M=x.Text.prototype._splitTextIntoLines.call(this,S),m=this._wrapText(M.lines,this.width),g=new Array(m.length),_=0;_<m.length;_++)g[_]=m[_].join("");return M.lines=g,M.graphemeLines=m,M},getMinWidth:function(){return Math.max(this.minWidth,this.dynamicMinWidth)},_removeExtraneousStyles:function(){var S={};for(var M in this._styleMap)this._textLines[M]&&(S[this._styleMap[M].line]=1);for(var M in this.styles)S[M]||delete this.styles[M]},toObject:function(S){return this.callSuper("toObject",["minWidth","splitByGrapheme"].concat(S))}}),x.Textbox.fromObject=function(S,M){var m=x.util.stylesFromArray(S.styles,S.text),g=Object.assign({},S,{styles:m});return x.Object._fromObject("Textbox",g,M,"text")}}(De),function(){var I=n.controlsUtils,x=I.scaleSkewCursorStyleHandler,S=I.scaleCursorStyleHandler,M=I.scalingEqually,m=I.scalingYOrSkewingX,g=I.scalingXOrSkewingY,_=I.scaleOrSkewActionName,b=n.Object.prototype.controls;if(b.ml=new n.Control({x:-.5,y:0,cursorStyleHandler:x,actionHandler:g,getActionName:_}),b.mr=new n.Control({x:.5,y:0,cursorStyleHandler:x,actionHandler:g,getActionName:_}),b.mb=new n.Control({x:0,y:.5,cursorStyleHandler:x,actionHandler:m,getActionName:_}),b.mt=new n.Control({x:0,y:-.5,cursorStyleHandler:x,actionHandler:m,getActionName:_}),b.tl=new n.Control({x:-.5,y:-.5,cursorStyleHandler:S,actionHandler:M}),b.tr=new n.Control({x:.5,y:-.5,cursorStyleHandler:S,actionHandler:M}),b.bl=new n.Control({x:-.5,y:.5,cursorStyleHandler:S,actionHandler:M}),b.br=new n.Control({x:.5,y:.5,cursorStyleHandler:S,actionHandler:M}),b.mtr=new n.Control({x:0,y:-.5,actionHandler:I.rotationWithSnapping,cursorStyleHandler:I.rotationStyleHandler,offsetY:-40,withConnection:!0,actionName:"rotate"}),n.Textbox){var O=n.Textbox.prototype.controls={};O.mtr=b.mtr,O.tr=b.tr,O.br=b.br,O.tl=b.tl,O.bl=b.bl,O.mt=b.mt,O.mb=b.mb,O.mr=new n.Control({x:.5,y:0,actionHandler:I.changeWidth,cursorStyleHandler:x,actionName:"resizing"}),O.ml=new n.Control({x:-.5,y:0,actionHandler:I.changeWidth,cursorStyleHandler:x,actionName:"resizing"})}}()},7273:He=>{!function(){function De(_,b){document.addEventListener?_.addEventListener("scroll",b,!1):_.attachEvent("scroll",b)}function n(_){this.g=document.createElement("div"),this.g.setAttribute("aria-hidden","true"),this.g.appendChild(document.createTextNode(_)),this.h=document.createElement("span"),this.i=document.createElement("span"),this.m=document.createElement("span"),this.j=document.createElement("span"),this.l=-1,this.h.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.i.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.j.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.m.style.cssText="display:inline-block;width:200%;height:200%;font-size:16px;max-width:none;",this.h.appendChild(this.m),this.i.appendChild(this.j),this.g.appendChild(this.h),this.g.appendChild(this.i)}function ze(_,b){_.g.style.cssText="max-width:none;min-width:20px;min-height:20px;display:inline-block;overflow:hidden;position:absolute;width:auto;margin:0;padding:0;top:-999px;white-space:nowrap;font-synthesis:none;font:"+b+";"}function Ae(_){var b=_.g.offsetWidth,O=b+100;return _.j.style.width=O+"px",_.i.scrollLeft=O,_.h.scrollLeft=_.h.scrollWidth+100,_.l!==b&&(_.l=b,!0)}function Qe(_,b){function O(){var P=C;Ae(P)&&null!==P.g.parentNode&&b(P.l)}var C=_;De(_.h,O),De(_.i,O),Ae(_)}function Pe(_,b,O){b=b||{},O=O||window,this.family=_,this.style=b.style||"normal",this.weight=b.weight||"normal",this.stretch=b.stretch||"normal",this.context=O}var Ge=null,I=null,x=null,S=null;function m(_){return null===S&&(S=!!_.document.fonts),S}function g(_,b){var O=_.style,C=_.weight;if(null===x){var P=document.createElement("div");try{P.style.font="condensed 100px sans-serif"}catch{}x=""!==P.style.font}return[O,C,x?_.stretch:"","100px",b].join(" ")}Pe.prototype.load=function(_,b){var O=this,C=_||"BESbswy",P=0,F=b||3e3,$=(new Date).getTime();return new Promise(function(Q,ne){if(m(O.context)&&!function M(_){return null===I&&(m(_)&&/Apple/.test(window.navigator.vendor)?(_=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))(?:\.([0-9]+))/.exec(window.navigator.userAgent),I=!!_&&603>parseInt(_[1],10)):I=!1),I}(O.context)){var ue=new Promise(function(_e,Ie){!function We(){(new Date).getTime()-$>=F?Ie(Error(F+"ms timeout exceeded")):O.context.document.fonts.load(g(O,'"'+O.family+'"'),C).then(function(Ke){1<=Ke.length?_e():setTimeout(We,25)},Ie)}()}),ge=new Promise(function(_e,Ie){P=setTimeout(function(){Ie(Error(F+"ms timeout exceeded"))},F)});Promise.race([ge,ue]).then(function(){clearTimeout(P),Q(O)},ne)}else!function se(_){document.body?_():document.addEventListener?document.addEventListener("DOMContentLoaded",function b(){document.removeEventListener("DOMContentLoaded",b),_()}):document.attachEvent("onreadystatechange",function b(){("interactive"==document.readyState||"complete"==document.readyState)&&(document.detachEvent("onreadystatechange",b),_())})}(function(){function _e(){var pe;(pe=-1!=ht&&-1!=bt||-1!=ht&&-1!=lt||-1!=bt&&-1!=lt)&&((pe=ht!=bt&&ht!=lt&&bt!=lt)||(null===Ge&&(pe=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent),Ge=!!pe&&(536>parseInt(pe[1],10)||536===parseInt(pe[1],10)&&11>=parseInt(pe[2],10))),pe=Ge&&(ht==Xt&&bt==Xt&&lt==Xt||ht==sn&&bt==sn&&lt==sn||ht==ln&&bt==ln&&lt==ln)),pe=!pe),pe&&(null!==be.parentNode&&be.parentNode.removeChild(be),clearTimeout(P),Q(O))}var We=new n(C),Ke=new n(C),yt=new n(C),ht=-1,bt=-1,lt=-1,Xt=-1,sn=-1,ln=-1,be=document.createElement("div");be.dir="ltr",ze(We,g(O,"sans-serif")),ze(Ke,g(O,"serif")),ze(yt,g(O,"monospace")),be.appendChild(We.g),be.appendChild(Ke.g),be.appendChild(yt.g),O.context.document.body.appendChild(be),Xt=We.g.offsetWidth,sn=Ke.g.offsetWidth,ln=yt.g.offsetWidth,function Ie(){if((new Date).getTime()-$>=F)null!==be.parentNode&&be.parentNode.removeChild(be),ne(Error(F+"ms timeout exceeded"));else{var pe=O.context.document.hidden;(!0===pe||void 0===pe)&&(ht=We.g.offsetWidth,bt=Ke.g.offsetWidth,lt=yt.g.offsetWidth,_e()),P=setTimeout(Ie,50)}}(),Qe(We,function(pe){ht=pe,_e()}),ze(We,g(O,'"'+O.family+'",sans-serif')),Qe(Ke,function(pe){bt=pe,_e()}),ze(Ke,g(O,'"'+O.family+'",serif')),Qe(yt,function(pe){lt=pe,_e()}),ze(yt,g(O,'"'+O.family+'",monospace'))})})},He.exports=Pe}()},4613:function(He){!function(De){"use strict";var n={s:1,n:0,d:1};function ze(b,O){if(isNaN(b=parseInt(b,10)))throw g();return b*O}function Ae(b,O){if(0===O)throw m();var C=Object.create(M.prototype);C.s=b<0?-1:1;var P=S(b=b<0?-b:b,O);return C.n=b/P,C.d=O/P,C}function Qe(b){for(var O={},C=b,P=2,F=4;F<=C;){for(;C%P==0;)C/=P,O[P]=(O[P]||0)+1;F+=1+2*P++}return C!==b?C>1&&(O[C]=(O[C]||0)+1):O[b]=(O[b]||0)+1,O}var Pe=function(b,O){var ht,C=0,P=1,F=1,$=0,Q=0,ne=0,ue=1,ge=1,_e=0,Ie=1,We=1,Ke=1,yt=1e7;if(null!=b)if(void 0!==O){if(F=(C=b)*(P=O),C%1!=0||P%1!=0)throw _()}else switch(typeof b){case"object":if("d"in b&&"n"in b)C=b.n,P=b.d,"s"in b&&(C*=b.s);else{if(!(0 in b))throw g();C=b[0],1 in b&&(P=b[1])}F=C*P;break;case"number":if(b<0&&(F=b,b=-b),b%1==0)C=b;else if(b>0){for(b>=1&&(b/=ge=Math.pow(10,Math.floor(1+Math.log(b)/Math.LN10)));Ie<=yt&&Ke<=yt;){if(b===(ht=(_e+We)/(Ie+Ke))){Ie+Ke<=yt?(C=_e+We,P=Ie+Ke):Ke>Ie?(C=We,P=Ke):(C=_e,P=Ie);break}b>ht?(_e+=We,Ie+=Ke):(We+=_e,Ke+=Ie),Ie>yt?(C=We,P=Ke):(C=_e,P=Ie)}C*=ge}else(isNaN(b)||isNaN(O))&&(P=C=NaN);break;case"string":if(null===(Ie=b.match(/\d+|./g)))throw g();if("-"===Ie[_e]?(F=-1,_e++):"+"===Ie[_e]&&_e++,Ie.length===_e+1?Q=ze(Ie[_e++],F):"."===Ie[_e+1]||"."===Ie[_e]?("."!==Ie[_e]&&($=ze(Ie[_e++],F)),(1+ ++_e===Ie.length||"("===Ie[_e+1]&&")"===Ie[_e+3]||"'"===Ie[_e+1]&&"'"===Ie[_e+3])&&(Q=ze(Ie[_e],F),ue=Math.pow(10,Ie[_e].length),_e++),("("===Ie[_e]&&")"===Ie[_e+2]||"'"===Ie[_e]&&"'"===Ie[_e+2])&&(ne=ze(Ie[_e+1],F),ge=Math.pow(10,Ie[_e+1].length)-1,_e+=3)):"/"===Ie[_e+1]||":"===Ie[_e+1]?(Q=ze(Ie[_e],F),ue=ze(Ie[_e+2],1),_e+=3):"/"===Ie[_e+3]&&" "===Ie[_e+1]&&($=ze(Ie[_e],F),Q=ze(Ie[_e+2],F),ue=ze(Ie[_e+4],1),_e+=5),Ie.length<=_e){F=C=ne+(P=ue*ge)*$+ge*Q;break}default:throw g()}if(0===P)throw m();n.s=F<0?-1:1,n.n=Math.abs(C),n.d=Math.abs(P)};function S(b,O){if(!b)return O;if(!O)return b;for(;;){if(!(b%=O))return O;if(!(O%=b))return b}}function M(b,O){if(Pe(b,O),!(this instanceof M))return Ae(n.s*n.n,n.d);b=S(n.d,n.n),this.s=n.s,this.n=n.n/b,this.d=n.d/b}var m=function(){return new Error("Division by Zero")},g=function(){return new Error("Invalid argument")},_=function(){return new Error("Parameters must be integer")};M.prototype={s:1,n:0,d:1,abs:function(){return Ae(this.n,this.d)},neg:function(){return Ae(-this.s*this.n,this.d)},add:function(b,O){return Pe(b,O),Ae(this.s*this.n*n.d+n.s*this.d*n.n,this.d*n.d)},sub:function(b,O){return Pe(b,O),Ae(this.s*this.n*n.d-n.s*this.d*n.n,this.d*n.d)},mul:function(b,O){return Pe(b,O),Ae(this.s*n.s*this.n*n.n,this.d*n.d)},div:function(b,O){return Pe(b,O),Ae(this.s*n.s*this.n*n.d,this.d*n.n)},clone:function(){return Ae(this.s*this.n,this.d)},mod:function(b,O){if(isNaN(this.n)||isNaN(this.d))return new M(NaN);if(void 0===b)return Ae(this.s*this.n%this.d,1);if(Pe(b,O),0===n.n&&0===this.d)throw m();return Ae(this.s*(n.d*this.n)%(n.n*this.d),n.d*this.d)},gcd:function(b,O){return Pe(b,O),Ae(S(n.n,this.n)*S(n.d,this.d),n.d*this.d)},lcm:function(b,O){return Pe(b,O),0===n.n&&0===this.n?Ae(0,1):Ae(n.n*this.n,S(n.n,this.n)*S(n.d,this.d))},ceil:function(b){return b=Math.pow(10,b||0),isNaN(this.n)||isNaN(this.d)?new M(NaN):Ae(Math.ceil(b*this.s*this.n/this.d),b)},floor:function(b){return b=Math.pow(10,b||0),isNaN(this.n)||isNaN(this.d)?new M(NaN):Ae(Math.floor(b*this.s*this.n/this.d),b)},round:function(b){return b=Math.pow(10,b||0),isNaN(this.n)||isNaN(this.d)?new M(NaN):Ae(Math.round(b*this.s*this.n/this.d),b)},inverse:function(){return Ae(this.s*this.d,this.n)},pow:function(b,O){if(Pe(b,O),1===n.d)return n.s<0?Ae(Math.pow(this.s*this.d,n.n),Math.pow(this.n,n.n)):Ae(Math.pow(this.s*this.n,n.n),Math.pow(this.d,n.n));if(this.s<0)return null;var C=Qe(this.n),P=Qe(this.d),F=1,$=1;for(var Q in C)if("1"!==Q){if("0"===Q){F=0;break}if(C[Q]*=n.n,C[Q]%n.d!=0)return null;C[Q]/=n.d,F*=Math.pow(Q,C[Q])}for(var Q in P)if("1"!==Q){if(P[Q]*=n.n,P[Q]%n.d!=0)return null;P[Q]/=n.d,$*=Math.pow(Q,P[Q])}return n.s<0?Ae($,F):Ae(F,$)},equals:function(b,O){return Pe(b,O),this.s*this.n*n.d==n.s*n.n*this.d},compare:function(b,O){Pe(b,O);var C=this.s*this.n*n.d-n.s*n.n*this.d;return(0<C)-(C<0)},simplify:function(b){if(isNaN(this.n)||isNaN(this.d))return this;b=b||.001;for(var O=this.abs(),C=O.toContinued(),P=1;P<C.length;P++){for(var F=Ae(C[P-1],1),$=P-2;$>=0;$--)F=F.inverse().add(C[$]);if(Math.abs(F.sub(O).valueOf())<b)return F.mul(this.s)}return this},divisible:function(b,O){return Pe(b,O),!(!(n.n*this.d)||this.n*n.d%(n.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(b){var O,C="",P=this.n,F=this.d;return this.s<0&&(C+="-"),1===F?C+=P:(b&&(O=Math.floor(P/F))>0&&(C+=O,C+=" ",P%=F),C+=P,C+="/",C+=F),C},toLatex:function(b){var O,C="",P=this.n,F=this.d;return this.s<0&&(C+="-"),1===F?C+=P:(b&&(O=Math.floor(P/F))>0&&(C+=O,P%=F),C+="\\frac{",C+=P,C+="}{",C+=F,C+="}"),C},toContinued:function(){var b,O=this.n,C=this.d,P=[];if(isNaN(O)||isNaN(C))return P;do{P.push(Math.floor(O/C)),b=O%C,O=C,C=b}while(1!==O);return P},toString:function(b){var O=this.n,C=this.d;if(isNaN(O)||isNaN(C))return"NaN";b=b||15;var P=function I(b,O){for(;O%2==0;O/=2);for(;O%5==0;O/=5);if(1===O)return 0;for(var C=10%O,P=1;1!==C;P++)if(C=10*C%O,P>2e3)return 0;return P}(0,C),F=function x(b,O,C){for(var P=1,F=function Ge(b,O,C){for(var P=1;O>0;b=b*b%C,O>>=1)1&O&&(P=P*b%C);return P}(10,C,O),$=0;$<300;$++){if(P===F)return $;P=10*P%O,F=10*F%O}return 0}(0,C,P),$=this.s<0?"-":"";if($+=O/C|0,O%=C,(O*=10)&&($+="."),P){for(var Q=F;Q--;)$+=O/C|0,O%=C,O*=10;for($+="(",Q=P;Q--;)$+=O/C|0,O%=C,O*=10;$+=")"}else for(Q=b;O&&Q--;)$+=O/C|0,O%=C,O*=10;return $}},Object.defineProperty(M,"__esModule",{value:!0}),M.default=M,M.Fraction=M,He.exports=M}()},9286:He=>{He.exports=function De(se,n){"use strict";var b,O,ze=/(^([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,Ae=/(^[ ]*|[ ]*$)/g,Qe=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,Pe=/^0x[0-9a-f]+$/i,Ge=/^0/,I=function(F){return De.insensitive&&(""+F).toLowerCase()||""+F},x=I(se).replace(Ae,"")||"",S=I(n).replace(Ae,"")||"",M=x.replace(ze,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),m=S.replace(ze,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),g=parseInt(x.match(Pe),16)||1!==M.length&&x.match(Qe)&&Date.parse(x),_=parseInt(S.match(Pe),16)||g&&S.match(Qe)&&Date.parse(S)||null;if(_){if(g<_)return-1;if(g>_)return 1}for(var C=0,P=Math.max(M.length,m.length);C<P;C++){if(b=!(M[C]||"").match(Ge)&&parseFloat(M[C])||M[C]||0,O=!(m[C]||"").match(Ge)&&parseFloat(m[C])||m[C]||0,isNaN(b)!==isNaN(O))return isNaN(b)?1:-1;if(typeof b!=typeof O&&(b+="",O+=""),b<O)return-1;if(b>O)return 1}return 0}},1135:(He,De,se)=>{"use strict";se.d(De,{X:()=>ze});var n=se(7579);class ze extends n.x{constructor(Qe){super(),this._value=Qe}get value(){return this.getValue()}_subscribe(Qe){const Pe=super._subscribe(Qe);return!Pe.closed&&Qe.next(this._value),Pe}getValue(){const{hasError:Qe,thrownError:Pe,_value:Ge}=this;if(Qe)throw Pe;return this._throwIfClosed(),Ge}next(Qe){super.next(this._value=Qe)}}},9751:(He,De,se)=>{"use strict";se.d(De,{y:()=>x});var n=se(930),ze=se(727),Ae=se(8822),Qe=se(9635),Pe=se(2416),Ge=se(576),I=se(2806);let x=(()=>{class g{constructor(b){b&&(this._subscribe=b)}lift(b){const O=new g;return O.source=this,O.operator=b,O}subscribe(b,O,C){const P=function m(g){return g&&g instanceof n.Lv||function M(g){return g&&(0,Ge.m)(g.next)&&(0,Ge.m)(g.error)&&(0,Ge.m)(g.complete)}(g)&&(0,ze.Nn)(g)}(b)?b:new n.Hp(b,O,C);return(0,I.x)(()=>{const{operator:F,source:$}=this;P.add(F?F.call(P,$):$?this._subscribe(P):this._trySubscribe(P))}),P}_trySubscribe(b){try{return this._subscribe(b)}catch(O){b.error(O)}}forEach(b,O){return new(O=S(O))((C,P)=>{const F=new n.Hp({next:$=>{try{b($)}catch(Q){P(Q),F.unsubscribe()}},error:P,complete:C});this.subscribe(F)})}_subscribe(b){var O;return null===(O=this.source)||void 0===O?void 0:O.subscribe(b)}[Ae.L](){return this}pipe(...b){return(0,Qe.U)(b)(this)}toPromise(b){return new(b=S(b))((O,C)=>{let P;this.subscribe(F=>P=F,F=>C(F),()=>O(P))})}}return g.create=_=>new g(_),g})();function S(g){var _;return null!==(_=g??Pe.v.Promise)&&void 0!==_?_:Promise}},4707:(He,De,se)=>{"use strict";se.d(De,{t:()=>Ae});var n=se(7579),ze=se(6063);class Ae extends n.x{constructor(Pe=1/0,Ge=1/0,I=ze.l){super(),this._bufferSize=Pe,this._windowTime=Ge,this._timestampProvider=I,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=Ge===1/0,this._bufferSize=Math.max(1,Pe),this._windowTime=Math.max(1,Ge)}next(Pe){const{isStopped:Ge,_buffer:I,_infiniteTimeWindow:x,_timestampProvider:S,_windowTime:M}=this;Ge||(I.push(Pe),!x&&I.push(S.now()+M)),this._trimBuffer(),super.next(Pe)}_subscribe(Pe){this._throwIfClosed(),this._trimBuffer();const Ge=this._innerSubscribe(Pe),{_infiniteTimeWindow:I,_buffer:x}=this,S=x.slice();for(let M=0;M<S.length&&!Pe.closed;M+=I?1:2)Pe.next(S[M]);return this._checkFinalizedStatuses(Pe),Ge}_trimBuffer(){const{_bufferSize:Pe,_timestampProvider:Ge,_buffer:I,_infiniteTimeWindow:x}=this,S=(x?1:2)*Pe;if(Pe<1/0&&S<I.length&&I.splice(0,I.length-S),!x){const M=Ge.now();let m=0;for(let g=1;g<I.length&&I[g]<=M;g+=2)m=g;m&&I.splice(0,m+1)}}}},7579:(He,De,se)=>{"use strict";se.d(De,{x:()=>I});var n=se(9751),ze=se(727);const Qe=(0,se(3888).d)(S=>function(){S(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Pe=se(8737),Ge=se(2806);let I=(()=>{class S extends n.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(m){const g=new x(this,this);return g.operator=m,g}_throwIfClosed(){if(this.closed)throw new Qe}next(m){(0,Ge.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const g of this.currentObservers)g.next(m)}})}error(m){(0,Ge.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=m;const{observers:g}=this;for(;g.length;)g.shift().error(m)}})}complete(){(0,Ge.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:m}=this;for(;m.length;)m.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var m;return(null===(m=this.observers)||void 0===m?void 0:m.length)>0}_trySubscribe(m){return this._throwIfClosed(),super._trySubscribe(m)}_subscribe(m){return this._throwIfClosed(),this._checkFinalizedStatuses(m),this._innerSubscribe(m)}_innerSubscribe(m){const{hasError:g,isStopped:_,observers:b}=this;return g||_?ze.Lc:(this.currentObservers=null,b.push(m),new ze.w0(()=>{this.currentObservers=null,(0,Pe.P)(b,m)}))}_checkFinalizedStatuses(m){const{hasError:g,thrownError:_,isStopped:b}=this;g?m.error(_):b&&m.complete()}asObservable(){const m=new n.y;return m.source=this,m}}return S.create=(M,m)=>new x(M,m),S})();class x extends I{constructor(M,m){super(),this.destination=M,this.source=m}next(M){var m,g;null===(g=null===(m=this.destination)||void 0===m?void 0:m.next)||void 0===g||g.call(m,M)}error(M){var m,g;null===(g=null===(m=this.destination)||void 0===m?void 0:m.error)||void 0===g||g.call(m,M)}complete(){var M,m;null===(m=null===(M=this.destination)||void 0===M?void 0:M.complete)||void 0===m||m.call(M)}_subscribe(M){var m,g;return null!==(g=null===(m=this.source)||void 0===m?void 0:m.subscribe(M))&&void 0!==g?g:ze.Lc}}},930:(He,De,se)=>{"use strict";se.d(De,{Hp:()=>C,Lv:()=>g});var n=se(576),ze=se(727),Ae=se(2416),Qe=se(7849),Pe=se(5032);const Ge=S("C",void 0,void 0);function S(ne,ue,ge){return{kind:ne,value:ue,error:ge}}var M=se(3410),m=se(2806);class g extends ze.w0{constructor(ue){super(),this.isStopped=!1,ue?(this.destination=ue,(0,ze.Nn)(ue)&&ue.add(this)):this.destination=Q}static create(ue,ge,_e){return new C(ue,ge,_e)}next(ue){this.isStopped?$(function x(ne){return S("N",ne,void 0)}(ue),this):this._next(ue)}error(ue){this.isStopped?$(function I(ne){return S("E",void 0,ne)}(ue),this):(this.isStopped=!0,this._error(ue))}complete(){this.isStopped?$(Ge,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ue){this.destination.next(ue)}_error(ue){try{this.destination.error(ue)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const _=Function.prototype.bind;function b(ne,ue){return _.call(ne,ue)}class O{constructor(ue){this.partialObserver=ue}next(ue){const{partialObserver:ge}=this;if(ge.next)try{ge.next(ue)}catch(_e){P(_e)}}error(ue){const{partialObserver:ge}=this;if(ge.error)try{ge.error(ue)}catch(_e){P(_e)}else P(ue)}complete(){const{partialObserver:ue}=this;if(ue.complete)try{ue.complete()}catch(ge){P(ge)}}}class C extends g{constructor(ue,ge,_e){let Ie;if(super(),(0,n.m)(ue)||!ue)Ie={next:ue??void 0,error:ge??void 0,complete:_e??void 0};else{let We;this&&Ae.v.useDeprecatedNextContext?(We=Object.create(ue),We.unsubscribe=()=>this.unsubscribe(),Ie={next:ue.next&&b(ue.next,We),error:ue.error&&b(ue.error,We),complete:ue.complete&&b(ue.complete,We)}):Ie=ue}this.destination=new O(Ie)}}function P(ne){Ae.v.useDeprecatedSynchronousErrorHandling?(0,m.O)(ne):(0,Qe.h)(ne)}function $(ne,ue){const{onStoppedNotification:ge}=Ae.v;ge&&M.z.setTimeout(()=>ge(ne,ue))}const Q={closed:!0,next:Pe.Z,error:function F(ne){throw ne},complete:Pe.Z}},727:(He,De,se)=>{"use strict";se.d(De,{Lc:()=>Ge,w0:()=>Pe,Nn:()=>I});var n=se(576);const Ae=(0,se(3888).d)(S=>function(m){S(this),this.message=m?`${m.length} errors occurred during unsubscription:\n${m.map((g,_)=>`${_+1}) ${g.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=m});var Qe=se(8737);class Pe{constructor(M){this.initialTeardown=M,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let M;if(!this.closed){this.closed=!0;const{_parentage:m}=this;if(m)if(this._parentage=null,Array.isArray(m))for(const b of m)b.remove(this);else m.remove(this);const{initialTeardown:g}=this;if((0,n.m)(g))try{g()}catch(b){M=b instanceof Ae?b.errors:[b]}const{_finalizers:_}=this;if(_){this._finalizers=null;for(const b of _)try{x(b)}catch(O){M=M??[],O instanceof Ae?M=[...M,...O.errors]:M.push(O)}}if(M)throw new Ae(M)}}add(M){var m;if(M&&M!==this)if(this.closed)x(M);else{if(M instanceof Pe){if(M.closed||M._hasParent(this))return;M._addParent(this)}(this._finalizers=null!==(m=this._finalizers)&&void 0!==m?m:[]).push(M)}}_hasParent(M){const{_parentage:m}=this;return m===M||Array.isArray(m)&&m.includes(M)}_addParent(M){const{_parentage:m}=this;this._parentage=Array.isArray(m)?(m.push(M),m):m?[m,M]:M}_removeParent(M){const{_parentage:m}=this;m===M?this._parentage=null:Array.isArray(m)&&(0,Qe.P)(m,M)}remove(M){const{_finalizers:m}=this;m&&(0,Qe.P)(m,M),M instanceof Pe&&M._removeParent(this)}}Pe.EMPTY=(()=>{const S=new Pe;return S.closed=!0,S})();const Ge=Pe.EMPTY;function I(S){return S instanceof Pe||S&&"closed"in S&&(0,n.m)(S.remove)&&(0,n.m)(S.add)&&(0,n.m)(S.unsubscribe)}function x(S){(0,n.m)(S)?S():S.unsubscribe()}},2416:(He,De,se)=>{"use strict";se.d(De,{v:()=>n});const n={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(He,De,se)=>{"use strict";se.d(De,{E:()=>ze});const ze=new(se(9751).y)(Pe=>Pe.complete())},457:(He,De,se)=>{"use strict";se.d(De,{D:()=>ge});var n=se(8421),ze=se(5363),Ae=se(4482);function Qe(_e,Ie=0){return(0,Ae.e)((We,Ke)=>{Ke.add(_e.schedule(()=>We.subscribe(Ke),Ie))})}var I=se(9751),S=se(2202),M=se(576),m=se(9672);function _(_e,Ie){if(!_e)throw new Error("Iterable cannot be null");return new I.y(We=>{(0,m.f)(We,Ie,()=>{const Ke=_e[Symbol.asyncIterator]();(0,m.f)(We,Ie,()=>{Ke.next().then(yt=>{yt.done?We.complete():We.next(yt.value)})},0,!0)})})}var b=se(3670),O=se(8239),C=se(1144),P=se(6495),F=se(2206),$=se(4532),Q=se(3260);function ge(_e,Ie){return Ie?function ue(_e,Ie){if(null!=_e){if((0,b.c)(_e))return function Pe(_e,Ie){return(0,n.Xf)(_e).pipe(Qe(Ie),(0,ze.Q)(Ie))}(_e,Ie);if((0,C.z)(_e))return function x(_e,Ie){return new I.y(We=>{let Ke=0;return Ie.schedule(function(){Ke===_e.length?We.complete():(We.next(_e[Ke++]),We.closed||this.schedule())})})}(_e,Ie);if((0,O.t)(_e))return function Ge(_e,Ie){return(0,n.Xf)(_e).pipe(Qe(Ie),(0,ze.Q)(Ie))}(_e,Ie);if((0,F.D)(_e))return _(_e,Ie);if((0,P.T)(_e))return function g(_e,Ie){return new I.y(We=>{let Ke;return(0,m.f)(We,Ie,()=>{Ke=_e[S.h](),(0,m.f)(We,Ie,()=>{let yt,ht;try{({value:yt,done:ht}=Ke.next())}catch(bt){return void We.error(bt)}ht?We.complete():We.next(yt)},0,!0)}),()=>(0,M.m)(Ke?.return)&&Ke.return()})}(_e,Ie);if((0,Q.L)(_e))return function ne(_e,Ie){return _((0,Q.Q)(_e),Ie)}(_e,Ie)}throw(0,$.z)(_e)}(_e,Ie):(0,n.Xf)(_e)}},8421:(He,De,se)=>{"use strict";se.d(De,{Xf:()=>_});var n=se(7582),ze=se(1144),Ae=se(8239),Qe=se(9751),Pe=se(3670),Ge=se(2206),I=se(4532),x=se(6495),S=se(3260),M=se(576),m=se(7849),g=se(8822);function _(ne){if(ne instanceof Qe.y)return ne;if(null!=ne){if((0,Pe.c)(ne))return function b(ne){return new Qe.y(ue=>{const ge=ne[g.L]();if((0,M.m)(ge.subscribe))return ge.subscribe(ue);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ne);if((0,ze.z)(ne))return function O(ne){return new Qe.y(ue=>{for(let ge=0;ge<ne.length&&!ue.closed;ge++)ue.next(ne[ge]);ue.complete()})}(ne);if((0,Ae.t)(ne))return function C(ne){return new Qe.y(ue=>{ne.then(ge=>{ue.closed||(ue.next(ge),ue.complete())},ge=>ue.error(ge)).then(null,m.h)})}(ne);if((0,Ge.D)(ne))return F(ne);if((0,x.T)(ne))return function P(ne){return new Qe.y(ue=>{for(const ge of ne)if(ue.next(ge),ue.closed)return;ue.complete()})}(ne);if((0,S.L)(ne))return function $(ne){return F((0,S.Q)(ne))}(ne)}throw(0,I.z)(ne)}function F(ne){return new Qe.y(ue=>{(function Q(ne,ue){var ge,_e,Ie,We;return(0,n.mG)(this,void 0,void 0,function*(){try{for(ge=(0,n.KL)(ne);!(_e=yield ge.next()).done;)if(ue.next(_e.value),ue.closed)return}catch(Ke){Ie={error:Ke}}finally{try{_e&&!_e.done&&(We=ge.return)&&(yield We.call(ge))}finally{if(Ie)throw Ie.error}}ue.complete()})})(ne,ue).catch(ge=>ue.error(ge))})}},6451:(He,De,se)=>{"use strict";se.d(De,{T:()=>Ge});var n=se(8189),ze=se(8421),Ae=se(515),Qe=se(3269),Pe=se(457);function Ge(...I){const x=(0,Qe.yG)(I),S=(0,Qe._6)(I,1/0),M=I;return M.length?1===M.length?(0,ze.Xf)(M[0]):(0,n.J)(S)((0,Pe.D)(M,x)):Ae.E}},9646:(He,De,se)=>{"use strict";se.d(De,{of:()=>Ae});var n=se(3269),ze=se(457);function Ae(...Qe){const Pe=(0,n.yG)(Qe);return(0,ze.D)(Qe,Pe)}},5403:(He,De,se)=>{"use strict";se.d(De,{Q:()=>Ae,x:()=>ze});var n=se(930);function ze(Qe,Pe,Ge,I,x){return new Ae(Qe,Pe,Ge,I,x)}class Ae extends n.Lv{constructor(Pe,Ge,I,x,S,M){super(Pe),this.onFinalize=S,this.shouldUnsubscribe=M,this._next=Ge?function(m){try{Ge(m)}catch(g){Pe.error(g)}}:super._next,this._error=x?function(m){try{x(m)}catch(g){Pe.error(g)}finally{this.unsubscribe()}}:super._error,this._complete=I?function(){try{I()}catch(m){Pe.error(m)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Pe;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Ge}=this;super.unsubscribe(),!Ge&&(null===(Pe=this.onFinalize)||void 0===Pe||Pe.call(this))}}}},262:(He,De,se)=>{"use strict";se.d(De,{K:()=>Qe});var n=se(8421),ze=se(5403),Ae=se(4482);function Qe(Pe){return(0,Ae.e)((Ge,I)=>{let M,x=null,S=!1;x=Ge.subscribe((0,ze.x)(I,void 0,void 0,m=>{M=(0,n.Xf)(Pe(m,Qe(Pe)(Ge))),x?(x.unsubscribe(),x=null,M.subscribe(I)):S=!0})),S&&(x.unsubscribe(),x=null,M.subscribe(I))})}},4351:(He,De,se)=>{"use strict";se.d(De,{b:()=>Ae});var n=se(5577),ze=se(576);function Ae(Qe,Pe){return(0,ze.m)(Pe)?(0,n.z)(Qe,Pe,1):(0,n.z)(Qe,1)}},8372:(He,De,se)=>{"use strict";se.d(De,{b:()=>Qe});var n=se(4986),ze=se(4482),Ae=se(5403);function Qe(Pe,Ge=n.z){return(0,ze.e)((I,x)=>{let S=null,M=null,m=null;const g=()=>{if(S){S.unsubscribe(),S=null;const b=M;M=null,x.next(b)}};function _(){const b=m+Pe,O=Ge.now();if(O<b)return S=this.schedule(void 0,b-O),void x.add(S);g()}I.subscribe((0,Ae.x)(x,b=>{M=b,m=Ge.now(),S||(S=Ge.schedule(_,Pe),x.add(S))},()=>{g(),x.complete()},void 0,()=>{M=S=null}))})}},1884:(He,De,se)=>{"use strict";se.d(De,{x:()=>Qe});var n=se(4671),ze=se(4482),Ae=se(5403);function Qe(Ge,I=n.y){return Ge=Ge??Pe,(0,ze.e)((x,S)=>{let M,m=!0;x.subscribe((0,Ae.x)(S,g=>{const _=I(g);(m||!Ge(M,_))&&(m=!1,M=_,S.next(g))}))})}function Pe(Ge,I){return Ge===I}},9300:(He,De,se)=>{"use strict";se.d(De,{h:()=>Ae});var n=se(4482),ze=se(5403);function Ae(Qe,Pe){return(0,n.e)((Ge,I)=>{let x=0;Ge.subscribe((0,ze.x)(I,S=>Qe.call(Pe,S,x++)&&I.next(S)))})}},4004:(He,De,se)=>{"use strict";se.d(De,{U:()=>Ae});var n=se(4482),ze=se(5403);function Ae(Qe,Pe){return(0,n.e)((Ge,I)=>{let x=0;Ge.subscribe((0,ze.x)(I,S=>{I.next(Qe.call(Pe,S,x++))}))})}},8189:(He,De,se)=>{"use strict";se.d(De,{J:()=>Ae});var n=se(5577),ze=se(4671);function Ae(Qe=1/0){return(0,n.z)(ze.y,Qe)}},5577:(He,De,se)=>{"use strict";se.d(De,{z:()=>x});var n=se(4004),ze=se(8421),Ae=se(4482),Qe=se(9672),Pe=se(5403),I=se(576);function x(S,M,m=1/0){return(0,I.m)(M)?x((g,_)=>(0,n.U)((b,O)=>M(g,b,_,O))((0,ze.Xf)(S(g,_))),m):("number"==typeof M&&(m=M),(0,Ae.e)((g,_)=>function Ge(S,M,m,g,_,b,O,C){const P=[];let F=0,$=0,Q=!1;const ne=()=>{Q&&!P.length&&!F&&M.complete()},ue=_e=>F<g?ge(_e):P.push(_e),ge=_e=>{b&&M.next(_e),F++;let Ie=!1;(0,ze.Xf)(m(_e,$++)).subscribe((0,Pe.x)(M,We=>{_?.(We),b?ue(We):M.next(We)},()=>{Ie=!0},void 0,()=>{if(Ie)try{for(F--;P.length&&F<g;){const We=P.shift();O?(0,Qe.f)(M,O,()=>ge(We)):ge(We)}ne()}catch(We){M.error(We)}}))};return S.subscribe((0,Pe.x)(M,ue,()=>{Q=!0,ne()})),()=>{C?.()}}(g,_,S,m)))}},5363:(He,De,se)=>{"use strict";se.d(De,{Q:()=>Qe});var n=se(9672),ze=se(4482),Ae=se(5403);function Qe(Pe,Ge=0){return(0,ze.e)((I,x)=>{I.subscribe((0,Ae.x)(x,S=>(0,n.f)(x,Pe,()=>x.next(S),Ge),()=>(0,n.f)(x,Pe,()=>x.complete(),Ge),S=>(0,n.f)(x,Pe,()=>x.error(S),Ge)))})}},5026:(He,De,se)=>{"use strict";se.d(De,{R:()=>Qe});var n=se(4482),ze=se(5403);function Ae(Pe,Ge,I,x,S){return(M,m)=>{let g=I,_=Ge,b=0;M.subscribe((0,ze.x)(m,O=>{const C=b++;_=g?Pe(_,O,C):(g=!0,O),x&&m.next(_)},S&&(()=>{g&&m.next(_),m.complete()})))}}function Qe(Pe,Ge){return(0,n.e)(Ae(Pe,Ge,arguments.length>=2,!0))}},3099:(He,De,se)=>{"use strict";se.d(De,{B:()=>Pe});var n=se(8421),ze=se(7579),Ae=se(930),Qe=se(4482);function Pe(I={}){const{connector:x=(()=>new ze.x),resetOnError:S=!0,resetOnComplete:M=!0,resetOnRefCountZero:m=!0}=I;return g=>{let _,b,O,C=0,P=!1,F=!1;const $=()=>{b?.unsubscribe(),b=void 0},Q=()=>{$(),_=O=void 0,P=F=!1},ne=()=>{const ue=_;Q(),ue?.unsubscribe()};return(0,Qe.e)((ue,ge)=>{C++,!F&&!P&&$();const _e=O=O??x();ge.add(()=>{C--,0===C&&!F&&!P&&(b=Ge(ne,m))}),_e.subscribe(ge),!_&&C>0&&(_=new Ae.Hp({next:Ie=>_e.next(Ie),error:Ie=>{F=!0,$(),b=Ge(Q,S,Ie),_e.error(Ie)},complete:()=>{P=!0,$(),b=Ge(Q,M),_e.complete()}}),(0,n.Xf)(ue).subscribe(_))})(g)}}function Ge(I,x,...S){if(!0===x)return void I();if(!1===x)return;const M=new Ae.Hp({next:()=>{M.unsubscribe(),I()}});return x(...S).subscribe(M)}},5684:(He,De,se)=>{"use strict";se.d(De,{T:()=>ze});var n=se(9300);function ze(Ae){return(0,n.h)((Qe,Pe)=>Ae<=Pe)}},3900:(He,De,se)=>{"use strict";se.d(De,{w:()=>Qe});var n=se(8421),ze=se(4482),Ae=se(5403);function Qe(Pe,Ge){return(0,ze.e)((I,x)=>{let S=null,M=0,m=!1;const g=()=>m&&!S&&x.complete();I.subscribe((0,Ae.x)(x,_=>{S?.unsubscribe();let b=0;const O=M++;(0,n.Xf)(Pe(_,O)).subscribe(S=(0,Ae.x)(x,C=>x.next(Ge?Ge(_,C,O,b++):C),()=>{S=null,g()}))},()=>{m=!0,g()}))})}},5698:(He,De,se)=>{"use strict";se.d(De,{q:()=>Qe});var n=se(515),ze=se(4482),Ae=se(5403);function Qe(Pe){return Pe<=0?()=>n.E:(0,ze.e)((Ge,I)=>{let x=0;Ge.subscribe((0,Ae.x)(I,S=>{++x<=Pe&&(I.next(S),Pe<=x&&I.complete())}))})}},2722:(He,De,se)=>{"use strict";se.d(De,{R:()=>Pe});var n=se(4482),ze=se(5403),Ae=se(8421),Qe=se(5032);function Pe(Ge){return(0,n.e)((I,x)=>{(0,Ae.Xf)(Ge).subscribe((0,ze.x)(x,()=>x.complete(),Qe.Z)),!x.closed&&I.subscribe(x)})}},7414:(He,De,se)=>{"use strict";se.d(De,{V:()=>S});var n=se(4986),ze=se(1165),Ae=se(4482),Qe=se(8421),Pe=se(3888),Ge=se(5403),I=se(9672);const x=(0,Pe.d)(m=>function(_=null){m(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=_});function S(m,g){const{first:_,each:b,with:O=M,scheduler:C=g??n.z,meta:P=null}=(0,ze.q)(m)?{first:m}:"number"==typeof m?{each:m}:m;if(null==_&&null==b)throw new TypeError("No timeout provided.");return(0,Ae.e)((F,$)=>{let Q,ne,ue=null,ge=0;const _e=Ie=>{ne=(0,I.f)($,C,()=>{try{Q.unsubscribe(),(0,Qe.Xf)(O({meta:P,lastValue:ue,seen:ge})).subscribe($)}catch(We){$.error(We)}},Ie)};Q=F.subscribe((0,Ge.x)($,Ie=>{ne?.unsubscribe(),ge++,$.next(ue=Ie),b>0&&_e(b)},void 0,void 0,()=>{ne?.closed||ne?.unsubscribe(),ue=null})),!ge&&_e(null!=_?"number"==typeof _?_:+_-C.now():b)})}function M(m){throw new x(m)}},1365:(He,De,se)=>{"use strict";se.d(De,{M:()=>I});var n=se(4482),ze=se(5403),Ae=se(8421),Qe=se(4671),Pe=se(5032),Ge=se(3269);function I(...x){const S=(0,Ge.jO)(x);return(0,n.e)((M,m)=>{const g=x.length,_=new Array(g);let b=x.map(()=>!1),O=!1;for(let C=0;C<g;C++)(0,Ae.Xf)(x[C]).subscribe((0,ze.x)(m,P=>{_[C]=P,!O&&!b[C]&&(b[C]=!0,(O=b.every(Qe.y))&&(b=null))},Pe.Z));M.subscribe((0,ze.x)(m,C=>{if(O){const P=[C,..._];m.next(S?S(...P):P)}}))})}},4408:(He,De,se)=>{"use strict";se.d(De,{o:()=>Pe});var n=se(727);class ze extends n.w0{constructor(I,x){super()}schedule(I,x=0){return this}}const Ae={setInterval(Ge,I,...x){const{delegate:S}=Ae;return S?.setInterval?S.setInterval(Ge,I,...x):setInterval(Ge,I,...x)},clearInterval(Ge){const{delegate:I}=Ae;return(I?.clearInterval||clearInterval)(Ge)},delegate:void 0};var Qe=se(8737);class Pe extends ze{constructor(I,x){super(I,x),this.scheduler=I,this.work=x,this.pending=!1}schedule(I,x=0){var S;if(this.closed)return this;this.state=I;const M=this.id,m=this.scheduler;return null!=M&&(this.id=this.recycleAsyncId(m,M,x)),this.pending=!0,this.delay=x,this.id=null!==(S=this.id)&&void 0!==S?S:this.requestAsyncId(m,this.id,x),this}requestAsyncId(I,x,S=0){return Ae.setInterval(I.flush.bind(I,this),S)}recycleAsyncId(I,x,S=0){if(null!=S&&this.delay===S&&!1===this.pending)return x;null!=x&&Ae.clearInterval(x)}execute(I,x){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const S=this._execute(I,x);if(S)return S;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(I,x){let M,S=!1;try{this.work(I)}catch(m){S=!0,M=m||new Error("Scheduled action threw falsy error")}if(S)return this.unsubscribe(),M}unsubscribe(){if(!this.closed){const{id:I,scheduler:x}=this,{actions:S}=x;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Qe.P)(S,this),null!=I&&(this.id=this.recycleAsyncId(x,I,null)),this.delay=null,super.unsubscribe()}}}},7565:(He,De,se)=>{"use strict";se.d(De,{v:()=>Ae});var n=se(6063);class ze{constructor(Pe,Ge=ze.now){this.schedulerActionCtor=Pe,this.now=Ge}schedule(Pe,Ge=0,I){return new this.schedulerActionCtor(this,Pe).schedule(I,Ge)}}ze.now=n.l.now;class Ae extends ze{constructor(Pe,Ge=ze.now){super(Pe,Ge),this.actions=[],this._active=!1}flush(Pe){const{actions:Ge}=this;if(this._active)return void Ge.push(Pe);let I;this._active=!0;do{if(I=Pe.execute(Pe.state,Pe.delay))break}while(Pe=Ge.shift());if(this._active=!1,I){for(;Pe=Ge.shift();)Pe.unsubscribe();throw I}}}},4986:(He,De,se)=>{"use strict";se.d(De,{P:()=>Qe,z:()=>Ae});var n=se(4408);const Ae=new(se(7565).v)(n.o),Qe=Ae},6063:(He,De,se)=>{"use strict";se.d(De,{l:()=>n});const n={now:()=>(n.delegate||Date).now(),delegate:void 0}},233:(He,De,se)=>{"use strict";se.d(De,{N:()=>Pe});var n=se(4408),Ae=se(7565);const Pe=new class Qe extends Ae.v{}(class ze extends n.o{constructor(x,S){super(x,S),this.scheduler=x,this.work=S}schedule(x,S=0){return S>0?super.schedule(x,S):(this.delay=S,this.state=x,this.scheduler.flush(this),this)}execute(x,S){return S>0||this.closed?super.execute(x,S):this._execute(x,S)}requestAsyncId(x,S,M=0){return null!=M&&M>0||null==M&&this.delay>0?super.requestAsyncId(x,S,M):(x.flush(this),0)}})},3410:(He,De,se)=>{"use strict";se.d(De,{z:()=>n});const n={setTimeout(ze,Ae,...Qe){const{delegate:Pe}=n;return Pe?.setTimeout?Pe.setTimeout(ze,Ae,...Qe):setTimeout(ze,Ae,...Qe)},clearTimeout(ze){const{delegate:Ae}=n;return(Ae?.clearTimeout||clearTimeout)(ze)},delegate:void 0}},2202:(He,De,se)=>{"use strict";se.d(De,{h:()=>ze});const ze=function n(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(He,De,se)=>{"use strict";se.d(De,{L:()=>n});const n="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(He,De,se)=>{"use strict";se.d(De,{_6:()=>Ge,jO:()=>Qe,yG:()=>Pe});var n=se(576),ze=se(3532);function Ae(I){return I[I.length-1]}function Qe(I){return(0,n.m)(Ae(I))?I.pop():void 0}function Pe(I){return(0,ze.K)(Ae(I))?I.pop():void 0}function Ge(I,x){return"number"==typeof Ae(I)?I.pop():x}},8737:(He,De,se)=>{"use strict";function n(ze,Ae){if(ze){const Qe=ze.indexOf(Ae);0<=Qe&&ze.splice(Qe,1)}}se.d(De,{P:()=>n})},3888:(He,De,se)=>{"use strict";function n(ze){const Qe=ze(Pe=>{Error.call(Pe),Pe.stack=(new Error).stack});return Qe.prototype=Object.create(Error.prototype),Qe.prototype.constructor=Qe,Qe}se.d(De,{d:()=>n})},2806:(He,De,se)=>{"use strict";se.d(De,{O:()=>Qe,x:()=>Ae});var n=se(2416);let ze=null;function Ae(Pe){if(n.v.useDeprecatedSynchronousErrorHandling){const Ge=!ze;if(Ge&&(ze={errorThrown:!1,error:null}),Pe(),Ge){const{errorThrown:I,error:x}=ze;if(ze=null,I)throw x}}else Pe()}function Qe(Pe){n.v.useDeprecatedSynchronousErrorHandling&&ze&&(ze.errorThrown=!0,ze.error=Pe)}},9672:(He,De,se)=>{"use strict";function n(ze,Ae,Qe,Pe=0,Ge=!1){const I=Ae.schedule(function(){Qe(),Ge?ze.add(this.schedule(null,Pe)):this.unsubscribe()},Pe);if(ze.add(I),!Ge)return I}se.d(De,{f:()=>n})},4671:(He,De,se)=>{"use strict";function n(ze){return ze}se.d(De,{y:()=>n})},1144:(He,De,se)=>{"use strict";se.d(De,{z:()=>n});const n=ze=>ze&&"number"==typeof ze.length&&"function"!=typeof ze},2206:(He,De,se)=>{"use strict";se.d(De,{D:()=>ze});var n=se(576);function ze(Ae){return Symbol.asyncIterator&&(0,n.m)(Ae?.[Symbol.asyncIterator])}},1165:(He,De,se)=>{"use strict";function n(ze){return ze instanceof Date&&!isNaN(ze)}se.d(De,{q:()=>n})},576:(He,De,se)=>{"use strict";function n(ze){return"function"==typeof ze}se.d(De,{m:()=>n})},3670:(He,De,se)=>{"use strict";se.d(De,{c:()=>Ae});var n=se(8822),ze=se(576);function Ae(Qe){return(0,ze.m)(Qe[n.L])}},6495:(He,De,se)=>{"use strict";se.d(De,{T:()=>Ae});var n=se(2202),ze=se(576);function Ae(Qe){return(0,ze.m)(Qe?.[n.h])}},8239:(He,De,se)=>{"use strict";se.d(De,{t:()=>ze});var n=se(576);function ze(Ae){return(0,n.m)(Ae?.then)}},3260:(He,De,se)=>{"use strict";se.d(De,{L:()=>Qe,Q:()=>Ae});var n=se(7582),ze=se(576);function Ae(Pe){return(0,n.FC)(this,arguments,function*(){const I=Pe.getReader();try{for(;;){const{value:x,done:S}=yield(0,n.qq)(I.read());if(S)return yield(0,n.qq)(void 0);yield yield(0,n.qq)(x)}}finally{I.releaseLock()}})}function Qe(Pe){return(0,ze.m)(Pe?.getReader)}},3532:(He,De,se)=>{"use strict";se.d(De,{K:()=>ze});var n=se(576);function ze(Ae){return Ae&&(0,n.m)(Ae.schedule)}},4482:(He,De,se)=>{"use strict";se.d(De,{A:()=>ze,e:()=>Ae});var n=se(576);function ze(Qe){return(0,n.m)(Qe?.lift)}function Ae(Qe){return Pe=>{if(ze(Pe))return Pe.lift(function(Ge){try{return Qe(Ge,this)}catch(I){this.error(I)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(He,De,se)=>{"use strict";function n(){}se.d(De,{Z:()=>n})},9635:(He,De,se)=>{"use strict";se.d(De,{U:()=>Ae,z:()=>ze});var n=se(4671);function ze(...Qe){return Ae(Qe)}function Ae(Qe){return 0===Qe.length?n.y:1===Qe.length?Qe[0]:function(Ge){return Qe.reduce((I,x)=>x(I),Ge)}}},7849:(He,De,se)=>{"use strict";se.d(De,{h:()=>Ae});var n=se(2416),ze=se(3410);function Ae(Qe){ze.z.setTimeout(()=>{const{onUnhandledError:Pe}=n.v;if(!Pe)throw Qe;Pe(Qe)})}},4532:(He,De,se)=>{"use strict";function n(ze){return new TypeError(`You provided ${null!==ze&&"object"==typeof ze?"an invalid object":`'${ze}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}se.d(De,{z:()=>n})},340:(He,De,se)=>{var n=se(9471),ze=se(2992),Ae=se(7657),Qe=se(5583),Pe=se(1929),Ge=se(8083),I=se(3818);I.alea=n,I.xor128=ze,I.xorwow=Ae,I.xorshift7=Qe,I.xor4096=Pe,I.tychei=Ge,He.exports=I},9471:function(He,De,se){var n;!function(ze,Ae,Qe){function Pe(S){var M=this,m=function x(){var S=4022871197;return function(m){m=String(m);for(var g=0;g<m.length;g++){var _=.02519603282416938*(S+=m.charCodeAt(g));_-=S=_>>>0,S=(_*=S)>>>0,S+=4294967296*(_-=S)}return 2.3283064365386963e-10*(S>>>0)}}();M.next=function(){var g=2091639*M.s0+2.3283064365386963e-10*M.c;return M.s0=M.s1,M.s1=M.s2,M.s2=g-(M.c=0|g)},M.c=1,M.s0=m(" "),M.s1=m(" "),M.s2=m(" "),M.s0-=m(S),M.s0<0&&(M.s0+=1),M.s1-=m(S),M.s1<0&&(M.s1+=1),M.s2-=m(S),M.s2<0&&(M.s2+=1),m=null}function Ge(S,M){return M.c=S.c,M.s0=S.s0,M.s1=S.s1,M.s2=S.s2,M}function I(S,M){var m=new Pe(S),g=M&&M.state,_=m.next;return _.int32=function(){return 4294967296*m.next()|0},_.double=function(){return _()+11102230246251565e-32*(2097152*_()|0)},_.quick=_,g&&("object"==typeof g&&Ge(g,m),_.state=function(){return Ge(m,{})}),_}Ae&&Ae.exports?Ae.exports=I:se.amdD&&se.amdO?void 0!==(n=function(){return I}.call(De,se,De,Ae))&&(Ae.exports=n):this.alea=I}(0,He=se.nmd(He))},8083:function(He,De,se){var n;!function(ze,Ae,Qe){function Pe(x){var S=this,M="";S.next=function(){var g=S.b,_=S.c,b=S.d,O=S.a;return g=g<<25^g>>>7^_,_=_-b|0,b=b<<24^b>>>8^O,O=O-g|0,S.b=g=g<<20^g>>>12^_,S.c=_=_-b|0,S.d=b<<16^_>>>16^O,S.a=O-g|0},S.a=0,S.b=0,S.c=-1640531527,S.d=1367130551,x===Math.floor(x)?(S.a=x/4294967296|0,S.b=0|x):M+=x;for(var m=0;m<M.length+20;m++)S.b^=0|M.charCodeAt(m),S.next()}function Ge(x,S){return S.a=x.a,S.b=x.b,S.c=x.c,S.d=x.d,S}function I(x,S){var M=new Pe(x),m=S&&S.state,g=function(){return(M.next()>>>0)/4294967296};return g.double=function(){do{var O=((M.next()>>>11)+(M.next()>>>0)/4294967296)/(1<<21)}while(0===O);return O},g.int32=M.next,g.quick=g,m&&("object"==typeof m&&Ge(m,M),g.state=function(){return Ge(M,{})}),g}Ae&&Ae.exports?Ae.exports=I:se.amdD&&se.amdO?void 0!==(n=function(){return I}.call(De,se,De,Ae))&&(Ae.exports=n):this.tychei=I}(0,He=se.nmd(He))},2992:function(He,De,se){var n;!function(ze,Ae,Qe){function Pe(x){var S=this,M="";S.x=0,S.y=0,S.z=0,S.w=0,S.next=function(){var g=S.x^S.x<<11;return S.x=S.y,S.y=S.z,S.z=S.w,S.w^=S.w>>>19^g^g>>>8},x===(0|x)?S.x=x:M+=x;for(var m=0;m<M.length+64;m++)S.x^=0|M.charCodeAt(m),S.next()}function Ge(x,S){return S.x=x.x,S.y=x.y,S.z=x.z,S.w=x.w,S}function I(x,S){var M=new Pe(x),m=S&&S.state,g=function(){return(M.next()>>>0)/4294967296};return g.double=function(){do{var O=((M.next()>>>11)+(M.next()>>>0)/4294967296)/(1<<21)}while(0===O);return O},g.int32=M.next,g.quick=g,m&&("object"==typeof m&&Ge(m,M),g.state=function(){return Ge(M,{})}),g}Ae&&Ae.exports?Ae.exports=I:se.amdD&&se.amdO?void 0!==(n=function(){return I}.call(De,se,De,Ae))&&(Ae.exports=n):this.xor128=I}(0,He=se.nmd(He))},1929:function(He,De,se){var n;!function(ze,Ae,Qe){function Pe(x){var S=this;S.next=function(){var b,O,m=S.w,g=S.X,_=S.i;return S.w=m=m+1640531527|0,O=g[_+34&127],b=g[_=_+1&127],O^=O<<13,b^=b<<17,O=g[_]=(O^=O>>>15)^(b^=b>>>12),S.i=_,O+(m^m>>>16)|0},function M(m,g){var _,b,O,C,P,F=[],$=128;for(g===(0|g)?(b=g,g=null):(g+="\0",b=0,$=Math.max($,g.length)),O=0,C=-32;C<$;++C)g&&(b^=g.charCodeAt((C+32)%g.length)),0===C&&(P=b),b^=b<<10,b^=b>>>15,b^=b<<4,b^=b>>>13,C>=0&&(O=0==(_=F[127&C]^=b+(P=P+1640531527|0))?O+1:0);for(O>=128&&(F[127&(g&&g.length||0)]=-1),O=127,C=512;C>0;--C)b=F[O+34&127],_=F[O=O+1&127],b^=b<<13,_^=_<<17,F[O]=(b^=b>>>15)^(_^=_>>>12);m.w=P,m.X=F,m.i=O}(S,x)}function Ge(x,S){return S.i=x.i,S.w=x.w,S.X=x.X.slice(),S}function I(x,S){null==x&&(x=+new Date);var M=new Pe(x),m=S&&S.state,g=function(){return(M.next()>>>0)/4294967296};return g.double=function(){do{var O=((M.next()>>>11)+(M.next()>>>0)/4294967296)/(1<<21)}while(0===O);return O},g.int32=M.next,g.quick=g,m&&(m.X&&Ge(m,M),g.state=function(){return Ge(M,{})}),g}Ae&&Ae.exports?Ae.exports=I:se.amdD&&se.amdO?void 0!==(n=function(){return I}.call(De,se,De,Ae))&&(Ae.exports=n):this.xor4096=I}(0,He=se.nmd(He))},5583:function(He,De,se){var n;!function(ze,Ae,Qe){function Pe(x){var S=this;S.next=function(){var _,b,m=S.x,g=S.i;return _=m[g],b=(_^=_>>>7)^_<<24,b^=(_=m[g+1&7])^_>>>10,b^=(_=m[g+3&7])^_>>>3,b^=(_=m[g+4&7])^_<<7,_=m[g+7&7],m[g]=b^=(_^=_<<13)^_<<9,S.i=g+1&7,b},function M(m,g){var _,O=[];if(g===(0|g))O[0]=g;else for(g=""+g,_=0;_<g.length;++_)O[7&_]=O[7&_]<<15^g.charCodeAt(_)+O[_+1&7]<<13;for(;O.length<8;)O.push(0);for(_=0;_<8&&0===O[_];++_);for(8==_&&(O[7]=-1),m.x=O,m.i=0,_=256;_>0;--_)m.next()}(S,x)}function Ge(x,S){return S.x=x.x.slice(),S.i=x.i,S}function I(x,S){null==x&&(x=+new Date);var M=new Pe(x),m=S&&S.state,g=function(){return(M.next()>>>0)/4294967296};return g.double=function(){do{var O=((M.next()>>>11)+(M.next()>>>0)/4294967296)/(1<<21)}while(0===O);return O},g.int32=M.next,g.quick=g,m&&(m.x&&Ge(m,M),g.state=function(){return Ge(M,{})}),g}Ae&&Ae.exports?Ae.exports=I:se.amdD&&se.amdO?void 0!==(n=function(){return I}.call(De,se,De,Ae))&&(Ae.exports=n):this.xorshift7=I}(0,He=se.nmd(He))},7657:function(He,De,se){var n;!function(ze,Ae,Qe){function Pe(x){var S=this,M="";S.next=function(){var g=S.x^S.x>>>2;return S.x=S.y,S.y=S.z,S.z=S.w,S.w=S.v,(S.d=S.d+362437|0)+(S.v=S.v^S.v<<4^g^g<<1)|0},S.x=0,S.y=0,S.z=0,S.w=0,S.v=0,x===(0|x)?S.x=x:M+=x;for(var m=0;m<M.length+64;m++)S.x^=0|M.charCodeAt(m),m==M.length&&(S.d=S.x<<10^S.x>>>4),S.next()}function Ge(x,S){return S.x=x.x,S.y=x.y,S.z=x.z,S.w=x.w,S.v=x.v,S.d=x.d,S}function I(x,S){var M=new Pe(x),m=S&&S.state,g=function(){return(M.next()>>>0)/4294967296};return g.double=function(){do{var O=((M.next()>>>11)+(M.next()>>>0)/4294967296)/(1<<21)}while(0===O);return O},g.int32=M.next,g.quick=g,m&&("object"==typeof m&&Ge(m,M),g.state=function(){return Ge(M,{})}),g}Ae&&Ae.exports?Ae.exports=I:se.amdD&&se.amdO?void 0!==(n=function(){return I}.call(De,se,De,Ae))&&(Ae.exports=n):this.xorwow=I}(0,He=se.nmd(He))},3818:function(He,De,se){var n;!function(ze,Ae,Qe){var _,Pe=256,S=Qe.pow(Pe,6),M=Qe.pow(2,52),m=2*M,g=255;function b(ne,ue,ge){var _e=[],Ie=F(P((ue=1==ue?{entropy:!0}:ue||{}).entropy?[ne,Q(Ae)]:ne??function $(){try{var ne;return _&&(ne=_.randomBytes)?ne=ne(Pe):(ne=new Uint8Array(Pe),(ze.crypto||ze.msCrypto).getRandomValues(ne)),Q(ne)}catch{var ue=ze.navigator,ge=ue&&ue.plugins;return[+new Date,ze,ge,ze.screen,Q(Ae)]}}(),3),_e),We=new O(_e),Ke=function(){for(var yt=We.g(6),ht=S,bt=0;yt<M;)yt=(yt+bt)*Pe,ht*=Pe,bt=We.g(1);for(;yt>=m;)yt/=2,ht/=2,bt>>>=1;return(yt+bt)/ht};return Ke.int32=function(){return 0|We.g(4)},Ke.quick=function(){return We.g(4)/4294967296},Ke.double=Ke,F(Q(We.S),Ae),(ue.pass||ge||function(yt,ht,bt,lt){return lt&&(lt.S&&C(lt,We),yt.state=function(){return C(We,{})}),bt?(Qe.random=yt,ht):yt})(Ke,Ie,"global"in ue?ue.global:this==Qe,ue.state)}function O(ne){var ue,ge=ne.length,_e=this,Ie=0,We=_e.i=_e.j=0,Ke=_e.S=[];for(ge||(ne=[ge++]);Ie<Pe;)Ke[Ie]=Ie++;for(Ie=0;Ie<Pe;Ie++)Ke[Ie]=Ke[We=g&We+ne[Ie%ge]+(ue=Ke[Ie])],Ke[We]=ue;(_e.g=function(yt){for(var ht,bt=0,lt=_e.i,Xt=_e.j,sn=_e.S;yt--;)ht=sn[lt=g&lt+1],bt=bt*Pe+sn[g&(sn[lt]=sn[Xt=g&Xt+ht])+(sn[Xt]=ht)];return _e.i=lt,_e.j=Xt,bt})(Pe)}function C(ne,ue){return ue.i=ne.i,ue.j=ne.j,ue.S=ne.S.slice(),ue}function P(ne,ue){var Ie,ge=[],_e=typeof ne;if(ue&&"object"==_e)for(Ie in ne)try{ge.push(P(ne[Ie],ue-1))}catch{}return ge.length?ge:"string"==_e?ne:ne+"\0"}function F(ne,ue){for(var _e,ge=ne+"",Ie=0;Ie<ge.length;)ue[g&Ie]=g&(_e^=19*ue[g&Ie])+ge.charCodeAt(Ie++);return Q(ue)}function Q(ne){return String.fromCharCode.apply(0,ne)}if(F(Qe.random(),Ae),He.exports){He.exports=b;try{_=se(5042)}catch{}}else void 0!==(n=function(){return b}.call(De,se,De,He))&&(He.exports=n)}(typeof self<"u"?self:this,[],Math)},4960:()=>{},6759:()=>{},6272:()=>{},5042:()=>{},5961:function(He){He.exports=function(){"use strict";function De(){return!0}function se(){return!1}function n(){}const ze="Argument is not a typed-function.";return function Ae(){function Pe(we){return"object"==typeof we&&null!==we&&we.constructor===Object}const Ge=[{name:"number",test:function(we){return"number"==typeof we}},{name:"string",test:function(we){return"string"==typeof we}},{name:"boolean",test:function(we){return"boolean"==typeof we}},{name:"Function",test:function(we){return"function"==typeof we}},{name:"Array",test:Array.isArray},{name:"Date",test:function(we){return we instanceof Date}},{name:"RegExp",test:function(we){return we instanceof RegExp}},{name:"Object",test:Pe},{name:"null",test:function(we){return null===we}},{name:"undefined",test:function(we){return void 0===we}}],I={name:"any",test:De,isAny:!0};let x,S,M=0,m={createCount:0};function g(we){const je=x.get(we);if(je)return je;let ct='Unknown type "'+we+'"';const St=we.toLowerCase();let Pt;for(Pt of S)if(Pt.toLowerCase()===St){ct+='. Did you mean "'+Pt+'" ?';break}throw new TypeError(ct)}function _(we){let je=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"any";const ct=je?g(je).index:S.length,St=[];for(let dt=0;dt<we.length;++dt){if(!we[dt]||"string"!=typeof we[dt].name||"function"!=typeof we[dt].test)throw new TypeError("Object with properties {name: string, test: function} expected");const Jt=we[dt].name;if(x.has(Jt))throw new TypeError('Duplicate type name "'+Jt+'"');St.push(Jt),x.set(Jt,{name:Jt,test:we[dt].test,isAny:we[dt].isAny,index:ct+dt,conversionsTo:[]})}const Pt=S.slice(ct);S=S.slice(0,ct).concat(St).concat(Pt);for(let dt=ct+St.length;dt<S.length;++dt)x.get(S[dt]).index=dt}function b(){x=new Map,S=[],M=0,_([I],!1)}function C(we){const je=S.filter(ct=>{const St=x.get(ct);return!St.isAny&&St.test(we)});return je.length?je:["any"]}function P(we){return we&&"function"==typeof we&&"_typedFunctionData"in we}function F(we,je,ct){if(!P(we))throw new TypeError(ze);const St=ct&&ct.exact,dt=Ie(Array.isArray(je)?je.join(","):je),Jt=ne(dt);if(!St||Jt in we.signatures){const Wn=we._typedFunctionData.signatureMap.get(Jt);if(Wn)return Wn}const Nt=dt.length;let tn,kt;if(St){let Wn;for(Wn in tn=[],we.signatures)tn.push(we._typedFunctionData.signatureMap.get(Wn))}else tn=we._typedFunctionData.signatures;for(let Wn=0;Wn<Nt;++Wn){const or=dt[Wn],Qr=[];let Jr;for(Jr of tn){const hi=ht(Jr.params,Wn);if(hi&&(!or.restParam||hi.restParam)){if(!hi.hasAny){const Yi=_e(hi);if(or.types.some(Fi=>!Yi.has(Fi.name)))continue}Qr.push(Jr)}}if(tn=Qr,0===tn.length)break}for(kt of tn)if(kt.params.length<=Nt)return kt;throw new TypeError("Signature not found (signature: "+(we.name||"unnamed")+"("+ne(dt,", ")+"))")}function ne(we){let je=arguments.length>1&&void 0!==arguments[1]?arguments[1]:",";return we.map(ct=>ct.name).join(je)}function ue(we){const je=0===we.indexOf("..."),St=(je?we.length>3?we.slice(3):"any":we).split("|").map(Nt=>g(Nt.trim()));let Pt=!1,dt=je?"...":"";return{types:St.map(function(Nt){return Pt=Nt.isAny||Pt,dt+=Nt.name+"|",{name:Nt.name,typeIndex:Nt.index,test:Nt.test,isAny:Nt.isAny,conversion:null,conversionIndex:-1}}),name:dt.slice(0,-1),hasAny:Pt,hasConversion:!1,restParam:je}}function ge(we){const ct=function ye(we){if(0===we.length)return[];const je=we.map(g);we.length>1&&je.sort((Pt,dt)=>Pt.index-dt.index);let ct=je[0].conversionsTo;if(1===we.length)return ct;ct=ct.concat([]);const St=new Set(we);for(let Pt=1;Pt<je.length;++Pt){let dt;for(dt of je[Pt].conversionsTo)St.has(dt.from)||(ct.push(dt),St.add(dt.from))}return ct}(we.types.map(Jt=>Jt.name));let St=we.hasAny,Pt=we.name;const dt=ct.map(function(Jt){const Nt=g(Jt.from);return St=Nt.isAny||St,Pt+="|"+Jt.from,{name:Jt.from,typeIndex:Nt.index,test:Nt.test,isAny:Nt.isAny,conversion:Jt,conversionIndex:Jt.index}});return{types:we.types.concat(dt),name:Pt,hasAny:St,hasConversion:dt.length>0,restParam:we.restParam}}function _e(we){return we.typeSet||(we.typeSet=new Set,we.types.forEach(je=>we.typeSet.add(je.name))),we.typeSet}function Ie(we){const je=[];if("string"!=typeof we)throw new TypeError("Signatures must be strings");const ct=we.trim();if(""===ct)return je;const St=ct.split(",");for(let Pt=0;Pt<St.length;++Pt){const dt=ue(St[Pt].trim());if(dt.restParam&&Pt!==St.length-1)throw new SyntaxError('Unexpected rest parameter "'+St[Pt]+'": only allowed for the last parameter');if(0===dt.types.length)return null;je.push(dt)}return je}function We(we){const je=Xe(we);return!!je&&je.restParam}function Ke(we){if(!we||0===we.types.length)return De;if(1===we.types.length)return g(we.types[0].name).test;if(2===we.types.length){const je=g(we.types[0].name).test,ct=g(we.types[1].name).test;return function(Pt){return je(Pt)||ct(Pt)}}{const je=we.types.map(function(ct){return g(ct.name).test});return function(St){for(let Pt=0;Pt<je.length;Pt++)if(je[Pt](St))return!0;return!1}}}function yt(we){let je,ct,St;if(We(we)){je=ot(we).map(Ke);const Pt=je.length,dt=Ke(Xe(we)),Jt=function(Nt){for(let tn=Pt;tn<Nt.length;tn++)if(!dt(Nt[tn]))return!1;return!0};return function(tn){for(let kt=0;kt<je.length;kt++)if(!je[kt](tn[kt]))return!1;return Jt(tn)&&tn.length>=Pt+1}}return 0===we.length?function(dt){return 0===dt.length}:1===we.length?(ct=Ke(we[0]),function(dt){return ct(dt[0])&&1===dt.length}):2===we.length?(ct=Ke(we[0]),St=Ke(we[1]),function(dt){return ct(dt[0])&&St(dt[1])&&2===dt.length}):(je=we.map(Ke),function(dt){for(let Jt=0;Jt<je.length;Jt++)if(!je[Jt](dt[Jt]))return!1;return dt.length===je.length})}function ht(we,je){return je<we.length?we[je]:We(we)?Xe(we):null}function bt(we,je){const ct=ht(we,je);return ct?_e(ct):new Set}function lt(we){return null==we.conversion}function Xt(we,je){const ct=new Set;return we.forEach(St=>{const Pt=bt(St.params,je);let dt;for(dt of Pt)ct.add(dt)}),ct.has("any")?["any"]:Array.from(ct)}function sn(we,je,ct){let St,Pt;const dt=we||"unnamed";let Nt,Jt=ct;for(Nt=0;Nt<je.length;Nt++){const or=[];if(Jt.forEach(Qr=>{const hi=Ke(ht(Qr.params,Nt));(Nt<Qr.params.length||We(Qr.params))&&hi(je[Nt])&&or.push(Qr)}),0===or.length){if(Pt=Xt(Jt,Nt),Pt.length>0){const Qr=C(je[Nt]);return St=new TypeError("Unexpected type of argument in function "+dt+" (expected: "+Pt.join(" or ")+", actual: "+Qr.join(" | ")+", index: "+Nt+")"),St.data={category:"wrongType",fn:dt,index:Nt,actual:Qr,expected:Pt},St}}else Jt=or}const tn=Jt.map(function(or){return We(or.params)?1/0:or.params.length});if(je.length<Math.min.apply(null,tn))return Pt=Xt(Jt,Nt),St=new TypeError("Too few arguments in function "+dt+" (expected: "+Pt.join(" or ")+", index: "+je.length+")"),St.data={category:"tooFewArgs",fn:dt,index:je.length,expected:Pt},St;const kt=Math.max.apply(null,tn);if(je.length>kt)return St=new TypeError("Too many arguments in function "+dt+" (expected: "+kt+", actual: "+je.length+")"),St.data={category:"tooManyArgs",fn:dt,index:je.length,expectedLength:kt},St;const Wn=[];for(let or=0;or<je.length;++or)Wn.push(C(je[or]).join("|"));return St=new TypeError('Arguments of type "'+Wn.join(", ")+'" do not match any of the defined signatures of function '+dt+"."),St.data={category:"mismatch",actual:Wn},St}function ln(we){let je=S.length+1;for(let ct=0;ct<we.types.length;ct++)lt(we.types[ct])&&(je=Math.min(je,we.types[ct].typeIndex));return je}function be(we){let je=M+1;for(let ct=0;ct<we.types.length;ct++)lt(we.types[ct])||(je=Math.min(je,we.types[ct].conversionIndex));return je}function pe(we,je){if(we.hasAny){if(!je.hasAny)return 1}else if(je.hasAny)return-1;if(we.restParam){if(!je.restParam)return 1}else if(je.restParam)return-1;if(we.hasConversion){if(!je.hasConversion)return 1}else if(je.hasConversion)return-1;const ct=ln(we)-ln(je);if(ct<0)return-1;if(ct>0)return 1;const St=be(we)-be(je);return St<0?-1:St>0?1:0}function fe(we,je){const ct=we.params,St=je.params,Pt=Xe(ct),dt=Xe(St),Jt=We(ct),Nt=We(St);if(Jt&&Pt.hasAny){if(!Nt||!dt.hasAny)return 1}else if(Nt&&dt.hasAny)return-1;let Wn,tn=0,kt=0;for(Wn of ct)Wn.hasAny&&++tn,Wn.hasConversion&&++kt;let or=0,Qr=0;for(Wn of St)Wn.hasAny&&++or,Wn.hasConversion&&++Qr;if(tn!==or)return tn-or;if(Jt&&Pt.hasConversion){if(!Nt||!dt.hasConversion)return 1}else if(Nt&&dt.hasConversion)return-1;if(kt!==Qr)return kt-Qr;if(Jt){if(!Nt)return 1}else if(Nt)return-1;const Jr=(ct.length-St.length)*(Jt?-1:1);if(0!==Jr)return Jr;const hi=[];let Fi,Yi=0;for(let co=0;co<ct.length;++co){const Zs=pe(ct[co],St[co]);hi.push(Zs),Yi+=Zs}if(0!==Yi)return Yi;for(Fi of hi)if(0!==Fi)return Fi;return 0}function ke(we,je){let ct=je;if(we.some(Pt=>Pt.hasConversion)){const Pt=We(we),dt=we.map(Ce);ct=function(){const Nt=[],tn=Pt?arguments.length-1:arguments.length;for(let kt=0;kt<tn;kt++)Nt[kt]=dt[kt](arguments[kt]);return Pt&&(Nt[tn]=arguments[tn].map(dt[tn])),je.apply(this,Nt)}}let St=ct;if(We(we)){const Pt=we.length-1;St=function(){return ct.apply(this,vt(arguments,0,Pt).concat([vt(arguments,Pt)]))}}return St}function Ce(we){let je,ct,St,Pt;const dt=[],Jt=[];switch(we.types.forEach(function(Nt){Nt.conversion&&(dt.push(g(Nt.conversion.from).test),Jt.push(Nt.conversion.convert))}),Jt.length){case 0:return function(tn){return tn};case 1:return je=dt[0],St=Jt[0],function(tn){return je(tn)?St(tn):tn};case 2:return je=dt[0],ct=dt[1],St=Jt[0],Pt=Jt[1],function(tn){return je(tn)?St(tn):ct(tn)?Pt(tn):tn};default:return function(tn){for(let kt=0;kt<Jt.length;kt++)if(dt[kt](tn))return Jt[kt](tn);return tn}}}function de(we){return function je(ct,St,Pt){if(St<ct.length){const dt=ct[St];let Jt=[];if(dt.restParam){const Nt=dt.types.filter(lt);Nt.length<dt.types.length&&Jt.push({types:Nt,name:"..."+Nt.map(tn=>tn.name).join("|"),hasAny:Nt.some(tn=>tn.isAny),hasConversion:!1,restParam:!0}),Jt.push(dt)}else Jt=dt.types.map(function(Nt){return{types:[Nt],name:Nt.name,hasAny:Nt.isAny,hasConversion:Nt.conversion,restParam:!1}});return function mt(we,je){return Array.prototype.concat.apply([],we.map(je))}(Jt,function(Nt){return je(ct,St+1,Pt.concat([Nt]))})}return[Pt]}(we,0,[])}function Ue(we,je){const ct=Math.max(we.length,je.length);for(let Nt=0;Nt<ct;Nt++){const tn=bt(we,Nt),kt=bt(je,Nt);let or,Wn=!1;for(or of kt)if(tn.has(or)){Wn=!0;break}if(!Wn)return!1}const St=we.length,Pt=je.length,dt=We(we),Jt=We(je);return dt?Jt?St===Pt:Pt>=St:Jt?St>=Pt:St===Pt}function pt(we,je,ct){const St=[];let Pt;for(Pt of we){let dt=ct[Pt];if("number"!=typeof dt)throw new TypeError('No definition for referenced signature "'+Pt+'"');if(dt=je[dt],"function"!=typeof dt)return!1;St.push(dt)}return St}function et(we,je,ct){const St=function $e(we){return we.map(je=>At(je)?Mn(je.referToSelf.callback):on(je)?Zt(je.referTo.references,je.referTo.callback):je)}(we),Pt=new Array(St.length).fill(!1);let dt=!0;for(;dt;){dt=!1;let Jt=!0;for(let Nt=0;Nt<St.length;++Nt){if(Pt[Nt])continue;const tn=St[Nt];if(At(tn))St[Nt]=tn.referToSelf.callback(ct),St[Nt].referToSelf=tn.referToSelf,Pt[Nt]=!0,Jt=!1;else if(on(tn)){const kt=pt(tn.referTo.references,St,je);kt?(St[Nt]=tn.referTo.callback.apply(this,kt),St[Nt].referTo=tn.referTo,Pt[Nt]=!0,Jt=!1):dt=!0}}if(Jt&&dt)throw new SyntaxError("Circular reference detected in resolving typed.referTo")}return St}function It(we,je){if(m.createCount++,0===Object.keys(je).length)throw new SyntaxError("No signatures provided");m.warnAgainstDeprecatedThis&&function _t(we){const je=/\bthis(\(|\.signatures\b)/;Object.keys(we).forEach(ct=>{if(je.test(we[ct].toString()))throw new SyntaxError("Using `this` to self-reference a function is deprecated since typed-function@3. Use typed.referTo and typed.referToSelf instead.")})}(je);const ct=[],St=[],Pt={},dt=[];let Jt;for(Jt in je){if(!Object.prototype.hasOwnProperty.call(je,Jt))continue;const mr=Ie(Jt);if(!mr)continue;ct.forEach(function(_a){if(Ue(_a,mr))throw new TypeError('Conflicting signatures "'+ne(_a)+'" and "'+ne(mr)+'".')}),ct.push(mr);const An=St.length;St.push(je[Jt]);const ap=mr.map(ge);let Ws;for(Ws of de(ap)){const _a=ne(Ws);dt.push({params:Ws,name:_a,fn:An}),Ws.every(Bl=>!Bl.hasConversion)&&(Pt[_a]=An)}}dt.sort(fe);const Nt=et(St,Pt,Go);let tn;for(tn in Pt)Object.prototype.hasOwnProperty.call(Pt,tn)&&(Pt[tn]=Nt[Pt[tn]]);const kt=[],Wn=new Map;for(tn of dt)Wn.has(tn.name)||(tn.fn=Nt[tn.fn],kt.push(tn),Wn.set(tn.name,tn));const or=kt[0]&&kt[0].params.length<=2&&!We(kt[0].params),Qr=kt[1]&&kt[1].params.length<=2&&!We(kt[1].params),Jr=kt[2]&&kt[2].params.length<=2&&!We(kt[2].params),hi=kt[3]&&kt[3].params.length<=2&&!We(kt[3].params),Yi=kt[4]&&kt[4].params.length<=2&&!We(kt[4].params),Fi=kt[5]&&kt[5].params.length<=2&&!We(kt[5].params),co=or&&Qr&&Jr&&hi&&Yi&&Fi;for(let mr=0;mr<kt.length;++mr)kt[mr].test=yt(kt[mr].params);const Zs=or?Ke(kt[0].params[0]):se,_u=Qr?Ke(kt[1].params[0]):se,Ys=Jr?Ke(kt[2].params[0]):se,vu=hi?Ke(kt[3].params[0]):se,Mr=Yi?Ke(kt[4].params[0]):se,mi=Fi?Ke(kt[5].params[0]):se,gi=or?Ke(kt[0].params[1]):se,Va=Qr?Ke(kt[1].params[1]):se,Gi=Jr?Ke(kt[2].params[1]):se,Ni=hi?Ke(kt[3].params[1]):se,an=Yi?Ke(kt[4].params[1]):se,En=Fi?Ke(kt[5].params[1]):se;for(let mr=0;mr<kt.length;++mr)kt[mr].implementation=ke(kt[mr].params,kt[mr].fn);const Nr=or?kt[0].implementation:n,$i=Qr?kt[1].implementation:n,Zo=Jr?kt[2].implementation:n,ei=hi?kt[3].implementation:n,Yo=Yi?kt[4].implementation:n,Rr=Fi?kt[5].implementation:n,Gs=or?kt[0].params.length:-1,$s=Qr?kt[1].params.length:-1,Rn=Jr?kt[2].params.length:-1,ms=hi?kt[3].params.length:-1,ga=Yi?kt[4].params.length:-1,Ll=Fi?kt[5].params.length:-1,za=co?6:0,ai=kt.length,Ha=kt.map(mr=>mr.test),ja=kt.map(mr=>mr.implementation),Wi=function(){for(let An=za;An<ai;An++)if(Ha[An](arguments))return ja[An].apply(this,arguments);return m.onMismatch(we,arguments,kt)};function Go(mr,An){return arguments.length===Gs&&Zs(mr)&&gi(An)?Nr.apply(this,arguments):arguments.length===$s&&_u(mr)&&Va(An)?$i.apply(this,arguments):arguments.length===Rn&&Ys(mr)&&Gi(An)?Zo.apply(this,arguments):arguments.length===ms&&vu(mr)&&Ni(An)?ei.apply(this,arguments):arguments.length===ga&&Mr(mr)&&an(An)?Yo.apply(this,arguments):arguments.length===Ll&&mi(mr)&&En(An)?Rr.apply(this,arguments):Wi.apply(this,arguments)}try{Object.defineProperty(Go,"name",{value:we})}catch{}return Go.signatures=Pt,Go._typedFunctionData={signatures:kt,signatureMap:Wn},Go}function jt(we,je,ct){throw sn(we,je,ct)}function ot(we){return vt(we,0,we.length-1)}function Xe(we){return we[we.length-1]}function vt(we,je,ct){return Array.prototype.slice.call(we,je,ct)}function Zt(we,je){return{referTo:{references:we,callback:je}}}function Mn(we){if("function"!=typeof we)throw new TypeError("Callback function expected as first argument");return{referToSelf:{callback:we}}}function on(we){return we&&"object"==typeof we.referTo&&Array.isArray(we.referTo.references)&&"function"==typeof we.referTo.callback}function At(we){return we&&"object"==typeof we.referToSelf&&"function"==typeof we.referToSelf.callback}function gn(we,je){if(!we)return je;if(je&&je!==we){const ct=new Error("Function names do not match (expected: "+we+", actual: "+je+")");throw ct.data={actual:je,expected:we},ct}return we}function bn(we){let je;for(const ct in we)Object.prototype.hasOwnProperty.call(we,ct)&&(P(we[ct])||"string"==typeof we[ct].signature)&&(je=gn(je,we[ct].name));return je}function Sn(we,je){let ct;for(ct in je)if(Object.prototype.hasOwnProperty.call(je,ct)){if(ct in we&&je[ct]!==we[ct]){const St=new Error('Signature "'+ct+'" is defined twice');throw St.data={signature:ct,sourceFunction:je[ct],destFunction:we[ct]},St}we[ct]=je[ct]}}b(),_(Ge);const kn=m;function Kt(we){if(!we||"string"!=typeof we.from||"string"!=typeof we.to||"function"!=typeof we.convert)throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");if(we.to===we.from)throw new SyntaxError('Illegal to define conversion from "'+we.from+'" to itself.')}return m=function(we){const je="string"==typeof we;let St=je?we:"";const Pt={};for(let dt=je?1:0;dt<arguments.length;++dt){const Jt=arguments[dt];let tn,Nt={};if("function"==typeof Jt?(tn=Jt.name,"string"==typeof Jt.signature?Nt[Jt.signature]=Jt:P(Jt)&&(Nt=Jt.signatures)):Pe(Jt)&&(Nt=Jt,je||(tn=bn(Jt))),0===Object.keys(Nt).length){const kt=new TypeError("Argument to 'typed' at index "+dt+" is not a (typed) function, nor an object with signatures as keys and functions as values.");throw kt.data={index:dt,argument:Jt},kt}je||(St=gn(St,tn)),Sn(Pt,Nt)}return It(St||"",Pt)},m.create=Ae,m.createCount=kn.createCount,m.onMismatch=jt,m.throwMismatchError=jt,m.createError=sn,m.clear=b,m.clearConversions=function O(){let we;for(we of S)x.get(we).conversionsTo=[];M=0},m.addTypes=_,m._findType=g,m.referTo=function nt(){const we=ot(arguments).map(ct=>ne(Ie(ct))),je=Xe(arguments);if("function"!=typeof je)throw new TypeError("Callback function expected as last argument");return Zt(we,je)},m.referToSelf=Mn,m.convert=function Q(we,je){const ct=g(je);if(ct.test(we))return we;const St=ct.conversionsTo;if(0===St.length)throw new Error("There are no conversions to "+je+" defined.");for(let Pt=0;Pt<St.length;Pt++)if(g(St[Pt].from).test(we))return St[Pt].convert(we);throw new Error("Cannot convert "+we+" to "+je)},m.findSignature=F,m.find=function $(we,je,ct){return F(we,je,ct).implementation},m.isTypedFunction=P,m.warnAgainstDeprecatedThis=!0,m.addType=function(we,je){let ct="any";!1!==je&&x.has("Object")&&(ct="Object"),m.addTypes([we],ct)},m.addConversion=function(we){let je=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{override:!1};Kt(we);const ct=g(we.to),St=ct.conversionsTo.find(Pt=>Pt.from===we.from);if(St){if(!je||!je.override)throw new Error('There is already a conversion from "'+we.from+'" to "'+ct.name+'"');m.removeConversion({from:St.from,to:we.to,convert:St.convert})}ct.conversionsTo.push({from:we.from,convert:we.convert,index:M++})},m.addConversions=function(we,je){we.forEach(ct=>m.addConversion(ct,je))},m.removeConversion=function(we){Kt(we);const je=g(we.to),ct=function Mt(we,je){for(let ct=0;ct<we.length;ct++)if(je(we[ct]))return we[ct]}(je.conversionsTo,Pt=>Pt.from===we.from);if(!ct)throw new Error("Attempt to remove nonexistent conversion from "+we.from+" to "+we.to);if(ct.convert!==we.convert)throw new Error("Conversion to remove does not match existing conversion");const St=je.conversionsTo.indexOf(ct);je.conversionsTo.splice(St,1)},m.resolve=function(we,je){if(!P(we))throw new TypeError(ze);const ct=we._typedFunctionData.signatures;for(let St=0;St<ct.length;++St)if(ct[St].test(je))return ct[St];return null},m}()}()},4650:(He,De,se)=>{"use strict";se.d(De,{$8M:()=>Z0,$Z:()=>$D,AFp:()=>h1,ALo:()=>bi,AaK:()=>x,Akn:()=>Ss,AsE:()=>ox,BQk:()=>Rv,CHM:()=>A0,CRH:()=>r1,CZH:()=>Qm,CqO:()=>JC,D6c:()=>Kc,DdM:()=>jx,EEQ:()=>Ki,EJc:()=>yA,EiD:()=>Bc,EpF:()=>WC,F$t:()=>Uv,F4k:()=>cf,FYo:()=>Q_,FiY:()=>wp,G48:()=>_F,Gf:()=>n1,GfV:()=>Yb,GkF:()=>$C,Gpc:()=>m,Gre:()=>lE,GuJ:()=>tn,Hsn:()=>Vv,Ikx:()=>ax,JOm:()=>rl,JVY:()=>Db,Jf7:()=>Wb,Jzz:()=>cE,KtG:()=>P0,L6k:()=>Ob,LAX:()=>Ab,LFG:()=>xt,LSH:()=>j_,Lbi:()=>_A,Lck:()=>Vk,MAs:()=>IO,MMx:()=>Vx,NdJ:()=>Lv,O4$:()=>gS,OlP:()=>Lr,Oqu:()=>ix,PXZ:()=>S1,PiD:()=>zh,Q6J:()=>ZC,QGY:()=>QC,QP$:()=>Va,QbO:()=>v1,Qsj:()=>jb,R0b:()=>ns,RDi:()=>xb,Rgc:()=>Df,SBq:()=>qu,Sil:()=>CA,Suo:()=>jm,TTD:()=>Wg,TgZ:()=>Fv,Tol:()=>GO,Udp:()=>ex,VKq:()=>qx,WFA:()=>Bv,X6Q:()=>I1,XFs:()=>nt,Xpm:()=>Jr,Xts:()=>Xl,Y36:()=>cl,YKP:()=>jE,YNc:()=>TO,Yjl:()=>vu,Yz7:()=>de,Z0I:()=>et,ZZ4:()=>B1,_Bn:()=>HE,_UZ:()=>GC,_Vd:()=>Zp,_c5:()=>Rf,_uU:()=>eE,aQg:()=>Ry,c2e:()=>vA,cJS:()=>$e,cg1:()=>lx,d8E:()=>sx,dDg:()=>pF,dqk:()=>je,eBb:()=>Eb,eFA:()=>Cd,ekj:()=>tx,eoX:()=>SA,f3M:()=>eb,g9A:()=>g1,h0i:()=>wf,hGG:()=>Xc,hij:()=>jv,iGM:()=>fy,ifc:()=>we,ip1:()=>Wm,jDz:()=>ey,kEZ:()=>ay,kL8:()=>yE,kcU:()=>_S,l5B:()=>Zx,lG2:()=>Ys,lcZ:()=>JE,lqb:()=>xs,lri:()=>MA,mCW:()=>Uu,n5z:()=>q0,n_E:()=>Um,oAB:()=>co,oJD:()=>zu,oxw:()=>XC,pB0:()=>aD,q3G:()=>yi,qLn:()=>Zu,qOj:()=>tf,qZA:()=>Nv,qzn:()=>Lu,rWj:()=>w1,s9C:()=>df,sBO:()=>IA,sIi:()=>ed,s_b:()=>dy,soG:()=>My,tBr:()=>uo,tb:()=>_1,tp0:()=>el,uIk:()=>rf,vHH:()=>O,vpe:()=>As,wAp:()=>_n,xi3:()=>Lm,xp6:()=>Yp,ynx:()=>lf,z2F:()=>fc,z3N:()=>al,zSh:()=>Hu,zs3:()=>Vc});var n=se(7579),ze=se(727),Ae=se(9751),Qe=se(6451),Pe=se(3099);function Ge(s){for(let c in s)if(s[c]===Ge)return c;throw Error("Could not find renamed property on target object.")}function I(s,c){for(const d in c)c.hasOwnProperty(d)&&!s.hasOwnProperty(d)&&(s[d]=c[d])}function x(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(x).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const c=s.toString();if(null==c)return""+c;const d=c.indexOf("\n");return-1===d?c:c.substring(0,d)}function S(s,c){return null==s||""===s?null===c?"":c:null==c||""===c?s:s+" "+c}const M=Ge({__forward_ref__:Ge});function m(s){return s.__forward_ref__=m,s.toString=function(){return x(this())},s}function g(s){return _(s)?s():s}function _(s){return"function"==typeof s&&s.hasOwnProperty(M)&&s.__forward_ref__===m}class O extends Error{constructor(c,d){super(function C(s,c){return`NG0${Math.abs(s)}${c?": "+c.trim():""}`}(c,d)),this.code=c}}function P(s){return"string"==typeof s?s:null==s?"":String(s)}function ue(s,c){throw new O(-201,!1)}function pe(s,c){null==s&&function fe(s,c,d,v){throw new Error(`ASSERTION ERROR: ${s}`+(null==v?"":` [Expected=> ${d} ${v} ${c} <=Actual]`))}(c,s,null,"!=")}function de(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function $e(s){return{providers:s.providers||[],imports:s.imports||[]}}function pt(s){return _t(s,Xe)||_t(s,Mt)}function et(s){return null!==pt(s)}function _t(s,c){return s.hasOwnProperty(c)?s[c]:null}function ot(s){return s&&(s.hasOwnProperty(vt)||s.hasOwnProperty(mt))?s[vt]:null}const Xe=Ge({\u0275prov:Ge}),vt=Ge({\u0275inj:Ge}),Mt=Ge({ngInjectableDef:Ge}),mt=Ge({ngInjectorDef:Ge});var nt=(()=>((nt=nt||{})[nt.Default=0]="Default",nt[nt.Host=1]="Host",nt[nt.Self=2]="Self",nt[nt.SkipSelf=4]="SkipSelf",nt[nt.Optional=8]="Optional",nt))();let Zt;function on(s){const c=Zt;return Zt=s,c}function At(s,c,d){const v=pt(s);return v&&"root"==v.providedIn?void 0===v.value?v.value=v.factory():v.value:d&nt.Optional?null:void 0!==c?c:void ue(x(s))}function bn(s){return{toString:s}.toString()}var Sn=(()=>((Sn=Sn||{})[Sn.OnPush=0]="OnPush",Sn[Sn.Default=1]="Default",Sn))(),we=(()=>{return(s=we||(we={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",we;var s})();const je=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Pt={},dt=[],Jt=Ge({\u0275cmp:Ge}),Nt=Ge({\u0275dir:Ge}),tn=Ge({\u0275pipe:Ge}),kt=Ge({\u0275mod:Ge}),Wn=Ge({\u0275fac:Ge}),or=Ge({__NG_ELEMENT_ID__:Ge});let Qr=0;function Jr(s){return bn(()=>{const d=!0===s.standalone,v={},w={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:v,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===Sn.OnPush,directiveDefs:null,pipeDefs:null,standalone:d,dependencies:d&&s.dependencies||null,getStandaloneInjector:null,selectors:s.selectors||dt,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||we.Emulated,id:"c"+Qr++,styles:s.styles||dt,_:null,setInput:null,schemas:s.schemas||null,tView:null},A=s.dependencies,R=s.features;return w.inputs=_u(s.inputs,v),w.outputs=_u(s.outputs),R&&R.forEach(Z=>Z(w)),w.directiveDefs=A?()=>("function"==typeof A?A():A).map(Yi).filter(Fi):null,w.pipeDefs=A?()=>("function"==typeof A?A():A).map(gi).filter(Fi):null,w})}function Yi(s){return Mr(s)||mi(s)}function Fi(s){return null!==s}function co(s){return bn(()=>({type:s.type,bootstrap:s.bootstrap||dt,declarations:s.declarations||dt,imports:s.imports||dt,exports:s.exports||dt,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function _u(s,c){if(null==s)return Pt;const d={};for(const v in s)if(s.hasOwnProperty(v)){let w=s[v],A=w;Array.isArray(w)&&(A=w[1],w=w[0]),d[w]=v,c&&(c[w]=A)}return d}const Ys=Jr;function vu(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function Mr(s){return s[Jt]||null}function mi(s){return s[Nt]||null}function gi(s){return s[tn]||null}function Va(s){const c=Mr(s)||mi(s)||gi(s);return null!==c&&c.standalone}function Gi(s,c){const d=s[kt]||null;if(!d&&!0===c)throw new Error(`Type ${x(s)} does not have '\u0275mod' property.`);return d}function Ri(s){return Array.isArray(s)&&"object"==typeof s[1]}function Qi(s){return Array.isArray(s)&&!0===s[1]}function qa(s){return 0!=(8&s.flags)}function Qs(s){return 2==(2&s.flags)}function Ec(s){return 1==(1&s.flags)}function va(s){return null!==s.template}function Ne(s){return 0!=(256&s[2])}function Vl(s,c){return s.hasOwnProperty(Wn)?s[Wn]:null}class x0{constructor(c,d,v){this.previousValue=c,this.currentValue=d,this.firstChange=v}isFirstChange(){return this.firstChange}}function Wg(){return w0}function w0(s){return s.type.prototype.ngOnChanges&&(s.setInput=Jg),Qg}function Qg(){const s=rS(this),c=s?.current;if(c){const d=s.previous;if(d===Pt)s.previous=c;else for(let v in c)d[v]=c[v];s.current=null,this.ngOnChanges(c)}}function Jg(s,c,d,v){const w=rS(s)||function Zr(s,c){return s[M0]=c}(s,{previous:Pt,current:null}),A=w.current||(w.current={}),R=w.previous,Z=this.declaredInputs[d],X=R[Z];A[Z]=new x0(X&&X.currentValue,c,R===Pt),s[v]=c}Wg.ngInherit=!0;const M0="__ngSimpleChanges__";function rS(s){return s[M0]||null}function Ti(s){for(;Array.isArray(s);)s=s[0];return s}function sp(s,c){return Ti(c[s])}function Wo(s,c){return Ti(c[s.index])}function wh(s,c){return s.data[c]}function lp(s,c){return s[c]}function Co(s,c){const d=c[s];return Ri(d)?d:d[0]}function Mh(s){return 64==(64&s[2])}function zl(s,c){return null==c?null:s[c]}function cp(s){s[18]=0}function Kg(s,c){s[5]+=c;let d=s,v=s[3];for(;null!==v&&(1===c&&1===d[5]||-1===c&&0===d[5]);)v[5]+=c,d=v,v=v[3]}const Fn={lFrame:hS(null),bindingsEnabled:!0};function E0(){return Fn.bindingsEnabled}function Bt(){return Fn.lFrame.lView}function vr(){return Fn.lFrame.tView}function A0(s){return Fn.lFrame.contextLView=s,s[8]}function P0(s){return Fn.lFrame.contextLView=null,s}function Li(){let s=T0();for(;null!==s&&64===s.type;)s=s.parent;return s}function T0(){return Fn.lFrame.currentTNode}function gs(s,c){const d=Fn.lFrame;d.currentTNode=s,d.isParent=c}function e_(){return Fn.lFrame.isParent}function I0(){Fn.lFrame.isParent=!1}function Io(){const s=Fn.lFrame;let c=s.bindingRootIndex;return-1===c&&(c=s.bindingRootIndex=s.tView.bindingStartIndex),c}function dp(){return Fn.lFrame.bindingIndex++}function Js(s){const c=Fn.lFrame,d=c.bindingIndex;return c.bindingIndex=c.bindingIndex+s,d}function UI(s,c){const d=Fn.lFrame;d.bindingIndex=d.bindingRootIndex=s,t_(c)}function t_(s){Fn.lFrame.currentDirectiveIndex=s}function n_(s){const c=Fn.lFrame.currentDirectiveIndex;return-1===c?null:s[c]}function Sh(){return Fn.lFrame.currentQueryIndex}function Ac(s){Fn.lFrame.currentQueryIndex=s}function VI(s){const c=s[1];return 2===c.type?c.declTNode:1===c.type?s[6]:null}function fS(s,c,d){if(d&nt.SkipSelf){let w=c,A=s;for(;!(w=w.parent,null!==w||d&nt.Host||(w=VI(A),null===w||(A=A[15],10&w.type))););if(null===w)return!1;c=w,s=A}const v=Fn.lFrame=r_();return v.currentTNode=c,v.lView=s,!0}function Dh(s){const c=r_(),d=s[1];Fn.lFrame=c,c.currentTNode=d.firstChild,c.lView=s,c.tView=d,c.contextLView=s,c.bindingIndex=d.bindingStartIndex,c.inI18n=!1}function r_(){const s=Fn.lFrame,c=null===s?null:s.child;return null===c?hS(s):c}function hS(s){const c={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=c),c}function mS(){const s=Fn.lFrame;return Fn.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const F0=mS;function Oh(){const s=mS();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function ko(){return Fn.lFrame.selectedIndex}function Pc(s){Fn.lFrame.selectedIndex=s}function li(){const s=Fn.lFrame;return wh(s.tView,s.selectedIndex)}function gS(){Fn.lFrame.currentNamespace="svg"}function _S(){!function qI(){Fn.lFrame.currentNamespace=null}()}function i_(s,c){for(let d=c.directiveStart,v=c.directiveEnd;d<v;d++){const A=s.data[d].type.prototype,{ngAfterContentInit:R,ngAfterContentChecked:Z,ngAfterViewInit:X,ngAfterViewChecked:ae,ngOnDestroy:he}=A;R&&(s.contentHooks||(s.contentHooks=[])).push(-d,R),Z&&((s.contentHooks||(s.contentHooks=[])).push(d,Z),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(d,Z)),X&&(s.viewHooks||(s.viewHooks=[])).push(-d,X),ae&&((s.viewHooks||(s.viewHooks=[])).push(d,ae),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(d,ae)),null!=he&&(s.destroyHooks||(s.destroyHooks=[])).push(d,he)}}function Eh(s,c,d){yS(s,c,3,d)}function Ah(s,c,d,v){(3&s[2])===d&&yS(s,c,d,v)}function N0(s,c){let d=s[2];(3&d)===c&&(d&=2047,d+=1,s[2]=d)}function yS(s,c,d,v){const A=v??-1,R=c.length-1;let Z=0;for(let X=void 0!==v?65535&s[18]:0;X<R;X++)if("number"==typeof c[X+1]){if(Z=c[X],null!=v&&Z>=v)break}else c[X]<0&&(s[18]+=65536),(Z<A||-1==A)&&(YI(s,d,c,X),s[18]=(4294901760&s[18])+X+2),X++}function YI(s,c,d,v){const w=d[v]<0,A=d[v+1],Z=s[w?-d[v]:d[v]];if(w){if(s[2]>>11<s[18]>>16&&(3&s[2])===c){s[2]+=2048;try{A.call(Z)}finally{}}}else try{A.call(Z)}finally{}}class Ph{constructor(c,d,v){this.factory=c,this.resolving=!1,this.canSeeViewProviders=d,this.injectImpl=v}}function kh(s,c,d){let v=0;for(;v<d.length;){const w=d[v];if("number"==typeof w){if(0!==w)break;v++;const A=d[v++],R=d[v++],Z=d[v++];s.setAttribute(c,R,Z,A)}else{const A=w,R=d[++v];B0(A)?s.setProperty(c,A,R):s.setAttribute(c,A,R),v++}}return v}function pp(s){return 3===s||4===s||6===s}function B0(s){return 64===s.charCodeAt(0)}function fp(s,c){if(null!==c&&0!==c.length)if(null===s||0===s.length)s=c.slice();else{let d=-1;for(let v=0;v<c.length;v++){const w=c[v];"number"==typeof w?d=w:0===d||U0(s,d,w,null,-1===d||2===d?c[++v]:null)}}return s}function U0(s,c,d,v,w){let A=0,R=s.length;if(-1===c)R=-1;else for(;A<s.length;){const Z=s[A++];if("number"==typeof Z){if(Z===c){R=-1;break}if(Z>c){R=A-1;break}}}for(;A<s.length;){const Z=s[A];if("number"==typeof Z)break;if(Z===d){if(null===v)return void(null!==w&&(s[A+1]=w));if(v===s[A+1])return void(s[A+2]=w)}A++,null!==v&&A++,null!==w&&A++}-1!==R&&(s.splice(R,0,c),A=R+1),s.splice(A++,0,d),null!==v&&s.splice(A++,0,v),null!==w&&s.splice(A++,0,w)}function V0(s){return-1!==s}function yu(s){return 32767&s}function Xs(s,c){let d=function CS(s){return s>>16}(s),v=c;for(;d>0;)v=v[15],d--;return v}let bu=!0;function hp(s){const c=bu;return bu=s,c}let a_=0;const Ca={};function xu(s,c){const d=l_(s,c);if(-1!==d)return d;const v=c[1];v.firstCreatePass&&(s.injectorIndex=c.length,s_(v.data,s),s_(c,null),s_(v.blueprint,null));const w=Fh(s,c),A=s.injectorIndex;if(V0(w)){const R=yu(w),Z=Xs(w,c),X=Z[1].data;for(let ae=0;ae<8;ae++)c[A+ae]=Z[R+ae]|X[R+ae]}return c[A+8]=w,A}function s_(s,c){s.push(0,0,0,0,0,0,0,0,c)}function l_(s,c){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===c[s.injectorIndex+8]?-1:s.injectorIndex}function Fh(s,c){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let d=0,v=null,w=c;for(;null!==w;){if(v=OS(w),null===v)return-1;if(d++,w=w[15],-1!==v.injectorIndex)return v.injectorIndex|d<<16}return-1}function Nh(s,c,d){!function z0(s,c,d){let v;"string"==typeof d?v=d.charCodeAt(0)||0:d.hasOwnProperty(or)&&(v=d[or]),null==v&&(v=d[or]=a_++);const w=255&v;c.data[s+(w>>5)]|=1<<w}(s,c,d)}function c_(s,c,d){if(d&nt.Optional||void 0!==s)return s;ue()}function wS(s,c,d,v){if(d&nt.Optional&&void 0===v&&(v=null),0==(d&(nt.Self|nt.Host))){const w=s[9],A=on(void 0);try{return w?w.get(c,v,d&nt.Optional):At(c,v,d&nt.Optional)}finally{on(A)}}return c_(v,0,d)}function mp(s,c,d,v=nt.Default,w){if(null!==s){if(1024&c[2]){const R=function d_(s,c,d,v,w){let A=s,R=c;for(;null!==A&&null!==R&&1024&R[2]&&!(256&R[2]);){const Z=Lh(A,R,d,v|nt.Self,Ca);if(Z!==Ca)return Z;let X=A.parent;if(!X){const ae=R[21];if(ae){const he=ae.get(d,Ca,v);if(he!==Ca)return he}X=OS(R),R=R[15]}A=X}return w}(s,c,d,v,Ca);if(R!==Ca)return R}const A=Lh(s,c,d,v,Ca);if(A!==Ca)return A}return wS(c,d,v,w)}function Lh(s,c,d,v,w){const A=function SS(s){if("string"==typeof s)return s.charCodeAt(0)||0;const c=s.hasOwnProperty(or)?s[or]:void 0;return"number"==typeof c?c>=0?255&c:DS:c}(d);if("function"==typeof A){if(!fS(c,s,v))return v&nt.Host?c_(w,0,v):wS(c,d,v,w);try{const R=A(v);if(null!=R||v&nt.Optional)return R;ue()}finally{F0()}}else if("number"==typeof A){let R=null,Z=l_(s,c),X=-1,ae=v&nt.Host?c[16][6]:null;for((-1===Z||v&nt.SkipSelf)&&(X=-1===Z?Fh(s,c):c[Z+8],-1!==X&&j0(v,!1)?(R=c[1],Z=yu(X),c=Xs(X,c)):Z=-1);-1!==Z;){const he=c[1];if(H0(A,Z,he.data)){const Me=MS(Z,c,d,R,v,ae);if(Me!==Ca)return Me}X=c[Z+8],-1!==X&&j0(v,c[1].data[Z+8]===ae)&&H0(A,Z,c)?(R=he,Z=yu(X),c=Xs(X,c)):Z=-1}}return w}function MS(s,c,d,v,w,A){const R=c[1],Z=R.data[s+8],he=gp(Z,R,d,null==v?Qs(Z)&&bu:v!=R&&0!=(3&Z.type),w&nt.Host&&A===Z);return null!==he?wu(c,R,he,Z):Ca}function gp(s,c,d,v,w){const A=s.providerIndexes,R=c.data,Z=1048575&A,X=s.directiveStart,he=A>>20,Ze=w?Z+he:s.directiveEnd;for(let it=v?Z:Z+he;it<Ze;it++){const Et=R[it];if(it<X&&d===Et||it>=X&&Et.type===d)return it}if(w){const it=R[X];if(it&&va(it)&&it.type===d)return X}return null}function wu(s,c,d,v){let w=s[d];const A=c.data;if(function GI(s){return s instanceof Ph}(w)){const R=w;R.resolving&&function $(s,c){const d=c?`. Dependency path: ${c.join(" > ")} > ${s}`:"";throw new O(-200,`Circular dependency in DI detected for ${s}${d}`)}(function F(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():P(s)}(A[d]));const Z=hp(R.canSeeViewProviders);R.resolving=!0;const X=R.injectImpl?on(R.injectImpl):null;fS(s,v,nt.Default);try{w=s[d]=R.factory(void 0,A,s,v),c.firstCreatePass&&d>=v.directiveStart&&function vS(s,c,d){const{ngOnChanges:v,ngOnInit:w,ngDoCheck:A}=c.type.prototype;if(v){const R=w0(c);(d.preOrderHooks||(d.preOrderHooks=[])).push(s,R),(d.preOrderCheckHooks||(d.preOrderCheckHooks=[])).push(s,R)}w&&(d.preOrderHooks||(d.preOrderHooks=[])).push(0-s,w),A&&((d.preOrderHooks||(d.preOrderHooks=[])).push(s,A),(d.preOrderCheckHooks||(d.preOrderCheckHooks=[])).push(s,A))}(d,A[d],c)}finally{null!==X&&on(X),hp(Z),R.resolving=!1,F0()}}return w}function H0(s,c,d){return!!(d[c+(s>>5)]&1<<s)}function j0(s,c){return!(s&nt.Self||s&nt.Host&&c)}class Ic{constructor(c,d){this._tNode=c,this._lView=d}get(c,d,v){return mp(this._tNode,this._lView,c,v,d)}}function DS(){return new Ic(Li(),Bt())}function q0(s){return bn(()=>{const c=s.prototype.constructor,d=c[Wn]||u_(c),v=Object.prototype;let w=Object.getPrototypeOf(s.prototype).constructor;for(;w&&w!==v;){const A=w[Wn]||u_(w);if(A&&A!==d)return A;w=Object.getPrototypeOf(w)}return A=>new A})}function u_(s){return _(s)?()=>{const c=u_(g(s));return c&&c()}:Vl(s)}function OS(s){const c=s[1],d=c.type;return 2===d?c.declTNode:1===d?s[6]:null}function Z0(s){return function Rh(s,c){if("class"===c)return s.classes;if("style"===c)return s.styles;const d=s.attrs;if(d){const v=d.length;let w=0;for(;w<v;){const A=d[w];if(pp(A))break;if(0===A)w+=2;else if("number"==typeof A)for(w++;w<v&&"string"==typeof d[w];)w++;else{if(A===c)return d[w+1];w+=2}}}return null}(Li(),s)}const _p="__parameters__";function Fc(s,c,d){return bn(()=>{const v=function p_(s){return function(...d){if(s){const v=s(...d);for(const w in v)this[w]=v[w]}}}(c);function w(...A){if(this instanceof w)return v.apply(this,A),this;const R=new w(...A);return Z.annotation=R,Z;function Z(X,ae,he){const Me=X.hasOwnProperty(_p)?X[_p]:Object.defineProperty(X,_p,{value:[]})[_p];for(;Me.length<=he;)Me.push(null);return(Me[he]=Me[he]||[]).push(R),X}}return d&&(w.prototype=Object.create(d.prototype)),w.prototype.ngMetadataName=s,w.annotationCls=w,w})}class Lr{constructor(c,d){this._desc=c,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof d?this.__NG_ELEMENT_ID__=d:void 0!==d&&(this.\u0275prov=de({token:this,providedIn:d.providedIn||"root",factory:d.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function xo(s,c){void 0===c&&(c=s);for(let d=0;d<s.length;d++){let v=s[d];Array.isArray(v)?(c===s&&(c=s.slice(0,d)),xo(v,c)):c!==s&&c.push(v)}return c}function _s(s,c){s.forEach(d=>Array.isArray(d)?_s(d,c):c(d))}function IS(s,c,d){c>=s.length?s.push(d):s.splice(c,0,d)}function f_(s,c){return c>=s.length-1?s.pop():s.splice(c,1)[0]}function Uh(s,c){const d=[];for(let v=0;v<s;v++)d.push(c);return d}function Qo(s,c,d){let v=yp(s,c);return v>=0?s[1|v]=d:(v=~v,function r2(s,c,d,v){let w=s.length;if(w==c)s.push(d,v);else if(1===w)s.push(v,s[0]),s[0]=d;else{for(w--,s.push(s[w-1],s[w]);w>c;)s[w]=s[w-2],w--;s[c]=d,s[c+1]=v}}(s,v,c,d)),v}function Q0(s,c){const d=yp(s,c);if(d>=0)return s[1|d]}function yp(s,c){return function FS(s,c,d){let v=0,w=s.length>>d;for(;w!==v;){const A=v+(w-v>>1),R=s[A<<d];if(c===R)return A<<d;R>c?w=A:v=A+1}return~(w<<d)}(s,c,1)}const bp={},Su="__NG_DI_FLAG__",Ui="ngTempTokenPath",LS=/\n/gm,X0="__source";let Du;function Ou(s){const c=Du;return Du=s,c}function Cp(s,c=nt.Default){if(void 0===Du)throw new O(-203,!1);return null===Du?At(s,void 0,c):Du.get(s,c&nt.Optional?null:void 0,c)}function xt(s,c=nt.Default){return(function Mn(){return Zt}()||Cp)(g(s),c)}function eb(s,c=nt.Default){return"number"!=typeof c&&(c=0|(c.optional&&8)|(c.host&&1)|(c.self&&2)|(c.skipSelf&&4)),xt(s,c)}function xp(s){const c=[];for(let d=0;d<s.length;d++){const v=g(s[d]);if(Array.isArray(v)){if(0===v.length)throw new O(900,!1);let w,A=nt.Default;for(let R=0;R<v.length;R++){const Z=v[R],X=tb(Z);"number"==typeof X?-1===X?w=Z.token:A|=X:w=Z}c.push(xt(w,A))}else c.push(xt(v))}return c}function Ks(s,c){return s[Su]=c,s.prototype[Su]=c,s}function tb(s){return s[Su]}const uo=Ks(Fc("Inject",s=>({token:s})),-1),wp=Ks(Fc("Optional"),8),zh=Ks(Fc("Self"),2),el=Ks(Fc("SkipSelf"),4);var rl=(()=>((rl=rl||{})[rl.Important=1]="Important",rl[rl.DashCase=2]="DashCase",rl))();const b_=new Map;let cb=0;function C_(s){return b_.get(s)||null}class db{constructor(c,d,v){this.lViewId=c,this.nodeIndex=d,this.native=v}get lView(){return C_(this.lViewId)}}function Ki(s){let c=Op(s);if(c){if(Ri(c)){const d=c;let v,w,A;if(function YS(s){return s&&s.constructor&&s.constructor.\u0275cmp}(s)){if(v=function Ep(s,c){const d=s[1].components;if(d)for(let v=0;v<d.length;v++){const w=d[v];if(Co(w,s)[8]===c)return w}else if(Co(22,s)[8]===c)return 22;return-1}(d,s),-1==v)throw new Error("The provided component was not found in the application");w=s}else if(function pb(s){return s&&s.constructor&&s.constructor.\u0275dir}(s)){if(v=function Ap(s,c){let d=s[1].firstChild;for(;d;){const w=d.directiveEnd;for(let A=d.directiveStart;A<w;A++)if(s[A]===c)return d.index;d=GS(d)}return-1}(d,s),-1==v)throw new Error("The provided directive was not found in the application");A=function x_(s,c,d){const v=c[1].data[s];let w=v.directiveStart;return 0==w?dt:(!d&&2&v.flags&&w++,c.slice(w,v.directiveEnd))}(v,d,!1)}else if(v=jh(d,s),-1==v)return null;const R=Ti(d[v]),Z=Op(R),X=Z&&!Array.isArray(Z)?Z:Pu(d,v,R);if(w&&void 0===X.component&&(X.component=w,Si(X.component,X)),A&&void 0===X.directives){X.directives=A;for(let ae=0;ae<A.length;ae++)Si(A[ae],X)}Si(X.native,X),c=X}}else{const d=s;let v=d;for(;v=v.parentNode;){const w=Op(v);if(w){const A=Array.isArray(w)?w:w.lView;if(!A)return null;const R=jh(A,d);if(R>=0){const Z=Ti(A[R]),X=Pu(A,R,Z);Si(Z,X),c=X;break}}}}return c||null}function Pu(s,c,d){return new db(s[20],c,d)}const Jn="__ngContext__";function Si(s,c){Ri(c)?(s[Jn]=c[20],function qS(s){b_.set(s[20],s)}(c)):s[Jn]=c}function Op(s){const c=s[Jn];return"number"==typeof c?C_(c):c||null}function jh(s,c){const d=s[1];for(let v=22;v<d.bindingStartIndex;v++)if(Ti(s[v])===c)return v;return-1}function GS(s){if(s.child)return s.child;if(s.next)return s.next;for(;s.parent&&!s.parent.next;)s=s.parent;return s.parent&&s.parent.next}function Tu(s,c){return undefined(s,c)}function Tp(s){const c=s[3];return Qi(c)?c[3]:c}function M_(s){return hb(s[13])}function S_(s){return hb(s[4])}function hb(s){for(;null!==s&&!Qi(s);)s=s[4];return s}function Iu(s,c,d,v,w){if(null!=v){let A,R=!1;Qi(v)?A=v:Ri(v)&&(R=!0,v=v[0]);const Z=Ti(v);0===s&&null!==d?null==w?vb(c,d,Z):Gl(c,d,Z,w||null,!0):1===s&&null!==d?Gl(c,d,Z,w||null,!0):2===s?function T_(s,c,d){const v=Nu(s,c);v&&function Np(s,c,d,v){s.removeChild(c,d,v)}(s,v,c,d)}(c,Z,R):3===s&&c.destroyNode(Z),null!=A&&function rD(s,c,d,v,w){const A=d[7];A!==Ti(d)&&Iu(c,s,v,A,w);for(let Z=10;Z<d.length;Z++){const X=d[Z];Bp(X[1],X,s,c,v,A)}}(c,s,A,d,w)}}function il(s,c,d){return s.createElement(c,d)}function ku(s,c){const d=s[9],v=d.indexOf(c),w=c[3];512&c[2]&&(c[2]&=-513,Kg(w,-1)),d.splice(v,1)}function Yl(s,c){if(s.length<=10)return;const d=10+c,v=s[d];if(v){const w=v[17];null!==w&&w!==s&&ku(w,v),c>0&&(s[d-1][4]=v[4]);const A=f_(s,10+c);!function D_(s,c){Bp(s,c,c[11],2,null,null),c[0]=null,c[6]=null}(v[1],v);const R=A[19];null!==R&&R.detachView(A[1]),v[3]=null,v[4]=null,v[2]&=-65}return v}function O_(s,c){if(!(128&c[2])){const d=c[11];d.destroyNode&&Bp(s,c,d,3,null,null),function KS(s){let c=s[13];if(!c)return Yh(s[1],s);for(;c;){let d=null;if(Ri(c))d=c[13];else{const v=c[10];v&&(d=v)}if(!d){for(;c&&!c[4]&&c!==s;)Ri(c)&&Yh(c[1],c),c=c[3];null===c&&(c=s),Ri(c)&&Yh(c[1],c),d=c&&c[4]}c=d}}(c)}}function Yh(s,c){if(!(128&c[2])){c[2]&=-65,c[2]|=128,function Fu(s,c){let d;if(null!=s&&null!=(d=s.destroyHooks))for(let v=0;v<d.length;v+=2){const w=c[d[v]];if(!(w instanceof Ph)){const A=d[v+1];if(Array.isArray(A))for(let R=0;R<A.length;R+=2){const Z=w[A[R]],X=A[R+1];try{X.call(Z)}finally{}}else try{A.call(w)}finally{}}}}(s,c),function mb(s,c){const d=s.cleanup,v=c[7];let w=-1;if(null!==d)for(let A=0;A<d.length-1;A+=2)if("string"==typeof d[A]){const R=d[A+1],Z="function"==typeof R?R(c):Ti(c[R]),X=v[w=d[A+2]],ae=d[A+3];"boolean"==typeof ae?Z.removeEventListener(d[A],X,ae):ae>=0?v[w=ae]():v[w=-ae].unsubscribe(),A+=2}else{const R=v[w=d[A+1]];d[A].call(R)}if(null!==v){for(let A=w+1;A<v.length;A++)(0,v[A])();c[7]=null}}(s,c),1===c[1].type&&c[11].destroy();const d=c[17];if(null!==d&&Qi(c[3])){d!==c[3]&&ku(d,c);const v=c[19];null!==v&&v.detachView(s)}!function ZS(s){b_.delete(s[20])}(c)}}function gb(s,c,d){return function _b(s,c,d){let v=c;for(;null!==v&&40&v.type;)v=(c=v).parent;if(null===v)return d[0];if(2&v.flags){const w=s.data[v.directiveStart].encapsulation;if(w===we.None||w===we.Emulated)return null}return Wo(v,d)}(s,c.parent,d)}function Gl(s,c,d,v,w){s.insertBefore(c,d,v,w)}function vb(s,c,d){s.appendChild(c,d)}function Gh(s,c,d,v,w){null!==v?Gl(s,c,d,v,w):vb(s,c,d)}function Nu(s,c){return s.parentNode(c)}function E_(s,c,d){return bs(s,c,d)}let Up,$h,zi,bs=function A_(s,c,d){return 40&s.type?Wo(s,d):null};function Lc(s,c,d,v){const w=gb(s,v,c),A=c[11],Z=E_(v.parent||c[6],v,c);if(null!=w)if(Array.isArray(d))for(let X=0;X<d.length;X++)Gh(A,w,d[X],Z,!1);else Gh(A,w,d,Z,!1)}function Lp(s,c){if(null!==c){const d=c.type;if(3&d)return Wo(c,s);if(4&d)return P_(-1,s[c.index]);if(8&d){const v=c.child;if(null!==v)return Lp(s,v);{const w=s[c.index];return Qi(w)?P_(-1,w):Ti(w)}}if(32&d)return Tu(c,s)()||Ti(s[c.index]);{const v=yb(s,c);return null!==v?Array.isArray(v)?v[0]:Lp(Tp(s[16]),v):Lp(s,c.next)}}return null}function yb(s,c){return null!==c?s[16][6].projection[c.projection]:null}function P_(s,c){const d=10+s+1;if(d<c.length){const v=c[d],w=v[1].firstChild;if(null!==w)return Lp(v,w)}return c[7]}function I_(s,c,d,v,w,A,R){for(;null!=d;){const Z=v[d.index],X=d.type;if(R&&0===c&&(Z&&Si(Ti(Z),v),d.flags|=4),64!=(64&d.flags))if(8&X)I_(s,c,d.child,v,w,A,!1),Iu(c,s,w,Z,A);else if(32&X){const ae=Tu(d,v);let he;for(;he=ae();)Iu(c,s,w,he,A);Iu(c,s,w,Z,A)}else 16&X?bb(s,c,v,d,w,A):Iu(c,s,w,Z,A);d=R?d.projectionNext:d.next}}function Bp(s,c,d,v,w,A){I_(d,v,s.firstChild,c,w,A,!1)}function bb(s,c,d,v,w,A){const R=d[16],X=R[6].projection[v.projection];if(Array.isArray(X))for(let ae=0;ae<X.length;ae++)Iu(c,s,w,X[ae],A);else I_(s,c,X,R[3],w,A,!0)}function Cb(s,c,d){s.setAttribute(c,"style",d)}function k_(s,c,d){""===d?s.removeAttribute(c,"class"):s.setAttribute(c,"class",d)}function Wl(s){return function F_(){if(void 0===Up&&(Up=null,je.trustedTypes))try{Up=je.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return Up}()?.createHTML(s)||s}function xb(s){$h=s}function Mb(s){return function Wh(){if(void 0===zi&&(zi=null,je.trustedTypes))try{zi=je.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return zi}()?.createHTML(s)||s}class ol{constructor(c){this.changingThisBreaksApplicationSecurity=c}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Sb extends ol{getTypeName(){return"HTML"}}class B_ extends ol{getTypeName(){return"Style"}}class U_ extends ol{getTypeName(){return"Script"}}class oD extends ol{getTypeName(){return"URL"}}class zp extends ol{getTypeName(){return"ResourceURL"}}function al(s){return s instanceof ol?s.changingThisBreaksApplicationSecurity:s}function Lu(s,c){const d=function V_(s){return s instanceof ol&&s.getTypeName()||null}(s);if(null!=d&&d!==c){if("ResourceURL"===d&&"URL"===c)return!0;throw new Error(`Required a safe ${c}, got a ${d} (see https://g.co/ng/security#xss)`)}return d===c}function Db(s){return new Sb(s)}function Ob(s){return new B_(s)}function Eb(s){return new U_(s)}function Ab(s){return new oD(s)}function aD(s){return new zp(s)}class Qh{constructor(c){this.inertDocumentHelper=c}getInertBodyElement(c){c="<body><remove></remove>"+c;try{const d=(new window.DOMParser).parseFromString(Wl(c),"text/html").body;return null===d?this.inertDocumentHelper.getInertBodyElement(c):(d.removeChild(d.firstChild),d)}catch{return null}}}class z_{constructor(c){if(this.defaultDoc=c,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const d=this.inertDocument.createElement("html");this.inertDocument.appendChild(d);const v=this.inertDocument.createElement("body");d.appendChild(v)}}getInertBodyElement(c){const d=this.inertDocument.createElement("template");if("content"in d)return d.innerHTML=Wl(c),d;const v=this.inertDocument.createElement("body");return v.innerHTML=Wl(c),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(v),v}stripCustomNsAttrs(c){const d=c.attributes;for(let w=d.length-1;0<w;w--){const R=d.item(w).name;("xmlns:ns1"===R||0===R.indexOf("ns1:"))&&c.removeAttribute(R)}let v=c.firstChild;for(;v;)v.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(v),v=v.nextSibling}}const lD=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function Uu(s){return(s=String(s)).match(lD)?s:"unsafe:"+s}function Cs(s){const c={};for(const d of s.split(","))c[d]=!0;return c}function Jh(...s){const c={};for(const d of s)for(const v in d)d.hasOwnProperty(v)&&(c[v]=!0);return c}const cD=Cs("area,br,col,hr,img,wbr"),uD=Cs("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),dD=Cs("rp,rt"),H_=Jh(cD,Jh(uD,Cs("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Jh(dD,Cs("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Jh(dD,uD)),Hp=Cs("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Vu=Jh(Hp,Cs("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Cs("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),fD=Cs("script,style,template");class hD{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(c){let d=c.firstChild,v=!0;for(;d;)if(d.nodeType===Node.ELEMENT_NODE?v=this.startElement(d):d.nodeType===Node.TEXT_NODE?this.chars(d.nodeValue):this.sanitizedSomething=!0,v&&d.firstChild)d=d.firstChild;else for(;d;){d.nodeType===Node.ELEMENT_NODE&&this.endElement(d);let w=this.checkClobberedElement(d,d.nextSibling);if(w){d=w;break}d=this.checkClobberedElement(d,d.parentNode)}return this.buf.join("")}startElement(c){const d=c.nodeName.toLowerCase();if(!H_.hasOwnProperty(d))return this.sanitizedSomething=!0,!fD.hasOwnProperty(d);this.buf.push("<"),this.buf.push(d);const v=c.attributes;for(let w=0;w<v.length;w++){const A=v.item(w),R=A.name,Z=R.toLowerCase();if(!Vu.hasOwnProperty(Z)){this.sanitizedSomething=!0;continue}let X=A.value;Hp[Z]&&(X=Uu(X)),this.buf.push(" ",R,'="',Ib(X),'"')}return this.buf.push(">"),!0}endElement(c){const d=c.nodeName.toLowerCase();H_.hasOwnProperty(d)&&!cD.hasOwnProperty(d)&&(this.buf.push("</"),this.buf.push(d),this.buf.push(">"))}chars(c){this.buf.push(Ib(c))}checkClobberedElement(c,d){if(d&&(c.compareDocumentPosition(d)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${c.outerHTML}`);return d}}const Tb=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Xh=/([^\#-~ |!])/g;function Ib(s){return s.replace(/&/g,"&amp;").replace(Tb,function(c){return"&#"+(1024*(c.charCodeAt(0)-55296)+(c.charCodeAt(1)-56320)+65536)+";"}).replace(Xh,function(c){return"&#"+c.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Kh;function Bc(s,c){let d=null;try{Kh=Kh||function Bu(s){const c=new z_(s);return function sD(){try{return!!(new window.DOMParser).parseFromString(Wl(""),"text/html")}catch{return!1}}()?new Qh(c):c}(s);let v=c?String(c):"";d=Kh.getInertBodyElement(v);let w=5,A=v;do{if(0===w)throw new Error("Failed to sanitize html because the input is unstable");w--,v=A,A=d.innerHTML,d=Kh.getInertBodyElement(v)}while(v!==A);return Wl((new hD).sanitizeChildren(Uc(d)||d))}finally{if(d){const v=Uc(d)||d;for(;v.firstChild;)v.removeChild(v.firstChild)}}}function Uc(s){return"content"in s&&function mD(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var yi=(()=>((yi=yi||{})[yi.NONE=0]="NONE",yi[yi.HTML=1]="HTML",yi[yi.STYLE=2]="STYLE",yi[yi.SCRIPT=3]="SCRIPT",yi[yi.URL=4]="URL",yi[yi.RESOURCE_URL=5]="RESOURCE_URL",yi))();function zu(s){const c=Jl();return c?Mb(c.sanitize(yi.HTML,s)||""):Lu(s,"HTML")?Mb(al(s)):Bc(function wb(){return void 0!==$h?$h:typeof document<"u"?document:void 0}(),P(s))}function j_(s){const c=Jl();return c?c.sanitize(yi.URL,s)||"":Lu(s,"URL")?al(s):Uu(P(s))}function Jl(){const s=Bt();return s&&s[12]}const Xl=new Lr("ENVIRONMENT_INITIALIZER"),Nb=new Lr("INJECTOR",-1),Rb=new Lr("INJECTOR_DEF_TYPES");class Lb{get(c,d=bp){if(d===bp){const v=new Error(`NullInjectorError: No provider for ${x(c)}!`);throw v.name="NullInjectorError",v}return d}}function bD(...s){return{\u0275providers:Bb(0,s)}}function Bb(s,...c){const d=[],v=new Set;let w;return _s(c,A=>{const R=A;q_(R,d,[],v)&&(w||(w=[]),w.push(R))}),void 0!==w&&Ub(w,d),d}function Ub(s,c){for(let d=0;d<s.length;d++){const{providers:w}=s[d];_s(w,A=>{c.push(A)})}}function q_(s,c,d,v){if(!(s=g(s)))return!1;let w=null,A=ot(s);const R=!A&&Mr(s);if(A||R){if(R&&!R.standalone)return!1;w=s}else{const X=s.ngModule;if(A=ot(X),!A)return!1;w=X}const Z=v.has(w);if(R){if(Z)return!1;if(v.add(w),R.dependencies){const X="function"==typeof R.dependencies?R.dependencies():R.dependencies;for(const ae of X)q_(ae,c,d,v)}}else{if(!A)return!1;{if(null!=A.imports&&!Z){let ae;v.add(w);try{_s(A.imports,he=>{q_(he,c,d,v)&&(ae||(ae=[]),ae.push(he))})}finally{}void 0!==ae&&Ub(ae,c)}if(!Z){const ae=Vl(w)||(()=>new w);c.push({provide:w,useFactory:ae,deps:dt},{provide:Rb,useValue:w,multi:!0},{provide:Xl,useValue:()=>xt(w),multi:!0})}const X=A.providers;null==X||Z||_s(X,he=>{c.push(he)})}}return w!==s&&void 0!==s.providers}const CD=Ge({provide:String,useValue:Ge});function em(s){return null!==s&&"object"==typeof s&&CD in s}function Kl(s){return"function"==typeof s}const Hu=new Lr("Set Injector scope."),nm={},xD={};let Y_;function rm(){return void 0===Y_&&(Y_=new Lb),Y_}class xs{}class G_ extends xs{constructor(c,d,v,w){super(),this.parent=d,this.source=v,this.scopes=w,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,W_(c,R=>this.processProvider(R)),this.records.set(Nb,ws(void 0,this)),w.has("environment")&&this.records.set(xs,ws(void 0,this));const A=this.records.get(Hu);null!=A&&"string"==typeof A.value&&this.scopes.add(A.value),this.injectorDefTypes=new Set(this.get(Rb.multi,dt,nt.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const c of this._ngOnDestroyHooks)c.ngOnDestroy();for(const c of this._onDestroyHooks)c()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(c){this._onDestroyHooks.push(c)}runInContext(c){this.assertNotDestroyed();const d=Ou(this),v=on(void 0);try{return c()}finally{Ou(d),on(v)}}get(c,d=bp,v=nt.Default){this.assertNotDestroyed();const w=Ou(this),A=on(void 0);try{if(!(v&nt.SkipSelf)){let Z=this.records.get(c);if(void 0===Z){const X=function MD(s){return"function"==typeof s||"object"==typeof s&&s instanceof Lr}(c)&&pt(c);Z=X&&this.injectableDefInScope(X)?ws(im(c),nm):null,this.records.set(c,Z)}if(null!=Z)return this.hydrate(c,Z)}return(v&nt.Self?rm():this.parent).get(c,d=v&nt.Optional&&d===bp?null:d)}catch(R){if("NullInjectorError"===R.name){if((R[Ui]=R[Ui]||[]).unshift(x(c)),w)throw R;return function Vi(s,c,d,v){const w=s[Ui];throw c[X0]&&w.unshift(c[X0]),s.message=function US(s,c,d,v=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.slice(2):s;let w=x(c);if(Array.isArray(c))w=c.map(x).join(" -> ");else if("object"==typeof c){let A=[];for(let R in c)if(c.hasOwnProperty(R)){let Z=c[R];A.push(R+":"+("string"==typeof Z?JSON.stringify(Z):x(Z)))}w=`{${A.join(", ")}}`}return`${d}${v?"("+v+")":""}[${w}]: ${s.replace(LS,"\n  ")}`}("\n"+s.message,w,d,v),s.ngTokenPath=w,s[Ui]=null,s}(R,c,"R3InjectorError",this.source)}throw R}finally{on(A),Ou(w)}}resolveInjectorInitializers(){const c=Ou(this),d=on(void 0);try{const v=this.get(Xl.multi,dt,nt.Self);for(const w of v)w()}finally{Ou(c),on(d)}}toString(){const c=[],d=this.records;for(const v of d.keys())c.push(x(v));return`R3Injector[${c.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new O(205,!1)}processProvider(c){let d=Kl(c=g(c))?c:g(c&&c.provide);const v=function am(s){return em(s)?ws(void 0,s.useValue):ws($_(s),nm)}(c);if(Kl(c)||!0!==c.multi)this.records.get(d);else{let w=this.records.get(d);w||(w=ws(void 0,nm,!0),w.factory=()=>xp(w.multi),this.records.set(d,w)),d=c,w.multi.push(c)}this.records.set(d,v)}hydrate(c,d){return d.value===nm&&(d.value=xD,d.value=d.factory()),"object"==typeof d.value&&d.value&&function wD(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(d.value)&&this._ngOnDestroyHooks.add(d.value),d.value}injectableDefInScope(c){if(!c.providedIn)return!1;const d=g(c.providedIn);return"string"==typeof d?"any"===d||this.scopes.has(d):this.injectorDefTypes.has(d)}}function im(s){const c=pt(s),d=null!==c?c.factory:Vl(s);if(null!==d)return d;if(s instanceof Lr)throw new O(204,!1);if(s instanceof Function)return function om(s){const c=s.length;if(c>0)throw Uh(c,"?"),new O(204,!1);const d=function It(s){const c=s&&(s[Xe]||s[Mt]);if(c){const d=function jt(s){if(s.hasOwnProperty("name"))return s.name;const c=(""+s).match(/^function\s*([^\s(]+)/);return null===c?"":c[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${d}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${d}" class.`),c}return null}(s);return null!==d?()=>d.factory(s):()=>new s}(s);throw new O(204,!1)}function $_(s,c,d){let v;if(Kl(s)){const w=g(s);return Vl(w)||im(w)}if(em(s))v=()=>g(s.useValue);else if(function tm(s){return!(!s||!s.useFactory)}(s))v=()=>s.useFactory(...xp(s.deps||[]));else if(function Vb(s){return!(!s||!s.useExisting)}(s))v=()=>xt(g(s.useExisting));else{const w=g(s&&(s.useClass||s.provide));if(!function zb(s){return!!s.deps}(s))return Vl(w)||im(w);v=()=>new w(...xp(s.deps))}return v}function ws(s,c,d=!1){return{factory:s,value:c,multi:d?[]:void 0}}function SD(s){return!!s.\u0275providers}function W_(s,c){for(const d of s)Array.isArray(d)?W_(d,c):SD(d)?W_(d.\u0275providers,c):c(d)}class qp{}class ED{resolveComponentFactory(c){throw function OD(s){const c=Error(`No component factory found for ${x(s)}. Did you add it to @NgModule.entryComponents?`);return c.ngComponent=s,c}(c)}}let Zp=(()=>{class s{}return s.NULL=new ED,s})();function AD(){return ju(Li(),Bt())}function ju(s,c){return new qu(Wo(s,c))}let qu=(()=>{class s{constructor(d){this.nativeElement=d}}return s.__NG_ELEMENT_ID__=AD,s})();function PD(s){return s instanceof qu?s.nativeElement:s}class Q_{}let jb=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function qb(){const s=Bt(),d=Co(Li().index,s);return(Ri(d)?d:s)[11]}(),s})(),Zb=(()=>{class s{}return s.\u0275prov=de({token:s,providedIn:"root",factory:()=>null}),s})();class Yb{constructor(c){this.full=c,this.major=c.split(".")[0],this.minor=c.split(".")[1],this.patch=c.split(".").slice(2).join(".")}}const ID=new Yb("14.3.0"),J_={};function K_(s){return s.ngOriginalError}class Zu{constructor(){this._console=console}handleError(c){const d=this._findOriginalError(c);this._console.error("ERROR",c),d&&this._console.error("ORIGINAL ERROR",d)}_findOriginalError(c){let d=c&&K_(c);for(;d&&K_(d);)d=K_(d);return d||null}}function Wb(s){return s.ownerDocument.defaultView}function Ma(s){return s instanceof Function?s():s}function Kb(s,c,d){let v=s.length;for(;;){const w=s.indexOf(c,d);if(-1===w)return w;if(0===w||s.charCodeAt(w-1)<=32){const A=c.length;if(w+A===v||s.charCodeAt(w+A)<=32)return w}d=w+1}}const eC="ng-template";function RD(s,c,d){let v=0;for(;v<s.length;){let w=s[v++];if(d&&"class"===w){if(w=s[v],-1!==Kb(w.toLowerCase(),c,0))return!0}else if(1===w){for(;v<s.length&&"string"==typeof(w=s[v++]);)if(w.toLowerCase()===c)return!0;return!1}}return!1}function tC(s){return 4===s.type&&s.value!==eC}function nC(s,c,d){return c===(4!==s.type||d?s.value:eC)}function ti(s,c,d){let v=4;const w=s.attrs||[],A=function LD(s){for(let c=0;c<s.length;c++)if(pp(s[c]))return c;return s.length}(w);let R=!1;for(let Z=0;Z<c.length;Z++){const X=c[Z];if("number"!=typeof X){if(!R)if(4&v){if(v=2|1&v,""!==X&&!nC(s,X,d)||""===X&&1===c.length){if($a(v))return!1;R=!0}}else{const ae=8&v?X:c[++Z];if(8&v&&null!==s.attrs){if(!RD(s.attrs,ae,d)){if($a(v))return!1;R=!0}continue}const Me=rC(8&v?"class":X,w,tC(s),d);if(-1===Me){if($a(v))return!1;R=!0;continue}if(""!==ae){let Ze;Ze=Me>A?"":w[Me+1].toLowerCase();const it=8&v?Ze:null;if(it&&-1!==Kb(it,ae,0)||2&v&&ae!==Ze){if($a(v))return!1;R=!0}}}}else{if(!R&&!$a(v)&&!$a(X))return!1;if(R&&$a(X))continue;R=!1,v=X|1&v}}return $a(v)||R}function $a(s){return 0==(1&s)}function rC(s,c,d,v){if(null===c)return-1;let w=0;if(v||!d){let A=!1;for(;w<c.length;){const R=c[w];if(R===s)return w;if(3===R||6===R)A=!0;else{if(1===R||2===R){let Z=c[++w];for(;"string"==typeof Z;)Z=c[++w];continue}if(4===R)break;if(0===R){w+=4;continue}}w+=A?1:2}return-1}return function BD(s,c){let d=s.indexOf(4);if(d>-1)for(d++;d<s.length;){const v=s[d];if("number"==typeof v)return-1;if(v===c)return d;d++}return-1}(c,s)}function sl(s,c,d=!1){for(let v=0;v<c.length;v++)if(ti(s,c[v],d))return!0;return!1}function iC(s,c){e:for(let d=0;d<c.length;d++){const v=c[d];if(s.length===v.length){for(let w=0;w<s.length;w++)if(s[w]!==v[w])continue e;return!0}}return!1}function UD(s,c){return s?":not("+c.trim()+")":c}function C2(s){let c=s[0],d=1,v=2,w="",A=!1;for(;d<s.length;){let R=s[d];if("string"==typeof R)if(2&v){const Z=s[++d];w+="["+R+(Z.length>0?'="'+Z+'"':"")+"]"}else 8&v?w+="."+R:4&v&&(w+=" "+R);else""!==w&&!$a(R)&&(c+=UD(A,w),w=""),v=R,A=A||!$a(v);d++}return""!==w&&(c+=UD(A,w)),c}const Un={};function Yp(s){zD(vr(),Bt(),ko()+s,!1)}function zD(s,c,d,v){if(!v)if(3==(3&c[2])){const A=s.preOrderCheckHooks;null!==A&&Eh(c,A,d)}else{const A=s.preOrderHooks;null!==A&&Ah(c,A,0,d)}Pc(d)}function aC(s,c=null,d=null,v){const w=cv(s,c,d,v);return w.resolveInjectorInitializers(),w}function cv(s,c=null,d=null,v,w=new Set){const A=[d||dt,bD(s)];return v=v||("object"==typeof s?void 0:x(s)),new G_(A,c||rm(),v||null,w)}let Vc=(()=>{class s{static create(d,v){if(Array.isArray(d))return aC({name:""},v,d,"");{const w=d.name??"";return aC({name:w},d.parent,d.providers,w)}}}return s.THROW_IF_NOT_FOUND=bp,s.NULL=new Lb,s.\u0275prov=de({token:s,providedIn:"any",factory:()=>xt(Nb)}),s.__NG_ELEMENT_ID__=-1,s})();function cl(s,c=nt.Default){const d=Bt();return null===d?xt(s,c):mp(Li(),d,g(s),c)}function $D(){throw new Error("invalid")}function Gp(s,c){return s<<17|c<<2}function Wa(s){return s>>17&32767}function lm(s){return 2|s}function ul(s){return(131068&s)>>2}function fv(s,c){return-131069&s|c<<2}function eo(s){return 1|s}function EC(s,c){const d=s.contentQueries;if(null!==d)for(let v=0;v<d.length;v+=2){const w=d[v],A=d[v+1];if(-1!==A){const R=s.data[A];Ac(w),R.contentQueries(2,c[A],A)}}}function Hc(s,c,d,v,w,A,R,Z,X,ae,he){const Me=c.blueprint.slice();return Me[0]=w,Me[2]=76|v,(null!==he||s&&1024&s[2])&&(Me[2]|=1024),cp(Me),Me[3]=Me[15]=s,Me[8]=d,Me[10]=R||s&&s[10],Me[11]=Z||s&&s[11],Me[12]=X||s&&s[12]||null,Me[9]=ae||s&&s[9]||null,Me[6]=A,Me[20]=function ub(){return cb++}(),Me[21]=he,Me[16]=2==c.type?s[16]:Me,Me}function jc(s,c,d,v,w){let A=s.data[c];if(null===A)A=function bv(s,c,d,v,w){const A=T0(),R=e_(),X=s.data[c]=function FC(s,c,d,v,w,A){return{type:d,index:v,insertBeforeIndex:null,injectorIndex:c?c.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:w,attrs:A,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:c,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,R?A:A&&A.parent,d,c,v,w);return null===s.firstChild&&(s.firstChild=X),null!==A&&(R?null==A.child&&null!==X.parent&&(A.child=X):null===A.next&&(A.next=X)),X}(s,c,d,v,w),function BI(){return Fn.lFrame.inI18n}()&&(A.flags|=64);else if(64&A.type){A.type=d,A.value=v,A.attrs=w;const R=function up(){const s=Fn.lFrame,c=s.currentTNode;return s.isParent?c:c.parent}();A.injectorIndex=null===R?-1:R.injectorIndex}return gs(A,!0),A}function Ju(s,c,d,v){if(0===d)return-1;const w=c.length;for(let A=0;A<d;A++)c.push(v),s.blueprint.push(v),s.data.push(null);return w}function Cv(s,c,d){Dh(c);try{const v=s.viewQuery;null!==v&&tc(1,v,d);const w=s.template;null!==w&&AC(s,c,w,1,d),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&EC(s,c),s.staticViewQueries&&tc(2,s.viewQuery,d);const A=s.components;null!==A&&function oO(s,c){for(let d=0;d<c.length;d++)dl(s,c[d])}(c,A)}catch(v){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),v}finally{c[2]&=-5,Oh()}}function Jp(s,c,d,v){const w=c[2];if(128!=(128&w)){Dh(c);try{cp(c),function dS(s){return Fn.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==d&&AC(s,c,d,2,v);const R=3==(3&w);if(R){const ae=s.preOrderCheckHooks;null!==ae&&Eh(c,ae,null)}else{const ae=s.preOrderHooks;null!==ae&&Ah(c,ae,0,null),N0(c,0)}if(function fO(s){for(let c=M_(s);null!==c;c=S_(c)){if(!c[2])continue;const d=c[9];for(let v=0;v<d.length;v++){const w=d[v],A=w[3];0==(512&w[2])&&Kg(A,1),w[2]|=512}}}(c),function Sa(s){for(let c=M_(s);null!==c;c=S_(c))for(let d=10;d<c.length;d++){const v=c[d],w=v[1];Mh(v)&&Jp(w,v,w.template,v[8])}}(c),null!==s.contentQueries&&EC(s,c),R){const ae=s.contentCheckHooks;null!==ae&&Eh(c,ae)}else{const ae=s.contentHooks;null!==ae&&Ah(c,ae,1),N0(c,1)}!function yv(s,c){const d=s.hostBindingOpCodes;if(null!==d)try{for(let v=0;v<d.length;v++){const w=d[v];if(w<0)Pc(~w);else{const A=w,R=d[++v],Z=d[++v];UI(R,A),Z(2,c[A])}}}finally{Pc(-1)}}(s,c);const Z=s.components;null!==Z&&function iO(s,c){for(let d=0;d<c.length;d++)_m(s,c[d])}(c,Z);const X=s.viewQuery;if(null!==X&&tc(2,X,v),R){const ae=s.viewCheckHooks;null!==ae&&Eh(c,ae)}else{const ae=s.viewHooks;null!==ae&&Ah(c,ae,2),N0(c,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),c[2]&=-41,512&c[2]&&(c[2]&=-513,Kg(c[3],-1))}finally{Oh()}}}function AC(s,c,d,v,w){const A=ko(),R=2&v;try{Pc(-1),R&&c.length>22&&zD(s,c,22,!1),d(v,w)}finally{Pc(A)}}function PC(s,c,d){if(qa(c)){const w=c.directiveEnd;for(let A=c.directiveStart;A<w;A++){const R=s.data[A];R.contentQueries&&R.contentQueries(1,d[A],A)}}}function po(s,c,d){!E0()||(function lO(s,c,d,v){const w=d.directiveStart,A=d.directiveEnd;s.firstCreatePass||xu(d,c),Si(v,c);const R=d.initialInputs;for(let Z=w;Z<A;Z++){const X=s.data[Z],ae=va(X);ae&&pO(c,d,X);const he=wu(c,s,Z,d);Si(he,c),null!==R&&gm(0,Z-w,he,X,0,R),ae&&(Co(d.index,c)[8]=he)}}(s,c,d,Wo(d,c)),128==(128&d.flags)&&function qc(s,c,d){const v=d.directiveStart,w=d.directiveEnd,A=d.index,R=function k0(){return Fn.lFrame.currentDirectiveIndex}();try{Pc(A);for(let Z=v;Z<w;Z++){const X=s.data[Z],ae=c[Z];t_(Z),(null!==X.hostBindings||0!==X.hostVars||null!==X.hostAttrs)&&LC(X,ae)}}finally{Pc(-1),t_(R)}}(s,c,d))}function pm(s,c,d=Wo){const v=c.localNames;if(null!==v){let w=c.index+1;for(let A=0;A<v.length;A+=2){const R=v[A+1],Z=-1===R?d(c,s):s[R];s[w++]=Z}}}function fm(s){const c=s.tView;return null===c||c.incompleteFirstPass?s.tView=hm(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):c}function hm(s,c,d,v,w,A,R,Z,X,ae){const he=22+v,Me=he+w,Ze=function TC(s,c){const d=[];for(let v=0;v<c;v++)d.push(v<s?null:Un);return d}(he,Me),it="function"==typeof ae?ae():ae;return Ze[1]={type:s,blueprint:Ze,template:d,queries:null,viewQuery:Z,declTNode:c,data:Ze.slice().fill(null,he),bindingStartIndex:he,expandoStartIndex:Me,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof A?A():A,pipeRegistry:"function"==typeof R?R():R,firstChild:null,schemas:X,consts:it,incompleteFirstPass:!1}}function xv(s,c,d,v){const w=BC(c);null===d?w.push(v):(w.push(d),s.firstCreatePass&&UC(s).push(v,w.length-1))}function mm(s,c,d){for(let v in s)if(s.hasOwnProperty(v)){const w=s[v];(d=null===d?{}:d).hasOwnProperty(v)?d[v].push(c,w):d[v]=[c,w]}return d}function wv(s,c){const v=c.directiveEnd,w=s.data,A=c.attrs,R=[];let Z=null,X=null;for(let ae=c.directiveStart;ae<v;ae++){const he=w[ae],Me=he.inputs,Ze=null===A||tC(c)?null:to(Me,A);R.push(Ze),Z=mm(Me,ae,Z),X=mm(he.outputs,ae,X)}null!==Z&&(Z.hasOwnProperty("class")&&(c.flags|=16),Z.hasOwnProperty("style")&&(c.flags|=32)),c.initialInputs=R,c.inputs=Z,c.outputs=X}function Xo(s,c,d,v,w,A,R,Z){const X=Wo(c,d);let he,ae=c.inputs;!Z&&null!=ae&&(he=ae[v])?(Zc(s,d,he,v,w),Qs(c)&&NC(d,c.index)):3&c.type&&(v=function Mv(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(v),w=null!=R?R(w,c.value||"",v):w,A.setProperty(X,v,w))}function NC(s,c){const d=Co(c,s);16&d[2]||(d[2]|=32)}function Sv(s,c,d,v){let w=!1;if(E0()){const A=function Dv(s,c,d){const v=s.directiveRegistry;let w=null;if(v)for(let A=0;A<v.length;A++){const R=v[A];sl(d,R.selectors,!1)&&(w||(w=[]),Nh(xu(d,c),s,R.type),va(R)?(Ku(s,d),w.unshift(R)):w.push(R))}return w}(s,c,d),R=null===v?null:{"":-1};if(null!==A){w=!0,dO(d,s.data.length,A.length);for(let he=0;he<A.length;he++){const Me=A[he];Me.providersResolver&&Me.providersResolver(Me)}let Z=!1,X=!1,ae=Ju(s,c,A.length,null);for(let he=0;he<A.length;he++){const Me=A[he];d.mergedAttrs=fp(d.mergedAttrs,Me.hostAttrs),un(s,d,c,ae,Me),uO(ae,Me,R),null!==Me.contentQueries&&(d.flags|=8),(null!==Me.hostBindings||null!==Me.hostAttrs||0!==Me.hostVars)&&(d.flags|=128);const Ze=Me.type.prototype;!Z&&(Ze.ngOnChanges||Ze.ngOnInit||Ze.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(d.index),Z=!0),!X&&(Ze.ngOnChanges||Ze.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(d.index),X=!0),ae++}wv(s,d)}R&&function cO(s,c,d){if(c){const v=s.localNames=[];for(let w=0;w<c.length;w+=2){const A=d[c[w+1]];if(null==A)throw new O(-301,!1);v.push(c[w],A)}}}(d,v,R)}return d.mergedAttrs=fp(d.mergedAttrs,d.attrs),w}function Xu(s,c,d,v,w,A){const R=A.hostBindings;if(R){let Z=s.hostBindingOpCodes;null===Z&&(Z=s.hostBindingOpCodes=[]);const X=~c.index;(function RC(s){let c=s.length;for(;c>0;){const d=s[--c];if("number"==typeof d&&d<0)return d}return 0})(Z)!=X&&Z.push(X),Z.push(v,w,R)}}function LC(s,c){null!==s.hostBindings&&s.hostBindings(1,c)}function Ku(s,c){c.flags|=2,(s.components||(s.components=[])).push(c.index)}function uO(s,c,d){if(d){if(c.exportAs)for(let v=0;v<c.exportAs.length;v++)d[c.exportAs[v]]=s;va(c)&&(d[""]=s)}}function dO(s,c,d){s.flags|=1,s.directiveStart=c,s.directiveEnd=c+d,s.providerIndexes=c}function un(s,c,d,v,w){s.data[v]=w;const A=w.factory||(w.factory=Vl(w.type)),R=new Ph(A,va(w),cl);s.blueprint[v]=R,d[v]=R,Xu(s,c,0,v,Ju(s,d,w.hostVars,Un),w)}function pO(s,c,d){const v=Wo(c,s),w=fm(d),A=s[10],R=vm(s,Hc(s,w,null,d.onPush?32:16,v,c,A,A.createRenderer(v,d),null,null,null));s[c.index]=R}function lr(s,c,d,v,w,A){const R=Wo(s,c);!function Pn(s,c,d,v,w,A,R){if(null==A)s.removeAttribute(c,w,d);else{const Z=null==R?P(A):R(A,v||"",w);s.setAttribute(c,w,Z,d)}}(c[11],R,A,s.value,d,v,w)}function gm(s,c,d,v,w,A){const R=A[c];if(null!==R){const Z=v.setInput;for(let X=0;X<R.length;){const ae=R[X++],he=R[X++],Me=R[X++];null!==Z?v.setInput(d,Me,ae,he):d[he]=Me}}}function to(s,c){let d=null,v=0;for(;v<c.length;){const w=c[v];if(0!==w)if(5!==w){if("number"==typeof w)break;s.hasOwnProperty(w)&&(null===d&&(d=[]),d.push(w,s[w],c[v+1])),v+=2}else v+=2;else v+=4}return d}function Cn(s,c,d,v){return new Array(s,!0,!1,c,null,0,v,d,null,null)}function _m(s,c){const d=Co(c,s);if(Mh(d)){const v=d[1];48&d[2]?Jp(v,d,v.template,d[8]):d[5]>0&&ui(d)}}function ui(s){for(let v=M_(s);null!==v;v=S_(v))for(let w=10;w<v.length;w++){const A=v[w];if(Mh(A))if(512&A[2]){const R=A[1];Jp(R,A,R.template,A[8])}else A[5]>0&&ui(A)}const d=s[1].components;if(null!==d)for(let v=0;v<d.length;v++){const w=Co(d[v],s);Mh(w)&&w[5]>0&&ui(w)}}function dl(s,c){const d=Co(c,s),v=d[1];(function L2(s,c){for(let d=c.length;d<s.blueprint.length;d++)c.push(s.blueprint[d])})(v,d),Cv(v,d,d[8])}function vm(s,c){return s[13]?s[14][4]=c:s[13]=c,s[14]=c,c}function Ov(s){for(;s;){s[2]|=32;const c=Tp(s);if(Ne(s)&&!c)return s;s=c}return null}function ym(s,c,d,v=!0){const w=c[10];w.begin&&w.begin();try{Jp(s,c,s.template,d)}catch(R){throw v&&Ev(c,R),R}finally{w.end&&w.end()}}function tc(s,c,d){Ac(0),c(s,d)}function BC(s){return s[7]||(s[7]=[])}function UC(s){return s.cleanup||(s.cleanup=[])}function VC(s,c,d){return(null===s||va(s))&&(d=function D0(s){for(;Array.isArray(s);){if("object"==typeof s[1])return s;s=s[0]}return null}(d[c.index])),d[11]}function Ev(s,c){const d=s[9],v=d?d.get(Zu,null):null;v&&v.handleError(c)}function Zc(s,c,d,v,w){for(let A=0;A<d.length;){const R=d[A++],Z=d[A++],X=c[R],ae=s.data[R];null!==ae.setInput?ae.setInput(X,w,v,Z):X[Z]=w}}function pl(s,c,d){const v=sp(c,s);!function kp(s,c,d){s.setValue(c,d)}(s[11],v,d)}function Xp(s,c,d){let v=d?s.styles:null,w=d?s.classes:null,A=0;if(null!==c)for(let R=0;R<c.length;R++){const Z=c[R];"number"==typeof Z?A=Z:1==A?w=S(w,Z):2==A&&(v=S(v,Z+": "+c[++R]+";"))}d?s.styles=v:s.stylesWithoutHost=v,d?s.classes=w:s.classesWithoutHost=w}function bm(s,c,d,v,w=!1){for(;null!==d;){const A=c[d.index];if(null!==A&&v.push(Ti(A)),Qi(A))for(let Z=10;Z<A.length;Z++){const X=A[Z],ae=X[1].firstChild;null!==ae&&bm(X[1],X,ae,v)}const R=d.type;if(8&R)bm(s,c,d.child,v);else if(32&R){const Z=Tu(d,c);let X;for(;X=Z();)v.push(X)}else if(16&R){const Z=yb(c,d);if(Array.isArray(Z))v.push(...Z);else{const X=Tp(c[16]);bm(X[1],X,Z,v,!0)}}d=w?d.projectionNext:d.next}return v}class Kp{constructor(c,d){this._lView=c,this._cdRefInjectingView=d,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const c=this._lView,d=c[1];return bm(d,c,d.firstChild,[])}get context(){return this._lView[8]}set context(c){this._lView[8]=c}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const c=this._lView[3];if(Qi(c)){const d=c[8],v=d?d.indexOf(this):-1;v>-1&&(Yl(c,v),f_(d,v))}this._attachedToViewContainer=!1}O_(this._lView[1],this._lView)}onDestroy(c){xv(this._lView[1],this._lView,null,c)}markForCheck(){Ov(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){ym(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new O(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function XS(s,c){Bp(s,c,c[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(c){if(this._attachedToViewContainer)throw new O(902,!1);this._appRef=c}}class U2 extends Kp{constructor(c){super(c),this._view=c}detectChanges(){const c=this._view;ym(c[1],c,c[8],!1)}checkNoChanges(){}get context(){return null}}class Av extends Zp{constructor(c){super(),this.ngModule=c}resolveComponentFactory(c){const d=Mr(c);return new ef(d,this.ngModule)}}function Cm(s){const c=[];for(let d in s)s.hasOwnProperty(d)&&c.push({propName:s[d],templateName:d});return c}class zC{constructor(c,d){this.injector=c,this.parentInjector=d}get(c,d,v){const w=this.injector.get(c,J_,v);return w!==J_||d===J_?w:this.parentInjector.get(c,d,v)}}class ef extends qp{constructor(c,d){super(),this.componentDef=c,this.ngModule=d,this.componentType=c.type,this.selector=function VD(s){return s.map(C2).join(",")}(c.selectors),this.ngContentSelectors=c.ngContentSelectors?c.ngContentSelectors:[],this.isBoundToModule=!!d}get inputs(){return Cm(this.componentDef.inputs)}get outputs(){return Cm(this.componentDef.outputs)}create(c,d,v,w){let A=(w=w||this.ngModule)instanceof xs?w:w?.injector;A&&null!==this.componentDef.getStandaloneInjector&&(A=this.componentDef.getStandaloneInjector(A)||A);const R=A?new zC(c,A):c,Z=R.get(Q_,null);if(null===Z)throw new O(407,!1);const X=R.get(Zb,null),ae=Z.createRenderer(null,this.componentDef),he=this.componentDef.selectors[0][0]||"div",Me=v?function kC(s,c,d){return s.selectRootElement(c,d===we.ShadowDom)}(ae,v,this.componentDef.encapsulation):il(ae,he,function xm(s){const c=s.toLowerCase();return"svg"===c?"svg":"math"===c?"math":null}(he)),Ze=this.componentDef.onPush?288:272,it=hm(0,null,null,1,0,null,null,null,null,null),Et=Hc(null,it,null,Ze,null,null,Z,ae,X,R,null);let qt,nn;Dh(Et);try{const fn=function gO(s,c,d,v,w,A){const R=d[1];d[22]=s;const X=jc(R,22,2,"#host",null),ae=X.mergedAttrs=c.hostAttrs;null!==ae&&(Xp(X,ae,!0),null!==s&&(kh(w,s,ae),null!==X.classes&&k_(w,s,X.classes),null!==X.styles&&Cb(w,s,X.styles)));const he=v.createRenderer(s,c),Me=Hc(d,fm(c),null,c.onPush?32:16,d[22],X,v,he,A||null,null,null);return R.firstCreatePass&&(Nh(xu(X,d),R,c.type),Ku(R,X),dO(X,d.length,1)),vm(d,Me),d[22]=Me}(Me,this.componentDef,Et,Z,ae);if(Me)if(v)kh(ae,Me,["ng-version",ID.full]);else{const{attrs:xn,classes:Lt}=function iv(s){const c=[],d=[];let v=1,w=2;for(;v<s.length;){let A=s[v];if("string"==typeof A)2===w?""!==A&&c.push(A,s[++v]):8===w&&d.push(A);else{if(!$a(w))break;w=A}v++}return{attrs:c,classes:d}}(this.componentDef.selectors[0]);xn&&kh(ae,Me,xn),Lt&&Lt.length>0&&k_(ae,Me,Lt.join(" "))}if(nn=wh(it,22),void 0!==d){const xn=nn.projection=[];for(let Lt=0;Lt<this.ngContentSelectors.length;Lt++){const Tn=d[Lt];xn.push(null!=Tn?Array.from(Tn):null)}}qt=function _O(s,c,d,v){const w=d[1],A=function Ko(s,c,d){const v=Li();s.firstCreatePass&&(d.providersResolver&&d.providersResolver(d),un(s,v,c,Ju(s,c,1,null),d),wv(s,v));const w=wu(c,s,v.directiveStart,v);Si(w,c);const A=Wo(v,c);return A&&Si(A,c),w}(w,d,c);if(s[8]=d[8]=A,null!==v)for(const Z of v)Z(A,c);if(c.contentQueries){const Z=Li();c.contentQueries(1,A,Z.directiveStart)}const R=Li();return!w.firstCreatePass||null===c.hostBindings&&null===c.hostAttrs||(Pc(R.index),Xu(d[1],R,0,R.directiveStart,R.directiveEnd,c),LC(c,A)),A}(fn,this.componentDef,Et,[vO]),Cv(it,Et,null)}finally{Oh()}return new mO(this.componentType,qt,ju(nn,Et),Et,nn)}}class mO extends class DD{}{constructor(c,d,v,w,A){super(),this.location=v,this._rootLView=w,this._tNode=A,this.instance=d,this.hostView=this.changeDetectorRef=new U2(w),this.componentType=c}setInput(c,d){const v=this._tNode.inputs;let w;if(null!==v&&(w=v[c])){const A=this._rootLView;Zc(A[1],A,w,c,d),NC(A,this._tNode.index)}}get injector(){return new Ic(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(c){this.hostView.onDestroy(c)}}function vO(){const s=Li();i_(Bt()[1],s)}function tf(s){let c=function yO(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),d=!0;const v=[s];for(;c;){let w;if(va(s))w=c.\u0275cmp||c.\u0275dir;else{if(c.\u0275cmp)throw new O(903,!1);w=c.\u0275dir}if(w){if(d){v.push(w);const R=s;R.inputs=Tv(s.inputs),R.declaredInputs=Tv(s.declaredInputs),R.outputs=Tv(s.outputs);const Z=w.hostBindings;Z&&jC(s,Z);const X=w.viewQuery,ae=w.contentQueries;if(X&&CO(s,X),ae&&HC(s,ae),I(s.inputs,w.inputs),I(s.declaredInputs,w.declaredInputs),I(s.outputs,w.outputs),va(w)&&w.data.animation){const he=s.data;he.animation=(he.animation||[]).concat(w.data.animation)}}const A=w.features;if(A)for(let R=0;R<A.length;R++){const Z=A[R];Z&&Z.ngInherit&&Z(s),Z===tf&&(d=!1)}}c=Object.getPrototypeOf(c)}!function bO(s){let c=0,d=null;for(let v=s.length-1;v>=0;v--){const w=s[v];w.hostVars=c+=w.hostVars,w.hostAttrs=fp(w.hostAttrs,d=fp(d,w.hostAttrs))}}(v)}function Tv(s){return s===Pt?{}:s===dt?[]:s}function CO(s,c){const d=s.viewQuery;s.viewQuery=d?(v,w)=>{c(v,w),d(v,w)}:c}function HC(s,c){const d=s.contentQueries;s.contentQueries=d?(v,w,A)=>{c(v,w,A),d(v,w,A)}:c}function jC(s,c){const d=s.hostBindings;s.hostBindings=d?(v,w)=>{c(v,w),d(v,w)}:c}let kv=null;function Da(){if(!kv){const s=je.Symbol;if(s&&s.iterator)kv=s.iterator;else{const c=Object.getOwnPropertyNames(Map.prototype);for(let d=0;d<c.length;++d){const v=c[d];"entries"!==v&&"size"!==v&&Map.prototype[v]===Map.prototype.entries&&(kv=v)}}}return kv}function ed(s){return!!nc(s)&&(Array.isArray(s)||!(s instanceof Map)&&Da()in s)}function nc(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function ho(s,c,d){return s[c]=d}function Oi(s,c,d){return!Object.is(s[c],d)&&(s[c]=d,!0)}function fl(s,c,d,v){const w=Oi(s,c,d);return Oi(s,c+1,v)||w}function rf(s,c,d,v){const w=Bt();return Oi(w,dp(),c)&&(vr(),lr(li(),w,s,c,d,v)),rf}function rc(s,c,d,v){return Oi(s,dp(),d)?c+P(d)+v:Un}function nd(s,c,d,v,w,A){const Z=fl(s,function Hl(){return Fn.lFrame.bindingIndex}(),d,w);return Js(2),Z?c+P(d)+v+P(w)+A:Un}function TO(s,c,d,v,w,A,R,Z){const X=Bt(),ae=vr(),he=s+22,Me=ae.firstCreatePass?function sf(s,c,d,v,w,A,R,Z,X){const ae=c.consts,he=jc(c,s,4,R||null,zl(ae,Z));Sv(c,d,he,zl(ae,X)),i_(c,he);const Me=he.tViews=hm(2,he,v,w,A,c.directiveRegistry,c.pipeRegistry,null,c.schemas,ae);return null!==c.queries&&(c.queries.template(c,he),Me.queries=c.queries.embeddedTView(he)),he}(he,ae,X,c,d,v,w,A,R):ae.data[he];gs(Me,!1);const Ze=X[11].createComment("");Lc(ae,X,Ze,Me),Si(Ze,X),vm(X,X[he]=Cn(Ze,X,Ze,Me)),Ec(Me)&&po(ae,X,Me),null!=R&&pm(X,Me,Z)}function IO(s){return lp(function _i(){return Fn.lFrame.contextLView}(),22+s)}function ZC(s,c,d){const v=Bt();return Oi(v,dp(),c)&&Xo(vr(),li(),v,s,c,v[11],d,!1),ZC}function YC(s,c,d,v,w){const R=w?"class":"style";Zc(s,d,c.inputs[R],R,v)}function Fv(s,c,d,v){const w=Bt(),A=vr(),R=22+s,Z=w[11],X=w[R]=il(Z,c,function ZI(){return Fn.lFrame.currentNamespace}()),ae=A.firstCreatePass?function j2(s,c,d,v,w,A,R){const Z=c.consts,ae=jc(c,s,2,w,zl(Z,A));return Sv(c,d,ae,zl(Z,R)),null!==ae.attrs&&Xp(ae,ae.attrs,!1),null!==ae.mergedAttrs&&Xp(ae,ae.mergedAttrs,!0),null!==c.queries&&c.queries.elementStart(c,ae),ae}(R,A,w,0,c,d,v):A.data[R];gs(ae,!0);const he=ae.mergedAttrs;null!==he&&kh(Z,X,he);const Me=ae.classes;null!==Me&&k_(Z,X,Me);const Ze=ae.styles;return null!==Ze&&Cb(Z,X,Ze),64!=(64&ae.flags)&&Lc(A,w,X,ae),0===function NI(){return Fn.lFrame.elementDepthCount}()&&Si(X,w),function sS(){Fn.lFrame.elementDepthCount++}(),Ec(ae)&&(po(A,w,ae),PC(A,ae,w)),null!==v&&pm(w,ae),Fv}function Nv(){let s=Li();e_()?I0():(s=s.parent,gs(s,!1));const c=s;!function lS(){Fn.lFrame.elementDepthCount--}();const d=vr();return d.firstCreatePass&&(i_(d,s),qa(s)&&d.queries.elementEnd(s)),null!=c.classesWithoutHost&&function WI(s){return 0!=(16&s.flags)}(c)&&YC(d,c,Bt(),c.classesWithoutHost,!0),null!=c.stylesWithoutHost&&function bS(s){return 0!=(32&s.flags)}(c)&&YC(d,c,Bt(),c.stylesWithoutHost,!1),Nv}function GC(s,c,d,v){return Fv(s,c,d,v),Nv(),GC}function lf(s,c,d){const v=Bt(),w=vr(),A=s+22,R=w.firstCreatePass?function ad(s,c,d,v,w){const A=c.consts,R=zl(A,v),Z=jc(c,s,8,"ng-container",R);return null!==R&&Xp(Z,R,!0),Sv(c,d,Z,zl(A,w)),null!==c.queries&&c.queries.elementStart(c,Z),Z}(A,w,v,c,d):w.data[A];gs(R,!0);const Z=v[A]=v[11].createComment("");return Lc(w,v,Z,R),Si(Z,v),Ec(R)&&(po(w,v,R),PC(w,R,v)),null!=d&&pm(v,R),lf}function Rv(){let s=Li();const c=vr();return e_()?I0():(s=s.parent,gs(s,!1)),c.firstCreatePass&&(i_(c,s),qa(s)&&c.queries.elementEnd(s)),Rv}function $C(s,c,d){return lf(s,c,d),Rv(),$C}function WC(){return Bt()}function QC(s){return!!s&&"function"==typeof s.then}function cf(s){return!!s&&"function"==typeof s.subscribe}const JC=cf;function Lv(s,c,d,v){const w=Bt(),A=vr(),R=Li();return kO(A,w,w[11],R,s,c,0,v),Lv}function Bv(s,c){const d=Li(),v=Bt(),w=vr();return kO(w,v,VC(n_(w.data),d,v),d,s,c),Bv}function kO(s,c,d,v,w,A,R,Z){const X=Ec(v),he=s.firstCreatePass&&UC(s),Me=c[8],Ze=BC(c);let it=!0;if(3&v.type||Z){const nn=Wo(v,c),fn=Z?Z(nn):nn,xn=Ze.length,Lt=Z?Pr=>Z(Ti(Pr[v.index])):v.index;let Tn=null;if(!Z&&X&&(Tn=function q2(s,c,d,v){const w=s.cleanup;if(null!=w)for(let A=0;A<w.length-1;A+=2){const R=w[A];if(R===d&&w[A+1]===v){const Z=c[7],X=w[A+2];return Z.length>X?Z[X]:null}"string"==typeof R&&(A+=2)}return null}(s,c,w,v.index)),null!==Tn)(Tn.__ngLastListenerFn__||Tn).__ngNextListenerFn__=A,Tn.__ngLastListenerFn__=A,it=!1;else{A=uf(v,c,Me,A,!1);const Pr=d.listen(fn,w,A);Ze.push(A,Pr),he&&he.push(w,Lt,xn,xn+1)}}else A=uf(v,c,Me,A,!1);const Et=v.outputs;let qt;if(it&&null!==Et&&(qt=Et[w])){const nn=qt.length;if(nn)for(let fn=0;fn<nn;fn+=2){const ii=c[qt[fn]][qt[fn+1]].subscribe(A),Sd=Ze.length;Ze.push(A,ii),he&&he.push(w,v.index,Sd,-(Sd+1))}}}function sd(s,c,d,v){try{return!1!==d(v)}catch(w){return Ev(s,w),!1}}function uf(s,c,d,v,w){return function A(R){if(R===Function)return v;Ov(2&s.flags?Co(s.index,c):c);let X=sd(c,0,v,R),ae=A.__ngNextListenerFn__;for(;ae;)X=sd(c,0,ae,R)&&X,ae=ae.__ngNextListenerFn__;return w&&!1===X&&(R.preventDefault(),R.returnValue=!1),X}}function XC(s=1){return function zI(s){return(Fn.lFrame.contextLView=function HI(s,c){for(;s>0;)c=c[15],s--;return c}(s,Fn.lFrame.contextLView))[8]}(s)}function FO(s,c){let d=null;const v=function rv(s){const c=s.attrs;if(null!=c){const d=c.indexOf(5);if(0==(1&d))return c[d+1]}return null}(s);for(let w=0;w<c.length;w++){const A=c[w];if("*"!==A){if(null===v?sl(s,A,!0):iC(v,A))return w}else d=w}return d}function Uv(s){const c=Bt()[16][6];if(!c.projection){const v=c.projection=Uh(s?s.length:1,null),w=v.slice();let A=c.child;for(;null!==A;){const R=s?FO(A,s):0;null!==R&&(w[R]?w[R].projectionNext=A:v[R]=A,w[R]=A),A=A.next}}}function Vv(s,c=0,d){const v=Bt(),w=vr(),A=jc(w,22+s,16,null,d||null);null===A.projection&&(A.projection=c),I0(),64!=(64&A.flags)&&function nD(s,c,d){bb(c[11],0,c,d,gb(s,d,c),E_(d.parent||c[6],d,c))}(w,v,A)}function df(s,c,d){return Yc(s,"",c,"",d),df}function Yc(s,c,d,v,w){const A=Bt(),R=rc(A,c,d,v);return R!==Un&&Xo(vr(),li(),A,s,R,A[11],w,!1),Yc}function VO(s,c,d,v,w){const A=s[d+1],R=null===c;let Z=v?Wa(A):ul(A),X=!1;for(;0!==Z&&(!1===X||R);){const he=s[Z+1];G2(s[Z],c)&&(X=!0,s[Z+1]=v?eo(he):lm(he)),Z=v?Wa(he):ul(he)}X&&(s[d+1]=v?lm(A):eo(A))}function G2(s,c){return null===s||null==c||(Array.isArray(s)?s[1]:s)===c||!(!Array.isArray(s)||"string"!=typeof c)&&yp(s,c)>=0}const Hi={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function zO(s){return s.substring(Hi.key,Hi.keyEnd)}function HO(s){return s.substring(Hi.value,Hi.valueEnd)}function jO(s,c){const d=Hi.textEnd;return d===c?-1:(c=Hi.keyEnd=function Q2(s,c,d){for(;c<d&&s.charCodeAt(c)>32;)c++;return c}(s,Hi.key=c,d),pf(s,c,d))}function qO(s,c){const d=Hi.textEnd;let v=Hi.key=pf(s,c,d);return d===v?-1:(v=Hi.keyEnd=function J2(s,c,d){let v;for(;c<d&&(45===(v=s.charCodeAt(c))||95===v||(-33&v)>=65&&(-33&v)<=90||v>=48&&v<=57);)c++;return c}(s,v,d),v=ZO(s,v,d),v=Hi.value=pf(s,v,d),v=Hi.valueEnd=function X2(s,c,d){let v=-1,w=-1,A=-1,R=c,Z=R;for(;R<d;){const X=s.charCodeAt(R++);if(59===X)return Z;34===X||39===X?Z=R=YO(s,X,R,d):c===R-4&&85===A&&82===w&&76===v&&40===X?Z=R=YO(s,41,R,d):X>32&&(Z=R),A=w,w=v,v=-33&X}return Z}(s,v,d),ZO(s,v,d))}function zv(s){Hi.key=0,Hi.keyEnd=0,Hi.value=0,Hi.valueEnd=0,Hi.textEnd=s.length}function pf(s,c,d){for(;c<d&&s.charCodeAt(c)<=32;)c++;return c}function ZO(s,c,d,v){return(c=pf(s,c,d))<d&&c++,c}function YO(s,c,d,v){let w=-1,A=d;for(;A<v;){const R=s.charCodeAt(A++);if(R==c&&92!==w)return A;w=92==R&&92===w?0:R}throw new Error}function ex(s,c,d){return Ds(s,c,d,!1),ex}function tx(s,c){return Ds(s,c,null,!0),tx}function Ss(s){Os(rx,K2,s,!1)}function K2(s,c){for(let d=function W2(s){return zv(s),qO(s,pf(s,0,Hi.textEnd))}(c);d>=0;d=qO(c,d))rx(s,zO(c),HO(c))}function GO(s){Os(Qo,hl,s,!0)}function hl(s,c){for(let d=function $2(s){return zv(s),jO(s,pf(s,0,Hi.textEnd))}(c);d>=0;d=jO(c,d))Qo(s,zO(c),!0)}function Ds(s,c,d,v){const w=Bt(),A=vr(),R=Js(2);A.firstUpdatePass&&WO(A,s,R,v),c!==Un&&Oi(w,R,c)&&JO(A,A.data[ko()],w,w[11],s,w[R+1]=function ok(s,c){return null==s||("string"==typeof c?s+=c:"object"==typeof s&&(s=x(al(s)))),s}(c,d),v,R)}function Os(s,c,d,v){const w=vr(),A=Js(2);w.firstUpdatePass&&WO(w,null,A,v);const R=Bt();if(d!==Un&&Oi(R,A,d)){const Z=w.data[ko()];if(KO(Z,v)&&!$O(w,A)){let X=v?Z.classesWithoutHost:Z.stylesWithoutHost;null!==X&&(d=S(X,d||"")),YC(w,Z,R,d,v)}else!function QO(s,c,d,v,w,A,R,Z){w===Un&&(w=dt);let X=0,ae=0,he=0<w.length?w[0]:null,Me=0<A.length?A[0]:null;for(;null!==he||null!==Me;){const Ze=X<w.length?w[X+1]:void 0,it=ae<A.length?A[ae+1]:void 0;let qt,Et=null;he===Me?(X+=2,ae+=2,Ze!==it&&(Et=Me,qt=it)):null===Me||null!==he&&he<Me?(X+=2,Et=he):(ae+=2,Et=Me,qt=it),null!==Et&&JO(s,c,d,v,Et,qt,R,Z),he=X<w.length?w[X]:null,Me=ae<A.length?A[ae]:null}}(w,Z,R,R[11],R[A+1],R[A+1]=function ik(s,c,d){if(null==d||""===d)return dt;const v=[],w=al(d);if(Array.isArray(w))for(let A=0;A<w.length;A++)s(v,w[A],!0);else if("object"==typeof w)for(const A in w)w.hasOwnProperty(A)&&s(v,A,w[A]);else"string"==typeof w&&c(v,w);return v}(s,c,d),v,A)}}function $O(s,c){return c>=s.expandoStartIndex}function WO(s,c,d,v){const w=s.data;if(null===w[d+1]){const A=w[ko()],R=$O(s,d);KO(A,v)&&null===c&&!R&&(c=!1),c=function ek(s,c,d,v){const w=n_(s);let A=v?c.residualClasses:c.residualStyles;if(null===w)0===(v?c.classBindings:c.styleBindings)&&(d=Em(d=nx(null,s,c,d,v),c.attrs,v),A=null);else{const R=c.directiveStylingLast;if(-1===R||s[R]!==w)if(d=nx(w,s,c,d,v),null===A){let X=function tk(s,c,d){const v=d?c.classBindings:c.styleBindings;if(0!==ul(v))return s[Wa(v)]}(s,c,v);void 0!==X&&Array.isArray(X)&&(X=nx(null,s,c,X[1],v),X=Em(X,c.attrs,v),function nk(s,c,d,v){s[Wa(d?c.classBindings:c.styleBindings)]=v}(s,c,v,X))}else A=function rk(s,c,d){let v;const w=c.directiveEnd;for(let A=1+c.directiveStylingLast;A<w;A++)v=Em(v,s[A].hostAttrs,d);return Em(v,c.attrs,d)}(s,c,v)}return void 0!==A&&(v?c.residualClasses=A:c.residualStyles=A),d}(w,A,c,v),function Z2(s,c,d,v,w,A){let R=A?c.classBindings:c.styleBindings,Z=Wa(R),X=ul(R);s[v]=d;let he,ae=!1;if(Array.isArray(d)){const Me=d;he=Me[1],(null===he||yp(Me,he)>0)&&(ae=!0)}else he=d;if(w)if(0!==X){const Ze=Wa(s[Z+1]);s[v+1]=Gp(Ze,Z),0!==Ze&&(s[Ze+1]=fv(s[Ze+1],v)),s[Z+1]=function E2(s,c){return 131071&s|c<<17}(s[Z+1],v)}else s[v+1]=Gp(Z,0),0!==Z&&(s[Z+1]=fv(s[Z+1],v)),Z=v;else s[v+1]=Gp(X,0),0===Z?Z=v:s[X+1]=fv(s[X+1],v),X=v;ae&&(s[v+1]=lm(s[v+1])),VO(s,he,v,!0),VO(s,he,v,!1),function Y2(s,c,d,v,w){const A=w?s.residualClasses:s.residualStyles;null!=A&&"string"==typeof c&&yp(A,c)>=0&&(d[v+1]=eo(d[v+1]))}(c,he,s,v,A),R=Gp(Z,X),A?c.classBindings=R:c.styleBindings=R}(w,A,c,d,R,v)}}function nx(s,c,d,v,w){let A=null;const R=d.directiveEnd;let Z=d.directiveStylingLast;for(-1===Z?Z=d.directiveStart:Z++;Z<R&&(A=c[Z],v=Em(v,A.hostAttrs,w),A!==s);)Z++;return null!==s&&(d.directiveStylingLast=Z),v}function Em(s,c,d){const v=d?1:2;let w=-1;if(null!==c)for(let A=0;A<c.length;A++){const R=c[A];"number"==typeof R?w=R:w===v&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),Qo(s,R,!!d||c[++A]))}return void 0===s?null:s}function rx(s,c,d){Qo(s,c,al(d))}function JO(s,c,d,v,w,A,R,Z){if(!(3&c.type))return;const X=s.data,ae=X[Z+1];Hv(function hv(s){return 1==(1&s)}(ae)?XO(X,c,d,w,ul(ae),R):void 0)||(Hv(A)||function yC(s){return 2==(2&s)}(ae)&&(A=XO(X,null,d,w,Z,R)),function iD(s,c,d,v,w){if(c)w?s.addClass(d,v):s.removeClass(d,v);else{let A=-1===v.indexOf("-")?void 0:rl.DashCase;null==w?s.removeStyle(d,v,A):("string"==typeof w&&w.endsWith("!important")&&(w=w.slice(0,-10),A|=rl.Important),s.setStyle(d,v,w,A))}}(v,R,sp(ko(),d),w,A))}function XO(s,c,d,v,w,A){const R=null===c;let Z;for(;w>0;){const X=s[w],ae=Array.isArray(X),he=ae?X[1]:X,Me=null===he;let Ze=d[w+1];Ze===Un&&(Ze=Me?dt:void 0);let it=Me?Q0(Ze,v):he===v?Ze:void 0;if(ae&&!Hv(it)&&(it=Q0(X,v)),Hv(it)&&(Z=it,R))return Z;const Et=s[w+1];w=R?Wa(Et):ul(Et)}if(null!==c){let X=A?c.residualClasses:c.residualStyles;null!=X&&(Z=Q0(X,v))}return Z}function Hv(s){return void 0!==s}function KO(s,c){return 0!=(s.flags&(c?16:32))}function eE(s,c=""){const d=Bt(),v=vr(),w=s+22,A=v.firstCreatePass?jc(v,w,1,c,null):v.data[w],R=d[w]=function Ip(s,c){return s.createText(c)}(d[11],c);Lc(v,d,R,A),gs(A,!1)}function ix(s){return jv("",s,""),ix}function jv(s,c,d){const v=Bt(),w=rc(v,s,c,d);return w!==Un&&pl(v,ko(),w),jv}function ox(s,c,d,v,w){const A=Bt(),R=nd(A,s,c,d,v,w);return R!==Un&&pl(A,ko(),R),ox}function lE(s,c,d){Os(Qo,hl,rc(Bt(),s,c,d),!0)}function cE(s,c,d){Ss(rc(Bt(),s,c,d))}function ax(s,c,d){const v=Bt();return Oi(v,dp(),c)&&Xo(vr(),li(),v,s,c,v[11],d,!0),ax}function sx(s,c,d){const v=Bt();if(Oi(v,dp(),c)){const A=vr(),R=li();Xo(A,R,v,s,c,VC(n_(A.data),R,v),d,!0)}return sx}const ld=void 0;var wk=["en",[["a","p"],["AM","PM"],ld],[["AM","PM"],ld,ld],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ld,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ld,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ld,"{1} 'at' {0}",ld],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function xk(s){const d=Math.floor(Math.abs(s)),v=s.toString().replace(/^[^.]*\.?/,"").length;return 1===d&&0===v?1:5}];let ff={};function lx(s){const c=function ux(s){return s.toLowerCase().replace(/_/g,"-")}(s);let d=cx(c);if(d)return d;const v=c.split("-")[0];if(d=cx(v),d)return d;if("en"===v)return wk;throw new O(701,!1)}function yE(s){return lx(s)[_n.PluralCase]}function cx(s){return s in ff||(ff[s]=je.ng&&je.ng.common&&je.ng.common.locales&&je.ng.common.locales[s]),ff[s]}var _n=(()=>((_n=_n||{})[_n.LocaleId=0]="LocaleId",_n[_n.DayPeriodsFormat=1]="DayPeriodsFormat",_n[_n.DayPeriodsStandalone=2]="DayPeriodsStandalone",_n[_n.DaysFormat=3]="DaysFormat",_n[_n.DaysStandalone=4]="DaysStandalone",_n[_n.MonthsFormat=5]="MonthsFormat",_n[_n.MonthsStandalone=6]="MonthsStandalone",_n[_n.Eras=7]="Eras",_n[_n.FirstDayOfWeek=8]="FirstDayOfWeek",_n[_n.WeekendRange=9]="WeekendRange",_n[_n.DateFormat=10]="DateFormat",_n[_n.TimeFormat=11]="TimeFormat",_n[_n.DateTimeFormat=12]="DateTimeFormat",_n[_n.NumberSymbols=13]="NumberSymbols",_n[_n.NumberFormats=14]="NumberFormats",_n[_n.CurrencyCode=15]="CurrencyCode",_n[_n.CurrencySymbol=16]="CurrencySymbol",_n[_n.CurrencyName=17]="CurrencyName",_n[_n.Currencies=18]="Currencies",_n[_n.Directionality=19]="Directionality",_n[_n.PluralCase=20]="PluralCase",_n[_n.ExtraData=21]="ExtraData",_n))();const cd="en-US";let fx=cd;function Fx(s,c,d,v,w){if(s=g(s),Array.isArray(s))for(let A=0;A<s.length;A++)Fx(s[A],c,d,v,w);else{const A=vr(),R=Bt();let Z=Kl(s)?s:g(s.provide),X=$_(s);const ae=Li(),he=1048575&ae.providerIndexes,Me=ae.directiveStart,Ze=ae.providerIndexes>>20;if(Kl(s)||!s.multi){const it=new Ph(X,w,cl),Et=Es(Z,c,w?he:he+Ze,Me);-1===Et?(Nh(xu(ae,R),A,Z),Nx(A,s,c.length),c.push(Z),ae.directiveStart++,ae.directiveEnd++,w&&(ae.providerIndexes+=1048576),d.push(it),R.push(it)):(d[Et]=it,R[Et]=it)}else{const it=Es(Z,c,he+Ze,Me),Et=Es(Z,c,he,he+Ze),qt=it>=0&&d[it],nn=Et>=0&&d[Et];if(w&&!nn||!w&&!qt){Nh(xu(ae,R),A,Z);const fn=function Uk(s,c,d,v,w){const A=new Ph(s,d,cl);return A.multi=[],A.index=c,A.componentProviders=0,Rx(A,w,v&&!d),A}(w?Bk:Lx,d.length,w,v,X);!w&&nn&&(d[Et].providerFactory=fn),Nx(A,s,c.length,0),c.push(Z),ae.directiveStart++,ae.directiveEnd++,w&&(ae.providerIndexes+=1048576),d.push(fn),R.push(fn)}else Nx(A,s,it>-1?it:Et,Rx(d[w?Et:it],X,!w&&v));!w&&v&&nn&&d[Et].componentProviders++}}}function Nx(s,c,d,v){const w=Kl(c),A=function Z_(s){return!!s.useClass}(c);if(w||A){const X=(A?g(c.useClass):c).prototype.ngOnDestroy;if(X){const ae=s.destroyHooks||(s.destroyHooks=[]);if(!w&&c.multi){const he=ae.indexOf(d);-1===he?ae.push(d,[v,X]):ae[he+1].push(v,X)}else ae.push(d,X)}}}function Rx(s,c,d){return d&&s.componentProviders++,s.multi.push(c)-1}function Es(s,c,d,v){for(let w=d;w<v;w++)if(c[w]===s)return w;return-1}function Lx(s,c,d,v){return Bx(this.multi,[])}function Bk(s,c,d,v){const w=this.multi;let A;if(this.providerFactory){const R=this.providerFactory.componentProviders,Z=wu(d,d[1],this.providerFactory.index,v);A=Z.slice(0,R),Bx(w,A);for(let X=R;X<Z.length;X++)A.push(Z[X])}else A=[],Bx(w,A);return A}function Bx(s,c){for(let d=0;d<s.length;d++)c.push((0,s[d])());return c}function HE(s,c=[]){return d=>{d.providersResolver=(v,w)=>function Kv(s,c,d){const v=vr();if(v.firstCreatePass){const w=va(s);Fx(d,v.data,v.blueprint,w,!0),Fx(c,v.data,v.blueprint,w,!1)}}(v,w?w(s):s,c)}}class wf{}class jE{}function Vk(s,c){return new qE(s,c??null)}class qE extends wf{constructor(c,d){super(),this._parent=d,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Av(this);const v=Gi(c);this._bootstrapComponents=Ma(v.bootstrap),this._r3Injector=cv(c,d,[{provide:wf,useValue:this},{provide:Zp,useValue:this.componentFactoryResolver}],x(c),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(c)}get injector(){return this._r3Injector}destroy(){const c=this._r3Injector;!c.destroyed&&c.destroy(),this.destroyCbs.forEach(d=>d()),this.destroyCbs=null}onDestroy(c){this.destroyCbs.push(c)}}class Ux extends jE{constructor(c){super(),this.moduleType=c}create(c){return new qE(this.moduleType,c)}}class Mf extends wf{constructor(c,d,v){super(),this.componentFactoryResolver=new Av(this),this.instance=null;const w=new G_([...c,{provide:wf,useValue:this},{provide:Zp,useValue:this.componentFactoryResolver}],d||rm(),v,new Set(["environment"]));this.injector=w,w.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(c){this.injector.onDestroy(c)}}function Vx(s,c,d=null){return new Mf(s,c,d).injector}let ZE=(()=>{class s{constructor(d){this._injector=d,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(d){if(!d.standalone)return null;if(!this.cachedInjectors.has(d.id)){const v=Bb(0,d.type),w=v.length>0?Vx([v],this._injector,`Standalone[${d.type.name}]`):null;this.cachedInjectors.set(d.id,w)}return this.cachedInjectors.get(d.id)}ngOnDestroy(){try{for(const d of this.cachedInjectors.values())null!==d&&d.destroy()}finally{this.cachedInjectors.clear()}}}return s.\u0275prov=de({token:s,providedIn:"environment",factory:()=>new s(xt(xs))}),s})();function ey(s){s.getStandaloneInjector=c=>c.get(ZE).getOrCreateStandaloneInjector(s)}function jx(s,c,d){const v=Io()+s,w=Bt();return w[v]===Un?ho(w,v,d?c.call(d):c()):function td(s,c){return s[c]}(w,v)}function qx(s,c,d,v){return sy(Bt(),Io(),s,c,d,v)}function ay(s,c,d,v,w,A){return function Gn(s,c,d,v,w,A,R,Z){const X=c+d;return function Mm(s,c,d,v,w){const A=fl(s,c,d,v);return Oi(s,c+2,w)||A}(s,X,w,A,R)?ho(s,X+3,Z?v.call(Z,w,A,R):v(w,A,R)):ri(s,X+3)}(Bt(),Io(),s,c,d,v,w,A)}function Zx(s,c,d,v,w,A,R){return function $r(s,c,d,v,w,A,R,Z,X){const ae=c+d;return function ea(s,c,d,v,w,A){const R=fl(s,c,d,v);return fl(s,c+2,w,A)||R}(s,ae,w,A,R,Z)?ho(s,ae+4,X?v.call(X,w,A,R,Z):v(w,A,R,Z)):ri(s,ae+4)}(Bt(),Io(),s,c,d,v,w,A,R)}function ri(s,c){const d=s[c];return d===Un?void 0:d}function sy(s,c,d,v,w,A){const R=c+d;return Oi(s,R,w)?ho(s,R+1,A?v.call(A,w):v(w)):ri(s,R+1)}function bi(s,c){const d=vr();let v;const w=s+22;d.firstCreatePass?(v=function Zk(s,c){if(c)for(let d=c.length-1;d>=0;d--){const v=c[d];if(s===v.name)return v}}(c,d.pipeRegistry),d.data[w]=v,v.onDestroy&&(d.destroyHooks||(d.destroyHooks=[])).push(w,v.onDestroy)):v=d.data[w];const A=v.factory||(v.factory=Vl(v.type)),R=on(cl);try{const Z=hp(!1),X=A();return hp(Z),function H2(s,c,d,v){d>=s.data.length&&(s.data[d]=null,s.blueprint[d]=null),c[d]=v}(d,Bt(),w,X),X}finally{on(R)}}function JE(s,c,d){const v=s+22,w=Bt(),A=lp(w,v);return pd(w,v)?sy(w,Io(),c,A.transform,d,A):A.transform(d)}function Lm(s,c,d,v){const w=s+22,A=Bt(),R=lp(A,w);return pd(A,w)?function ly(s,c,d,v,w,A,R){const Z=c+d;return fl(s,Z,w,A)?ho(s,Z+2,R?v.call(R,w,A):v(w,A)):ri(s,Z+2)}(A,Io(),c,R.transform,d,v,R):R.transform(d,v)}function pd(s,c){return s[1].data[c].pure}function Bm(s){return c=>{setTimeout(s,void 0,c)}}const As=class cy extends n.x{constructor(c=!1){super(),this.__isAsync=c}emit(c){super.next(c)}subscribe(c,d,v){let w=c,A=d||(()=>null),R=v;if(c&&"object"==typeof c){const X=c;w=X.next?.bind(X),A=X.error?.bind(X),R=X.complete?.bind(X)}this.__isAsync&&(A=Bm(A),w&&(w=Bm(w)),R&&(R=Bm(R)));const Z=super.subscribe({next:w,error:A,complete:R});return c instanceof ze.w0&&c.add(Z),Z}};function XE(){return this._results[Da()]()}class Um{constructor(c=!1){this._emitDistinctChangesOnly=c,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const d=Da(),v=Um.prototype;v[d]||(v[d]=XE)}get changes(){return this._changes||(this._changes=new As)}get(c){return this._results[c]}map(c){return this._results.map(c)}filter(c){return this._results.filter(c)}find(c){return this._results.find(c)}reduce(c,d){return this._results.reduce(c,d)}forEach(c){this._results.forEach(c)}some(c){return this._results.some(c)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(c,d){const v=this;v.dirty=!1;const w=xo(c);(this._changesDetected=!function TS(s,c,d){if(s.length!==c.length)return!1;for(let v=0;v<s.length;v++){let w=s[v],A=c[v];if(d&&(w=d(w),A=d(A)),A!==w)return!1}return!0}(v._results,w,d))&&(v._results=w,v.length=w.length,v.last=w[this.length-1],v.first=w[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Df=(()=>{class s{}return s.__NG_ELEMENT_ID__=$k,s})();const KE=Df,Gk=class extends KE{constructor(c,d,v){super(),this._declarationLView=c,this._declarationTContainer=d,this.elementRef=v}createEmbeddedView(c,d){const v=this._declarationTContainer.tViews,w=Hc(this._declarationLView,v,c,16,null,v.declTNode,null,null,null,null,d||null);w[17]=this._declarationLView[this._declarationTContainer.index];const R=this._declarationLView[19];return null!==R&&(w[19]=R.createEmbeddedView(v)),Cv(v,w,c),new Kp(w)}};function $k(){return uy(Li(),Bt())}function uy(s,c){return 4&s.type?new Gk(c,s,ju(s,c)):null}let dy=(()=>{class s{}return s.__NG_ELEMENT_ID__=Wk,s})();function Wk(){return Jx(Li(),Bt())}const eA=dy,tA=class extends eA{constructor(c,d,v){super(),this._lContainer=c,this._hostTNode=d,this._hostLView=v}get element(){return ju(this._hostTNode,this._hostLView)}get injector(){return new Ic(this._hostTNode,this._hostLView)}get parentInjector(){const c=Fh(this._hostTNode,this._hostLView);if(V0(c)){const d=Xs(c,this._hostLView),v=yu(c);return new Ic(d[1].data[v+8],d)}return new Ic(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(c){const d=Qx(this._lContainer);return null!==d&&d[c]||null}get length(){return this._lContainer.length-10}createEmbeddedView(c,d,v){let w,A;"number"==typeof v?w=v:null!=v&&(w=v.index,A=v.injector);const R=c.createEmbeddedView(d||{},A);return this.insert(R,w),R}createComponent(c,d,v,w,A){const R=c&&!function xa(s){return"function"==typeof s}(c);let Z;if(R)Z=d;else{const Me=d||{};Z=Me.index,v=Me.injector,w=Me.projectableNodes,A=Me.environmentInjector||Me.ngModuleRef}const X=R?c:new ef(Mr(c)),ae=v||this.parentInjector;if(!A&&null==X.ngModule){const Ze=(R?ae:this.parentInjector).get(xs,null);Ze&&(A=Ze)}const he=X.create(ae,w,void 0,A);return this.insert(he.hostView,Z),he}insert(c,d){const v=c._lView,w=v[1];if(function aS(s){return Qi(s[3])}(v)){const he=this.indexOf(c);if(-1!==he)this.detach(he);else{const Me=v[3],Ze=new tA(Me,Me[6],Me[3]);Ze.detach(Ze.indexOf(c))}}const A=this._adjustIndex(d),R=this._lContainer;!function eD(s,c,d,v){const w=10+v,A=d.length;v>0&&(d[w-1][4]=c),v<A-10?(c[4]=d[w],IS(d,10+v,c)):(d.push(c),c[4]=null),c[3]=d;const R=c[17];null!==R&&d!==R&&function Fp(s,c){const d=s[9];c[16]!==c[3][3][16]&&(s[2]=!0),null===d?s[9]=[c]:d.push(c)}(R,c);const Z=c[19];null!==Z&&Z.insertView(s),c[2]|=64}(w,v,R,A);const Z=P_(A,R),X=v[11],ae=Nu(X,R[7]);return null!==ae&&function u2(s,c,d,v,w,A){v[0]=w,v[6]=c,Bp(s,v,d,1,w,A)}(w,R[6],X,v,ae,Z),c.attachToViewContainerRef(),IS(Vm(R),A,c),c}move(c,d){return this.insert(c,d)}indexOf(c){const d=Qx(this._lContainer);return null!==d?d.indexOf(c):-1}remove(c){const d=this._adjustIndex(c,-1),v=Yl(this._lContainer,d);v&&(f_(Vm(this._lContainer),d),O_(v[1],v))}detach(c){const d=this._adjustIndex(c,-1),v=Yl(this._lContainer,d);return v&&null!=f_(Vm(this._lContainer),d)?new Kp(v):null}_adjustIndex(c,d=0){return c??this.length+d}};function Qx(s){return s[8]}function Vm(s){return s[8]||(s[8]=[])}function Jx(s,c){let d;const v=c[s.index];if(Qi(v))d=v;else{let w;if(8&s.type)w=Ti(v);else{const A=c[11];w=A.createComment("");const R=Wo(s,c);Gl(A,Nu(A,R),w,function tD(s,c){return s.nextSibling(c)}(A,R),!1)}c[s.index]=d=Cn(v,c,w,s),vm(c,d)}return new tA(d,s,c)}class Kx{constructor(c){this.queryList=c,this.matches=null}clone(){return new Kx(this.queryList)}setDirty(){this.queryList.setDirty()}}class e1{constructor(c=[]){this.queries=c}createEmbeddedView(c){const d=c.queries;if(null!==d){const v=null!==c.contentQueries?c.contentQueries[0]:d.length,w=[];for(let A=0;A<v;A++){const R=d.getByIndex(A);w.push(this.queries[R.indexInDeclarationView].clone())}return new e1(w)}return null}insertView(c){this.dirtyQueriesWithMatches(c)}detachView(c){this.dirtyQueriesWithMatches(c)}dirtyQueriesWithMatches(c){for(let d=0;d<this.queries.length;d++)null!==ac(c,d).matches&&this.queries[d].setDirty()}}class rA{constructor(c,d,v=null){this.predicate=c,this.flags=d,this.read=v}}class zm{constructor(c=[]){this.queries=c}elementStart(c,d){for(let v=0;v<this.queries.length;v++)this.queries[v].elementStart(c,d)}elementEnd(c){for(let d=0;d<this.queries.length;d++)this.queries[d].elementEnd(c)}embeddedTView(c){let d=null;for(let v=0;v<this.length;v++){const w=null!==d?d.length:0,A=this.getByIndex(v).embeddedTView(c,w);A&&(A.indexInDeclarationView=v,null!==d?d.push(A):d=[A])}return null!==d?new zm(d):null}template(c,d){for(let v=0;v<this.queries.length;v++)this.queries[v].template(c,d)}getByIndex(c){return this.queries[c]}get length(){return this.queries.length}track(c){this.queries.push(c)}}class Ur{constructor(c,d=-1){this.metadata=c,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=d}elementStart(c,d){this.isApplyingToNode(d)&&this.matchTNode(c,d)}elementEnd(c){this._declarationNodeIndex===c.index&&(this._appliesToNextNode=!1)}template(c,d){this.elementStart(c,d)}embeddedTView(c,d){return this.isApplyingToNode(c)?(this.crossesNgTemplate=!0,this.addMatch(-c.index,d),new Ur(this.metadata)):null}isApplyingToNode(c){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const d=this._declarationNodeIndex;let v=c.parent;for(;null!==v&&8&v.type&&v.index!==d;)v=v.parent;return d===(null!==v?v.index:-1)}return this._appliesToNextNode}matchTNode(c,d){const v=this.metadata.predicate;if(Array.isArray(v))for(let w=0;w<v.length;w++){const A=v[w];this.matchTNodeWithReadOption(c,d,ic(d,A)),this.matchTNodeWithReadOption(c,d,gp(d,c,A,!1,!1))}else v===Df?4&d.type&&this.matchTNodeWithReadOption(c,d,-1):this.matchTNodeWithReadOption(c,d,gp(d,c,v,!1,!1))}matchTNodeWithReadOption(c,d,v){if(null!==v){const w=this.metadata.read;if(null!==w)if(w===qu||w===dy||w===Df&&4&d.type)this.addMatch(d.index,-2);else{const A=gp(d,c,w,!1,!1);null!==A&&this.addMatch(d.index,A)}else this.addMatch(d.index,v)}}addMatch(c,d){null===this.matches?this.matches=[c,d]:this.matches.push(c,d)}}function ic(s,c){const d=s.localNames;if(null!==d)for(let v=0;v<d.length;v+=2)if(d[v]===c)return d[v+1];return null}function fd(s,c,d,v){return-1===d?function oc(s,c){return 11&s.type?ju(s,c):4&s.type?uy(s,c):null}(c,s):-2===d?function cr(s,c,d){return d===qu?ju(c,s):d===Df?uy(c,s):d===dy?Jx(c,s):void 0}(s,c,v):wu(s,s[1],d,c)}function t1(s,c,d,v){const w=c[19].queries[v];if(null===w.matches){const A=s.data,R=d.matches,Z=[];for(let X=0;X<R.length;X+=2){const ae=R[X];Z.push(ae<0?null:fd(c,A[ae],R[X+1],d.metadata.read))}w.matches=Z}return w.matches}function Hm(s,c,d,v){const w=s.queries.getByIndex(d),A=w.matches;if(null!==A){const R=t1(s,c,w,d);for(let Z=0;Z<A.length;Z+=2){const X=A[Z];if(X>0)v.push(R[Z/2]);else{const ae=A[Z+1],he=c[-X];for(let Me=10;Me<he.length;Me++){const Ze=he[Me];Ze[17]===Ze[3]&&Hm(Ze[1],Ze,ae,v)}if(null!==he[9]){const Me=he[9];for(let Ze=0;Ze<Me.length;Ze++){const it=Me[Ze];Hm(it[1],it,ae,v)}}}}}return v}function fy(s){const c=Bt(),d=vr(),v=Sh();Ac(v+1);const w=ac(d,v);if(s.dirty&&function kI(s){return 4==(4&s[2])}(c)===(2==(2&w.metadata.flags))){if(null===w.matches)s.reset([]);else{const A=w.crossesNgTemplate?Hm(d,c,v,[]):t1(d,c,w,v);s.reset(A,PD),s.notifyOnChanges()}return!0}return!1}function n1(s,c,d){const v=vr();v.firstCreatePass&&(di(v,new rA(s,c,d),-1),2==(2&c)&&(v.staticViewQueries=!0)),Of(v,Bt(),c)}function jm(s,c,d,v){const w=vr();if(w.firstCreatePass){const A=Li();di(w,new rA(c,d,v),A.index),function hy(s,c){const d=s.contentQueries||(s.contentQueries=[]);c!==(d.length?d[d.length-1]:-1)&&d.push(s.queries.length-1,c)}(w,s),2==(2&d)&&(w.staticContentQueries=!0)}Of(w,Bt(),d)}function r1(){return function qm(s,c){return s[19].queries[c].queryList}(Bt(),Sh())}function Of(s,c,d){const v=new Um(4==(4&d));xv(s,c,v,v.destroy),null===c[19]&&(c[19]=new e1),c[19].queries.push(new Kx(v))}function di(s,c,d){null===s.queries&&(s.queries=new zm),s.queries.track(new Ur(c,d))}function ac(s,c){return s.queries.getByIndex(c)}function Cy(...s){}const Wm=new Lr("Application Initializer");let Qm=(()=>{class s{constructor(d){this.appInits=d,this.resolve=Cy,this.reject=Cy,this.initialized=!1,this.done=!1,this.donePromise=new Promise((v,w)=>{this.resolve=v,this.reject=w})}runInitializers(){if(this.initialized)return;const d=[],v=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let w=0;w<this.appInits.length;w++){const A=this.appInits[w]();if(QC(A))d.push(A);else if(JC(A)){const R=new Promise((Z,X)=>{A.subscribe({complete:Z,error:X})});d.push(R)}}Promise.all(d).then(()=>{v()}).catch(w=>{this.reject(w)}),0===d.length&&v(),this.initialized=!0}}return s.\u0275fac=function(d){return new(d||s)(xt(Wm,8))},s.\u0275prov=de({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const h1=new Lr("AppId",{providedIn:"root",factory:function m1(){return`${xy()}${xy()}${xy()}`}});function xy(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const g1=new Lr("Platform Initializer"),_A=new Lr("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),_1=new Lr("appBootstrapListener"),v1=new Lr("AnimationModuleType");let vA=(()=>{class s{log(d){console.log(d)}warn(d){console.warn(d)}}return s.\u0275fac=function(d){return new(d||s)},s.\u0275prov=de({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const My=new Lr("LocaleId",{providedIn:"root",factory:()=>eb(My,nt.Optional|nt.SkipSelf)||function wy(){return typeof $localize<"u"&&$localize.locale||cd}()}),yA=new Lr("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class bA{constructor(c,d){this.ngModuleFactory=c,this.componentFactories=d}}let CA=(()=>{class s{compileModuleSync(d){return new Ux(d)}compileModuleAsync(d){return Promise.resolve(this.compileModuleSync(d))}compileModuleAndAllComponentsSync(d){const v=this.compileModuleSync(d),A=Ma(Gi(d).declarations).reduce((R,Z)=>{const X=Mr(Z);return X&&R.push(new ef(X)),R},[]);return new bA(v,A)}compileModuleAndAllComponentsAsync(d){return Promise.resolve(this.compileModuleAndAllComponentsSync(d))}clearCache(){}clearCacheFor(d){}getModuleId(d){}}return s.\u0275fac=function(d){return new(d||s)},s.\u0275prov=de({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const ts=(()=>Promise.resolve(0))();function b1(s){typeof Zone>"u"?ts.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class ns{constructor({enableLongStackTrace:c=!1,shouldCoalesceEventChangeDetection:d=!1,shouldCoalesceRunChangeDetection:v=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new As(!1),this.onMicrotaskEmpty=new As(!1),this.onStable=new As(!1),this.onError=new As(!1),typeof Zone>"u")throw new O(908,!1);Zone.assertZonePatched();const w=this;if(w._nesting=0,w._outer=w._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const A=Zone.AsyncStackTaggingZoneSpec;w._inner=w._inner.fork(new A("Angular"))}Zone.TaskTrackingZoneSpec&&(w._inner=w._inner.fork(new Zone.TaskTrackingZoneSpec)),c&&Zone.longStackTraceZoneSpec&&(w._inner=w._inner.fork(Zone.longStackTraceZoneSpec)),w.shouldCoalesceEventChangeDetection=!v&&d,w.shouldCoalesceRunChangeDetection=v,w.lastRequestAnimationFrameId=-1,w.nativeRequestAnimationFrame=function cF(){let s=je.requestAnimationFrame,c=je.cancelAnimationFrame;if(typeof Zone<"u"&&s&&c){const d=s[Zone.__symbol__("OriginalDelegate")];d&&(s=d);const v=c[Zone.__symbol__("OriginalDelegate")];v&&(c=v)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:c}}().nativeRequestAnimationFrame,function Sy(s){const c=()=>{!function dF(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(je,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,uc(s),s.isCheckStableRunning=!0,C1(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),uc(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(d,v,w,A,R,Z)=>{try{return bd(s),d.invokeTask(w,A,R,Z)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===A.type||s.shouldCoalesceRunChangeDetection)&&c(),x1(s)}},onInvoke:(d,v,w,A,R,Z,X)=>{try{return bd(s),d.invoke(w,A,R,Z,X)}finally{s.shouldCoalesceRunChangeDetection&&c(),x1(s)}},onHasTask:(d,v,w,A)=>{d.hasTask(w,A),v===w&&("microTask"==A.change?(s._hasPendingMicrotasks=A.microTask,uc(s),C1(s)):"macroTask"==A.change&&(s.hasPendingMacrotasks=A.macroTask))},onHandleError:(d,v,w,A)=>(d.handleError(w,A),s.runOutsideAngular(()=>s.onError.emit(A)),!1)})}(w)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ns.isInAngularZone())throw new O(909,!1)}static assertNotInAngularZone(){if(ns.isInAngularZone())throw new O(909,!1)}run(c,d,v){return this._inner.run(c,d,v)}runTask(c,d,v,w){const A=this._inner,R=A.scheduleEventTask("NgZoneEvent: "+w,c,uF,Cy,Cy);try{return A.runTask(R,d,v)}finally{A.cancelTask(R)}}runGuarded(c,d,v){return this._inner.runGuarded(c,d,v)}runOutsideAngular(c){return this._outer.run(c)}}const uF={};function C1(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function uc(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function bd(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function x1(s){s._nesting--,C1(s)}class Xm{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new As,this.onMicrotaskEmpty=new As,this.onStable=new As,this.onError=new As}run(c,d,v){return c.apply(d,v)}runGuarded(c,d,v){return c.apply(d,v)}runOutsideAngular(c){return c()}runTask(c,d,v,w){return c.apply(d,v)}}const MA=new Lr(""),w1=new Lr("");let dc,pF=(()=>{class s{constructor(d,v,w){this._ngZone=d,this.registry=v,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,dc||(function fF(s){dc=s}(w),w.addToWindow(v)),this._watchAngularEvents(),d.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ns.assertNotInAngularZone(),b1(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())b1(()=>{for(;0!==this._callbacks.length;){let d=this._callbacks.pop();clearTimeout(d.timeoutId),d.doneCb(this._didWork)}this._didWork=!1});else{let d=this.getPendingTasks();this._callbacks=this._callbacks.filter(v=>!v.updateCb||!v.updateCb(d)||(clearTimeout(v.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(d=>({source:d.source,creationLocation:d.creationLocation,data:d.data})):[]}addCallback(d,v,w){let A=-1;v&&v>0&&(A=setTimeout(()=>{this._callbacks=this._callbacks.filter(R=>R.timeoutId!==A),d(this._didWork,this.getPendingTasks())},v)),this._callbacks.push({doneCb:d,timeoutId:A,updateCb:w})}whenStable(d,v,w){if(w&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(d,v,w),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(d){this.registry.registerApplication(d,this)}unregisterApplication(d){this.registry.unregisterApplication(d)}findProviders(d,v,w){return[]}}return s.\u0275fac=function(d){return new(d||s)(xt(ns),xt(SA),xt(w1))},s.\u0275prov=de({token:s,factory:s.\u0275fac}),s})(),SA=(()=>{class s{constructor(){this._applications=new Map}registerApplication(d,v){this._applications.set(d,v)}unregisterApplication(d){this._applications.delete(d)}unregisterAllApplications(){this._applications.clear()}getTestability(d){return this._applications.get(d)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(d,v=!0){return dc?.findTestabilityInTree(this,d,v)??null}}return s.\u0275fac=function(d){return new(d||s)},s.\u0275prov=de({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})(),Jc=null;const rs=new Lr("AllowMultipleToken"),M1=new Lr("PlatformDestroyListeners");class S1{constructor(c,d){this.name=c,this.token=d}}function Cd(s,c,d=[]){const v=`Platform: ${c}`,w=new Lr(v);return(A=[])=>{let R=E1();if(!R||R.injector.get(rs,!1)){const Z=[...d,...A,{provide:w,useValue:!0}];s?s(Z):function Dy(s){if(Jc&&!Jc.get(rs,!1))throw new O(400,!1);Jc=s;const c=s.get(AA);(function O1(s){const c=s.get(g1,null);c&&c.forEach(d=>d())})(s)}(function EA(s=[],c){return Vc.create({name:c,providers:[{provide:Hu,useValue:"platform"},{provide:M1,useValue:new Set([()=>Jc=null])},...s]})}(Z,v))}return function mF(s){const c=E1();if(!c)throw new O(401,!1);return c}()}}function E1(){return Jc?.get(AA)??null}let AA=(()=>{class s{constructor(d){this._injector=d,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(d,v){const w=function A1(s,c){let d;return d="noop"===s?new Xm:("zone.js"===s?void 0:s)||new ns(c),d}(v?.ngZone,function Oy(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!s||!s.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!s||!s.ngZoneRunCoalescing)||!1}}(v)),A=[{provide:ns,useValue:w}];return w.run(()=>{const R=Vc.create({providers:A,parent:this.injector,name:d.moduleType.name}),Z=d.create(R),X=Z.injector.get(Zu,null);if(!X)throw new O(402,!1);return w.runOutsideAngular(()=>{const ae=w.onError.subscribe({next:he=>{X.handleError(he)}});Z.onDestroy(()=>{kf(this._modules,Z),ae.unsubscribe()})}),function P1(s,c,d){try{const v=d();return QC(v)?v.catch(w=>{throw c.runOutsideAngular(()=>s.handleError(w)),w}):v}catch(v){throw c.runOutsideAngular(()=>s.handleError(v)),v}}(X,w,()=>{const ae=Z.injector.get(Qm);return ae.runInitializers(),ae.donePromise.then(()=>(function hx(s){pe(s,"Expected localeId to be defined"),"string"==typeof s&&(fx=s.toLowerCase().replace(/_/g,"-"))}(Z.injector.get(My,cd)||cd),this._moduleDoBootstrap(Z),Z))})})}bootstrapModule(d,v=[]){const w=pc({},v);return function DA(s,c,d){const v=new Ux(d);return Promise.resolve(v)}(0,0,d).then(A=>this.bootstrapModuleFactory(A,w))}_moduleDoBootstrap(d){const v=d.injector.get(fc);if(d._bootstrapComponents.length>0)d._bootstrapComponents.forEach(w=>v.bootstrap(w));else{if(!d.instance.ngDoBootstrap)throw new O(403,!1);d.instance.ngDoBootstrap(v)}this._modules.push(d)}onDestroy(d){this._destroyListeners.push(d)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new O(404,!1);this._modules.slice().forEach(v=>v.destroy()),this._destroyListeners.forEach(v=>v());const d=this._injector.get(M1,null);d&&(d.forEach(v=>v()),d.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(d){return new(d||s)(xt(Vc))},s.\u0275prov=de({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function pc(s,c){return Array.isArray(c)?c.reduce(pc,s):{...s,...c}}let fc=(()=>{class s{constructor(d,v,w){this._zone=d,this._injector=v,this._exceptionHandler=w,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const A=new Ae.y(Z=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{Z.next(this._stable),Z.complete()})}),R=new Ae.y(Z=>{let X;this._zone.runOutsideAngular(()=>{X=this._zone.onStable.subscribe(()=>{ns.assertNotInAngularZone(),b1(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,Z.next(!0))})})});const ae=this._zone.onUnstable.subscribe(()=>{ns.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{Z.next(!1)}))});return()=>{X.unsubscribe(),ae.unsubscribe()}});this.isStable=(0,Qe.T)(A,R.pipe((0,Pe.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(d,v){const w=d instanceof qp;if(!this._injector.get(Qm).done)throw!w&&Va(d),new O(405,false);let R;R=w?d:this._injector.get(Zp).resolveComponentFactory(d),this.componentTypes.push(R.componentType);const Z=function OA(s){return s.isBoundToModule}(R)?void 0:this._injector.get(wf),ae=R.create(Vc.NULL,[],v||R.selector,Z),he=ae.location.nativeElement,Me=ae.injector.get(MA,null);return Me?.registerApplication(he),ae.onDestroy(()=>{this.detachView(ae.hostView),kf(this.components,ae),Me?.unregisterApplication(he)}),this._loadComponent(ae),ae}tick(){if(this._runningTick)throw new O(101,!1);try{this._runningTick=!0;for(let d of this._views)d.detectChanges()}catch(d){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(d))}finally{this._runningTick=!1}}attachView(d){const v=d;this._views.push(v),v.attachToAppRef(this)}detachView(d){const v=d;kf(this._views,v),v.detachFromAppRef()}_loadComponent(d){this.attachView(d.hostView),this.tick(),this.components.push(d),this._injector.get(_1,[]).concat(this._bootstrapListeners).forEach(w=>w(d))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(d=>d()),this._views.slice().forEach(d=>d.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(d){return this._destroyListeners.push(d),()=>kf(this._destroyListeners,d)}destroy(){if(this._destroyed)throw new O(406,!1);const d=this._injector;d.destroy&&!d.destroyed&&d.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return s.\u0275fac=function(d){return new(d||s)(xt(ns),xt(xs),xt(Zu))},s.\u0275prov=de({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function kf(s,c){const d=s.indexOf(c);d>-1&&s.splice(d,1)}let hc=!0,Ey=!1;function I1(){return Ey=!0,hc}function _F(){if(Ey)throw new Error("Cannot enable prod mode after platform setup.");hc=!1}let IA=(()=>{class s{}return s.__NG_ELEMENT_ID__=kA,s})();function kA(s){return function Ro(s,c,d){if(Qs(s)&&!d){const v=Co(s.index,c);return new Kp(v,v)}return 47&s.type?new Kp(c[16],c):null}(Li(),Bt(),16==(16&s))}class R1{constructor(){}supports(c){return ed(c)}create(c){return new UA(c)}}const Md=(s,c)=>c;class UA{constructor(c){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=c||Md}forEachItem(c){let d;for(d=this._itHead;null!==d;d=d._next)c(d)}forEachOperation(c){let d=this._itHead,v=this._removalsHead,w=0,A=null;for(;d||v;){const R=!v||d&&d.currentIndex<Pa(v,w,A)?d:v,Z=Pa(R,w,A),X=R.currentIndex;if(R===v)w--,v=v._nextRemoved;else if(d=d._next,null==R.previousIndex)w++;else{A||(A=[]);const ae=Z-w,he=X-w;if(ae!=he){for(let Ze=0;Ze<ae;Ze++){const it=Ze<A.length?A[Ze]:A[Ze]=0,Et=it+Ze;he<=Et&&Et<ae&&(A[Ze]=it+1)}A[R.previousIndex]=he-ae}}Z!==X&&c(R,Z,X)}}forEachPreviousItem(c){let d;for(d=this._previousItHead;null!==d;d=d._nextPrevious)c(d)}forEachAddedItem(c){let d;for(d=this._additionsHead;null!==d;d=d._nextAdded)c(d)}forEachMovedItem(c){let d;for(d=this._movesHead;null!==d;d=d._nextMoved)c(d)}forEachRemovedItem(c){let d;for(d=this._removalsHead;null!==d;d=d._nextRemoved)c(d)}forEachIdentityChange(c){let d;for(d=this._identityChangesHead;null!==d;d=d._nextIdentityChange)c(d)}diff(c){if(null==c&&(c=[]),!ed(c))throw new O(900,!1);return this.check(c)?this:null}onDestroy(){}check(c){this._reset();let w,A,R,d=this._itHead,v=!1;if(Array.isArray(c)){this.length=c.length;for(let Z=0;Z<this.length;Z++)A=c[Z],R=this._trackByFn(Z,A),null!==d&&Object.is(d.trackById,R)?(v&&(d=this._verifyReinsertion(d,A,R,Z)),Object.is(d.item,A)||this._addIdentityChange(d,A)):(d=this._mismatch(d,A,R,Z),v=!0),d=d._next}else w=0,function wO(s,c){if(Array.isArray(s))for(let d=0;d<s.length;d++)c(s[d]);else{const d=s[Da()]();let v;for(;!(v=d.next()).done;)c(v.value)}}(c,Z=>{R=this._trackByFn(w,Z),null!==d&&Object.is(d.trackById,R)?(v&&(d=this._verifyReinsertion(d,Z,R,w)),Object.is(d.item,Z)||this._addIdentityChange(d,Z)):(d=this._mismatch(d,Z,R,w),v=!0),d=d._next,w++}),this.length=w;return this._truncate(d),this.collection=c,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let c;for(c=this._previousItHead=this._itHead;null!==c;c=c._next)c._nextPrevious=c._next;for(c=this._additionsHead;null!==c;c=c._nextAdded)c.previousIndex=c.currentIndex;for(this._additionsHead=this._additionsTail=null,c=this._movesHead;null!==c;c=c._nextMoved)c.previousIndex=c.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(c,d,v,w){let A;return null===c?A=this._itTail:(A=c._prev,this._remove(c)),null!==(c=null===this._unlinkedRecords?null:this._unlinkedRecords.get(v,null))?(Object.is(c.item,d)||this._addIdentityChange(c,d),this._reinsertAfter(c,A,w)):null!==(c=null===this._linkedRecords?null:this._linkedRecords.get(v,w))?(Object.is(c.item,d)||this._addIdentityChange(c,d),this._moveAfter(c,A,w)):c=this._addAfter(new tg(d,v),A,w),c}_verifyReinsertion(c,d,v,w){let A=null===this._unlinkedRecords?null:this._unlinkedRecords.get(v,null);return null!==A?c=this._reinsertAfter(A,c._prev,w):c.currentIndex!=w&&(c.currentIndex=w,this._addToMoves(c,w)),c}_truncate(c){for(;null!==c;){const d=c._next;this._addToRemovals(this._unlink(c)),c=d}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(c,d,v){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(c);const w=c._prevRemoved,A=c._nextRemoved;return null===w?this._removalsHead=A:w._nextRemoved=A,null===A?this._removalsTail=w:A._prevRemoved=w,this._insertAfter(c,d,v),this._addToMoves(c,v),c}_moveAfter(c,d,v){return this._unlink(c),this._insertAfter(c,d,v),this._addToMoves(c,v),c}_addAfter(c,d,v){return this._insertAfter(c,d,v),this._additionsTail=null===this._additionsTail?this._additionsHead=c:this._additionsTail._nextAdded=c,c}_insertAfter(c,d,v){const w=null===d?this._itHead:d._next;return c._next=w,c._prev=d,null===w?this._itTail=c:w._prev=c,null===d?this._itHead=c:d._next=c,null===this._linkedRecords&&(this._linkedRecords=new L1),this._linkedRecords.put(c),c.currentIndex=v,c}_remove(c){return this._addToRemovals(this._unlink(c))}_unlink(c){null!==this._linkedRecords&&this._linkedRecords.remove(c);const d=c._prev,v=c._next;return null===d?this._itHead=v:d._next=v,null===v?this._itTail=d:v._prev=d,c}_addToMoves(c,d){return c.previousIndex===d||(this._movesTail=null===this._movesTail?this._movesHead=c:this._movesTail._nextMoved=c),c}_addToRemovals(c){return null===this._unlinkedRecords&&(this._unlinkedRecords=new L1),this._unlinkedRecords.put(c),c.currentIndex=null,c._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=c,c._prevRemoved=null):(c._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=c),c}_addIdentityChange(c,d){return c.item=d,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=c:this._identityChangesTail._nextIdentityChange=c,c}}class tg{constructor(c,d){this.item=c,this.trackById=d,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class VA{constructor(){this._head=null,this._tail=null}add(c){null===this._head?(this._head=this._tail=c,c._nextDup=null,c._prevDup=null):(this._tail._nextDup=c,c._prevDup=this._tail,c._nextDup=null,this._tail=c)}get(c,d){let v;for(v=this._head;null!==v;v=v._nextDup)if((null===d||d<=v.currentIndex)&&Object.is(v.trackById,c))return v;return null}remove(c){const d=c._prevDup,v=c._nextDup;return null===d?this._head=v:d._nextDup=v,null===v?this._tail=d:v._prevDup=d,null===this._head}}class L1{constructor(){this.map=new Map}put(c){const d=c.trackById;let v=this.map.get(d);v||(v=new VA,this.map.set(d,v)),v.add(c)}get(c,d){const w=this.map.get(c);return w?w.get(c,d):null}remove(c){const d=c.trackById;return this.map.get(d).remove(c)&&this.map.delete(d),c}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Pa(s,c,d){const v=s.previousIndex;if(null===v)return v;let w=0;return d&&v<d.length&&(w=d[v]),v+c+w}class ky{constructor(){}supports(c){return c instanceof Map||nc(c)}create(){return new Fy}}class Fy{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(c){let d;for(d=this._mapHead;null!==d;d=d._next)c(d)}forEachPreviousItem(c){let d;for(d=this._previousMapHead;null!==d;d=d._nextPrevious)c(d)}forEachChangedItem(c){let d;for(d=this._changesHead;null!==d;d=d._nextChanged)c(d)}forEachAddedItem(c){let d;for(d=this._additionsHead;null!==d;d=d._nextAdded)c(d)}forEachRemovedItem(c){let d;for(d=this._removalsHead;null!==d;d=d._nextRemoved)c(d)}diff(c){if(c){if(!(c instanceof Map||nc(c)))throw new O(900,!1)}else c=new Map;return this.check(c)?this:null}onDestroy(){}check(c){this._reset();let d=this._mapHead;if(this._appendAfter=null,this._forEach(c,(v,w)=>{if(d&&d.key===w)this._maybeAddToChanges(d,v),this._appendAfter=d,d=d._next;else{const A=this._getOrCreateRecordForKey(w,v);d=this._insertBeforeOrAppend(d,A)}}),d){d._prev&&(d._prev._next=null),this._removalsHead=d;for(let v=d;null!==v;v=v._nextRemoved)v===this._mapHead&&(this._mapHead=null),this._records.delete(v.key),v._nextRemoved=v._next,v.previousValue=v.currentValue,v.currentValue=null,v._prev=null,v._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(c,d){if(c){const v=c._prev;return d._next=c,d._prev=v,c._prev=d,v&&(v._next=d),c===this._mapHead&&(this._mapHead=d),this._appendAfter=c,c}return this._appendAfter?(this._appendAfter._next=d,d._prev=this._appendAfter):this._mapHead=d,this._appendAfter=d,null}_getOrCreateRecordForKey(c,d){if(this._records.has(c)){const w=this._records.get(c);this._maybeAddToChanges(w,d);const A=w._prev,R=w._next;return A&&(A._next=R),R&&(R._prev=A),w._next=null,w._prev=null,w}const v=new zA(c);return this._records.set(c,v),v.currentValue=d,this._addToAdditions(v),v}_reset(){if(this.isDirty){let c;for(this._previousMapHead=this._mapHead,c=this._previousMapHead;null!==c;c=c._next)c._nextPrevious=c._next;for(c=this._changesHead;null!==c;c=c._nextChanged)c.previousValue=c.currentValue;for(c=this._additionsHead;null!=c;c=c._nextAdded)c.previousValue=c.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(c,d){Object.is(d,c.currentValue)||(c.previousValue=c.currentValue,c.currentValue=d,this._addToChanges(c))}_addToAdditions(c){null===this._additionsHead?this._additionsHead=this._additionsTail=c:(this._additionsTail._nextAdded=c,this._additionsTail=c)}_addToChanges(c){null===this._changesHead?this._changesHead=this._changesTail=c:(this._changesTail._nextChanged=c,this._changesTail=c)}_forEach(c,d){c instanceof Map?c.forEach(d):Object.keys(c).forEach(v=>d(c[v],v))}}class zA{constructor(c){this.key=c,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Ny(){return new B1([new R1])}let B1=(()=>{class s{constructor(d){this.factories=d}static create(d,v){if(null!=v){const w=v.factories.slice();d=d.concat(w)}return new s(d)}static extend(d){return{provide:s,useFactory:v=>s.create(d,v||Ny()),deps:[[s,new el,new wp]]}}find(d){const v=this.factories.find(w=>w.supports(d));if(null!=v)return v;throw new O(901,!1)}}return s.\u0275prov=de({token:s,providedIn:"root",factory:Ny}),s})();function U1(){return new Ry([new ky])}let Ry=(()=>{class s{constructor(d){this.factories=d}static create(d,v){if(v){const w=v.factories.slice();d=d.concat(w)}return new s(d)}static extend(d){return{provide:s,useFactory:v=>s.create(d,v||U1()),deps:[[s,new el,new wp]]}}find(d){const v=this.factories.find(w=>w.supports(d));if(v)return v;throw new O(901,!1)}}return s.\u0275prov=de({token:s,providedIn:"root",factory:U1}),s})();const Rf=Cd(null,"core",[]);let Xc=(()=>{class s{constructor(d){}}return s.\u0275fac=function(d){return new(d||s)(xt(fc))},s.\u0275mod=co({type:s}),s.\u0275inj=$e({}),s})();function Kc(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}},825:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{FT:()=>StoreDevtoolsModule});var _angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(4650),_ngrx_store__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(9653),rxjs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(515),rxjs__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(9751),rxjs__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(9646),rxjs__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(6451),rxjs__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(233),rxjs__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(4707),rxjs_operators__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(3099),rxjs_operators__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(9300),rxjs_operators__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(4004),rxjs_operators__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(4351),rxjs_operators__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(7414),rxjs_operators__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(8372),rxjs_operators__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(262),rxjs_operators__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(5698),rxjs_operators__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(2722),rxjs_operators__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(3900),rxjs_operators__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(5684),rxjs_operators__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(5363),rxjs_operators__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(1365),rxjs_operators__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(5026);const PERFORM_ACTION="PERFORM_ACTION",REFRESH="REFRESH",RESET="RESET",ROLLBACK="ROLLBACK",COMMIT="COMMIT",SWEEP="SWEEP",TOGGLE_ACTION="TOGGLE_ACTION",SET_ACTIONS_ACTIVE="SET_ACTIONS_ACTIVE",JUMP_TO_STATE="JUMP_TO_STATE",JUMP_TO_ACTION="JUMP_TO_ACTION",IMPORT_STATE="IMPORT_STATE",LOCK_CHANGES="LOCK_CHANGES",PAUSE_RECORDING="PAUSE_RECORDING";class PerformAction{constructor(De,se){if(this.action=De,this.timestamp=se,this.type=PERFORM_ACTION,typeof De.type>"u")throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?')}}class Refresh{constructor(){this.type=REFRESH}}class Reset{constructor(De){this.timestamp=De,this.type=RESET}}class Rollback{constructor(De){this.timestamp=De,this.type=ROLLBACK}}class Commit{constructor(De){this.timestamp=De,this.type=COMMIT}}class Sweep{constructor(){this.type=SWEEP}}class ToggleAction{constructor(De){this.id=De,this.type=TOGGLE_ACTION}}class SetActionsActive{constructor(De,se,n=!0){this.start=De,this.end=se,this.active=n,this.type=SET_ACTIONS_ACTIVE}}class JumpToState{constructor(De){this.index=De,this.type=JUMP_TO_STATE}}class JumpToAction{constructor(De){this.actionId=De,this.type=JUMP_TO_ACTION}}class ImportState{constructor(De){this.nextLiftedState=De,this.type=IMPORT_STATE}}class LockChanges{constructor(De){this.status=De,this.type=LOCK_CHANGES}}class PauseRecording{constructor(De){this.status=De,this.type=PAUSE_RECORDING}}class StoreDevtoolsConfig{constructor(){this.maxAge=!1}}const STORE_DEVTOOLS_CONFIG=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Options"),INITIAL_OPTIONS=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Initial Config");function noMonitor(){return null}const DEFAULT_NAME="NgRx Store DevTools";function createConfig(He){const De={maxAge:!1,monitor:noMonitor,actionSanitizer:void 0,stateSanitizer:void 0,name:DEFAULT_NAME,serialize:!1,logOnly:!1,autoPause:!1,features:{pause:!0,lock:!0,persist:!0,export:!0,import:"custom",jump:!0,skip:!0,reorder:!0,dispatch:!0,test:!0}},se="function"==typeof He?He():He,Ae=Object.assign({},De,{features:se.features||!!se.logOnly&&{pause:!0,export:!0,test:!0}||De.features},se);if(Ae.maxAge&&Ae.maxAge<2)throw new Error(`Devtools 'maxAge' cannot be less than 2, got ${Ae.maxAge}`);return Ae}function difference(He,De){return He.filter(se=>De.indexOf(se)<0)}function unliftState(He){const{computedStates:De,currentStateIndex:se}=He;if(se>=De.length){const{state:ze}=De[De.length-1];return ze}const{state:n}=De[se];return n}function unliftAction(He){return He.actionsById[He.nextActionId-1]}function liftAction(He){return new PerformAction(He,+Date.now())}function sanitizeActions(He,De){return Object.keys(De).reduce((se,n)=>{const ze=Number(n);return se[ze]=sanitizeAction(He,De[ze],ze),se},{})}function sanitizeAction(He,De,se){return{...De,action:He(De.action,se)}}function sanitizeStates(He,De){return De.map((se,n)=>({state:sanitizeState(He,se.state,n),error:se.error}))}function sanitizeState(He,De,se){return He(De,se)}function shouldFilterActions(He){return He.predicate||He.actionsSafelist||He.actionsBlocklist}function filterLiftedState(He,De,se,n){const ze=[],Ae={},Qe=[];return He.stagedActionIds.forEach((Pe,Ge)=>{const I=He.actionsById[Pe];!I||Ge&&isActionFiltered(He.computedStates[Ge],I,De,se,n)||(Ae[Pe]=I,ze.push(Pe),Qe.push(He.computedStates[Ge]))}),{...He,stagedActionIds:ze,actionsById:Ae,computedStates:Qe}}function isActionFiltered(He,De,se,n,ze){const Ae=se&&!se(He,De.action),Qe=n&&!De.action.type.match(n.map(Ge=>escapeRegExp(Ge)).join("|")),Pe=ze&&De.action.type.match(ze.map(Ge=>escapeRegExp(Ge)).join("|"));return Ae||Qe||Pe}function escapeRegExp(He){return He.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}let DevtoolsDispatcher=(()=>{class He extends _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.UO{}return He.\u0275fac=function(){let De;return function(n){return(De||(De=_angular_core__WEBPACK_IMPORTED_MODULE_0__.n5z(He)))(n||He)}}(),He.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:He,factory:He.\u0275fac}),He})();const ExtensionActionTypes={START:"START",DISPATCH:"DISPATCH",STOP:"STOP",ACTION:"ACTION"},REDUX_DEVTOOLS_EXTENSION=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Redux Devtools Extension");let DevtoolsExtension=(()=>{class DevtoolsExtension{constructor(He,De,se){this.config=De,this.dispatcher=se,this.devtoolsExtension=He,this.createActionStreams()}notify(He,De){if(this.devtoolsExtension)if(He.type===PERFORM_ACTION){if(De.isLocked||De.isPaused)return;const se=unliftState(De);if(shouldFilterActions(this.config)&&isActionFiltered(se,He,this.config.predicate,this.config.actionsSafelist,this.config.actionsBlocklist))return;const n=this.config.stateSanitizer?sanitizeState(this.config.stateSanitizer,se,De.currentStateIndex):se,ze=this.config.actionSanitizer?sanitizeAction(this.config.actionSanitizer,He,De.nextActionId):He;this.sendToReduxDevtools(()=>this.extensionConnection.send(ze,n))}else{const se={...De,stagedActionIds:De.stagedActionIds,actionsById:this.config.actionSanitizer?sanitizeActions(this.config.actionSanitizer,De.actionsById):De.actionsById,computedStates:this.config.stateSanitizer?sanitizeStates(this.config.stateSanitizer,De.computedStates):De.computedStates};this.sendToReduxDevtools(()=>this.devtoolsExtension.send(null,se,this.getExtensionConfig(this.config)))}}createChangesObservable(){return this.devtoolsExtension?new rxjs__WEBPACK_IMPORTED_MODULE_3__.y(He=>{const De=this.devtoolsExtension.connect(this.getExtensionConfig(this.config));return this.extensionConnection=De,De.init(),De.subscribe(se=>He.next(se)),De.unsubscribe}):rxjs__WEBPACK_IMPORTED_MODULE_2__.E}createActionStreams(){const He=this.createChangesObservable().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.B)()),De=He.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(Pe=>Pe.type===ExtensionActionTypes.START)),se=He.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(Pe=>Pe.type===ExtensionActionTypes.STOP)),n=He.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(Pe=>Pe.type===ExtensionActionTypes.DISPATCH),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(Pe=>this.unwrapAction(Pe.payload)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.b)(Pe=>Pe.type===IMPORT_STATE?this.dispatcher.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(Ge=>Ge.type===_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.wb),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.V)(1e3),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.b)(1e3),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(()=>Pe),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.K)(()=>(0,rxjs__WEBPACK_IMPORTED_MODULE_11__.of)(Pe)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.q)(1)):(0,rxjs__WEBPACK_IMPORTED_MODULE_11__.of)(Pe))),Ae=He.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(Pe=>Pe.type===ExtensionActionTypes.ACTION),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(Pe=>this.unwrapAction(Pe.payload))).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(se)),Qe=n.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(se));this.start$=De.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(se)),this.actions$=this.start$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.w)(()=>Ae)),this.liftedActions$=this.start$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.w)(()=>Qe))}unwrapAction(action){return"string"==typeof action?eval(`(${action})`):action}getExtensionConfig(He){const De={name:He.name,features:He.features,serialize:He.serialize,autoPause:He.autoPause??!1};return!1!==He.maxAge&&(De.maxAge=He.maxAge),De}sendToReduxDevtools(He){try{He()}catch(De){console.warn("@ngrx/store-devtools: something went wrong inside the redux devtools",De)}}}return DevtoolsExtension.\u0275fac=function He(De){return new(De||DevtoolsExtension)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(REDUX_DEVTOOLS_EXTENSION),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(STORE_DEVTOOLS_CONFIG),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsDispatcher))},DevtoolsExtension.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:DevtoolsExtension,factory:DevtoolsExtension.\u0275fac}),DevtoolsExtension})();const INIT_ACTION={type:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.qg},RECOMPUTE="@ngrx/store-devtools/recompute",RECOMPUTE_ACTION={type:RECOMPUTE};function computeNextEntry(He,De,se,n,ze){if(n)return{state:se,error:"Interrupted by an error up the chain"};let Qe,Ae=se;try{Ae=He(se,De)}catch(Pe){Qe=Pe.toString(),ze.handleError(Pe)}return{state:Ae,error:Qe}}function recomputeStates(He,De,se,n,ze,Ae,Qe,Pe,Ge){if(De>=He.length&&He.length===Ae.length)return He;const I=He.slice(0,De),x=Ae.length-(Ge?1:0);for(let S=De;S<x;S++){const M=Ae[S],m=ze[M].action,g=I[S-1],_=g?g.state:n,b=g?g.error:void 0,C=Qe.indexOf(M)>-1?g:computeNextEntry(se,m,_,b,Pe);I.push(C)}return Ge&&I.push(He[He.length-1]),I}function liftInitialState(He,De){return{monitorState:De(void 0,{}),nextActionId:1,actionsById:{0:liftAction(INIT_ACTION)},stagedActionIds:[0],skippedActionIds:[],committedState:He,currentStateIndex:0,computedStates:[],isLocked:!1,isPaused:!1}}function liftReducerWith(He,De,se,n,ze={}){return Ae=>(Qe,Pe)=>{let{monitorState:Ge,actionsById:I,nextActionId:x,stagedActionIds:S,skippedActionIds:M,committedState:m,currentStateIndex:g,computedStates:_,isLocked:b,isPaused:O}=Qe||De;function C($){let Q=$,ne=S.slice(1,Q+1);for(let ue=0;ue<ne.length;ue++){if(_[ue+1].error){Q=ue,ne=S.slice(1,Q+1);break}delete I[ne[ue]]}M=M.filter(ue=>-1===ne.indexOf(ue)),S=[0,...S.slice(Q+1)],m=_[Q].state,_=_.slice(Q),g=g>Q?g-Q:0}function P(){I={0:liftAction(INIT_ACTION)},x=1,S=[0],M=[],m=_[g].state,g=0,_=[]}Qe||(I=Object.create(I));let F=0;switch(Pe.type){case LOCK_CHANGES:b=Pe.status,F=1/0;break;case PAUSE_RECORDING:O=Pe.status,O?(S=[...S,x],I[x]=new PerformAction({type:"@ngrx/devtools/pause"},+Date.now()),x++,F=S.length-1,_=_.concat(_[_.length-1]),g===S.length-2&&g++,F=1/0):P();break;case RESET:I={0:liftAction(INIT_ACTION)},x=1,S=[0],M=[],m=He,g=0,_=[];break;case COMMIT:P();break;case ROLLBACK:I={0:liftAction(INIT_ACTION)},x=1,S=[0],M=[],g=0,_=[];break;case TOGGLE_ACTION:{const{id:$}=Pe;M=-1===M.indexOf($)?[$,...M]:M.filter(ne=>ne!==$),F=S.indexOf($);break}case SET_ACTIONS_ACTIVE:{const{start:$,end:Q,active:ne}=Pe,ue=[];for(let ge=$;ge<Q;ge++)ue.push(ge);M=ne?difference(M,ue):[...M,...ue],F=S.indexOf($);break}case JUMP_TO_STATE:g=Pe.index,F=1/0;break;case JUMP_TO_ACTION:{const $=S.indexOf(Pe.actionId);-1!==$&&(g=$),F=1/0;break}case SWEEP:S=difference(S,M),M=[],g=Math.min(g,S.length-1);break;case PERFORM_ACTION:{if(b)return Qe||De;if(O||Qe&&isActionFiltered(Qe.computedStates[g],Pe,ze.predicate,ze.actionsSafelist,ze.actionsBlocklist)){const Q=_[_.length-1];_=[..._.slice(0,-1),computeNextEntry(Ae,Pe.action,Q.state,Q.error,se)],F=1/0;break}ze.maxAge&&S.length===ze.maxAge&&C(1),g===S.length-1&&g++;const $=x++;I[$]=Pe,S=[...S,$],F=S.length-1;break}case IMPORT_STATE:({monitorState:Ge,actionsById:I,nextActionId:x,stagedActionIds:S,skippedActionIds:M,committedState:m,currentStateIndex:g,computedStates:_,isLocked:b,isPaused:O}=Pe.nextLiftedState);break;case _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.qg:F=0,ze.maxAge&&S.length>ze.maxAge&&(_=recomputeStates(_,F,Ae,m,I,S,M,se,O),C(S.length-ze.maxAge),F=1/0);break;case _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.wb:if(_.filter(Q=>Q.error).length>0)F=0,ze.maxAge&&S.length>ze.maxAge&&(_=recomputeStates(_,F,Ae,m,I,S,M,se,O),C(S.length-ze.maxAge),F=1/0);else{if(!O&&!b){g===S.length-1&&g++;const Q=x++;I[Q]=new PerformAction(Pe,+Date.now()),S=[...S,Q],F=S.length-1,_=recomputeStates(_,F,Ae,m,I,S,M,se,O)}_=_.map(Q=>({...Q,state:Ae(Q.state,RECOMPUTE_ACTION)})),g=S.length-1,ze.maxAge&&S.length>ze.maxAge&&C(S.length-ze.maxAge),F=1/0}break;default:F=1/0}return _=recomputeStates(_,F,Ae,m,I,S,M,se,O),Ge=n(Ge,Pe),{monitorState:Ge,actionsById:I,nextActionId:x,stagedActionIds:S,skippedActionIds:M,committedState:m,currentStateIndex:g,computedStates:_,isLocked:b,isPaused:O}}}let StoreDevtools=(()=>{class He{constructor(se,n,ze,Ae,Qe,Pe,Ge,I){const x=liftInitialState(Ge,I.monitor),S=liftReducerWith(Ge,x,Pe,I.monitor,I),M=(0,rxjs__WEBPACK_IMPORTED_MODULE_15__.T)((0,rxjs__WEBPACK_IMPORTED_MODULE_15__.T)(n.asObservable().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_16__.T)(1)),Ae.actions$).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(liftAction)),se,Ae.liftedActions$).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_17__.Q)(rxjs__WEBPACK_IMPORTED_MODULE_18__.N)),m=ze.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(S)),g=new rxjs__WEBPACK_IMPORTED_MODULE_19__.t(1),_=M.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_20__.M)(m),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_21__.R)(({state:P},[F,$])=>{let Q=$(P,F);return F.type!==PERFORM_ACTION&&shouldFilterActions(I)&&(Q=filterLiftedState(Q,I.predicate,I.actionsSafelist,I.actionsBlocklist)),Ae.notify(F,Q),{state:Q,action:F}},{state:x,action:null})).subscribe(({state:P,action:F})=>{g.next(P),F.type===PERFORM_ACTION&&Qe.next(F.action)}),b=Ae.start$.subscribe(()=>{this.refresh()}),O=g.asObservable(),C=O.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(unliftState));this.extensionStartSubscription=b,this.stateSubscription=_,this.dispatcher=se,this.liftedState=O,this.state=C}dispatch(se){this.dispatcher.next(se)}next(se){this.dispatcher.next(se)}error(se){}complete(){}performAction(se){this.dispatch(new PerformAction(se,+Date.now()))}refresh(){this.dispatch(new Refresh)}reset(){this.dispatch(new Reset(+Date.now()))}rollback(){this.dispatch(new Rollback(+Date.now()))}commit(){this.dispatch(new Commit(+Date.now()))}sweep(){this.dispatch(new Sweep)}toggleAction(se){this.dispatch(new ToggleAction(se))}jumpToAction(se){this.dispatch(new JumpToAction(se))}jumpToState(se){this.dispatch(new JumpToState(se))}importState(se){this.dispatch(new ImportState(se))}lockChanges(se){this.dispatch(new LockChanges(se))}pauseRecording(se){this.dispatch(new PauseRecording(se))}}return He.\u0275fac=function(se){return new(se||He)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsDispatcher),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.UO),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.n$),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsExtension),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.Y$),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_angular_core__WEBPACK_IMPORTED_MODULE_0__.qLn),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.Y6),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(STORE_DEVTOOLS_CONFIG))},He.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:He,factory:He.\u0275fac}),He})();const IS_EXTENSION_OR_MONITOR_PRESENT=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Is Devtools Extension or Monitor Present");function createIsExtensionOrMonitorPresent(He,De){return Boolean(He)||De.monitor!==noMonitor}function createReduxDevtoolsExtension(){const He="__REDUX_DEVTOOLS_EXTENSION__";return"object"==typeof window&&typeof window[He]<"u"?window[He]:null}function provideStoreDevtools(He={}){return{\u0275providers:[DevtoolsExtension,DevtoolsDispatcher,StoreDevtools,{provide:INITIAL_OPTIONS,useValue:He},{provide:IS_EXTENSION_OR_MONITOR_PRESENT,deps:[REDUX_DEVTOOLS_EXTENSION,STORE_DEVTOOLS_CONFIG],useFactory:createIsExtensionOrMonitorPresent},{provide:REDUX_DEVTOOLS_EXTENSION,useFactory:createReduxDevtoolsExtension},{provide:STORE_DEVTOOLS_CONFIG,deps:[INITIAL_OPTIONS],useFactory:createConfig},{provide:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.FR,deps:[StoreDevtools],useFactory:createStateObservable},{provide:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.mK,useExisting:DevtoolsDispatcher}]}}function createStateObservable(He){return He.state}let StoreDevtoolsModule=(()=>{class He{static instrument(se={}){return{ngModule:He,providers:[...provideStoreDevtools(se).\u0275providers]}}}return He.\u0275fac=function(se){return new(se||He)},He.\u0275mod=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oAB({type:He}),He.\u0275inj=_angular_core__WEBPACK_IMPORTED_MODULE_0__.cJS({}),He})()},9653:(He,De,se)=>{"use strict";se.d(De,{UO:()=>_e,qg:()=>ge,Y6:()=>yt,mK:()=>Zt,n$:()=>nt,Y$:()=>gn,FR:()=>Sn,yh:()=>je,CK:()=>qa,Aw:()=>Qs,cr:()=>Qi,wb:()=>Mn,qC:()=>vt,PH:()=>b,ZF:()=>Ni,Lq:()=>va,P1:()=>gi,on:()=>Ec,Ky:()=>O});var n=se(4650),ze=se(1135),Ae=se(9751),Qe=se(7579),Pe=se(233),Ge=se(5363),I=se(1365),x=se(5026),S=se(4004),m=se(1884);const g={};function b(Ne,gt){if(g[Ne]=(g[Ne]||0)+1,"function"==typeof gt)return P(Ne,(...wt)=>({...gt(...wt),type:Ne}));switch(gt?gt._as:"empty"){case"empty":return P(Ne,()=>({type:Ne}));case"props":return P(Ne,wt=>({...wt,type:Ne}));default:throw new Error("Unexpected config.")}}function O(){return{_as:"props",_p:void 0}}function P(Ne,gt){return Object.defineProperty(gt,"type",{value:Ne,writable:!1})}const ge="@ngrx/store/init";let _e=(()=>{class Ne extends ze.X{constructor(){super({type:ge})}next(rt){if("function"==typeof rt)throw new TypeError("\n        Dispatch expected an object, instead it received a function.\n        If you're using the createAction function, make sure to invoke the function\n        before dispatching the action. For example, someAction should be someAction().");if(typeof rt>"u")throw new TypeError("Actions must be objects");if(typeof rt.type>"u")throw new TypeError("Actions must have a type property");super.next(rt)}complete(){}ngOnDestroy(){super.complete()}}return Ne.\u0275fac=function(rt){return new(rt||Ne)},Ne.\u0275prov=n.Yz7({token:Ne,factory:Ne.\u0275fac}),Ne})();const Ie=[_e],We=new n.OlP("@ngrx/store Internal Root Guard"),Ke=new n.OlP("@ngrx/store Internal Initial State"),yt=new n.OlP("@ngrx/store Initial State"),ht=new n.OlP("@ngrx/store Reducer Factory"),bt=new n.OlP("@ngrx/store Internal Reducer Factory Provider"),lt=new n.OlP("@ngrx/store Initial Reducers"),Xt=new n.OlP("@ngrx/store Internal Initial Reducers"),sn=new n.OlP("@ngrx/store Store Features"),ln=new n.OlP("@ngrx/store Internal Store Reducers"),be=new n.OlP("@ngrx/store Internal Feature Reducers"),pe=new n.OlP("@ngrx/store Internal Feature Configs"),fe=new n.OlP("@ngrx/store Internal Store Features"),ye=new n.OlP("@ngrx/store Internal Feature Reducers Token"),ke=new n.OlP("@ngrx/store Feature Reducers"),Ce=new n.OlP("@ngrx/store User Provided Meta Reducers"),de=new n.OlP("@ngrx/store Meta Reducers"),Ue=new n.OlP("@ngrx/store Internal Resolved Meta Reducers"),$e=new n.OlP("@ngrx/store User Runtime Checks Config"),pt=new n.OlP("@ngrx/store Internal User Runtime Checks Config"),et=new n.OlP("@ngrx/store Internal Runtime Checks"),_t=new n.OlP("@ngrx/store Check if Action types are unique");function ot(Ne,gt={}){const rt=Object.keys(Ne),wt={};for(let $t=0;$t<rt.length;$t++){const Sr=rt[$t];"function"==typeof Ne[Sr]&&(wt[Sr]=Ne[Sr])}const cn=Object.keys(wt);return function(Sr,wi){Sr=void 0===Sr?gt:Sr;let si=!1;const $o={};for(let hn=0;hn<cn.length;hn++){const ya=cn[hn],Yg=Sr[ya],Gg=(0,wt[ya])(Yg,wi);$o[ya]=Gg,si=si||Gg!==Yg}return si?$o:Sr}}function vt(...Ne){return function(gt){if(0===Ne.length)return gt;const rt=Ne[Ne.length-1];return Ne.slice(0,-1).reduceRight((cn,$t)=>$t(cn),rt(gt))}}function Mt(Ne,gt){return Array.isArray(gt)&&gt.length>0&&(Ne=vt.apply(null,[...gt,Ne])),(rt,wt)=>{const cn=Ne(rt);return($t,Sr)=>cn($t=void 0===$t?wt:$t,Sr)}}new n.OlP("@ngrx/store Root Store Provider"),new n.OlP("@ngrx/store Feature State Provider");class nt extends Ae.y{}class Zt extends _e{}const Mn="@ngrx/store/update-reducers";let on=(()=>{class Ne extends ze.X{constructor(rt,wt,cn,$t){super($t(cn,wt)),this.dispatcher=rt,this.initialState=wt,this.reducers=cn,this.reducerFactory=$t}get currentReducers(){return this.reducers}addFeature(rt){this.addFeatures([rt])}addFeatures(rt){const wt=rt.reduce((cn,{reducers:$t,reducerFactory:Sr,metaReducers:wi,initialState:si,key:$o})=>{const hn="function"==typeof $t?function mt(Ne){const gt=Array.isArray(Ne)&&Ne.length>0?vt(...Ne):rt=>rt;return(rt,wt)=>(rt=gt(rt),(cn,$t)=>rt(cn=void 0===cn?wt:cn,$t))}(wi)($t,si):Mt(Sr,wi)($t,si);return cn[$o]=hn,cn},{});this.addReducers(wt)}removeFeature(rt){this.removeFeatures([rt])}removeFeatures(rt){this.removeReducers(rt.map(wt=>wt.key))}addReducer(rt,wt){this.addReducers({[rt]:wt})}addReducers(rt){this.reducers={...this.reducers,...rt},this.updateReducers(Object.keys(rt))}removeReducer(rt){this.removeReducers([rt])}removeReducers(rt){rt.forEach(wt=>{this.reducers=function Xe(Ne,gt){return Object.keys(Ne).filter(rt=>rt!==gt).reduce((rt,wt)=>Object.assign(rt,{[wt]:Ne[wt]}),{})}(this.reducers,wt)}),this.updateReducers(rt)}updateReducers(rt){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:Mn,features:rt})}ngOnDestroy(){this.complete()}}return Ne.\u0275fac=function(rt){return new(rt||Ne)(n.LFG(Zt),n.LFG(yt),n.LFG(lt),n.LFG(ht))},Ne.\u0275prov=n.Yz7({token:Ne,factory:Ne.\u0275fac}),Ne})();const At=[on,{provide:nt,useExisting:on},{provide:Zt,useExisting:_e}];let gn=(()=>{class Ne extends Qe.x{ngOnDestroy(){this.complete()}}return Ne.\u0275fac=function(){let gt;return function(wt){return(gt||(gt=n.n5z(Ne)))(wt||Ne)}}(),Ne.\u0275prov=n.Yz7({token:Ne,factory:Ne.\u0275fac}),Ne})();const bn=[gn];class Sn extends Ae.y{}let kn=(()=>{class Ne extends ze.X{constructor(rt,wt,cn,$t){super($t);const $o=rt.pipe((0,Ge.Q)(Pe.N)).pipe((0,I.M)(wt)).pipe((0,x.R)(Kt,{state:$t}));this.stateSubscription=$o.subscribe(({state:hn,action:ya})=>{this.next(hn),cn.next(ya)})}ngOnDestroy(){this.stateSubscription.unsubscribe(),this.complete()}}return Ne.INIT=ge,Ne.\u0275fac=function(rt){return new(rt||Ne)(n.LFG(_e),n.LFG(nt),n.LFG(gn),n.LFG(yt))},Ne.\u0275prov=n.Yz7({token:Ne,factory:Ne.\u0275fac}),Ne})();function Kt(Ne={state:void 0},[gt,rt]){const{state:wt}=Ne;return{state:rt(wt,gt),action:gt}}const we=[kn,{provide:Sn,useExisting:kn}];let je=(()=>{class Ne extends Ae.y{constructor(rt,wt,cn){super(),this.actionsObserver=wt,this.reducerManager=cn,this.source=rt}select(rt,...wt){return St.call(null,rt,...wt)(this)}lift(rt){const wt=new Ne(this,this.actionsObserver,this.reducerManager);return wt.operator=rt,wt}dispatch(rt){this.actionsObserver.next(rt)}next(rt){this.actionsObserver.next(rt)}error(rt){this.actionsObserver.error(rt)}complete(){this.actionsObserver.complete()}addReducer(rt,wt){this.reducerManager.addReducer(rt,wt)}removeReducer(rt){this.reducerManager.removeReducer(rt)}}return Ne.\u0275fac=function(rt){return new(rt||Ne)(n.LFG(Sn),n.LFG(_e),n.LFG(on))},Ne.\u0275prov=n.Yz7({token:Ne,factory:Ne.\u0275fac}),Ne})();const ct=[je];function St(Ne,gt,...rt){return function(cn){let $t;if("string"==typeof Ne){const Sr=[gt,...rt].filter(Boolean);$t=cn.pipe(function M(...Ne){const gt=Ne.length;if(0===gt)throw new Error("list of properties cannot be empty.");return(0,S.U)(rt=>{let wt=rt;for(let cn=0;cn<gt;cn++){const $t=wt?.[Ne[cn]];if(!(typeof $t<"u"))return;wt=$t}return wt})}(Ne,...Sr))}else{if("function"!=typeof Ne)throw new TypeError(`Unexpected type '${typeof Ne}' in select operator, expected 'string' or 'function'`);$t=cn.pipe((0,S.U)(Sr=>Ne(Sr,gt)))}return $t.pipe((0,m.x)())}}const Pt="https://ngrx.io/guide/store/configuration/runtime-checks";function dt(Ne){return void 0===Ne}function Jt(Ne){return null===Ne}function Nt(Ne){return Array.isArray(Ne)}function or(Ne){return"object"==typeof Ne&&null!==Ne}function hi(Ne){return"function"==typeof Ne}function Ys(Ne,gt){return Ne===gt}function vu(Ne,gt,rt){for(let wt=0;wt<Ne.length;wt++)if(!rt(Ne[wt],gt[wt]))return!0;return!1}function mi(Ne,gt=Ys,rt=Ys){let $t,wt=null,cn=null;return{memoized:function $o(){if(void 0!==$t)return $t.result;if(!wt)return cn=Ne.apply(null,arguments),wt=arguments,cn;if(!vu(arguments,wt,gt))return cn;const hn=Ne.apply(null,arguments);return wt=arguments,rt(cn,hn)?cn:(cn=hn,hn)},reset:function Sr(){wt=null,cn=null},setResult:function wi(hn){$t={result:hn}},clearResult:function si(){$t=void 0}}}function gi(...Ne){return function Gi(Ne,gt={stateFn:Va}){return function(...rt){let wt=rt;if(Array.isArray(wt[0])){const[hn,...ya]=wt;wt=[...hn,...ya]}const cn=wt.slice(0,wt.length-1),$t=wt[wt.length-1],Sr=cn.filter(hn=>hn.release&&"function"==typeof hn.release),wi=Ne(function(...hn){return $t.apply(null,hn)}),si=mi(function(hn,ya){return gt.stateFn.apply(null,[hn,cn,ya,wi])});return Object.assign(si.memoized,{release:function $o(){si.reset(),wi.reset(),Sr.forEach(hn=>hn.release())},projector:wi.memoized,setResult:si.setResult,clearResult:si.clearResult})}}(mi)(...Ne)}function Va(Ne,gt,rt,wt){if(void 0===rt){const $t=gt.map(Sr=>Sr(Ne));return wt.memoized.apply(null,$t)}const cn=gt.map($t=>$t(Ne,rt));return wt.memoized.apply(null,[...cn,rt])}function Ni(Ne){return gi(gt=>{const rt=gt[Ne];return(0,n.X6Q)()&&!(Ne in gt)&&console.warn(`@ngrx/store: The feature name "${Ne}" does not exist in the state, therefore createFeatureSelector cannot access it.  Be sure it is imported in a loaded module using StoreModule.forRoot('${Ne}', ...) or StoreModule.forFeature('${Ne}', ...).  If the default state is intended to be undefined, as is the case with router state, this development-only warning message can be ignored.`),rt},gt=>gt)}function $i(Ne,gt){return gt instanceof n.OlP?Ne.get(gt):gt}function Zo(Ne,gt,rt){return rt.map((wt,cn)=>{if(gt[cn]instanceof n.OlP){const $t=Ne.get(gt[cn]);return{key:wt.key,reducerFactory:$t.reducerFactory?$t.reducerFactory:ot,metaReducers:$t.metaReducers?$t.metaReducers:[],initialState:$t.initialState}}return wt})}function ei(Ne,gt){return gt.map(wt=>wt instanceof n.OlP?Ne.get(wt):wt)}function Yo(Ne){return"function"==typeof Ne?Ne():Ne}function Rr(Ne,gt){return Ne.concat(gt)}function Gs(Ne){if(Ne)throw new TypeError("The root Store has been provided more than once. Feature modules should provide feature states instead.");return"guarded"}function Rn(Ne){Object.freeze(Ne);const gt=hi(Ne);return Object.getOwnPropertyNames(Ne).forEach(rt=>{if(!rt.startsWith("\u0275")&&function Fi(Ne,gt){return Object.prototype.hasOwnProperty.call(Ne,gt)}(Ne,rt)&&(!gt||"caller"!==rt&&"callee"!==rt&&"arguments"!==rt)){const wt=Ne[rt];(or(wt)||hi(wt))&&!Object.isFrozen(wt)&&Rn(wt)}}),Ne}function ga(Ne,gt=[]){return(dt(Ne)||Jt(Ne))&&0===gt.length?{path:["root"],value:Ne}:Object.keys(Ne).reduce((wt,cn)=>{if(wt)return wt;const $t=Ne[cn];return function Yi(Ne){return hi(Ne)&&Ne.hasOwnProperty("\u0275cmp")}($t)?wt:!(dt($t)||Jt($t)||function Wn(Ne){return"number"==typeof Ne}($t)||function kt(Ne){return"boolean"==typeof Ne}($t)||function tn(Ne){return"string"==typeof Ne}($t)||Nt($t))&&(function Jr(Ne){if(!function Qr(Ne){return or(Ne)&&!Nt(Ne)}(Ne))return!1;const gt=Object.getPrototypeOf(Ne);return gt===Object.prototype||null===gt}($t)?ga($t,[...gt,cn]):{path:[...gt,cn],value:$t})},!1)}function Ll(Ne,gt){if(!1===Ne)return;const rt=Ne.path.join("."),wt=new Error(`Detected unserializable ${gt} at "${rt}". ${Pt}#strict${gt}serializability`);throw wt.value=Ne.value,wt.unserializablePath=rt,wt}function ai(Ne){return(0,n.X6Q)()?{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!0,strictActionImmutability:!0,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1,...Ne}:{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function Ha({strictActionSerializability:Ne,strictStateSerializability:gt}){return rt=>Ne||gt?function ms(Ne,gt){return function(rt,wt){gt.action(wt)&&Ll(ga(wt),"action");const cn=Ne(rt,wt);return gt.state()&&Ll(ga(cn),"state"),cn}}(rt,{action:wt=>Ne&&!Wi(wt),state:()=>gt}):rt}function ja({strictActionImmutability:Ne,strictStateImmutability:gt}){return rt=>Ne||gt?function $s(Ne,gt){return function(rt,wt){const cn=gt.action(wt)?Rn(wt):wt,$t=Ne(rt,cn);return gt.state()?Rn($t):$t}}(rt,{action:wt=>Ne&&!Wi(wt),state:()=>gt}):rt}function Wi(Ne){return Ne.type.startsWith("@ngrx")}function Go({strictActionWithinNgZone:Ne}){return gt=>Ne?function za(Ne,gt){return function(rt,wt){if(gt.action(wt)&&!n.R0b.isInAngularZone())throw new Error(`Action '${wt.type}' running outside NgZone. ${Pt}#strictactionwithinngzone`);return Ne(rt,wt)}}(gt,{action:rt=>Ne&&!Wi(rt)}):gt}function mr(Ne){return[{provide:pt,useValue:Ne},{provide:$e,useFactory:ap,deps:[pt]},{provide:et,deps:[$e],useFactory:ai},{provide:de,multi:!0,deps:[et],useFactory:ja},{provide:de,multi:!0,deps:[et],useFactory:Ha},{provide:de,multi:!0,deps:[et],useFactory:Go}]}function An(){return[{provide:_t,multi:!0,deps:[et],useFactory:Ws}]}function ap(Ne){return Ne}function Ws(Ne){if(!Ne.strictActionTypeUniqueness)return;const gt=Object.entries(g).filter(([,rt])=>rt>1).map(([rt])=>rt);if(gt.length)throw new Error(`Action types are registered more than once, ${gt.map(rt=>`"${rt}"`).join(", ")}. ${Pt}#strictactiontypeuniqueness`)}function Bl(Ne,gt){return[{provide:We,useFactory:Gs,deps:[[je,new n.FiY,new n.tp0]]},{provide:Ke,useValue:gt.initialState},{provide:yt,useFactory:Yo,deps:[Ke]},{provide:Xt,useValue:Ne},{provide:ln,useExisting:Ne instanceof n.OlP?Ne:Xt},{provide:lt,deps:[n.zs3,Xt,[new n.tBr(ln)]],useFactory:$i},{provide:Ce,useValue:gt.metaReducers?gt.metaReducers:[]},{provide:Ue,deps:[de,Ce],useFactory:Rr},{provide:bt,useValue:gt.reducerFactory?gt.reducerFactory:ot},{provide:ht,deps:[bt,Ue],useFactory:Mt},Ie,At,bn,we,ct,mr(gt.runtimeChecks),An()]}function Ri(Ne,gt,rt={}){return[{provide:pe,multi:!0,useValue:Ne instanceof Object?{}:rt},{provide:sn,multi:!0,useValue:{key:Ne instanceof Object?Ne.name:Ne,reducerFactory:rt instanceof n.OlP||!rt.reducerFactory?ot:rt.reducerFactory,metaReducers:rt instanceof n.OlP||!rt.metaReducers?[]:rt.metaReducers,initialState:rt instanceof n.OlP||!rt.initialState?void 0:rt.initialState}},{provide:fe,deps:[n.zs3,pe,sn],useFactory:Zo},{provide:be,multi:!0,useValue:Ne instanceof Object?Ne.reducer:gt},{provide:ye,multi:!0,useExisting:gt instanceof n.OlP?gt:be},{provide:ke,multi:!0,deps:[n.zs3,be,[new n.tBr(ye)]],useFactory:ei},An()]}let Qi=(()=>{class Ne{constructor(rt,wt,cn,$t,Sr,wi){}}return Ne.\u0275fac=function(rt){return new(rt||Ne)(n.LFG(_e),n.LFG(nt),n.LFG(gn),n.LFG(je),n.LFG(We,8),n.LFG(_t,8))},Ne.\u0275mod=n.oAB({type:Ne}),Ne.\u0275inj=n.cJS({}),Ne})(),qa=(()=>{class Ne{constructor(rt,wt,cn,$t,Sr){this.features=rt,this.featureReducers=wt,this.reducerManager=cn;const wi=rt.map((si,$o)=>{const ya=wt.shift()[$o];return{...si,reducers:ya,initialState:Yo(si.initialState)}});cn.addFeatures(wi)}ngOnDestroy(){this.reducerManager.removeFeatures(this.features)}}return Ne.\u0275fac=function(rt){return new(rt||Ne)(n.LFG(fe),n.LFG(ke),n.LFG(on),n.LFG(Qi),n.LFG(_t,8))},Ne.\u0275mod=n.oAB({type:Ne}),Ne.\u0275inj=n.cJS({}),Ne})(),Qs=(()=>{class Ne{static forRoot(rt,wt={}){return{ngModule:Qi,providers:[...Bl(rt,wt)]}}static forFeature(rt,wt,cn={}){return{ngModule:qa,providers:[...Ri(rt,wt,cn)]}}}return Ne.\u0275fac=function(rt){return new(rt||Ne)},Ne.\u0275mod=n.oAB({type:Ne}),Ne.\u0275inj=n.cJS({}),Ne})();function Ec(...Ne){return{reducer:Ne.pop(),types:Ne.map(wt=>wt.type)}}function va(Ne,...gt){const rt=new Map;for(const wt of gt)for(const cn of wt.types){const $t=rt.get(cn);rt.set(cn,$t?(wi,si)=>wt.reducer($t(wi,si),si):wt.reducer)}return function(wt=Ne,cn){const $t=rt.get(cn.type);return $t?$t(wt,cn):wt}}},7582:(He,De,se)=>{"use strict";function Pe(pe,fe,ye,ke){var Ue,Ce=arguments.length,de=Ce<3?fe:null===ke?ke=Object.getOwnPropertyDescriptor(fe,ye):ke;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)de=Reflect.decorate(pe,fe,ye,ke);else for(var $e=pe.length-1;$e>=0;$e--)(Ue=pe[$e])&&(de=(Ce<3?Ue(de):Ce>3?Ue(fe,ye,de):Ue(fe,ye))||de);return Ce>3&&de&&Object.defineProperty(fe,ye,de),de}function g(pe,fe,ye,ke){return new(ye||(ye=Promise))(function(de,Ue){function $e(_t){try{et(ke.next(_t))}catch(It){Ue(It)}}function pt(_t){try{et(ke.throw(_t))}catch(It){Ue(It)}}function et(_t){_t.done?de(_t.value):function Ce(de){return de instanceof ye?de:new ye(function(Ue){Ue(de)})}(_t.value).then($e,pt)}et((ke=ke.apply(pe,fe||[])).next())})}function ne(pe){return this instanceof ne?(this.v=pe,this):new ne(pe)}function ue(pe,fe,ye){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ce,ke=ye.apply(pe,fe||[]),de=[];return Ce={},$e("next"),$e("throw"),$e("return",function Ue(ot){return function(Xe){return Promise.resolve(Xe).then(ot,It)}}),Ce[Symbol.asyncIterator]=function(){return this},Ce;function $e(ot,Xe){ke[ot]&&(Ce[ot]=function(vt){return new Promise(function(Mt,mt){de.push([ot,vt,Mt,mt])>1||pt(ot,vt)})},Xe&&(Ce[ot]=Xe(Ce[ot])))}function pt(ot,Xe){try{!function et(ot){ot.value instanceof ne?Promise.resolve(ot.value.v).then(_t,It):jt(de[0][2],ot)}(ke[ot](Xe))}catch(vt){jt(de[0][3],vt)}}function _t(ot){pt("next",ot)}function It(ot){pt("throw",ot)}function jt(ot,Xe){ot(Xe),de.shift(),de.length&&pt(de[0][0],de[0][1])}}function _e(pe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ye,fe=pe[Symbol.asyncIterator];return fe?fe.call(pe):(pe=function C(pe){var fe="function"==typeof Symbol&&Symbol.iterator,ye=fe&&pe[fe],ke=0;if(ye)return ye.call(pe);if(pe&&"number"==typeof pe.length)return{next:function(){return pe&&ke>=pe.length&&(pe=void 0),{value:pe&&pe[ke++],done:!pe}}};throw new TypeError(fe?"Object is not iterable.":"Symbol.iterator is not defined.")}(pe),ye={},ke("next"),ke("throw"),ke("return"),ye[Symbol.asyncIterator]=function(){return this},ye);function ke(de){ye[de]=pe[de]&&function(Ue){return new Promise(function($e,pt){!function Ce(de,Ue,$e,pt){Promise.resolve(pt).then(function(et){de({value:et,done:$e})},Ue)}($e,pt,(Ue=pe[de](Ue)).done,Ue.value)})}}}se.d(De,{FC:()=>ue,KL:()=>_e,gn:()=>Pe,mG:()=>g,qq:()=>ne}),"function"==typeof SuppressedError&&SuppressedError}},He=>{He(He.s=9580)}]);